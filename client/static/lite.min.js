!function(t){function e(e){for(var n,i,o=e[0],a=e[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(l&&l(e);u.length;)u.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(t){return i.p+""+({}[t]||t)+".min.js"}(t);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var l=a;i(i.s=196)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){"use strict";n.d(e,"e",(function(){return I})),n.d(e,"g",(function(){return O})),n.d(e,"i",(function(){return M})),n.d(e,"m",(function(){return P})),n.d(e,"F",(function(){return D})),n.d(e,"V",(function(){return N})),n.d(e,"G",(function(){return L})),n.d(e,"b",(function(){return j})),n.d(e,"bb",(function(){return F})),n.d(e,"nb",(function(){return z})),n.d(e,"S",(function(){return B})),n.d(e,"w",(function(){return U})),n.d(e,"v",(function(){return G})),n.d(e,"s",(function(){return q})),n.d(e,"a",(function(){return W})),n.d(e,"d",(function(){return Y})),n.d(e,"j",(function(){return X})),n.d(e,"k",(function(){return $})),n.d(e,"l",(function(){return J})),n.d(e,"q",(function(){return K})),n.d(e,"r",(function(){return Q})),n.d(e,"u",(function(){return Z})),n.d(e,"z",(function(){return tt})),n.d(e,"C",(function(){return et})),n.d(e,"B",(function(){return nt})),n.d(e,"D",(function(){return rt})),n.d(e,"E",(function(){return it})),n.d(e,"H",(function(){return ot})),n.d(e,"I",(function(){return at})),n.d(e,"K",(function(){return st})),n.d(e,"M",(function(){return lt})),n.d(e,"N",(function(){return ut})),n.d(e,"O",(function(){return ct})),n.d(e,"Q",(function(){return ft})),n.d(e,"R",(function(){return ht})),n.d(e,"Y",(function(){return dt})),n.d(e,"Z",(function(){return pt})),n.d(e,"ab",(function(){return vt})),n.d(e,"cb",(function(){return gt})),n.d(e,"db",(function(){return mt})),n.d(e,"eb",(function(){return yt})),n.d(e,"fb",(function(){return _t})),n.d(e,"gb",(function(){return bt})),n.d(e,"hb",(function(){return At})),n.d(e,"ib",(function(){return wt})),n.d(e,"jb",(function(){return xt})),n.d(e,"kb",(function(){return kt})),n.d(e,"lb",(function(){return Ct})),n.d(e,"mb",(function(){return Et})),n.d(e,"pb",(function(){return St})),n.d(e,"qb",(function(){return Rt})),n.d(e,"sb",(function(){return Tt})),n.d(e,"ub",(function(){return It})),n.d(e,"vb",(function(){return Ot})),n.d(e,"wb",(function(){return Mt})),n.d(e,"yb",(function(){return Pt})),n.d(e,"f",(function(){return Nt})),n.d(e,"n",(function(){return Lt})),n.d(e,"W",(function(){return jt})),n.d(e,"T",(function(){return Ft})),n.d(e,"h",(function(){return zt})),n.d(e,"L",(function(){return Bt})),n.d(e,"J",(function(){return Ut})),n.d(e,"x",(function(){return Gt})),n.d(e,"A",(function(){return Vt})),n.d(e,"rb",(function(){return Ht})),n.d(e,"tb",(function(){return qt})),n.d(e,"xb",(function(){return Wt})),n.d(e,"c",(function(){return $t})),n.d(e,"o",(function(){return Jt})),n.d(e,"p",(function(){return Kt})),n.d(e,"t",(function(){return Qt})),n.d(e,"y",(function(){return Zt})),n.d(e,"P",(function(){return te})),n.d(e,"X",(function(){return ee})),n.d(e,"ob",(function(){return ne})),n.d(e,"U",(function(){return re}));var r=n(7),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(2),h=n.n(f),d=n(4),p=n.n(d),v=n(22),g=["top_left","top_center","top_right","center_left","center","center_right","bottom_left","bottom_center","bottom_right"],m=["deg","rad"],y=["clock","anticlock"],_=g,b=["screen","data"],A=n(9),w=n(17),x=n(52),k=n(10),C=n(88);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}function S(t){try{return JSON.stringify(t)}catch(e){return t.toString()}}function R(t){return Object(k.i)(t)&&(void 0===t.value?0:1)+(void 0===t.field?0:1)+(void 0===t.expr?0:1)==1}var T=function(){function t(e,n,r,i){var o,a,s,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(h()(this,t),this.obj=e,this.attr=n,this.default_value=r,this._dirty=!1,this.change=new v.b(this.obj,"change"),this.internal=null!==(o=l.internal)&&void 0!==o&&o,this.optional=null!==(a=l.optional)&&void 0!==a&&a,void 0!==i)s=i,this._dirty=!0;else{var u=this._default_override();s=void 0!==u?u:void 0!==r?r(e):null}this._update(s)}return p()(t,[{key:"get_value",value:function(){return this.spec.value}},{key:"set_value",value:function(t){this._update(t),this._dirty=!0}},{key:"_default_override",value:function(){}},{key:"_update",value:function(t){null!=t&&this.validate(t),this.spec={value:t}}},{key:"toString",value:function(){return"Prop(".concat(this.obj,".").concat(this.attr,", spec: ").concat(S(this.spec),")")}},{key:"normalize",value:function(t){return t}},{key:"validate",value:function(t){if(!this.valid(t))throw new Error("".concat(this.obj.type,".").concat(this.attr," given invalid value: ").concat(S(t)))}},{key:"valid",value:function(t){return!0}},{key:"value",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(void 0===this.spec.value)throw new Error("attempted to retrieve property value for property without value specification");var e=this.normalize([this.spec.value])[0];return null!=this.spec.transform&&t&&(e=this.spec.transform.compute(e)),e}},{key:"syncable",get:function(){return!this.internal}},{key:"dirty",get:function(){return this._dirty}}]),t}();T.__name__="Property";var I=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(T);I.__name__="Any";var O=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.a)(t)||t instanceof Float64Array}}]),n}(T);O.__name__="Array";var M=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.d)(t)}}]),n}(T);M.__name__="Boolean";var P=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.j)(t)&&Object(x.d)(t)}}]),n}(T);P.__name__="Color";var D=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(T);D.__name__="Instance";var N=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.g)(t)}}]),n}(T);N.__name__="Number";var L=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.g)(t)&&(0|t)==t}}]),n}(N);L.__name__="Int";var j=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(N);j.__name__="Angle";var F=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.g)(t)&&0<=t&&t<=1}}]),n}(N);F.__name__="Percent";var z=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.j)(t)}}]),n}(T);z.__name__="String";var B=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return null===t||Object(k.j)(t)}}]),n}(T);B.__name__="NullString";var U=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(z);U.__name__="FontSize";var G=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"_default_override",value:function(){return C.a.dev?"Bokeh":void 0}}]),n}(z);G.__name__="Font";var V=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"valid",value:function(t){return Object(k.j)(t)&&Object(A.k)(this.enum_values,t)}}]),n}(T);function H(t){return function(e){a()(r,e);var n=E(r);function r(){return h()(this,r),n.apply(this,arguments)}return p()(r,[{key:"enum_values",get:function(){return t}}]),r}(V)}V.__name__="EnumProperty";var q=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"normalize",value:function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)switch(t[n]){case"clock":e[n]=0;break;case"anticlock":e[n]=1}return e}},{key:"enum_values",get:function(){return y}}]),n}(V);q.__name__="Direction";var W=H(g),Y=H(m),X=H(["corner","center"]),$=H(["default","primary","success","warning","danger"]),J=H(["auto","above","below"]),K=H(["width","height"]),Q=H(["width","height","both"]),Z=H(["uniform","normal"]),tt=H(["normal","italic","bold","bold italic"]),et=H(["blank","dot","ring","horizontal_line","vertical_line","cross","horizontal_dash","vertical_dash","spiral","right_diagonal_line","left_diagonal_line","diagonal_cross","right_diagonal_dash","left_diagonal_dash","horizontal_wave","vertical_wave","criss_cross"," ",".","o","-","|","+",'"',":","@","/","\\","x",",","`","v",">","*"]),nt=H(["POST","GET"]),rt=H(["pointytop","flattop"]),it=H(["mouse","hline","vline"]),ot=H(["lat","lon"]),at=(H(["none","hide","mute"]),H(_),H(["butt","round","square"])),st=H(["miter","round","bevel"]),lt=H(["prev","next","nearest","interp","none"]),ut=H(["above","below","left","right"]),ct=H(["normal","grey"]),ft=H(["asterisk","circle","circle_cross","circle_dot","circle_x","circle_y","cross","dash","diamond","diamond_cross","diamond_dot","dot","hex","hex_dot","inverted_triangle","plus","square","square_cross","square_dot","square_pin","square_x","triangle","triangle_dot","triangle_pin","x","y"]),ht=H(["show","ignore"]),dt=H(["vertical","horizontal"]),pt=H(["canvas","svg","webgl"]),vt=H(["percent","absolute"]),gt=(H(["above","below","left","right","center"]),H(["snap_to_data","follow_mouse","none"])),mt=H(["x","y","max","min"]),yt=H(["image","underlay","glyph","guide","annotation","overlay"]),_t=H(["canvas","css"]),bt=H(["standard","event_only"]),At=H(["round","nearest","floor","rounddown","ceil","roundup"]),wt=(H(["above","below","left","right"]),H(["stretch_width","stretch_height","stretch_both","scale_width","scale_height","scale_both","fixed"])),xt=H(["ascending","descending"]),kt=H(b),Ct=H(["start","end"]),Et=H(["after","before","center"]),St=H(["select","inspect"]),Rt=H(["left","right","center"]),Tt=H(["top","middle","bottom","alphabetic","hanging","ideographic"]),It=H(["repeat","repeat_x","repeat_y","no_repeat"]),Ot=(H(["vertical","horizontal","parallel","normal"]),H(["horizontal","vertical","left","right","above","below"])),Mt=H(["replace","append"]),Pt=H(["top","middle","bottom"]),Dt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"get_value",value:function(){return null===this.spec.value?null:this.spec}},{key:"_update",value:function(t){R(t)?this.spec=t:this.spec={value:t},null!=this.spec.value&&this.validate(this.spec.value)}}]),n}(T);Dt.__name__="ScalarSpec";var Nt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Nt.__name__="AnyScalar";var Lt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Lt.__name__="ColorScalar";var jt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);jt.__name__="NumberScalar",(function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt)).__name__="StringScalar";var Ft=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Ft.__name__="NullStringScalar";var zt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);zt.__name__="ArrayScalar";var Bt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Bt.__name__="LineJoinScalar";var Ut=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Ut.__name__="LineCapScalar";var Gt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Gt.__name__="FontSizeScalar";var Vt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Vt.__name__="FontStyleScalar";var Ht=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);Ht.__name__="TextAlignScalar";var qt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Dt);qt.__name__="TextBaselineScalar";var Wt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"get_value",value:function(){return null===this.spec.value?null:this.spec}},{key:"_update",value:function(t){R(t)?this.spec=t:this.spec={value:t},null!=this.spec.value&&this.validate(this.spec.value)}},{key:"array",value:function(t){var e;if(null!=this.spec.field){if(null==(e=this.normalize(t.get_column(this.spec.field))))throw new Error("attempted to retrieve property array for nonexistent field '".concat(this.spec.field,"'"))}else if(null!=this.spec.expr)e=this.normalize(this.spec.expr.v_compute(t));else{var n=t.get_length();null==n&&(n=1);var r=this.value(!1);e=Object(A.t)(r,n)}return null!=this.spec.transform&&(e=this.spec.transform.v_compute(e)),e}}]),n}(T);Wt.__name__="VectorSpec";var Yt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Wt);Yt.__name__="DataSpec";var Xt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"_update",value:function(t){i()(c()(n.prototype),"_update",this).call(this,t),null==this.spec.units&&(this.spec.units=this.default_units);var e=this.spec.units;if(!Object(A.k)(this.valid_units,e))throw new Error("units must be one of ".concat(this.valid_units.join(", "),"; got: ").concat(e))}},{key:"units",get:function(){return this.spec.units},set:function(t){this.spec.units=t}}]),n}(Wt);Xt.__name__="UnitsSpec";var $t=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"normalize",value:function(t){return"deg"==this.spec.units&&(t=Object(w.j)(t,(function(t){return t*Math.PI/180}))),t=Object(w.j)(t,(function(t){return-t})),i()(c()(n.prototype),"normalize",this).call(this,t)}},{key:"default_units",get:function(){return"rad"}},{key:"valid_units",get:function(){return m}}]),n}(Xt);$t.__name__="AngleSpec",(function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt)).__name__="BooleanSpec";var Jt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);Jt.__name__="ColorSpec";var Kt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);Kt.__name__="CoordinateSpec",(function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt)).__name__="CoordinateSeqSpec";var Qt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"default_units",get:function(){return"data"}},{key:"valid_units",get:function(){return b}}]),n}(Xt);Qt.__name__="DistanceSpec";var Zt=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);Zt.__name__="FontSizeSpec";var te=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);te.__name__="MarkerSpec";var ee=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);ee.__name__="NumberSpec";var ne=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);ne.__name__="StringSpec";var re=function(t){a()(n,t);var e=E(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(Yt);re.__name__="NullStringSpec"},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(121);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(20),i=n(83);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(155),i=n(156),o=n(127),a=n(157);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},function(t,e,n){var r=n(163);function i(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},function(t,e,n){"use strict";n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"H",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return g})),n.d(e,"v",(function(){return m})),n.d(e,"o",(function(){return y})),n.d(e,"x",(function(){return _})),n.d(e,"d",(function(){return b})),n.d(e,"q",(function(){return A})),n.d(e,"p",(function(){return w})),n.d(e,"D",(function(){return x})),n.d(e,"u",(function(){return k})),n.d(e,"t",(function(){return C})),n.d(e,"J",(function(){return E})),n.d(e,"r",(function(){return S})),n.d(e,"c",(function(){return R})),n.d(e,"z",(function(){return T})),n.d(e,"A",(function(){return I})),n.d(e,"B",(function(){return O})),n.d(e,"y",(function(){return M})),n.d(e,"l",(function(){return P})),n.d(e,"j",(function(){return D})),n.d(e,"L",(function(){return N})),n.d(e,"E",(function(){return L})),n.d(e,"n",(function(){return j})),n.d(e,"s",(function(){return F})),n.d(e,"m",(function(){return B})),n.d(e,"F",(function(){return U})),n.d(e,"C",(function(){return G})),n.d(e,"h",(function(){return V})),n.d(e,"w",(function(){return H})),n.d(e,"f",(function(){return q})),n.d(e,"g",(function(){return X})),n.d(e,"K",(function(){return $})),n.d(e,"a",(function(){return W})),n.d(e,"M",(function(){return J})),n.d(e,"N",(function(){return K})),n.d(e,"G",(function(){return Q})),n.d(e,"I",(function(){return tt}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(10);function l(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement(t);for(var r in n.classList.add("bk"),e){var i=e[r];if(null!=i&&(!Object(s.d)(i)||i))if("class"===r&&(Object(s.j)(i)&&(i=i.split(/\s+/)),Object(s.a)(i))){var o,a=l(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;null!=u&&n.classList.add(u)}}catch(t){a.e(t)}finally{a.f()}}else if("style"===r&&Object(s.i)(i))for(var c in i)n.style[c]=i[c];else if("data"===r&&Object(s.i)(i))for(var f in i)n.dataset[f]=i[f];else n.setAttribute(r,i)}function h(t){if(t instanceof Element)n.appendChild(t);else if(Object(s.j)(t))n.appendChild(document.createTextNode(t));else if(null!=t&&!1!==t)throw new Error("expected a DOM element, string, false or null, got ".concat(JSON.stringify(t)))}for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];for(var g=0,m=p;g<m.length;g++){var y=m[g];if(Object(s.a)(y)){var _,b=l(y);try{for(b.s();!(_=b.n()).done;){var A=_.value;h(A)}}catch(t){b.e(t)}finally{b.f()}}else h(y)}return n}};function f(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return c(t).apply(void 0,[e].concat(r))}var h=c("div"),d=c("span"),p=c("canvas"),v=(c("link"),c("style")),g=c("a"),m=c("p"),y=c("i"),_=c("pre"),b=c("button"),A=c("label"),w=c("input"),x=c("select"),k=c("option"),C=c("optgroup"),E=c("textarea");function S(){return document.createTextNode("Â ")}function R(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];t.appendChild(a)}}function T(t){var e=t.parentNode;null!=e&&e.removeChild(t)}var I=T;function O(t,e){var n=t.parentNode;null!=n&&n.replaceChild(e,t)}function M(t){for(var e=t.firstChild,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t.insertBefore(s,e)}}function P(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=t.firstChild;)t.removeChild(e);if(n){var r,i=l(t.attributes);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.removeAttributeNode(o)}}catch(t){i.e(t)}finally{i.f()}}}function D(t){t.style.display=""}function N(t){t.style.display="none"}function L(t){t.style.visibility=""}function j(t){t.style.visibility="hidden"}function F(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}function z(t){return parseFloat(t)||0}function B(t){var e=getComputedStyle(t);return{border:{top:z(e.borderTopWidth),bottom:z(e.borderBottomWidth),left:z(e.borderLeftWidth),right:z(e.borderRightWidth)},margin:{top:z(e.marginTop),bottom:z(e.marginBottom),left:z(e.marginLeft),right:z(e.marginRight)},padding:{top:z(e.paddingTop),bottom:z(e.paddingBottom),left:z(e.paddingLeft),right:z(e.paddingRight)}}}function U(t){var e=t.getBoundingClientRect();return{width:Math.ceil(e.width),height:Math.ceil(e.height)}}function G(t){return{width:Math.ceil(t.scrollWidth),height:Math.ceil(t.scrollHeight)}}function V(t){var e,n=t.getBoundingClientRect(),r=n.left,i=n.top,o=B(t).padding,a=0,s=0,u=l(t.children);try{for(u.s();!(e=u.n()).done;){var c=e.value.getBoundingClientRect();a=Math.max(a,Math.ceil(c.left-r-o.left+c.width)),s=Math.max(s,Math.ceil(c.top-i-o.top+c.height))}}catch(t){u.e(t)}finally{u.f()}return{width:a,height:s}}function H(t,e,n){var r=t.style;if(r.left="".concat(e.x,"px"),r.top="".concat(e.y,"px"),r.width="".concat(e.width,"px"),r.height="".concat(e.height,"px"),null==n)r.margin="";else{var i=n.top,o=n.right,a=n.bottom,s=n.left;r.margin="".concat(i,"px ").concat(o,"px ").concat(a,"px ").concat(s,"px")}}function q(t){return Array.from(t.children)}var W,Y=function(){function t(e){i()(this,t),this.el=e,this.classList=e.classList}return a()(t,[{key:"has",value:function(t){return this.classList.contains(t)}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.classList.add(o)}return this}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this.classList.remove(o)}return this}},{key:"clear",value:function(){var t,e=l(this.values);try{for(e.s();!(t=e.n()).done;){var n=t.value;"bk"!=n&&this.classList.remove(n)}}catch(t){e.e(t)}finally{e.f()}return this}},{key:"toggle",value:function(t,e){return(null!=e?e:!this.has(t))?this.add(t):this.remove(t),this}},{key:"values",get:function(){for(var t=[],e=0;e<this.classList.length;e++){var n=this.classList.item(e);null!=n&&t.push(n)}return t}}]),t}();function X(t){return new Y(t)}function $(t,e,n){null==n&&(n=!t.hasAttribute(e)),n?t.setAttribute(e,"true"):t.removeAttribute(e)}function J(t,e){var n=t.style.display;t.style.display="none";try{return e()}finally{t.style.display=n}}function K(t,e){return Q(t,{},e)}function Q(t,e,n){var r=t.style,i=r.width,o=r.height,a=r.position,s=r.display;t.style.position="absolute",t.style.display="",t.style.width=null!=e.width&&e.width!=1/0?"".concat(e.width,"px"):"auto",t.style.height=null!=e.height&&e.height!=1/0?"".concat(e.height,"px"):"auto";try{return n()}finally{t.style.position=a,t.style.display=s,t.style.width=i,t.style.height=o}}Y.__name__="ClassList",function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete"}(W||(W={}));var Z=function(){function t(e){i()(this,t),this.root=e,this.known=new Set,this.style=v({type:"text/css"}),M(e,this.style)}return a()(t,[{key:"append",value:function(t){this.known.has(t)||(this.style.appendChild(document.createTextNode(t)),this.known.add(t))}}]),t}();Z.__name__="StyleSheet";var tt=new Z(document.head)},function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"p",(function(){return p})),n.d(e,"D",(function(){return v})),n.d(e,"C",(function(){return g})),n.d(e,"q",(function(){return m})),n.d(e,"z",(function(){return y})),n.d(e,"a",(function(){return _})),n.d(e,"w",(function(){return b})),n.d(e,"B",(function(){return A})),n.d(e,"A",(function(){return w})),n.d(e,"l",(function(){return x})),n.d(e,"f",(function(){return k})),n.d(e,"r",(function(){return C})),n.d(e,"s",(function(){return E})),n.d(e,"u",(function(){return S})),n.d(e,"t",(function(){return R}));var r=n(13),i=n.n(r),o=(n(49),n(37)),a=n(17);function s(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"o",(function(){return a.m})),n.d(e,"n",(function(){return a.k})),n.d(e,"y",(function(){return a.q})),n.d(e,"e",(function(){return a.a})),n.d(e,"g",(function(){return a.b})),n.d(e,"v",(function(){return a.o})),n.d(e,"h",(function(){return a.d})),n.d(e,"i",(function(){return a.e})),n.d(e,"j",(function(){return a.f})),n.d(e,"x",(function(){return a.p})),n.d(e,"m",(function(){return a.i}));var u=Array.prototype.slice;function c(t){return u.call(t)}function f(t){var e;return(e=[]).concat.apply(e,i()(t))}function h(t,e){return-1!==t.indexOf(e)}var d=h;function p(t,e){return t[e>=0?e:t.length+e]}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0==e.length)return[];for(var r=Object(a.m)(e.map((function(t){return t.length}))),i=e.length,o=new Array(r),s=0;s<r;s++){o[s]=new Array(i);for(var l=0;l<i;l++)o[s][l]=e[l][s]}return o}function g(t){for(var e=t.length,n=Object(a.m)(t.map((function(t){return t.length}))),r=Array(n),i=0;i<n;i++)r[i]=new Array(e);for(var o=0;o<e;o++)for(var s=0;s<n;s++)r[s][o]=t[o][s];return r}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(o.a)(n>0,"'step' must be a positive number"),null==e&&(e=t,t=0);for(var r=Math.max,i=Math.ceil,a=Math.abs,s=t<=e?n:-n,l=r(i(a(e-t)/n),0),u=Array(l),c=0;c<l;c++,t+=s)u[c]=t;return u}function y(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<n;i++){r[i]=[];for(var o=0;o<e;o++)r[i][o]=t[o][i]}return r}function _(t){return Object(a.n)(m(t.length),(function(e){return t[e]}))}function b(t,e){var n=t.map((function(t,n){return{value:t,index:n,key:e(t)}}));return n.sort((function(t,e){var n=t.key,r=e.key;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),n.map((function(t){return t.value}))}function A(t){var e,n=[],r=s(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;h(n,i)||n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}function w(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A(f(e))}function x(t){for(var e=[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=s(t);try{t:for(a.s();!(o=a.n()).done;){var l=o.value;if(!h(e,l)){var u,c=s(r);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(!h(f,l))continue t}}catch(t){c.e(t)}finally{c.f()}e.push(l)}}}catch(t){a.e(t)}finally{a.f()}return e}function k(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=f(n);return t.filter((function(t){return!h(i,t)}))}function C(t,e){var n=c(t);return n.splice(e,1),n}function E(t,e){for(var n=0;n<t.length;)e(t[n])?t.splice(n,1):n++}function S(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[e-r-1]=t[r];return n}function R(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}},function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"j",(function(){return c})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"k",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return m}));var r=n(20),i=n.n(r),o=n(9),a=Object.prototype.toString;function s(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)}function l(t){return"[object Number]"===a.call(t)}function u(t){return l(t)&&Number.isInteger(t)}function c(t){return"[object String]"===a.call(t)}function f(t){return"[object Function]"===a.call(t)}function h(t){return Array.isArray(t)}function d(t,e){return Object(o.g)(t,e)}function p(t,e){for(var n=0,r=t.length;n<r;n++)if(!e(t[n]))return!1;return!0}function v(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g(t){var e=i()(t);return"function"===e||"object"===e&&!!t}function m(t){return g(t)&&(null==t.constructor||t.constructor===Object)}},function(t,e,n){"use strict";t.exports=n(143)},function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return f}));var r=n(1),i={line_color:[r.m,"black"],line_alpha:[r.V,1],line_width:[r.V,1],line_join:[r.K,"bevel"],line_cap:[r.I,"butt"],line_dash:[r.g,[]],line_dash_offset:[r.V,0]},o={fill_color:[r.m,"gray"],fill_alpha:[r.V,1]},a={hatch_color:[r.m,"black"],hatch_alpha:[r.V,1],hatch_scale:[r.V,12],hatch_pattern:[r.S,null],hatch_weight:[r.V,1],hatch_extra:[r.e,{}]},s={text_color:[r.m,"#444444"],text_alpha:[r.V,1],text_font:[r.v,"helvetica"],text_font_size:[r.w,"16px"],text_font_style:[r.z,"normal"],text_align:[r.qb,"left"],text_baseline:[r.sb,"bottom"],text_line_height:[r.V,1.2]},l=(r.n,r.W,r.W,r.L,r.J,r.h,r.W,r.n,r.W,r.n,r.W,r.W,r.T,r.W,r.f,r.n,r.W,r.v,r.x,r.A,r.rb,r.tb,r.W,{line_color:[r.o,"black"],line_alpha:[r.X,1],line_width:[r.X,1],line_join:[r.K,"bevel"],line_cap:[r.I,"butt"],line_dash:[r.g,[]],line_dash_offset:[r.V,0]}),u={fill_color:[r.o,"gray"],fill_alpha:[r.X,1]},c={hatch_color:[r.o,"black"],hatch_alpha:[r.X,1],hatch_scale:[r.X,12],hatch_pattern:[r.U,null],hatch_weight:[r.X,1],hatch_extra:[r.e,{}]},f={text_color:[r.o,"#444444"],text_alpha:[r.X,1],text_font:[r.v,"helvetica"],text_font_size:[r.y,"16px"],text_font_style:[r.z,"normal"],text_align:[r.qb,"left"],text_baseline:[r.sb,"bottom"],text_line_height:[r.V,1.2]}},function(t,e,n){var r=n(158),i=n(159),o=n(127),a=n(160);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e,n){t.exports=n(154)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(4),i=n.n(r),o=n(2),a=n.n(o),s=n(10),l={},u=function t(e,n){a()(this,t),this.name=e,this.level=n};u.__name__="LogLevel";var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.INFO;a()(this,t),this._name=e,this.set_level(n)}return i()(t,[{key:"get_level",value:function(){return this._log_level}},{key:"set_level",value:function(e){if(e instanceof u)this._log_level=e;else{if(!Object(s.j)(e)||null==t.log_levels[e])throw new Error("Logger.set_level() expects a log-level object or a string name of a log-level");this._log_level=t.log_levels[e]}var n="[".concat(this._name,"]");for(var r in t.log_levels){t.log_levels[r].level<this._log_level.level||this._log_level.level===t.OFF.level?this[r]=function(){}:this[r]=f(r,n)}}},{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}},{key:"level",get:function(){return this.get_level()}}],[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.INFO;if(e.length>0){var r=l[e];return null==r&&(l[e]=r=new t(e,n)),r}throw new TypeError("Logger.get() expects a non-empty string name and an optional log-level")}},{key:"levels",get:function(){return Object.keys(t.log_levels)}}]),t}();function f(t,e){return null!=console[t]?console[t].bind(console,e):null!=console.log?console.log.bind(console,e):function(){}}c.__name__="Logger",c.TRACE=new u("trace",0),c.DEBUG=new u("debug",1),c.INFO=new u("info",2),c.WARN=new u("warn",6),c.ERROR=new u("error",7),c.FATAL=new u("fatal",8),c.OFF=new u("off",9),c.log_levels={trace:c.TRACE,debug:c.DEBUG,info:c.INFO,warn:c.WARN,error:c.ERROR,fatal:c.FATAL,off:c.OFF};var h=c.get("bokeh")},function(t,e,n){"use strict";n.d(e,"e",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"d",(function(){return v})),n.d(e,"h",(function(){return g}));var r=n(6),i=n.n(r),o=n(9);function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l=Object.keys,u=Object.values,c=Object.entries,f=Object.assign;function h(t){return Object.assign({},t)}function d(t,e){var n,r=Object.create(Object.prototype),i=a(Object(o.b)([Object.keys(t),Object.keys(e)]));try{for(i.s();!(n=i.n()).done;){var s=n.value,l=t.hasOwnProperty(s)?t[s]:[],u=e.hasOwnProperty(s)?e[s]:[];r[s]=Object(o.A)(l,u)}}catch(t){i.e(t)}finally{i.f()}return r}function p(t){return Object.keys(t).length}function v(t){return 0==p(t)}function g(t){var e,n={},r=a(t);try{for(r.s();!(e=r.n()).done;){var o=i()(e.value,2),s=o[0],l=o[1];n[s]=l}}catch(t){r.e(t)}finally{r.f()}return n}},function(t,e,n){"use strict";function r(t){return 0==t.length}function i(t,e,n){var r=t.length;e<0&&(e+=r),e<0?e=0:e>r&&(e=r),null==n||n>r-e?n=r-e:n<0&&(n=0);for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];for(var s=r-n+o.length,l=new t.constructor(s),u=0;u<e;u++)l[u]=t[u];for(var c=0,f=o;c<f.length;c++){var h=f[c];l[u++]=h}for(var d=e+n;d<r;d++)l[u++]=t[d];return l}function o(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function a(t,e){for(var n=t.length,r=new t.constructor(n),i=0;i<n;i++)r[i]=e(t[i],i,t);return r}function s(t,e){for(var n=t.length,r=new t.constructor(n),o=0,a=0;a<n;a++){var s=t[a];e(s,a,t)&&(r[o++]=s)}return function(t,e){return i(t,e,t.length-e)}(r,o)}function l(t){for(var e,n=1/0,r=0,i=t.length;r<i;r++)(e=t[r])<n&&(n=e);return n}function u(t,e){if(0==t.length)throw new Error("min_by() called with an empty array");for(var n=t[0],r=e(n),i=1,o=t.length;i<o;i++){var a=t[i],s=e(a);s<r&&(n=a,r=s)}return n}function c(t){for(var e,n=-1/0,r=0,i=t.length;r<i;r++)(e=t[r])>n&&(n=e);return n}function f(t,e){if(0==t.length)throw new Error("max_by() called with an empty array");for(var n=t[0],r=e(n),i=1,o=t.length;i<o;i++){var a=t[i],s=e(a);s>r&&(n=a,r=s)}return n}function h(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n];return e}function d(t){var e=new t.constructor(t.length);return function(t,e,n){var r,i,o=t.length;if(void 0===n&&0==o)throw new Error("can't reduce an empty array without an initial value");for(void 0===n?(r=t[0],i=1):(r=n,i=0);i<o;i++)r=e(r,t[i],i,t)}(t,(function(t,n,r){return e[r]=t+n}),0),e}function p(t,e){for(var n=0,r=t.length;n<r;n++)if(!e(t[n]))return!1;return!0}function v(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}function g(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function m(t){return function(e,n){for(var r=e.length,i=t>0?0:r-1;i>=0&&i<r;i+=t)if(n(e[i]))return i;return-1}}n.d(e,"i",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"j",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return f})),n.d(e,"q",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"o",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return _})),n.d(e,"d",(function(){return b})),n.d(e,"p",(function(){return A}));var y=m(1),_=m(-1);function b(t,e){var n=y(t,e);return-1==n?void 0:t[n]}function A(t,e){for(var n=0,r=t.length;n<r;){var i=Math.floor((n+r)/2);t[i]<e?n=i+1:r=i}return n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n(6),i=n.n(r),o=n(2),a=n.n(o),s=n(4),l=n.n(s),u=n(7),c=n.n(u),f=n(3),h=n.n(f),d=n(5),p=n.n(d),v=n(0),g=n.n(v),m=n(19),y=n(1),_=n(9),b=n(16);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var w=function(t){h()(n,t);var e=A(n);function n(t){return a()(this,n),e.call(this,t)}return l()(n,[{key:"initialize",value:function(){c()(g()(n.prototype),"initialize",this).call(this),this.get_view=function(){return null}}},{key:"add_to_selected_glyphs",value:function(t){this.selected_glyphs.push(t)}},{key:"update",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";switch(e){case"replace":this.indices=t.indices,this.line_indices=t.line_indices,this.selected_glyphs=t.selected_glyphs,this.get_view=t.get_view,this.multiline_indices=t.multiline_indices,this.image_indices=t.image_indices;break;case"append":this.update_through_union(t);break;case"intersect":this.update_through_intersection(t);break;case"subtract":this.update_through_subtraction(t)}}},{key:"clear",value:function(){this.indices=[],this.line_indices=[],this.multiline_indices={},this.get_view=function(){return null},this.selected_glyphs=[]}},{key:"is_empty",value:function(){return 0==this.indices.length&&0==this.line_indices.length&&0==this.image_indices.length}},{key:"update_through_union",value:function(t){this.indices=Object(_.A)(this.indices,t.indices),this.selected_glyphs=Object(_.A)(t.selected_glyphs,this.selected_glyphs),this.line_indices=Object(_.A)(t.line_indices,this.line_indices),this.get_view()||(this.get_view=t.get_view),this.multiline_indices=Object(b.f)(t.multiline_indices,this.multiline_indices)}},{key:"update_through_intersection",value:function(t){this.indices=Object(_.l)(this.indices,t.indices),this.selected_glyphs=Object(_.A)(t.selected_glyphs,this.selected_glyphs),this.line_indices=Object(_.A)(t.line_indices,this.line_indices),this.get_view()||(this.get_view=t.get_view),this.multiline_indices=Object(b.f)(t.multiline_indices,this.multiline_indices)}},{key:"update_through_subtraction",value:function(t){this.indices=Object(_.f)(this.indices,t.indices),this.selected_glyphs=Object(_.A)(t.selected_glyphs,this.selected_glyphs),this.line_indices=Object(_.A)(t.line_indices,this.line_indices),this.get_view()||(this.get_view=t.get_view),this.multiline_indices=Object(b.f)(t.multiline_indices,this.multiline_indices)}},{key:"selected_glyph",get:function(){return this.selected_glyphs.length>0?this.selected_glyphs[0]:null}}],[{key:"init_Selection",value:function(){this.define({indices:[y.g,[]],line_indices:[y.g,[]],multiline_indices:[y.e,{}]}),this.internal({selected_glyphs:[y.g,[]],get_view:[y.e],image_indices:[y.g,[]]})}},{key:"from_hits",value:function(t){return new n({indices:Object(_.w)(t,(function(t){return i()(t,2)[1]})).map((function(t){return i()(t,1)[0]}))})}}]),n}(m.a);w.__name__="Selection",w.init_Selection()},function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var r=n(13),i=n.n(r),o=n(6),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(7),h=n.n(f),d=n(3),p=n.n(d),v=n(5),g=n.n(v),m=n(0),y=n.n(m),_=n(44),b=n(1),A=n(10),w=n(16),x=n(15);function k(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var S=function(t){p()(n,t);var e=E(n);function n(t){return l()(this,n),e.call(this,t)}return c()(n,[{key:"initialize",value:function(){h()(y()(n.prototype),"initialize",this).call(this),this._js_callbacks=new Map}},{key:"connect_signals",value:function(){var t=this;h()(y()(n.prototype),"connect_signals",this).call(this),this._update_property_callbacks(),this.connect(this.properties.js_property_callbacks.change,(function(){return t._update_property_callbacks()})),this.connect(this.properties.js_event_callbacks.change,(function(){return t._update_event_callbacks()})),this.connect(this.properties.subscribed_events.change,(function(){return t._update_event_callbacks()}))}},{key:"_process_event",value:function(t){var e,n=k(this.js_event_callbacks[t.event_name]||[]);try{for(n.s();!(e=n.n()).done;){e.value.execute(t)}}catch(t){n.e(t)}finally{n.f()}null!=this.document&&this.subscribed_events.some((function(e){return e==t.event_name}))&&this.document.event_manager.send_event(t)}},{key:"trigger_event",value:function(t){null!=this.document&&(t.origin=this,this.document.event_manager.trigger(t))}},{key:"_update_event_callbacks",value:function(){null!=this.document?this.document.event_manager.subscribed_models.add(this):x.a.warn("WARNING: Document not defined for updating event callbacks")}},{key:"_update_property_callbacks",value:function(){var t,e=this,n=function(t){var n=t.split(":"),r=a()(n,2),i=r[0],o=r[1],s=void 0===o?null:o;return null!=s?e.properties[s][i]:e[i]},r=k(this._js_callbacks);try{for(r.s();!(t=r.n()).done;){var i,o=a()(t.value,2),s=o[0],l=o[1],u=n(s),c=k(l);try{for(c.s();!(i=c.n()).done;){var f=i.value;this.disconnect(u,f)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){r.e(t)}finally{r.f()}this._js_callbacks.clear();var h,d=k(Object(w.b)(this.js_property_callbacks));try{for(d.s();!(h=d.n()).done;){var p=a()(h.value,2),v=p[0],g=p[1].map((function(t){return function(){return t.execute(e)}}));this._js_callbacks.set(v,g);var m,y=n(v),_=k(g);try{for(_.s();!(m=_.n()).done;){var b=m.value;this.connect(y,b)}}catch(t){_.e(t)}finally{_.f()}}}catch(t){d.e(t)}finally{d.f()}}},{key:"_doc_attached",value:function(){Object(w.d)(this.js_event_callbacks)&&0==this.subscribed_events.length||this._update_event_callbacks()}},{key:"_doc_detached",value:function(){this.document.event_manager.subscribed_models.delete(this)}},{key:"select",value:function(t){if(Object(A.j)(t))return i()(this.references()).filter((function(e){return e instanceof n&&e.name===t}));if(t.prototype instanceof _.a)return i()(this.references()).filter((function(e){return e instanceof t}));throw new Error("invalid selector")}},{key:"select_one",value:function(t){var e=this.select(t);switch(e.length){case 0:return null;case 1:return e[0];default:throw new Error("found more than one object matching given selector")}}}],[{key:"init_Model",value:function(){this.define({tags:[b.g,[]],name:[b.nb],js_property_callbacks:[b.e,{}],js_event_callbacks:[b.e,{}],subscribed_events:[b.g,[]]})}}]),n}(_.a);S.__name__="Model",S.init_Model()},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,l,"next",t)}function l(t){n(a,i,o,s,l,"throw",t)}s(void 0)}))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return w}));var r=n(7),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(2),h=n.n(f),d=n(4),p=n.n(d),v=n(103),g=n(9);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b=function(){function t(e,n){h()(this,t),this.sender=e,this.name=n}return p()(t,[{key:"connect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;x.has(this.sender)||x.set(this.sender,[]);var n=x.get(this.sender);if(null!=C(n,this,t,e))return!1;var r=e||t;k.has(r)||k.set(r,[]);var i=k.get(r),o={signal:this,slot:t,context:e};return n.push(o),i.push(o),!0}},{key:"disconnect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=x.get(this.sender);if(null==n||0===n.length)return!1;var r=C(n,this,t,e);if(null==r)return!1;var i=e||t,o=k.get(i);return r.signal=null,S(n),S(o),!0}},{key:"emit",value:function(t){var e,n=y(x.get(this.sender)||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.signal,o=r.slot,a=r.context;i===this&&o.call(a,t,this.sender)}}catch(t){n.e(t)}finally{n.f()}}}]),t}();b.__name__="Signal";var A=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return p()(n,[{key:"emit",value:function(){i()(c()(n.prototype),"emit",this).call(this,void 0)}}]),n}(b);function w(){return function(){function t(){h()(this,t)}return p()(t,[{key:"connect",value:function(t,e){return t.connect(e,this)}},{key:"disconnect",value:function(t,e){return t.disconnect(e,this)}}]),t}()}A.__name__="Signal0",function(t){t.disconnectBetween=function(t,e){var n=x.get(t);if(null!=n&&0!==n.length){var r=k.get(e);if(null!=r&&0!==r.length){var i,o=y(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(null==a.signal)return;a.signal.sender===t&&(a.signal=null)}}catch(t){o.e(t)}finally{o.f()}S(n),S(r)}}},t.disconnectSender=function(t){var e=x.get(t);if(null!=e&&0!==e.length){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null==i.signal)return;var o=i.context||i.slot;i.signal=null,S(k.get(o))}}catch(t){r.e(t)}finally{r.f()}S(e)}},t.disconnectReceiver=function(t){var e=k.get(t);if(null!=e&&0!==e.length){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null==i.signal)return;var o=i.signal.sender;i.signal=null,S(x.get(o))}}catch(t){r.e(t)}finally{r.f()}S(e)}},t.disconnectAll=function(t){var e=x.get(t);if(null!=e&&0!==e.length){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){n.value.signal=null}}catch(t){r.e(t)}finally{r.f()}S(e)}var i=k.get(t);if(null!=i&&0!==i.length){var o,a=y(i);try{for(a.s();!(o=a.n()).done;){o.value.signal=null}}catch(t){a.e(t)}finally{a.f()}S(i)}}}(b||(b={}));var x=new WeakMap,k=new WeakMap;function C(t,e,n,r){return Object(g.h)(t,(function(t){return t.signal===e&&t.slot===n&&t.context===r}))}var E=new Set;function S(t){0===E.size&&Object(v.a)(R),E.add(t)}function R(){var t,e=y(E);try{for(e.s();!(t=e.n()).done;){var n=t.value;Object(g.s)(n,(function(t){return null==t.signal}))}}catch(t){e.e(t)}finally{e.f()}E.clear()}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"a",(function(){return d}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=Math.min,l=Math.max;function u(){return{x0:1/0,y0:1/0,x1:-1/0,y1:-1/0}}function c(){return{x0:Number.MIN_VALUE,y0:-1/0,x1:1/0,y1:1/0}}function f(){return{x0:-1/0,y0:Number.MIN_VALUE,x1:1/0,y1:1/0}}function h(t,e){return{x0:s(t.x0,e.x0),x1:l(t.x1,e.x1),y0:s(t.y0,e.y0),y1:l(t.y1,e.y1)}}var d=function(){function t(e){if(i()(this,t),null==e)this.x0=0,this.y0=0,this.x1=0,this.y1=0;else if("x0"in e){var n=e.x0,r=e.y0,o=e.x1,a=e.y1;if(!(n<=o&&r<=a))throw new Error("invalid bbox {x0: ".concat(n,", y0: ").concat(r,", x1: ").concat(o,", y1: ").concat(a,"}"));this.x0=n,this.y0=r,this.x1=o,this.y1=a}else if("x"in e){var s=e.x,l=e.y,u=e.width,c=e.height;if(!(u>=0&&c>=0))throw new Error("invalid bbox {x: ".concat(s,", y: ").concat(l,", width: ").concat(u,", height: ").concat(c,"}"));this.x0=s,this.y0=l,this.x1=s+u,this.y1=l+c}else{var f,h,d,p;if("width"in e)if("left"in e)h=(f=e.left)+e.width;else if("right"in e)f=(h=e.right)-e.width;else{var v=e.width/2;f=e.hcenter-v,h=e.hcenter+v}else f=e.left,h=e.right;if("height"in e)if("top"in e)p=(d=e.top)+e.height;else if("bottom"in e)d=(p=e.bottom)-e.height;else{var g=e.height/2;d=e.vcenter-g,p=e.vcenter+g}else d=e.top,p=e.bottom;if(!(f<=h&&d<=p))throw new Error("invalid bbox {left: ".concat(f,", top: ").concat(d,", right: ").concat(h,", bottom: ").concat(p,"}"));this.x0=f,this.y0=d,this.x1=h,this.y1=p}}return a()(t,[{key:"toString",value:function(){return"BBox({left: ".concat(this.left,", top: ").concat(this.top,", width: ").concat(this.width,", height: ").concat(this.height,"})")}},{key:"contains",value:function(t,e){return t>=this.x0&&t<=this.x1&&e>=this.y0&&e<=this.y1}},{key:"clip",value:function(t,e){return t<this.x0?t=this.x0:t>this.x1&&(t=this.x1),e<this.y0?e=this.y0:e>this.y1&&(e=this.y1),[t,e]}},{key:"union",value:function(e){return new t({x0:s(this.x0,e.x0),y0:s(this.y0,e.y0),x1:l(this.x1,e.x1),y1:l(this.y1,e.y1)})}},{key:"equals",value:function(t){return this.x0==t.x0&&this.y0==t.y0&&this.x1==t.x1&&this.y1==t.y1}},{key:"left",get:function(){return this.x0}},{key:"top",get:function(){return this.y0}},{key:"right",get:function(){return this.x1}},{key:"bottom",get:function(){return this.y1}},{key:"p0",get:function(){return[this.x0,this.y0]}},{key:"p1",get:function(){return[this.x1,this.y1]}},{key:"x",get:function(){return this.x0}},{key:"y",get:function(){return this.y0}},{key:"width",get:function(){return this.x1-this.x0}},{key:"height",get:function(){return this.y1-this.y0}},{key:"rect",get:function(){return{x0:this.x0,y0:this.y0,x1:this.x1,y1:this.y1}}},{key:"box",get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"h_range",get:function(){return{start:this.x0,end:this.x1}}},{key:"v_range",get:function(){return{start:this.y0,end:this.y1}}},{key:"ranges",get:function(){return[this.h_range,this.v_range]}},{key:"aspect",get:function(){return this.width/this.height}},{key:"hcenter",get:function(){return(this.left+this.right)/2}},{key:"vcenter",get:function(){return(this.top+this.bottom)/2}},{key:"xview",get:function(){var t=this;return{compute:function(e){return t.left+e},v_compute:function(e){for(var n=new Float64Array(e.length),r=t.left,i=0;i<e.length;i++)n[i]=r+e[i];return n}}}},{key:"yview",get:function(){var t=this;return{compute:function(e){return t.bottom-e},v_compute:function(e){for(var n=new Float64Array(e.length),r=t.bottom,i=0;i<e.length;i++)n[i]=r-e[i];return n}}}}]),t}();d.__name__="BBox"},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(35),i=n(34);function o(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return Object(i.a)(n)?e:Object(r.a)((function(e){return t(n,e)}));default:return Object(i.a)(n)&&Object(i.a)(o)?e:Object(i.a)(n)?Object(r.a)((function(e){return t(e,o)})):Object(i.a)(o)?Object(r.a)((function(e){return t(n,e)})):t(n,o)}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(36),p=n(31);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var g=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x.length;e<n;e++){var r=this._x[e],i=this._y[e];!isNaN(r+i)&&isFinite(r+i)&&t.push({x0:r,y0:i,x1:r,y1:i,i:e})}return new d.a(t)}},{key:"scenterx",value:function(t){return this.sx[t]}},{key:"scentery",value:function(t){return this.sy[t]}}]),n}(p.b);g.__name__="XYGlyphView";var m=function(t){l()(n,t);var e=v(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_XYGlyph",value:function(){this.coords([["x","y"]])}}]),n}(p.a);m.__name__="XYGlyph",m.init_XYGlyph()},function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return k}));var r=n(6),i=n.n(r),o=n(13),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(7),h=n.n(f),d=n(3),p=n.n(d),v=n(5),g=n.n(v),m=n(0),y=n.n(m),_=n(32),b=n(16),A=n(64);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var x=function(t){p()(n,t);var e=w(n);function n(){return l()(this,n),e.apply(this,arguments)}return c()(n,[{key:"connect_signals",value:function(){var t=this;h()(y()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties;this.on_change(e.visible,(function(){return t.plot_view.request_layout()}))}},{key:"styles",value:function(){return[].concat(a()(h()(y()(n.prototype),"styles",this).call(this)),["\n.bk-root .bk-shading {\n  position: absolute;\n  display: block;\n  border: 1px dashed green;\n}\n"])}},{key:"get_size",value:function(){if(this.model.visible){var t=this._get_size(),e=t.width,n=t.height;return{width:Math.round(e),height:Math.round(n)}}return{width:0,height:0}}},{key:"_get_size",value:function(){throw new Error("not implemented")}},{key:"set_data",value:function(t){var e=this.model.materialize_dataspecs(t);if(Object(b.c)(this,e),this.plot_model.use_map){if(null!=this._x){var n=_.d(this._x,this._y),r=i()(n,2);this._x=r[0],this._y=r[1]}if(null!=this._xs){var o=_.c(this._xs,this._ys),a=i()(o,2);this._xs=a[0],this._ys=a[1]}}}},{key:"serializable_state",value:function(){var t=h()(y()(n.prototype),"serializable_state",this).call(this);return null==this.layout?t:Object.assign(Object.assign({},t),{bbox:this.layout.bbox.box})}},{key:"panel",get:function(){return this.layout}},{key:"needs_clip",get:function(){return null==this.layout}}]),n}(A.b);x.__name__="AnnotationView";var k=function(t){p()(n,t);var e=w(n);function n(t){return l()(this,n),e.call(this,t)}return c()(n,null,[{key:"init_Annotation",value:function(){this.override({level:"annotation"})}}]),n}(A.a);k.__name__="Annotation",k.init_Annotation()},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=!1,o=n[n.length-1],a=r[r.length-1],s=0;s<n.length;s++){var l=n[s],u=r[s];a<e!=u<e&&o+(e-a)/(u-a)*(l-o)<t&&(i=!i),o=l,a=u}return i}function i(t,e,n,r,i,o,a){var s=Math.pow(Math.cos(n)/i,2)+Math.pow(Math.sin(n)/r,2),l=2*Math.cos(n)*Math.sin(n)*(Math.pow(1/i,2)-Math.pow(1/r,2)),u=Math.pow(Math.cos(n)/r,2)+Math.pow(Math.sin(n)/i,2);return s*Math.pow(t-o,2)+l*(t-o)*(e-a)+u*Math.pow(e-a,2)<=1}function o(t){return t*t}function a(t,e){return o(t.x-e.x)+o(t.y-e.y)}function s(t,e,n){var r=a(e,n);if(0==r)return a(t,e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return a(t,i<0?e:i>1?n:{x:e.x+i*(n.x-e.x),y:e.y+i*(n.y-e.y)})}function l(t,e,n){return Math.sqrt(s(t,e,n))}function u(t,e,n,r,i,o,a,s){var l=(s-o)*(n-t)-(a-i)*(r-e);if(0==l)return{hit:!1,x:null,y:null};var u=e-o,c=t-i,f=(a-i)*u-(s-o)*c;return c=((n-t)*u-(r-e)*c)/l,{hit:(u=f/l)>0&&u<1&&c>0&&c<1,x:t+u*(n-t),y:e+u*(r-e)}}n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return u}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return c}));var r="bk-active",i="bk-inline",o="bk-left",a="bk-right",s="bk-above",l="bk-below",u="bk-down";function c(t){switch(t){case"above":return s;case"below":return l;case"left":return o;case"right":return a}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(6),i=n.n(r),o=n(27);function a(t,e,n,r){var i=n.x0,o=n.x1,a=n.y0,s=n.y1;e.save(),e.beginPath(),e.moveTo(i,(a+s)/2),e.lineTo(o,(a+s)/2),t.line.doit&&(t.line.set_vectorize(e,r),e.stroke()),e.restore()}function s(t,e,n,r){var i=n.x0,o=n.x1,a=n.y0,s=n.y1,l=.1*Math.abs(o-i),u=.1*Math.abs(s-a),c=i+l,f=o-l,h=a+u,d=s-u;t.fill.doit&&(t.fill.set_vectorize(e,r),e.fillRect(c,h,f-c,d-h)),null!=t.hatch&&t.hatch.doit&&(t.hatch.set_vectorize(e,r),e.fillRect(c,h,f-c,d-h)),t.line&&t.line.doit&&(e.beginPath(),e.rect(c,h,f-c,d-h),t.line.set_vectorize(e,r),e.stroke())}function l(t,e,n,r,a,s){var l,u,c,f,h=e.sx,d=e.sy;if("point"==e.type){var p=t.yscale.r_invert(d-1,d+1),v=i()(p,2);c=v[0],f=v[1];var g=t.xscale.r_invert(h-1,h+1),m=i()(g,2);l=m[0],u=m[1]}else if("v"==e.direction){var y=t.yscale.r_invert(d,d),_=i()(y,2);c=_[0],f=_[1];var b=[Math.min(n-1,a-1),Math.max(n+1,a+1)];l=b[0],u=b[1]}else{var A=t.xscale.r_invert(h,h),w=i()(A,2);l=w[0],u=w[1];var x=[Math.min(r-1,s-1),Math.max(r+1,s+1)];c=x[0],f=x[1]}var k=o.a(l,c,u,f,n,r,a,s);return[k.x,k.y]}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return c}));var r=n(88);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.substr(n,e.length)==e}function o(){for(var t=new Array(32),e=0;e<32;e++)t[e]="0123456789ABCDEF".substr(Math.floor(16*Math.random()),1);return t[12]="4",t[16]="0123456789ABCDEF".substr(3&t[16].charCodeAt(0)|8,1),t.join("")}var a=1e3;function s(t){var e=r.a.dev?"j".concat(a++):o();return null!=t?"".concat(t,"-").concat(e):e}function l(t){return t.replace(/(?:[&<>"'`])/g,(function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#x27;";case"`":return"&#x60;";default:return t}}))}function u(t){return t.replace(/&(amp|lt|gt|quot|#x27|#x60);/g,(function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';case"#x27":return"'";case"#x60":return"`";default:return e}}))}function c(t){return"'use strict';\n".concat(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return F}));var r=n(6),i=n.n(r),o=n(14),a=n.n(o),s=n(21),l=n.n(s),u=n(2),c=n.n(u),f=n(4),h=n.n(f),d=n(7),p=n.n(d),v=n(3),g=n.n(v),m=n(5),y=n.n(m),_=n(0),b=n.n(_),A=n(1),w=n(23),x=n(32),k=n(69),C=n(91),E=n(19),S=n(15),R=n(17),T=n(16),I=n(10),O=n(75),M=n(42),P=n(18);function D(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var j=function(t){g()(o,t);var e,r=L(o);function o(){var t;return c()(this,o),(t=r.apply(this,arguments))._nohit_warned=new Set,t}return h()(o,[{key:"initialize",value:function(){p()(b()(o.prototype),"initialize",this).call(this),this.visuals=new k.b(this.model)}},{key:"lazy_initialize",value:(e=l()(a.a.mark((function t(){var e,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()(b()(o.prototype),"lazy_initialize",this).call(this);case 2:if(null==(e=this.renderer.plot_view.canvas_view.webgl)){t.next=19;break}return r=null,t.prev=5,t.next=8,n.e(1).then(n.bind(null,197));case 8:r=t.sent,t.next=18;break;case 11:if(t.prev=11,t.t0=t.catch(5),"MODULE_NOT_FOUND"!==t.t0.code){t.next=17;break}S.a.warn("WebGL was requested and is supported, but bokeh-gl(.min).js is not available, falling back to 2D rendering."),t.next=18;break;case 17:throw t.t0;case 18:null!=r&&null!=(i=r[this.model.type+"GLGlyph"])&&(this.glglyph=new i(e.gl,this));case 19:case"end":return t.stop()}}),t,this,[[5,11]])}))),function(){return e.apply(this,arguments)})},{key:"set_visuals",value:function(t,e){this.visuals.set_all_indices(e),this.visuals.warm_cache(t),null!=this.glglyph&&this.glglyph.set_visuals_changed()}},{key:"render",value:function(t,e,n){t.beginPath(),null!=this.glglyph&&this.glglyph.render(t,e,n)||this._render(t,e,n)}},{key:"has_finished",value:function(){return!0}},{key:"notify_finished",value:function(){this.renderer.notify_finished()}},{key:"_bounds",value:function(t){return t}},{key:"bounds",value:function(){return this._bounds(this.index.bbox)}},{key:"log_bounds",value:function(){var t,e=w.b(),n=D(this.index.search(w.c()));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.x0<e.x0&&(e.x0=r.x0),r.x1>e.x1&&(e.x1=r.x1)}}catch(t){n.e(t)}finally{n.f()}var i,o=D(this.index.search(w.d()));try{for(o.s();!(i=o.n()).done;){var a=i.value;a.y0<e.y0&&(e.y0=a.y0),a.y1>e.y1&&(e.y1=a.y1)}}catch(t){o.e(t)}finally{o.f()}return this._bounds(e)}},{key:"get_anchor_point",value:function(t,e,n){var r=i()(n,2),o=r[0],a=r[1];switch(t){case"center":return{x:this.scenterx(e,o,a),y:this.scentery(e,o,a)};default:return null}}},{key:"sdist",value:function(t,e,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"edge",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.length;if("center"==o){var l=Object(R.j)(n,(function(t){return t/2}));r=new Float64Array(s);for(var u=0;u<s;u++)r[u]=e[u]-l[u];i=new Float64Array(s);for(var c=0;c<s;c++)i[c]=e[c]+l[c]}else{r=e,i=new Float64Array(s);for(var f=0;f<s;f++)i[f]=r[f]+n[f]}var h=t.v_compute(r),d=t.v_compute(i);return a?Object(R.j)(h,(function(t,e){return Math.ceil(Math.abs(d[e]-h[e]))})):Object(R.j)(h,(function(t,e){return Math.abs(d[e]-h[e])}))}},{key:"draw_legend_for_index",value:function(t,e,n){}},{key:"hit_test",value:function(t){switch(t.type){case"point":if(null!=this._hit_point)return this._hit_point(t);break;case"span":if(null!=this._hit_span)return this._hit_span(t);break;case"rect":if(null!=this._hit_rect)return this._hit_rect(t);break;case"poly":if(null!=this._hit_poly)return this._hit_poly(t)}return this._nohit_warned.has(t.type)||(S.a.debug("'".concat(t.type,"' selection not available for ").concat(this.model.type)),this._nohit_warned.add(t.type)),null}},{key:"_hit_rect_against_index",value:function(t){var e=t.sx0,n=t.sx1,r=t.sy0,o=t.sy1,a=this.renderer.xscale.r_invert(e,n),s=i()(a,2),l=s[0],u=s[1],c=this.renderer.yscale.r_invert(r,o),f=i()(c,2),h=f[0],d=f[1],p=this.index.indices({x0:l,x1:u,y0:h,y1:d});return new P.a({indices:p})}},{key:"set_data",value:function(t,e,n){var r=this,o=this.model.materialize_dataspecs(t);if(e&&!(this instanceof O.b)){var a={},s=function(t){var n=o[t];"_"===t.charAt(0)?a[t]=e.map((function(t){return n[t]})):a[t]=n};for(var l in o)s(l);o=a}var u=this;if(Object(T.c)(u,o),this.renderer.plot_view.model.use_map){if(null!=u._x){var c=x.d(u._x,u._y),f=i()(c,2);u._x=f[0],u._y=f[1]}if(null!=u._xs){var h=x.c(u._xs,u._ys),d=i()(h,2);u._xs=d[0],u._ys=d[1]}if(null!=u._x0){var p=x.d(u._x0,u._y0),v=i()(p,2);u._x0=v[0],u._y0=v[1]}if(null!=u._x1){var g=x.d(u._x1,u._y1),m=i()(g,2);u._x1=m[0],u._y1=m[1]}}null!=this.renderer.plot_view.frame.x_ranges&&function(){var t,e=r.renderer.plot_view.frame.x_ranges[r.model.x_range_name],n=r.renderer.plot_view.frame.y_ranges[r.model.y_range_name],o=D(r.model._coords);try{for(o.s();!(t=o.n()).done;){var a=i()(t.value,2),s=a[0],l=a[1];s="_".concat(s),l="_".concat(l),null!=u._xs?(e instanceof M.a&&(u[s]=Object(R.j)(u[s],(function(t){return e.v_synthetic(t)}))),n instanceof M.a&&(u[l]=Object(R.j)(u[l],(function(t){return n.v_synthetic(t)})))):(e instanceof M.a&&(u[s]=e.v_synthetic(u[s])),n instanceof M.a&&(u[l]=n.v_synthetic(u[l])))}}catch(t){o.e(t)}finally{o.f()}}(),null!=this.glglyph&&this.glglyph.set_data_changed(u._x.length),this._set_data(n),this.index_data()}},{key:"_set_data",value:function(t){}},{key:"index_data",value:function(){this.index=this._index_data()}},{key:"mask_data",value:function(t){return null!=this.glglyph||null==this._mask_data?t:this._mask_data()}},{key:"map_data",value:function(){var t,e=D(this.model._coords);try{for(e.s();!(t=e.n()).done;){var n=i()(t.value,2),r=n[0],o=n[1],a="s".concat(r),s="s".concat(o);if(r="_".concat(r),o="_".concat(o),null!=this[r]&&(Object(I.a)(this[r][0])||Object(I.k)(this[r][0]))){var l=this[r].length;this[a]=new Array(l),this[s]=new Array(l);for(var u=0;u<l;u++){var c=this.map_to_screen(this[r][u],this[o][u]),f=i()(c,2),h=f[0],d=f[1];this[a][u]=h,this[s][u]=d}}else{var p=this.map_to_screen(this[r],this[o]),v=i()(p,2);this[a]=v[0],this[s]=v[1]}}}catch(t){e.e(t)}finally{e.f()}this._map_data()}},{key:"_map_data",value:function(){}},{key:"map_to_screen",value:function(t,e){return this.renderer.plot_view.map_to_screen(t,e,this.model.x_range_name,this.model.y_range_name)}},{key:"renderer",get:function(){return this.parent}},{key:"has_webgl",get:function(){return null!=this.glglyph}}]),o}(C.a);j.__name__="GlyphView";var F=function(t){g()(n,t);var e=L(n);function n(t){return c()(this,n),e.call(this,t)}return h()(n,null,[{key:"init_Glyph",value:function(){this.prototype._coords=[],this.internal({x_range_name:[A.nb,"default"],y_range_name:[A.nb,"default"]})}},{key:"coords",value:function(t){var e=this.prototype._coords.concat(t);this.prototype._coords=e;var n,r={},o=D(t);try{for(o.s();!(n=o.n()).done;){var a=i()(n.value,2),s=a[0],l=a[1];r[s]=[A.p],r[l]=[A.p]}}catch(t){o.e(t)}finally{o.f()}this.define(r)}}]),n}(E.a);F.__name__="Glyph",F.init_Glyph()},function(t,e,n){"use strict";n.d(e,"e",(function(){return it})),n.d(e,"a",(function(){return st})),n.d(e,"b",(function(){return lt})),n.d(e,"d",(function(){return ut})),n.d(e,"c",(function(){return ct}));var r=n(6),i=n.n(r),o=n(20),a=n.n(o),s=484813681109536e-20,l=Math.PI/2,u=.017453292519943295,c=57.29577951308232,f=Math.PI/4,h=2*Math.PI,d={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},p={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},v=/[\s_\-\/\(\)]/g;function g(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(v,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(v,"")===i)return t[n]}var m=function(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),a={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*u},lat_1:function(t){i.lat1=t*u},lat_2:function(t){i.lat2=t*u},lat_ts:function(t){i.lat_ts=t*u},lon_0:function(t){i.long0=t*u},lon_1:function(t){i.long1=t*u},lon_2:function(t){i.long2=t*u},alpha:function(t){i.alpha=parseFloat(t)*u},lonc:function(t){i.longc=t*u},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=g(p,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*u},pm:function(t){var e=g(d,t);i.from_greenwich=(e||parseFloat(t))*u},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in o)n=o[e],e in a?"function"==typeof(r=a[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},y=function(t){return new k(t).output()},_=/\s/,b=/[A-Za-z]/,A=/[A-Za-z84]/,w=/[,\]]/,x=/[\d\.E\-\+]/;function k(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function C(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return E(e,t),t}),r);e&&(t[e]=i)}function E(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void E(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&E(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&E(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void C(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return E(t,e[n]);return C(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}k.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;_.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},k.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(w.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},k.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},k.prototype.number=function(t){if(!x.test(t)){if(w.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},k.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},k.prototype.keyword=function(t){if(A.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!w.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},k.prototype.neutral=function(t){if(b.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(x.test(t))return this.word=t,void(this.state=3);if(!w.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},k.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function S(t){return.017453292519943295*t}var R=function(t){var e=y(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return E(e,i),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===a()(t.PROJECTION)?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=t.AXIS[n][0].toLowerCase();-1!==i.indexOf("north")?e+="n":-1!==i.indexOf("south")?e+="s":-1!==i.indexOf("east")?e+="e":-1!==i.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",S],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",S],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",S],["lat0","latitude_of_origin",S],["lat0","standard_parallel_1",S],["lat1","standard_parallel_1",S],["lat2","standard_parallel_2",S],["azimuth","Azimuth"],["alpha","azimuth",S],["srsCode","name"]].forEach((function(e){return n=t,i=(r=e)[0],o=r[1],void(!(i in n)&&o in n&&(n[i]=n[o],3===r.length&&(n[i]=r[2](n[i]))));var n,r,i,o})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=S(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i};function T(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?T[t]=m(arguments[1]):T[t]=R(arguments[1]):T[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?T.apply(e,t):T(t)}));if("string"==typeof t){if(t in T)return T[t]}else"EPSG"in t?T["EPSG:"+t.EPSG]=t:"ESRI"in t?T["ESRI:"+t.ESRI]=t:"IAU2000"in t?T["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(T);var I=T;var O=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var M=["3857","900913","3785","102113"];var P=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in I}(t))return I[t];if(function(t){return O.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=R(t);if(function(t){var e=g(t,"authority");if(e){var n=g(e,"epsg");return n&&M.indexOf(n)>-1}}(e))return I["EPSG:3857"];var n=function(t){var e=g(t,"extension");if(e)return g(e,"proj4")}(e);return n?m(n):e}return function(t){return"+"===t[0]}(t)?m(t):void 0},D=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},N=function(t){return Math.abs(t)<=3.14159265359?t:t-function(t){return t<0?-1:1}(t)*h};function L(t){return t}var j=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*c>90&&i*c<-90&&r*c>180&&r*c<-180)return null;if(Math.abs(Math.abs(i)-l)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*N(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(f+.5*i));else{var o=Math.sin(i),a=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(l-e))/r}(this.e,i,o);e=this.x0+this.a*this.k0*N(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=l-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=function(t,e){for(var n,r,i=.5*t,o=l-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=r=l-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}(this.e,o)))return null}return e=N(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:L,inverse:L,names:["longlat","identity"]}],F={},z=[];function B(t,e){var n=z.length;return t.names?(z[n]=t,t.names.forEach((function(t){F[t.toLowerCase()]=n})),this):(console.log(e),!0)}var U={start:function(){j.forEach(B)},add:B,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==F[e]&&z[F[e]]?z[F[e]]:void 0}},G={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},V=G.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};G.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var H={};H.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},H.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},H.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},H.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},H.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},H.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},H.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},H.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},H.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},H.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},H.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},H.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},H.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},H.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},H.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},H.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},H.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var q=function(t,e,n,r,i,o){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=s,a.datum_params[4]*=s,a.datum_params[5]*=s,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a};function W(t,e){if(!(this instanceof W))return new W(t);e=e||function(t){if(t)throw t};var n=P(t);if("object"===a()(n)){var r=W.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=g(H,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,s,l,u,c,f,h,d=function(t,e,n,r,i){if(!t){var o=g(G,r);o||(o=V),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<1e-10)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),p=(o=d.a,s=d.b,d.rf,l=n.R_A,f=((u=o*o)-(c=s*s))/u,h=0,l?(u=(o*=1-f*(.16666666666666666+f*(.04722222222222222+.022156084656084655*f)))*o,f=0):h=Math.sqrt(f),{es:f,e:h,ep2:(u-c)/c}),v=n.datum||q(n.datumCode,n.datum_params,d.a,d.b,p.es,p.ep2);D(this,n),D(this,r),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=v,this.init(),e(null,this)}else e(t)}else e(t)}W.projections=U,W.projections.start();var Y=W;function X(t){return 1===t||2===t}var $=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}(t,e)||5===t.datum_type||5===e.datum_type?n:t.es!==e.es||t.a!==e.a||X(t.datum_type)||X(e.datum_type)?(n=function(t,e,n){var r,i,o,a,s=t.x,u=t.y,c=t.z?t.z:0;if(u<-l&&u>-1.001*l)u=-l;else if(u>l&&u<1.001*l)u=l;else{if(u<-l)return{x:-1/0,y:-1/0,z:t.z};if(u>l)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),a=Math.cos(u),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+c)*a*Math.cos(s),y:(r+c)*a*Math.sin(s),z:(r*(1-e)+c)*i}}(n,t.es,t.a),X(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+s*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),X(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(t.x-r)/u,f=(t.y-i)/u,h=(t.z-o)/u;return{x:c+l*f-s*h,y:-l*c+f+a*h,z:s*c-a*f+h}}}(n,e.datum_type,e.datum_params)),function(t,e,n,r){var i,o,a,s,u,c,f,h,d,p,v,g,m,y,_,b=t.x,A=t.y,w=t.z?t.z:0;if(i=Math.sqrt(b*b+A*A),o=Math.sqrt(b*b+A*A+w*w),i/n<1e-12){if(y=0,o/n<1e-12)return l,_=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(A,b);a=w/o,h=(s=i/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),d=a*u,m=0;do{m++,c=e*(f=n/Math.sqrt(1-e*d*d))/(f+(_=i*h+w*d-f*(1-e*d*d))),g=(v=a*(u=1/Math.sqrt(1-c*(2-c)*s*s)))*h-(p=s*(1-c)*u)*d,h=p,d=v}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(v/Math.abs(p)),z:_}}(n,e.es,e.a,e.b)):n},J=function(t,e,n){var r,i,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(r=s,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(r=l,i="z"),t.axis[o]){case"e":case"w":case"n":case"s":u[i]=r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u};function K(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Q(t,e,n){var r,i,o;if(Array.isArray(n)&&(o={x:(i=n)[0],y:i[1]},i.length>2&&(o.z=i[2]),i.length>3&&(o.m=i[3]),n=o),function(t){K(t.x),K(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=Q(t,r=new Y("WGS84"),n),t=r),"enu"!==t.axis&&(n=J(t,!1,n)),"longlat"===t.projName)n={x:n.x*u,y:n.y*u,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;return t.from_greenwich&&(n.x+=t.from_greenwich),n=$(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*c,y:n.y*c,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?J(e,!0,n):n}var Z=Y("WGS84");function tt(t,e,n){var r,i,o;return Array.isArray(n)?(r=Q(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=Q(t,e,n),2===(o=Object.keys(n)).length||o.forEach((function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function et(t){return t instanceof Y?t:t.oProj?t.oProj:Y(t)}var nt=function(t,e,n){t=et(t);var r,i=!1;return void 0===e?(e=t,t=Z,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=Z,i=!0),e=et(e),n?tt(t,e,n):(r={forward:function(n){return tt(t,e,n)},inverse:function(n){return tt(e,t,n)}},i&&(r.oProj=e),r)},rt=new Y("GOOGLE"),it=nt(new Y("WGS84"),rt),ot={lon:[-20026376.39,20026376.39],lat:[-20048966.1,20048966.1]},at={lon:[-180,180],lat:[-85.06,85.06]};function st(t,e,n){var r=i()(ot[n],2),o=r[0],a=r[1];return[Math.max(t,o),Math.min(e,a)]}function lt(t,e){var n=i()(at[e],2),r=n[0],o=n[1];return r<t&&t<o}function ut(t,e){for(var n=Math.min(t.length,e.length),r=new Array(n),o=new Array(n),a=0;a<n;a++){var s=it.forward([t[a],e[a]]),l=i()(s,2),u=l[0],c=l[1];r[a]=u,o[a]=c}return[r,o]}function ct(t,e){for(var n=Math.min(t.length,e.length),r=new Array(n),o=new Array(n),a=0;a<n;a++){var s=ut(t[a],e[a]),l=i()(s,2),u=l[0],c=l[1];r[a]=u,o[a]=c}return[r,o]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"e",(function(){return w})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return C})),n.d(e,"v",(function(){return E})),n.d(e,"r",(function(){return S})),n.d(e,"j",(function(){return T})),n.d(e,"m",(function(){return I})),n.d(e,"s",(function(){return O})),n.d(e,"i",(function(){return M})),n.d(e,"h",(function(){return P})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return N})),n.d(e,"w",(function(){return L})),n.d(e,"b",(function(){return j})),n.d(e,"p",(function(){return F})),n.d(e,"q",(function(){return z})),n.d(e,"l",(function(){return B})),n.d(e,"k",(function(){return U})),n.d(e,"o",(function(){return G})),n.d(e,"n",(function(){return V})),n.d(e,"u",(function(){return H})),n.d(e,"t",(function(){return q}));var r=n(7),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(2),h=n.n(f),d=n(4),p=n.n(d),v=n(20),g=n.n(v);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function _(t){return function(e){e.prototype.event_name=t}}var b=function(){function t(){h()(this,t),this.origin=null}return p()(t,[{key:"to_json",value:function(){return{event_name:this.event_name,event_values:this._to_json()}}},{key:"_to_json",value:function(){return{model:this.origin}}}]),t}();b.__name__="BokehEvent";var A=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(b);A.__name__="ButtonClick",A=y([_("button_click")],A);var w=function(t){a()(n,t);var e=m(n);function n(t){var r;return h()(this,n),(r=e.call(this)).item=t,r}return p()(n,[{key:"_to_json",value:function(){var t=this.item;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{item:t})}}]),n}(b);w.__name__="MenuItemClick",w=y([_("menu_item_click")],w);var x=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(b);x.__name__="UIEvent";var k=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(x);k.__name__="LODStart",k=y([_("lodstart")],k);var C=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(x);C.__name__="LODEnd",C=y([_("lodend")],C);var E=function(t){a()(n,t);var e=m(n);function n(t,r){var i;return h()(this,n),(i=e.call(this)).geometry=t,i.final=r,i}return p()(n,[{key:"_to_json",value:function(){var t=this.geometry,e=this.final;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{geometry:t,final:e})}}]),n}(x);E.__name__="SelectionGeometry",E=y([_("selectiongeometry")],E);var S=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(x);S.__name__="Reset",S=y([_("reset")],S);var R=function(t){a()(n,t);var e=m(n);function n(t,r,i,o){var a;return h()(this,n),(a=e.call(this)).sx=t,a.sy=r,a.x=i,a.y=o,a}return p()(n,[{key:"_to_json",value:function(){var t=this.sx,e=this.sy,r=this.x,o=this.y;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{sx:t,sy:e,x:r,y:o})}}]),n}(x);R.__name__="PointEvent";var T=function(t){a()(n,t);var e=m(n);function n(t,r,i,o,a,s){var l;return h()(this,n),(l=e.call(this,t,r,i,o)).sx=t,l.sy=r,l.x=i,l.y=o,l.delta_x=a,l.delta_y=s,l}return p()(n,[{key:"_to_json",value:function(){var t=this.delta_x,e=this.delta_y;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{delta_x:t,delta_y:e})}}]),n}(R);T.__name__="Pan",T=y([_("pan")],T);var I=function(t){a()(n,t);var e=m(n);function n(t,r,i,o,a){var s;return h()(this,n),(s=e.call(this,t,r,i,o)).sx=t,s.sy=r,s.x=i,s.y=o,s.scale=a,s}return p()(n,[{key:"_to_json",value:function(){var t=this.scale;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{scale:t})}}]),n}(R);I.__name__="Pinch",I=y([_("pinch")],I);var O=function(t){a()(n,t);var e=m(n);function n(t,r,i,o,a){var s;return h()(this,n),(s=e.call(this,t,r,i,o)).sx=t,s.sy=r,s.x=i,s.y=o,s.rotation=a,s}return p()(n,[{key:"_to_json",value:function(){var t=this.rotation;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{rotation:t})}}]),n}(R);O.__name__="Rotate",O=y([_("rotate")],O);var M=function(t){a()(n,t);var e=m(n);function n(t,r,i,o,a){var s;return h()(this,n),(s=e.call(this,t,r,i,o)).sx=t,s.sy=r,s.x=i,s.y=o,s.delta=a,s}return p()(n,[{key:"_to_json",value:function(){var t=this.delta;return Object.assign(Object.assign({},i()(c()(n.prototype),"_to_json",this).call(this)),{delta:t})}}]),n}(R);M.__name__="MouseWheel",M=y([_("wheel")],M);var P=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);P.__name__="MouseMove",P=y([_("mousemove")],P);var D=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);D.__name__="MouseEnter",D=y([_("mouseenter")],D);var N=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);N.__name__="MouseLeave",N=y([_("mouseleave")],N);var L=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);L.__name__="Tap",L=y([_("tap")],L);var j=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);j.__name__="DoubleTap",j=y([_("doubletap")],j);var F=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);F.__name__="Press",F=y([_("press")],F);var z=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);z.__name__="PressUp",z=y([_("pressup")],z);var B=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);B.__name__="PanStart",B=y([_("panstart")],B);var U=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);U.__name__="PanEnd",U=y([_("panend")],U);var G=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);G.__name__="PinchStart",G=y([_("pinchstart")],G);var V=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);V.__name__="PinchEnd",V=y([_("pinchend")],V);var H=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);H.__name__="RotateStart",H=y([_("rotatestart")],H);var q=function(t){a()(n,t);var e=m(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(R);q.__name__="RotateEnd",q=y([_("rotateend")],q)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(20),i=n.n(r);function o(t){return null!=t&&"object"===i()(t)&&!0===t["@@functional/placeholder"]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(34);function i(t){return function e(n){return 0===arguments.length||Object(r.a)(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(6),l=n.n(s);class u{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,e){let n=this.length++;for(this.ids[n]=t,this.values[n]=e;n>0;){const t=n-1>>1,r=this.values[t];if(e>=r)break;this.ids[n]=this.ids[t],this.values[n]=r,n=t}this.ids[n]=t,this.values[n]=e}pop(){if(0===this.length)return;const t=this.ids[0];if(this.length--,this.length>0){const t=this.ids[0]=this.ids[this.length],e=this.values[0]=this.values[this.length],n=this.length>>1;let r=0;for(;r<n;){let t=1+(r<<1);const n=t+1;let i=this.ids[t],o=this.values[t];const a=this.values[n];if(n<this.length&&a<o&&(t=n,i=this.ids[n],o=a),o>=e)break;this.ids[r]=i,this.values[r]=o,r=t}this.ids[r]=t,this.values[r]=e}return t}peek(){if(0!==this.length)return this.ids[0]}peekValue(){if(0!==this.length)return this.values[0]}}var c=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(i()(this,t),void 0===e)throw new Error("Missing required argument: numItems.");if(isNaN(e)||e<=0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535);var a=e,s=a;this._levelBounds=[4*a];do{s+=a=Math.ceil(a/this.nodeSize),this._levelBounds.push(4*s)}while(1!==a);this.ArrayType=r||Float64Array,this.IndexArrayType=s<16384?Uint16Array:Uint32Array;var l=c.indexOf(this.ArrayType),f=4*s*this.ArrayType.BYTES_PER_ELEMENT;if(l<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this._boxes=new this.ArrayType(this.data,8,4*s),this._indices=new this.IndexArrayType(this.data,8+f,s),this._pos=4*s,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new ArrayBuffer(8+f+s*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,4*s),this._indices=new this.IndexArrayType(this.data,8+f,s),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,48+l]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e),this._queue=new u}return a()(t,null,[{key:"from",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var n=new Uint8Array(e,0,2),r=l()(n,2),i=r[0],o=r[1];if(251!==i)throw new Error("Data does not appear to be in a Flatbush format.");if(o>>4!=3)throw new Error("Got v".concat(o>>4," data when expected v").concat(3,"."));var a=new Uint16Array(e,2,1),s=l()(a,1)[0],u=new Uint32Array(e,4,1);return new t(l()(u,1)[0],s,c[15&o],e)}}]),a()(t,[{key:"add",value:function(t,e,n,r){var i=this._pos>>2;return this._indices[i]=i,this._boxes[this._pos++]=t,this._boxes[this._pos++]=e,this._boxes[this._pos++]=n,this._boxes[this._pos++]=r,t<this.minX&&(this.minX=t),e<this.minY&&(this.minY=e),n>this.maxX&&(this.maxX=n),r>this.maxY&&(this.maxY=r),i}},{key:"finish",value:function(){if(this._pos>>2!==this.numItems)throw new Error("Added ".concat(this._pos>>2," items when expected ").concat(this.numItems,"."));if(this.numItems<=this.nodeSize)return this._boxes[this._pos++]=this.minX,this._boxes[this._pos++]=this.minY,this._boxes[this._pos++]=this.maxX,void(this._boxes[this._pos++]=this.maxY);for(var t=this.maxX-this.minX,e=this.maxY-this.minY,n=new Uint32Array(this.numItems),r=0;r<this.numItems;r++){var i=4*r,o=this._boxes[i++],a=this._boxes[i++],s=this._boxes[i++],l=this._boxes[i++],u=Math.floor(65535*((o+s)/2-this.minX)/t),c=Math.floor(65535*((a+l)/2-this.minY)/e);n[r]=v(u,c)}!function t(e,n,r,i,o,a){if(Math.floor(i/a)>=Math.floor(o/a))return;var s=e[i+o>>1],l=i-1,u=o+1;for(;;){do{l++}while(e[l]<s);do{u--}while(e[u]>s);if(l>=u)break;p(e,n,r,l,u)}t(e,n,r,i,u,a),t(e,n,r,u+1,o,a)}(n,this._boxes,this._indices,0,this.numItems-1,this.nodeSize);for(var f=0,h=0;f<this._levelBounds.length-1;f++)for(var d=this._levelBounds[f];h<d;){for(var g=h,m=1/0,y=1/0,_=-1/0,b=-1/0,A=0;A<this.nodeSize&&h<d;A++)m=Math.min(m,this._boxes[h++]),y=Math.min(y,this._boxes[h++]),_=Math.max(_,this._boxes[h++]),b=Math.max(b,this._boxes[h++]);this._indices[this._pos>>2]=g,this._boxes[this._pos++]=m,this._boxes[this._pos++]=y,this._boxes[this._pos++]=_,this._boxes[this._pos++]=b}}},{key:"search",value:function(t,e,n,r,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");for(var o=this._boxes.length-4,a=[],s=[];void 0!==o;){for(var l=Math.min(o+4*this.nodeSize,d(o,this._levelBounds)),u=o;u<l;u+=4){var c=0|this._indices[u>>2];n<this._boxes[u]||(r<this._boxes[u+1]||t>this._boxes[u+2]||e>this._boxes[u+3]||(o<4*this.numItems?(void 0===i||i(c))&&s.push(c):a.push(c)))}o=a.pop()}return s}},{key:"neighbors",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");for(var o=this._boxes.length-4,a=this._queue,s=[],l=r*r;void 0!==o;){for(var u=Math.min(o+4*this.nodeSize,d(o,this._levelBounds)),c=o;c<u;c+=4){var f=0|this._indices[c>>2],p=h(t,this._boxes[c],this._boxes[c+2]),v=h(e,this._boxes[c+1],this._boxes[c+3]),g=p*p+v*v;o<4*this.numItems?(void 0===i||i(f))&&a.push(-f-1,g):a.push(f,g)}for(;a.length&&a.peek()<0;){var m=a.peekValue();if(m>l)return a.clear(),s;if(s.push(-a.pop()-1),s.length===n)return a.clear(),s}o=a.pop()}return a.clear(),s}}]),t}();function h(t,e,n){return t<e?e-t:t<=n?0:t-n}function d(t,e){for(var n=0,r=e.length-1;n<r;){var i=n+r>>1;e[i]>t?r=i:n=i+1}return e[n]}function p(t,e,n,r,i){var o=t[r];t[r]=t[i],t[i]=o;var a=4*r,s=4*i,l=e[a],u=e[a+1],c=e[a+2],f=e[a+3];e[a]=e[s],e[a+1]=e[s+1],e[a+2]=e[s+2],e[a+3]=e[s+3],e[s]=l,e[s+1]=u,e[s+2]=c,e[s+3]=f;var h=n[r];n[r]=n[i],n[i]=h}function v(t,e){var n=t^e,r=65535^n,i=65535^(t|e),o=t&(65535^e),a=n|r>>1,s=n>>1^n,l=i>>1^r&o>>1^i,u=n&i>>1^o>>1^o;s=(n=a)&(r=s)>>2^r&(n^r)>>2,l^=n&(i=l)>>2^r&(o=u)>>2,u^=r&i>>2^(n^r)&o>>2,s=(n=a=n&n>>2^r&r>>2)&(r=s)>>4^r&(n^r)>>4,l^=n&(i=l)>>4^r&(o=u)>>4,u^=r&i>>4^(n^r)&o>>4,l^=(n=a=n&n>>4^r&r>>4)&(i=l)>>8^(r=s)&(o=u)>>8;var c=t^e,f=(r=(u^=r&i>>8^(n^r)&o>>8)^u>>1)|65535^(c|(n=l^l>>1));return((f=1431655765&((f=858993459&((f=252645135&((f=16711935&(f|f<<8))|f<<4))|f<<2))|f<<1))<<1|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&(c|c<<8))|c<<4))|c<<2))|c<<1)))>>>0}var g=n(23);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _=function(){function t(e){if(i()(this,t),this.points=e,this.index=null,e.length>0){this.index=new f(e.length);var n,r=m(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.x0,s=o.y0,l=o.x1,u=o.y1;this.index.add(a,s,l,u)}}catch(t){r.e(t)}finally{r.f()}this.index.finish()}}return a()(t,[{key:"_normalize",value:function(t){var e=t.x0,n=t.y0,r=t.x1,i=t.y1;if(e>r){var o=[r,e];e=o[0],r=o[1]}if(n>i){var a=[i,n];n=a[0],i=a[1]}return{x0:e,y0:n,x1:r,y1:i}}},{key:"search",value:function(t){var e=this;if(null==this.index)return[];var n=this._normalize(t),r=n.x0,i=n.y0,o=n.x1,a=n.y1;return this.index.search(r,i,o,a).map((function(t){return e.points[t]}))}},{key:"indices",value:function(t){return this.search(t).map((function(t){return t.i}))}},{key:"bbox",get:function(){if(null==this.index)return Object(g.b)();var t=this.index;return{x0:t.minX,y0:t.minY,x1:t.maxX,y1:t.maxY}}}]),t}();_.__name__="SpatialIndex"},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return v}));var r=n(2),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(66);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var d=function(t){a()(n,t);var e=h(n);function n(){return i()(this,n),e.apply(this,arguments)}return n}(n.n(f)()(Error));function p(t,e){if(!(!0===t||!1!==t&&t()))throw new d(null!=e?e:"Assertion failed")}function v(){throw new Error("unreachable code")}d.__name__="AssertionError"},function(t,e,n){"use strict";n.d(e,"b",(function(){return D})),n.d(e,"a",(function(){return N}));var r=n(6),i=n.n(r),o=n(13),a=n.n(o),s=n(14),l=n.n(s),u=n(21),c=n.n(u),f=n(2),h=n.n(f),d=n(4),p=n.n(d),v=n(7),g=n.n(v),m=n(3),y=n.n(m),_=n(5),b=n.n(_),A=n(0),w=n.n(A),x=n(19),k=n(8),C=n(15),E=n(10),S=n(1),R=n(39),T=n(46),I=n(117);function O(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var D=function(t){y()(s,t);var e,n,r,o=P(s);function s(){var t;return h()(this,s),(t=o.apply(this,arguments))._idle_notified=!1,t._offset_parent=null,t._viewport={},t}return p()(s,[{key:"initialize",value:function(){g()(w()(s.prototype),"initialize",this).call(this),this.el.style.position=this.is_root?"relative":"absolute",this._child_views=new Map}},{key:"lazy_initialize",value:(r=c()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.build_child_views();case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"remove",value:function(){var t,e=O(this.child_views);try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(t){e.e(t)}finally{e.f()}this._child_views.clear(),g()(w()(s.prototype),"remove",this).call(this)}},{key:"connect_signals",value:function(){var t=this;g()(w()(s.prototype),"connect_signals",this).call(this),this.is_root&&(this._on_resize=function(){return t.resize_layout()},window.addEventListener("resize",this._on_resize),this._parent_observer=setInterval((function(){var e=t.el.offsetParent;t._offset_parent!=e&&(t._offset_parent=e,null!=e&&(t.compute_viewport(),t.invalidate_layout()))}),250));var e=this.model.properties;this.on_change([e.width,e.height,e.min_width,e.min_height,e.max_width,e.max_height,e.margin,e.width_policy,e.height_policy,e.sizing_mode,e.aspect_ratio,e.visible],(function(){return t.invalidate_layout()})),this.on_change([e.background,e.css_classes],(function(){return t.invalidate_render()}))}},{key:"disconnect_signals",value:function(){null!=this._parent_observer&&clearTimeout(this._parent_observer),null!=this._on_resize&&window.removeEventListener("resize",this._on_resize),g()(w()(s.prototype),"disconnect_signals",this).call(this)}},{key:"css_classes",value:function(){return g()(w()(s.prototype),"css_classes",this).call(this).concat(this.model.css_classes)}},{key:"build_child_views",value:(n=c()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.b)(this._child_views,this.child_models,{parent:this});case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t;g()(w()(s.prototype),"render",this).call(this),Object(k.l)(this.el);var e=this.model.background;this.el.style.backgroundColor=null!=e?e:"",(t=Object(k.g)(this.el).clear()).add.apply(t,a()(this.css_classes()));var n,r=O(this.child_views);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.el.appendChild(i.el),i.render()}}catch(t){r.e(t)}finally{r.f()}}},{key:"update_layout",value:function(){var t,e=O(this.child_views);try{for(e.s();!(t=e.n()).done;){t.value.update_layout()}}catch(t){e.e(t)}finally{e.f()}this._update_layout()}},{key:"update_position",value:function(){this.el.style.display=this.model.visible?"block":"none";var t=this.is_root?this.layout.sizing.margin:void 0;Object(k.w)(this.el,this.layout.bbox,t);var e,n=O(this.child_views);try{for(n.s();!(e=n.n()).done;){e.value.update_position()}}catch(t){n.e(t)}finally{n.f()}}},{key:"after_layout",value:function(){var t,e=O(this.child_views);try{for(e.s();!(t=e.n()).done;){t.value.after_layout()}}catch(t){e.e(t)}finally{e.f()}this._has_finished=!0}},{key:"compute_viewport",value:function(){this._viewport=this._viewport_size()}},{key:"renderTo",value:function(t){t.appendChild(this.el),this._offset_parent=this.el.offsetParent,this.compute_viewport(),this.build()}},{key:"build",value:function(){return this.assert_root(),this.render(),this.update_layout(),this.compute_layout(),this}},{key:"rebuild",value:(e=c()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.build_child_views();case 2:this.invalidate_render();case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"compute_layout",value:function(){var t=Date.now();this.layout.compute(this._viewport),this.update_position(),this.after_layout(),C.a.debug("layout computed in ".concat(Date.now()-t," ms")),this.notify_finished()}},{key:"resize_layout",value:function(){this.root.compute_viewport(),this.root.compute_layout()}},{key:"invalidate_layout",value:function(){this.root.update_layout(),this.root.compute_layout()}},{key:"invalidate_render",value:function(){this.render(),this.invalidate_layout()}},{key:"has_finished",value:function(){if(!g()(w()(s.prototype),"has_finished",this).call(this))return!1;var t,e=O(this.child_views);try{for(e.s();!(t=e.n()).done;){if(!t.value.has_finished())return!1}}catch(t){e.e(t)}finally{e.f()}return!0}},{key:"notify_finished",value:function(){this.is_root?!this._idle_notified&&this.has_finished()&&null!=this.model.document&&(this._idle_notified=!0,this.model.document.notify_idle(this.model)):this.root.notify_finished()}},{key:"_width_policy",value:function(){return null!=this.model.width?"fixed":"fit"}},{key:"_height_policy",value:function(){return null!=this.model.height?"fixed":"fit"}},{key:"box_sizing",value:function(){var t=this.model,e=t.width_policy,n=t.height_policy,r=t.aspect_ratio;"auto"==e&&(e=this._width_policy()),"auto"==n&&(n=this._height_policy());var o=this.model.sizing_mode;if(null!=o)if("fixed"==o)e=n="fixed";else if("stretch_both"==o)e=n="max";else if("stretch_width"==o)e="max";else if("stretch_height"==o)n="max";else switch(null==r&&(r="auto"),o){case"scale_width":e="max",n="min";break;case"scale_height":e="min",n="max";break;case"scale_both":e="max",n="max"}var a={width_policy:e,height_policy:n},s=this.model,l=s.min_width,u=s.min_height;null!=l&&(a.min_width=l),null!=u&&(a.min_height=u);var c=this.model,f=c.width,h=c.height;null!=f&&(a.width=f),null!=h&&(a.height=h);var d=this.model,p=d.max_width,v=d.max_height;null!=p&&(a.max_width=p),null!=v&&(a.max_height=v),"auto"==r&&null!=f&&null!=h?a.aspect=f/h:Object(E.g)(r)&&(a.aspect=r);var g=this.model.margin;if(null!=g)if(Object(E.g)(g))a.margin={top:g,right:g,bottom:g,left:g};else if(2==g.length){var m=i()(g,2),y=m[0],_=m[1];a.margin={top:y,right:_,bottom:y,left:_}}else{var b=i()(g,4),A=b[0],w=b[1],x=b[2],k=b[3];a.margin={top:A,right:w,bottom:x,left:k}}a.visible=this.model.visible;var C=this.model.align;if(Object(E.a)(C)){var S=i()(C,2);a.halign=S[0],a.valign=S[1]}else a.halign=a.valign=C;return a}},{key:"_viewport_size",value:function(){var t=this;return Object(k.M)(this.el,(function(){for(var e=t.el;e=e.parentElement;)if(!e.classList.contains(I.a)){if(e==document.body){var n=Object(k.m)(document.body).margin,r=n.left,i=n.right,o=n.top,a=n.bottom;return{width:Math.ceil(document.documentElement.clientWidth-r-i),height:Math.ceil(document.documentElement.clientHeight-o-a)}}var s=Object(k.m)(e).padding,l=s.left,u=s.right,c=s.top,f=s.bottom,h=e.getBoundingClientRect(),d=h.width,p=h.height,v=Math.ceil(d-l-u),g=Math.ceil(p-c-f);if(v>0||g>0)return{width:v>0?v:void 0,height:g>0?g:void 0}}return{}}))}},{key:"serializable_state",value:function(){return Object.assign(Object.assign({},g()(w()(s.prototype),"serializable_state",this).call(this)),{bbox:this.layout.bbox.box,children:this.child_views.map((function(t){return t.serializable_state()}))})}},{key:"child_views",get:function(){var t=this;return this.child_models.map((function(e){return t._child_views.get(e)}))}}]),s}(T.a);D.__name__="LayoutDOMView";var N=function(t){y()(n,t);var e=P(n);function n(t){return h()(this,n),e.call(this,t)}return p()(n,null,[{key:"init_LayoutDOM",value:function(){this.define({width:[S.V,null],height:[S.V,null],min_width:[S.V,null],min_height:[S.V,null],max_width:[S.V,null],max_height:[S.V,null],margin:[S.e,[0,0,0,0]],width_policy:[S.e,"auto"],height_policy:[S.e,"auto"],aspect_ratio:[S.e,null],sizing_mode:[S.ib,null],visible:[S.i,!0],disabled:[S.i,!1],align:[S.e,"start"],background:[S.m,null],css_classes:[S.g,[]]})}}]),n}(x.a);N.__name__="LayoutDOM",N.init_LayoutDOM()},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return b}));var r=n(13),i=n.n(r),o=n(14),a=n.n(o),s=n(6),l=n.n(s),u=n(21),c=n.n(u),f=n(9);function h(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e,n){return v.apply(this,arguments)}function v(){return(v=c()(a.a.mark((function t(e,n,r){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=new e(Object.assign(Object.assign({},r),{model:n}))).initialize(),t.next=4,i.lazy_initialize();case 4:return t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return m.apply(this,arguments)}function m(){return(m=c()(a.a.mark((function t(e){var n,r,i,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{parent:null},r=o.length>2&&void 0!==o[2]?o[2]:function(t){return t.default_view},t.next=4,p(r(e),e,n);case 4:return(i=t.sent).connect_signals(),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return _.apply(this,arguments)}function _(){return(_=c()(a.a.mark((function t(e,n){var r,o,s,l,u,c,d,v,g,m,y,_,b,A,w=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=w.length>2&&void 0!==w[2]?w[2]:{parent:null},o=w.length>3&&void 0!==w[3]?w[3]:function(t){return t.default_view},s=Object(f.f)(i()(e.keys()),n),l=h(s);try{for(l.s();!(u=l.n()).done;)c=u.value,e.get(c).remove(),e.delete(c)}catch(t){l.e(t)}finally{l.f()}d=[],v=n.filter((function(t){return!e.has(t)})),g=h(v),t.prev=8,g.s();case 10:if((m=g.n()).done){t.next=19;break}return y=m.value,t.next=14,p(o(y),y,r);case 14:_=t.sent,e.set(y,_),d.push(_);case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),g.e(t.t0);case 24:return t.prev=24,g.f(),t.finish(24);case 27:for(b=0,A=d;b<A.length;b++)A[b].connect_signals();return t.abrupt("return",d);case 29:case"end":return t.stop()}}),t,null,[[8,21,24,27]])})))).apply(this,arguments)}function b(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var r=l()(e.value,2),i=r[0];r[1].remove(),t.delete(i)}}catch(t){n.e(t)}finally{n.f()}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return F})),n.d(e,"a",(function(){return z}));var r=n(14),i=n.n(r),o=n(21),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(7),h=n.n(f),d=n(3),p=n.n(d),v=n(5),g=n.n(v),m=n(0),y=n.n(m),_=n(77),b=n(75),A=n(110),w=n(111),x=n(112),k=n(89),C=n(15),E=n(1),S=n(17),R=n(9),T=n(16),I=n(39),O=n(42);function M(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var N={fill:{},line:{}},L={fill:{fill_alpha:.3,fill_color:"grey"},line:{line_alpha:.3,line_color:"grey"}},j={fill:{fill_alpha:.2},line:{}},F=function(t){p()(o,t);var e,n,r=D(o);function o(){return l()(this,o),r.apply(this,arguments)}return c()(o,[{key:"lazy_initialize",value:(n=a()(i.a.mark((function t(){var e,n,r,a,s,l,u,c,f,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(t){var i=Object(T.a)(a);return n&&Object(T.c)(i,t.fill),r&&Object(T.c)(i,t.line),new e.constructor(i)},t.next=3,h()(y()(o.prototype),"lazy_initialize",this).call(this);case 3:return e=this.model.glyph,n=Object(R.k)(e._mixins,"fill"),r=Object(R.k)(e._mixins,"line"),delete(a=Object(T.a)(e.attributes)).id,t.next=10,this.build_glyph_view(e);case 10:return this.glyph=t.sent,null==(l=this.model.selection_glyph)?l=s({fill:{},line:{}}):"auto"===l&&(l=s(N)),t.next=15,this.build_glyph_view(l);case 15:return this.selection_glyph=t.sent,null==(u=this.model.nonselection_glyph)?u=s({fill:{},line:{}}):"auto"===u&&(u=s(j)),t.next=20,this.build_glyph_view(u);case 20:if(this.nonselection_glyph=t.sent,null==(c=this.model.hover_glyph)){t.next=26;break}return t.next=25,this.build_glyph_view(c);case 25:this.hover_glyph=t.sent;case 26:if(null==(f=this.model.muted_glyph)){t.next=31;break}return t.next=30,this.build_glyph_view(f);case 30:this.muted_glyph=t.sent;case 31:return d=s(L),t.next=34,this.build_glyph_view(d);case 34:this.decimated_glyph=t.sent,this.xscale=this.plot_view.frame.xscales[this.model.x_range_name],this.yscale=this.plot_view.frame.yscales[this.model.y_range_name],this.set_data(!1);case 38:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"build_glyph_view",value:(e=a()(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(I.a)(e,{parent:this}));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"remove",value:function(){var t,e;this.glyph.remove(),this.selection_glyph.remove(),this.nonselection_glyph.remove(),null===(t=this.hover_glyph)||void 0===t||t.remove(),null===(e=this.muted_glyph)||void 0===e||e.remove(),this.decimated_glyph.remove(),h()(y()(o.prototype),"remove",this).call(this)}},{key:"connect_signals",value:function(){var t=this;h()(y()(o.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.request_render()})),this.connect(this.model.glyph.change,(function(){return t.set_data()})),this.connect(this.model.data_source.change,(function(){return t.set_data()})),this.connect(this.model.data_source.streaming,(function(){return t.set_data()})),this.connect(this.model.data_source.patching,(function(e){return t.set_data(!0,e)})),this.connect(this.model.data_source.selected.change,(function(){return t.request_render()})),this.connect(this.model.data_source._select,(function(){return t.request_render()})),null!=this.hover_glyph&&this.connect(this.model.data_source.inspect,(function(){return t.request_render()})),this.connect(this.model.properties.view.change,(function(){return t.set_data()})),this.connect(this.model.view.change,(function(){return t.set_data()})),this.connect(this.model.properties.visible.change,(function(){return t.plot_view.update_dataranges()}));var e=this.plot_view.frame,n=e.x_ranges,r=e.y_ranges;for(var i in n){var a=n[i];a instanceof O.a&&this.connect(a.change,(function(){return t.set_data()}))}for(var s in r){var l=r[s];l instanceof O.a&&this.connect(l.change,(function(){return t.set_data()}))}this.connect(this.model.glyph.transformchange,(function(){return t.set_data()}))}},{key:"have_selection_glyphs",value:function(){return null!=this.selection_glyph&&null!=this.nonselection_glyph}},{key:"set_data",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Date.now(),r=this.model.data_source;this.all_indices=this.model.view.indices,this.glyph.model.setv({x_range_name:this.model.x_range_name,y_range_name:this.model.y_range_name},{silent:!0}),this.glyph.set_data(r,this.all_indices,e),this.glyph.set_visuals(r,this.all_indices),this.decimated_glyph.set_visuals(r,this.all_indices),this.have_selection_glyphs()&&(this.selection_glyph.set_visuals(r,this.all_indices),this.nonselection_glyph.set_visuals(r,this.all_indices)),null!=this.hover_glyph&&this.hover_glyph.set_visuals(r,this.all_indices),null!=this.muted_glyph&&this.muted_glyph.set_visuals(r,this.all_indices);var i=this.plot_model.lod_factor;this.decimated=[];for(var o=0,a=Math.floor(this.all_indices.length/i);o<a;o++)this.decimated.push(o*i);var s=Date.now()-n;C.a.debug("".concat(this.glyph.model.type," ").concat(this.model,"): set_data finished in ").concat(s,"ms")),this.set_data_timestamp=Date.now(),t&&this.request_render()}},{key:"render",value:function(){var t=this;if(this.model.visible){var e=Date.now(),n=this.has_webgl;this.glyph.map_data();var r=Date.now()-e,i=Date.now(),o=this.glyph.mask_data(this.all_indices);o.length===this.all_indices.length&&(o=Object(R.q)(0,this.all_indices.length));var a=Date.now()-i,s=this.layer.ctx;s.save();var l,u=this.model.data_source.selected;l=!u||u.is_empty()?[]:this.glyph instanceof b.b&&u.selected_glyph===this.glyph.model?this.model.view.convert_indices_from_subset(o):u.indices;var c,f,h,d=this.model.data_source.inspected,p=new Set(!d||d.is_empty()?[]:d.selected_glyph?t.model.view.convert_indices_from_subset(o):d.indices.length>0?d.indices:Object.keys(d.multiline_indices).map((function(t){return parseInt(t)}))),v=Object(S.c)(o,(function(e){return p.has(t.all_indices[e])})),g=this.plot_model.lod_threshold;null!=this.model.document&&this.model.document.interactive_duration()>0&&!n&&null!=g&&this.all_indices.length>g?(o=this.decimated,c=this.decimated_glyph,f=this.decimated_glyph,h=this.selection_glyph):(c=this.model.muted&&null!=this.muted_glyph?this.muted_glyph:this.glyph,f=this.nonselection_glyph,h=this.selection_glyph),null!=this.hover_glyph&&v.length&&(o=Object(R.f)(o,v));var m,y=null;if(l.length&&this.have_selection_glyphs()){var _,k=Date.now(),E={},T=M(l);try{for(T.s();!(_=T.n()).done;){E[_.value]=!0}}catch(t){T.e(t)}finally{T.f()}var I=new Array,O=new Array;if(this.glyph instanceof b.b){var P,D=M(this.all_indices);try{for(D.s();!(P=D.n()).done;){var N=P.value;null!=E[N]?I.push(N):O.push(N)}}catch(t){D.e(t)}finally{D.f()}}else{var L,j=M(o);try{for(j.s();!(L=j.n()).done;){var F=L.value;null!=E[this.all_indices[F]]?I.push(F):O.push(F)}}catch(t){j.e(t)}finally{j.f()}}y=Date.now()-k,m=Date.now(),f.render(s,O,this.glyph),h.render(s,I,this.glyph),null!=this.hover_glyph&&(this.glyph instanceof b.b?this.hover_glyph.render(s,this.model.view.convert_indices_from_subset(v),this.glyph):this.hover_glyph.render(s,v,this.glyph))}else if(m=Date.now(),this.glyph instanceof b.b)this.hover_glyph&&v.length?this.hover_glyph.render(s,this.model.view.convert_indices_from_subset(v),this.glyph):c.render(s,this.all_indices,this.glyph);else if(this.glyph instanceof A.b||this.glyph instanceof w.b||this.glyph instanceof x.b)if(0==d.selected_glyphs.length||null==this.hover_glyph)c.render(s,this.all_indices,this.glyph);else{var z,B=M(d.selected_glyphs);try{for(B.s();!(z=B.n()).done;){z.value==this.glyph.model&&this.hover_glyph.render(s,this.all_indices,this.glyph)}}catch(t){B.e(t)}finally{B.f()}}else c.render(s,o,this.glyph),this.hover_glyph&&v.length&&this.hover_glyph.render(s,v,this.glyph);var U=Date.now()-m;this.last_dtrender=U;var G=Date.now()-e;C.a.debug("".concat(this.glyph.model.type," ").concat(this.model,": render finished in ").concat(G,"ms")),C.a.trace(" - map_data finished in       : ".concat(r,"ms")),C.a.trace(" - mask_data finished in      : ".concat(a,"ms")),null!=y&&C.a.trace(" - selection mask finished in : ".concat(y,"ms")),C.a.trace(" - glyph renders finished in  : ".concat(U,"ms")),s.restore()}}},{key:"draw_legend",value:function(t,e,n,r,i,o,a,s){null==s&&(s=this.model.get_reference_point(o,a)),this.glyph.draw_legend_for_index(t,{x0:e,x1:n,y0:r,y1:i},s)}},{key:"hit_test",value:function(t){if(!this.model.visible)return null;var e=this.glyph.hit_test(t);return null==e?null:this.model.view.convert_selection_from_subset(e)}},{key:"has_webgl",get:function(){return this.glyph.has_webgl}}]),o}(_.b);F.__name__="GlyphRendererView";var z=function(t){p()(n,t);var e=D(n);function n(t){return l()(this,n),e.call(this,t)}return c()(n,[{key:"initialize",value:function(){h()(y()(n.prototype),"initialize",this).call(this),null==this.view.source&&(this.view.source=this.data_source,this.view.compute_indices())}},{key:"get_reference_point",value:function(t,e){var n=0;if(null!=t){var r=this.data_source.get_column(t);if(null!=r){var i=Object(S.g)(r,e);-1!=i&&(n=i)}}return n}},{key:"get_selection_manager",value:function(){return this.data_source.selection_manager}}],[{key:"init_GlyphRenderer",value:function(){this.prototype.default_view=F,this.define({data_source:[E.F],view:[E.F,function(){return new k.a}],glyph:[E.F],hover_glyph:[E.F],nonselection_glyph:[E.e,"auto"],selection_glyph:[E.e,"auto"],muted_glyph:[E.F],muted:[E.i,!1]})}}]),n}(_.a);z.__name__="GlyphRenderer",z.init_GlyphRenderer()},function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return E.c})),n.d(e,"c",(function(){return E.e})),n.d(e,"f",(function(){return E.h})),n.d(e,"d",(function(){return E.f})),n.d(e,"e",(function(){return E.g}));var r=n(47),i=n.n(r),o=n(6),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(78),h=n(90),d=n(15),p=n(33),v=n(44),g=n(22),m=n(114),y=n(104),_=n(9),b=n(96),A=n(79),w=n(10),x=n(38),k=n(43),C=n(19),E=n(59);function S(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var T=function(){function t(e){l()(this,t),this.document=e,this.session=null,this.subscribed_models=new Set}return c()(t,[{key:"send_event",value:function(t){var e=new E.d(this.document,"bokeh_event",t.to_json());this.document._trigger_on_change(e)}},{key:"trigger",value:function(t){var e,n=S(this.subscribed_models);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=t.origin&&t.origin!=r||r._process_event(t)}}catch(t){n.e(t)}finally{n.f()}}}]),t}();T.__name__="EventManager";var I=[],O=function(){function t(){l()(this,t),I.push(this),this._init_timestamp=Date.now(),this._title="Bokeh Application",this._roots=[],this._all_models=new Map,this._all_models_freeze_count=0,this._callbacks=new Map,this._message_callbacks=new Map,this.event_manager=new T(this),this.idle=new g.b(this,"idle"),this._idle_roots=new WeakMap,this._interactive_timestamp=null,this._interactive_plot=null}return c()(t,[{key:"notify_idle",value:function(t){this._idle_roots.set(t,!0),this.is_idle&&(d.a.info("document idle at ".concat(Date.now()-this._init_timestamp," ms")),this.idle.emit())}},{key:"clear",value:function(){this._push_all_models_freeze();try{for(;this._roots.length>0;)this.remove_root(this._roots[0])}finally{this._pop_all_models_freeze()}}},{key:"interactive_start",value:function(t){null==this._interactive_plot&&(this._interactive_plot=t,this._interactive_plot.trigger_event(new p.d)),this._interactive_timestamp=Date.now()}},{key:"interactive_stop",value:function(t){null!=this._interactive_plot&&this._interactive_plot.id===t.id&&this._interactive_plot.trigger_event(new p.c),this._interactive_plot=null,this._interactive_timestamp=null}},{key:"interactive_duration",value:function(){return null==this._interactive_timestamp?-1:Date.now()-this._interactive_timestamp}},{key:"destructively_move",value:function(t){if(t===this)throw new Error("Attempted to overwrite a document with itself");t.clear();var e=Object(_.d)(this._roots);this.clear();var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null!=i.document)throw new Error("Somehow we didn't detach ".concat(i))}}catch(t){r.e(t)}finally{r.f()}if(0!=this._all_models.size)throw new Error("this._all_models still had stuff in it: ".concat(this._all_models));var o,a=S(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.add_root(s)}}catch(t){a.e(t)}finally{a.f()}t.set_title(this._title)}},{key:"_push_all_models_freeze",value:function(){this._all_models_freeze_count+=1}},{key:"_pop_all_models_freeze",value:function(){this._all_models_freeze_count-=1,0===this._all_models_freeze_count&&this._recompute_all_models()}},{key:"_invalidate_all_models",value:function(){d.a.debug("invalidating document models"),0===this._all_models_freeze_count&&this._recompute_all_models()}},{key:"_recompute_all_models",value:function(){var t,e=new Set,n=S(this._roots);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=b.b(e,r.references())}}catch(t){n.e(t)}finally{n.f()}var i,o=new Set(this._all_models.values()),a=b.a(o,e),s=b.a(e,o),l=new Map,u=S(e);try{for(u.s();!(i=u.n()).done;){var c=i.value;l.set(c.id,c)}}catch(t){u.e(t)}finally{u.f()}var f,h=S(a);try{for(h.s();!(f=h.n()).done;){f.value.detach_document()}}catch(t){h.e(t)}finally{h.f()}var d,p=S(s);try{for(p.s();!(d=p.n()).done;){d.value.attach_document(this)}}catch(t){p.e(t)}finally{p.f()}this._all_models=l}},{key:"roots",value:function(){return this._roots}},{key:"add_root",value:function(t,e){if(d.a.debug("Adding root: ".concat(t)),!Object(_.k)(this._roots,t)){this._push_all_models_freeze();try{this._roots.push(t)}finally{this._pop_all_models_freeze()}this._trigger_on_change(new E.f(this,t,e))}}},{key:"remove_root",value:function(t,e){var n=this._roots.indexOf(t);if(!(n<0)){this._push_all_models_freeze();try{this._roots.splice(n,1)}finally{this._pop_all_models_freeze()}this._trigger_on_change(new E.g(this,t,e))}}},{key:"title",value:function(){return this._title}},{key:"set_title",value:function(t,e){t!==this._title&&(this._title=t,this._trigger_on_change(new E.h(this,t,e)))}},{key:"get_model_by_id",value:function(t){var e;return null!==(e=this._all_models.get(t))&&void 0!==e?e:null}},{key:"get_model_by_name",value:function(t){var e,n=[],r=S(this._all_models.values());try{for(r.s();!(e=r.n()).done;){var i=e.value;i instanceof C.a&&i.name==t&&n.push(i)}}catch(t){r.e(t)}finally{r.f()}switch(n.length){case 0:return null;case 1:return n[0];default:throw new Error("Multiple models are named '".concat(t,"'"))}}},{key:"on_message",value:function(t,e){var n=this._message_callbacks.get(t);null==n?this._message_callbacks.set(t,new Set([e])):n.add(e)}},{key:"remove_on_message",value:function(t,e){var n;null===(n=this._message_callbacks.get(t))||void 0===n||n.delete(e)}},{key:"_trigger_on_message",value:function(t,e){var n=this._message_callbacks.get(t);if(null!=n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(e)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"on_change",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._callbacks.has(t)||this._callbacks.set(t,e)}},{key:"remove_on_change",value:function(t){this._callbacks.delete(t)}},{key:"_trigger_on_change",value:function(t){var e,n=S(this._callbacks);try{for(n.s();!(e=n.n()).done;){var r=a()(e.value,2),i=r[0];if(!r[1]&&t instanceof E.c){var o,s=S(t.events);try{for(s.s();!(o=s.n()).done;){i(o.value)}}catch(t){s.e(t)}finally{s.f()}}else i(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_notify_change",value:function(t,e,n,r,i){this._trigger_on_change(new E.e(this,t,e,n,r,null==i?void 0:i.setter_id,null==i?void 0:i.hint))}},{key:"to_json_string",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return JSON.stringify(this.to_json(t))}},{key:"to_json",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._roots.map((function(t){return t.id})),r=this._all_models.values();return{version:h.a,title:this._title,roots:{root_ids:n,references:t._references_json(r,e)}}}},{key:"replace_with_json",value:function(e){t.from_json(e).destructively_move(this)}},{key:"create_json_patch_string",value:function(t){return JSON.stringify(this.create_json_patch(t))}},{key:"create_json_patch",value:function(e){var n,r=new Set,i=[],o=S(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.document!==this)throw d.a.warn("Cannot create a patch using events from a different document, event had ",a.document," we are ",this),new Error("Cannot create a patch using events from a different document");i.push(a.json(r))}}catch(t){o.e(t)}finally{o.f()}return{events:i,references:t._references_json(r)}}},{key:"apply_json_patch",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2?arguments[2]:void 0,o=e.references,s=e.events,l=t._instantiate_references_json(o,this._all_models);n instanceof Map||(n=new Map(n));var u,c=S(s);try{for(c.s();!(u=c.n()).done;){var f=u.value;switch(f.kind){case"RootAdded":case"RootRemoved":case"ModelChanged":var h=f.model.id,p=this._all_models.get(h);if(null!=p)l.set(h,p);else if(!l.has(h))throw d.a.warn("Got an event for unknown model ".concat(f.model,'"')),new Error("event model wasn't known")}}}catch(t){c.e(t)}finally{c.f()}var v,g=new Map,m=new Map,y=S(l);try{for(y.s();!(v=y.n()).done;){var _=a()(v.value,2),b=_[0],A=_[1];this._all_models.has(b)?g.set(b,A):m.set(b,A)}}catch(t){y.e(t)}finally{y.f()}t._initialize_references_json(o,g,m,n);var w,x=S(s);try{for(x.s();!(w=x.n()).done;){var C=w.value;switch(C.kind){case"MessageSent":var E=C.msg_type,R=C.msg_data,T=void 0;if(void 0===R){if(1!=n.size)throw new Error("expected exactly one buffer");var I=n,O=a()(I,1),M=a()(O[0],2),P=M[1];T=P}else T=t._resolve_refs(R,g,m,n);this._trigger_on_message(E,T);break;case"ModelChanged":var D=C.model.id,N=this._all_models.get(D);if(null==N)throw new Error("Cannot apply patch to ".concat(D," which is not in the document"));var L=C.attr,j=t._resolve_refs(C.new,g,m,n);N.setv(i()({},L,j),{setter_id:r});break;case"ColumnDataChanged":var F=C.column_source.id,z=this._all_models.get(F);if(null==z)throw new Error("Cannot stream to ".concat(F," which is not in the document"));var B=t._resolve_refs(C.new,new Map,new Map,n);if(null!=C.cols)for(var U in z.data)U in B||(B[U]=z.data[U]);z.setv({data:B},{setter_id:r,check_eq:!1});break;case"ColumnsStreamed":var G=C.column_source.id,V=this._all_models.get(G);if(null==V)throw new Error("Cannot stream to ".concat(G," which is not in the document"));if(!(V instanceof k.a))throw new Error("Cannot stream to non-ColumnDataSource");var H=C.data,q=C.rollover;V.stream(H,q,r);break;case"ColumnsPatched":var W=C.column_source.id,Y=this._all_models.get(W);if(null==Y)throw new Error("Cannot patch ".concat(W," which is not in the document"));if(!(Y instanceof k.a))throw new Error("Cannot patch non-ColumnDataSource");var X=C.patches;Y.patch(X,r);break;case"RootAdded":var $=C.model.id,J=l.get($);this.add_root(J,r);break;case"RootRemoved":var K=C.model.id,Q=l.get(K);this.remove_root(Q,r);break;case"TitleChanged":this.set_title(C.title,r);break;default:throw new Error("Unknown patch event "+JSON.stringify(C))}}}catch(t){x.e(t)}finally{x.f()}}},{key:"layoutables",get:function(){return this._roots.filter((function(t){return t instanceof x.a}))}},{key:"is_idle",get:function(){var t,e=S(this.layoutables);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!this._idle_roots.has(n))return!1}}catch(t){e.e(t)}finally{e.f()}return!0}}],[{key:"_references_json",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[],i=S(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.struct();a.attributes=o.attributes_as_json(n),delete a.attributes.id,r.push(a)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"_instantiate_object",value:function(t,e,n){var r=Object.assign(Object.assign({},n),{id:t,__deferred__:!0});return new(Object(f.a)(e))(r)}},{key:"_instantiate_references_json",value:function(e,n){var r,i=new Map,o=S(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.id,l=a.type,u=a.attributes||{},c=n.get(s);null==c&&(c=t._instantiate_object(s,l,u),null!=a.subtype&&c.set_subtype(a.subtype)),i.set(c.id,c)}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"_resolve_refs",value:function(t,e,n,r){function i(t){if(Object(m.a)(t)){if(e.has(t.id))return e.get(t.id);if(n.has(t.id))return n.get(t.id);throw new Error("reference ".concat(JSON.stringify(t)," isn't known (not in Document?)"))}return Object(y.c)(t)?Object(y.a)(t,r):Object(w.a)(t)?function(t){var e,n=[],r=S(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(i(o))}}catch(t){r.e(t)}finally{r.f()}return n}(t):Object(w.i)(t)?function(t){var e={};for(var n in t){var r=t[n];e[n]=i(r)}return e}(t):t}return i(t)}},{key:"_initialize_references_json",value:function(e,n,r,i){var o,a=new Map,s=S(e);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.id,c=l.attributes,f=!n.has(u),h=f?r.get(u):n.get(u),d=t._resolve_refs(c,n,r,i);h.setv(d,{silent:!0}),a.set(u,{instance:h,is_new:f})}}catch(t){s.e(t)}finally{s.f()}var p=[],g=new Set;function m(t){if(t instanceof v.a){if(a.has(t.id)&&!g.has(t.id)){g.add(t.id);var e=a.get(t.id),n=e.instance,r=e.is_new,i=n.attributes;for(var o in i)m(i[o]);r&&(n.finalize(),p.push(n))}}else if(Object(w.a)(t)){var s,l=S(t);try{for(l.s();!(s=l.n()).done;){m(s.value)}}catch(t){l.e(t)}finally{l.f()}}else if(Object(w.i)(t))for(var u in t)m(t[u])}var y,_=S(a.values());try{for(_.s();!(y=_.n()).done;){m(y.value.instance)}}catch(t){_.e(t)}finally{_.f()}for(var b=0,A=p;b<A.length;b++){A[b].connect_signals()}}},{key:"_event_for_attribute_change",value:function(t,e,n,r,i){if(r.get_model_by_id(t.id).property(e).syncable){var o={kind:"ModelChanged",model:{id:t.id},attr:e,new:n};return v.a._json_record_references(r,n,i,{recursive:!0}),o}return null}},{key:"_events_to_sync_objects",value:function(e,n,r,i){var o,a=Object.keys(e.attributes),s=Object.keys(n.attributes),l=Object(_.f)(a,s),u=Object(_.f)(s,a),c=Object(_.l)(a,s),f=[],h=S(l);try{for(h.s();!(o=h.n()).done;){var p=o.value;d.a.warn("Server sent key ".concat(p," but we don't seem to have it in our JSON"))}}catch(t){h.e(t)}finally{h.f()}var v,g=S(u);try{for(g.s();!(v=g.n()).done;){var m=v.value,y=n.attributes[m];f.push(t._event_for_attribute_change(e,m,y,r,i))}}catch(t){g.e(t)}finally{g.f()}var b,w=S(c);try{for(w.s();!(b=w.n()).done;){var x=b.value,k=e.attributes[x],C=n.attributes[x];null==k&&null==C||(null==k||null==C?f.push(t._event_for_attribute_change(e,x,C,r,i)):Object(A.a)(k,C)||f.push(t._event_for_attribute_change(e,x,C,r,i)))}}catch(t){w.e(t)}finally{w.f()}return f.filter((function(t){return null!=t}))}},{key:"_compute_patch_since_json",value:function(e,n){var r=n.to_json(!1);function i(t){var e,n=new Map,r=S(t.roots.references);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.set(i.id,i)}}catch(t){r.e(t)}finally{r.f()}return n}var o,a=i(e),s=new Map,l=[],u=S(e.roots.root_ids);try{for(u.s();!(o=u.n()).done;){var c=o.value;s.set(c,a.get(c)),l.push(c)}}catch(t){u.e(t)}finally{u.f()}var f,h=i(r),d=new Map,p=[],v=S(r.roots.root_ids);try{for(v.s();!(f=v.n()).done;){var g=f.value;d.set(g,h.get(g)),p.push(g)}}catch(t){v.e(t)}finally{v.f()}if(l.sort(),p.sort(),Object(_.f)(l,p).length>0||Object(_.f)(p,l).length>0)throw new Error("Not implemented: computing add/remove of document roots");var m,y=new Set,b=[],A=S(n._all_models.keys());try{for(A.s();!(m=A.n()).done;){var w=m.value;if(a.has(w)){var x=t._events_to_sync_objects(a.get(w),h.get(w),n,y);b=b.concat(x)}}}catch(t){A.e(t)}finally{A.f()}return{references:t._references_json(y,!1),events:b}}},{key:"from_json_string",value:function(e){var n=JSON.parse(e);return t.from_json(n)}},{key:"from_json",value:function(e){d.a.debug("Creating Document from JSON");var n=e.version,r=-1!==n.indexOf("+")||-1!==n.indexOf("-"),i="Library versions: JS (".concat(h.a,") / Python (").concat(n,")");r||function(t){return t.replace(/-(dev|rc)\./,"$1")}(h.a)==n?d.a.debug(i):(d.a.warn("JS/Python version mismatch"),d.a.warn(i));var o=e.roots,a=o.root_ids,s=o.references,l=t._instantiate_references_json(s,new Map);t._initialize_references_json(s,new Map,l,new Map);var u,c=new t,f=S(a);try{for(f.s();!(u=f.n()).done;){var p=u.value,v=l.get(p);null!=v&&c.add_root(v)}}catch(t){f.e(t)}finally{f.f()}return c.set_title(e.title),c}}]),t}();O.__name__="Document"},function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(7),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(13),g=n.n(v),m=n(6),y=n.n(m),_=n(80),b=n(1),A=n(17),w=n(9),x=n(10),k=n(37);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function E(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Map,i=0;i<t.length;i++){var o=t[i];if(r.has(o))throw new Error("duplicate factor or subfactor: ".concat(o));r.set(o,{value:.5+i*(1+e)+n})}return[r,(t.length-1)*e]}function T(t,e,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=new Map,s=new Map,l=E(t);try{for(l.s();!(i=l.n()).done;){var u=y()(i.value,2),c=u[0],f=u[1],h=null!==(r=s.get(c))&&void 0!==r?r:[];s.set(c,[].concat(g()(h),[f]))}}catch(t){l.e(t)}finally{l.f()}var d,p=o,v=0,m=E(s);try{var _=function(){var t=y()(d.value,2),r=t[0],i=t[1],o=i.length,s=R(i,n,p),l=y()(s,2),u=l[0],c=l[1];v+=c;var f=Object(w.y)(i.map((function(t){return u.get(t).value})));a.set(r,{value:f/o,mapping:u}),p+=o+e+c};for(m.s();!(d=m.n()).done;)_()}catch(t){m.e(t)}finally{m.f()}return[a,(s.size-1)*e+v]}var I=function(t){c()(n,t);var e=C(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"initialize",value:function(){l()(p()(n.prototype),"initialize",this).call(this),this._init(!0)}},{key:"connect_signals",value:function(){var t=this;l()(p()(n.prototype),"connect_signals",this).call(this),this.connect(this.properties.factors.change,(function(){return t.reset()})),this.connect(this.properties.factor_padding.change,(function(){return t.reset()})),this.connect(this.properties.group_padding.change,(function(){return t.reset()})),this.connect(this.properties.subgroup_padding.change,(function(){return t.reset()})),this.connect(this.properties.range_padding.change,(function(){return t.reset()})),this.connect(this.properties.range_padding_units.change,(function(){return t.reset()}))}},{key:"reset",value:function(){this._init(!1),this.change.emit()}},{key:"_lookup",value:function(t){switch(t.length){case 1:var e=y()(t,1)[0],n=this._mapping.get(e);return null!=n?n.value:NaN;case 2:var r=y()(t,2),i=r[0],o=r[1],a=this._mapping.get(i);if(null!=a){var s=a.mapping.get(o);if(null!=s)return s.value}return NaN;case 3:var l=y()(t,3),u=l[0],c=l[1],f=l[2],h=this._mapping.get(u);if(null!=h){var d=h.mapping.get(c);if(null!=d){var p=d.mapping.get(f);if(null!=p)return p.value}}return NaN;default:Object(k.b)()}}},{key:"synthetic",value:function(t){if(Object(x.g)(t))return t;if(Object(x.j)(t))return this._lookup([t]);var e=0,n=t[t.length-1];return Object(x.g)(n)&&(e=n,t=t.slice(0,-1)),this._lookup(t)+e}},{key:"v_synthetic",value:function(t){var e=this;return Object(A.j)(t,(function(t){return e.synthetic(t)}))}},{key:"_init",value:function(t){var e=this,n=function(){if(Object(w.g)(e.factors,x.j)){var t=R(e.factors,e.factor_padding),n=y()(t,2);return{levels:1,mapping:n[0],tops:null,mids:null,inside_padding:n[1]}}if(Object(w.g)(e.factors,(function(t){return Object(x.a)(t)&&2==t.length&&Object(x.j)(t[0])&&Object(x.j)(t[1])}))){var r=T(e.factors,e.group_padding,e.factor_padding),i=y()(r,2),o=i[0],a=i[1],s=g()(o.keys());return{levels:2,mapping:o,tops:s,mids:null,inside_padding:a}}if(Object(w.g)(e.factors,(function(t){return Object(x.a)(t)&&3==t.length&&Object(x.j)(t[0])&&Object(x.j)(t[1])&&Object(x.j)(t[2])}))){var l,u=function(t,e,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=new Map,l=new Map,u=E(t);try{for(u.s();!(o=u.n()).done;){var c=y()(o.value,3),f=c[0],h=c[1],d=c[2],p=null!==(i=l.get(f))&&void 0!==i?i:[];l.set(f,[].concat(g()(p),[[h,d]]))}}catch(t){u.e(t)}finally{u.f()}var v,m=a,_=0,b=E(l);try{var A=function(){var t=y()(v.value,2),i=t[0],o=t[1],a=o.length,l=T(o,n,r,m),u=y()(l,2),c=u[0],f=u[1];_+=f;var h=Object(w.y)(o.map((function(t){var e=y()(t,1)[0];return c.get(e).value})));s.set(i,{value:h/a,mapping:c}),m+=a+e+f};for(b.s();!(v=b.n()).done;)A()}catch(t){b.e(t)}finally{b.f()}return[s,(l.size-1)*e+_]}(e.factors,e.group_padding,e.subgroup_padding,e.factor_padding),c=y()(u,2),f=c[0],h=c[1],d=g()(f.keys()),p=[],v=E(f);try{for(v.s();!(l=v.n()).done;){var m,_=y()(l.value,2),b=_[0],A=E(_[1].mapping.keys());try{for(A.s();!(m=A.n()).done;){var C=m.value;p.push([b,C])}}catch(t){A.e(t)}finally{A.f()}}}catch(t){v.e(t)}finally{v.f()}return{levels:3,mapping:f,tops:d,mids:p,inside_padding:h}}Object(k.b)()}(),r=n.levels,i=n.mapping,o=n.tops,a=n.mids,s=n.inside_padding;this._mapping=i,this.tops=o,this.mids=a;var l=0,u=this.factors.length+s;if("percent"==this.range_padding_units){var c=(u-l)*this.range_padding/2;l-=c,u+=c}else l-=this.range_padding,u+=this.range_padding;this.setv({start:l,end:u,levels:r},{silent:t}),"auto"==this.bounds&&this.setv({bounds:[l,u]},{silent:!0})}},{key:"min",get:function(){return this.start}},{key:"max",get:function(){return this.end}}],[{key:"init_FactorRange",value:function(){this.define({factors:[b.g,[]],factor_padding:[b.V,0],subgroup_padding:[b.V,.8],group_padding:[b.V,1.4],range_padding:[b.V,0],range_padding_units:[b.ab,"percent"],start:[b.V],end:[b.V]}),this.internal({levels:[b.V],mids:[b.g,null],tops:[b.g,null]})}}]),n}(_.a);I.__name__="FactorRange",I.init_FactorRange()},function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r=n(13),i=n.n(r),o=n(2),a=n.n(o),s=n(4),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(6),g=n.n(v),m=n(62),y=n(1),_=n(10),b=n(16);var A=n(96),w=n(59);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function k(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e,n){if(Object(_.a)(t)){var r=t.concat(e);return null!=n&&r.length>n?r.slice(-n):r}if(Object(_.k)(t)){var i=t.length+e.length;if(null!=n&&i>n){var o,a=i-n,s=t.length;t.length<n?(o=new t.constructor(n)).set(t,0):o=t;for(var l=a,u=s;l<u;l++)o[l-a]=o[l];for(var c=0,f=e.length;c<f;c++)o[c+(s-a)]=e[c];return o}var h=new t.constructor(e);return function(t){for(var e=t.length,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];e+=s.length}var l=new t.constructor(e);l.set(t,0);for(var u=t.length,c=0,f=r;c<f.length;c++){var h=f[c];l.set(h,u),u+=h.length}return l}(t,h)}throw new Error("unsupported array types")}function S(t,e){var n,r,i;return Object(_.g)(t)?(n=t,i=t+1,r=1):(n=null!=t.start?t.start:0,i=null!=t.stop?t.stop:e,r=null!=t.step?t.step:1),[n,i,r]}function R(t,e){var n,r=new Set,i=!1,o=k(e);try{for(o.s();!(n=o.n()).done;){var a=g()(n.value,2),s=a[0],l=a[1],u=void 0,c=void 0,f=void 0,h=void 0;if(Object(_.a)(s)){var d=g()(s,1)[0];r.add(d),u=t[d].shape,c=t[d],h=l,2===s.length?(u=[1,u[0]],f=[s[0],0,s[1]]):f=s}else Object(_.g)(s)?(h=[l],r.add(s)):(h=l,i=!0),f=[0,0,s],u=[1,t.length],c=t;for(var p=0,v=S(f[1],u[0]),m=g()(v,3),y=m[0],b=m[1],A=m[2],w=S(f[2],u[1]),x=g()(w,3),C=x[0],E=x[1],R=x[2],T=y;T<b;T+=A)for(var I=C;I<E;I+=R)i&&r.add(I),c[T*u[1]+I]=h[p],p++}}catch(t){o.e(t)}finally{o.f()}return r}var T=function(t){c()(n,t);var e=x(n);function n(t){return a()(this,n),e.call(this,t)}return l()(n,[{key:"stream",value:function(t,e,n){var r=this.data;for(var i in t)r[i]=E(r[i],t[i],e);if(this.setv({data:r},{silent:!0}),this.streaming.emit(),null!=this.document){var o=new w.b(this.document,this.ref(),t,e);this.document._notify_change(this,"data",null,null,{setter_id:n,hint:o})}}},{key:"patch",value:function(t,e){var n,r=this.data,o=new Set,a=k(Object(b.b)(t));try{for(a.s();!(n=a.n()).done;){var s=g()(n.value,2),l=s[0],u=s[1];o=Object(A.b)(o,R(r[l],u))}}catch(t){a.e(t)}finally{a.f()}if(this.setv({data:r},{silent:!0}),this.patching.emit(i()(o)),null!=this.document){var c=new w.a(this.document,this.ref(),t);this.document._notify_change(this,"data",null,null,{setter_id:e,hint:c})}}}],[{key:"init_ColumnDataSource",value:function(){this.define({data:[y.e,{}]})}}]),n}(m.a);T.__name__="ColumnDataSource",T.init_ColumnDataSource()},function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));var r=n(47),i=n.n(r),o=n(13),a=n.n(o),s=n(14),l=n.n(s),u=n(6),c=n.n(u),f=n(2),h=n.n(f),d=n(4),p=n.n(d),v=n(83),g=n.n(v),m=n(3),y=n.n(m),_=n(5),b=n.n(_),A=n(0),w=n.n(A),x=n(22),k=n(114),C=n(1),E=n(12),S=n(30),R=n(9),T=n(16),I=n(10),O=n(79),M=n(41),P=n(55),D=n(104);function N(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var F=function(t){y()(n,t);var e=j(n);function n(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(this,n),(t=e.call(this))._subtype=void 0,t.document=null,t.destroyed=new x.b(g()(t),"destroyed"),t.change=new x.b(g()(t),"change"),t.transformchange=new x.b(g()(t),"transformchange"),t.properties={},t._pending=!1,t._changing=!1;var o,a=i instanceof Map?i.get:function(t){return i[t]},s=N(Object(T.b)(t._props));try{for(s.s();!(o=s.n()).done;){var l=c()(o.value,2),u=l[0],f=l[1],d=f.type,p=f.default_value,v=f.options;if(null==d)throw new Error("undefined property type for ".concat(t.type,".").concat(u));t.properties[u]=new d(g()(t),u,p,a(u),v)}}catch(t){s.e(t)}finally{s.f()}return null!==(r=a("__deferred__"))&&void 0!==r&&r||(t.finalize(),t.connect_signals()),t}return p()(n,[{key:"toString",value:function(){return"".concat(this.type,"(").concat(this.id,")")}},{key:"property",value:function(t){var e=this.properties[t];if(null!=e)return e;throw new Error("unknown property ".concat(this.type,".").concat(t))}},{key:"finalize",value:function(){var t,e=this,n=N(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r.spec.transform&&this.connect(r.spec.transform.change,(function(){return e.transformchange.emit()}))}}catch(t){n.e(t)}finally{n.f()}this.initialize()}},{key:"initialize",value:function(){}},{key:"connect_signals",value:function(){}},{key:"disconnect_signals",value:function(){x.a.disconnectReceiver(this)}},{key:"destroy",value:function(){this.disconnect_signals(),this.destroyed.emit()}},{key:"clone",value:function(){return new this.constructor(this.attributes)}},{key:"_setv",value:function(t,e){var n=e.check_eq,r=e.silent,i=[],o=this._changing;this._changing=!0;var a,s=N(t);try{for(s.s();!(a=s.n()).done;){var l=c()(a.value,2),u=l[0],f=l[1];!1!==n&&Object(O.a)(u.get_value(),f)||(u.set_value(f),i.push(u))}}catch(t){s.e(t)}finally{s.f()}if(!r){i.length>0&&(this._pending=!0);var h,d=N(i);try{for(d.s();!(h=d.n()).done;){h.value.change.emit()}}catch(t){d.e(t)}finally{d.f()}}if(!o){if(!r&&!e.no_change)for(;this._pending;)this._pending=!1,this.change.emit();this._pending=!1,this._changing=!1}}},{key:"setv",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(T.d)(t)){var n=new Map,r=new Map;for(var i in t)if(t.hasOwnProperty(i)){var o=this.properties[i];if(null==o)throw new Error("property ".concat(this.type,".").concat(i," wasn't declared"));var a=t[i];n.set(o,a),r.set(o,o.get_value())}this._setv(n,e);var s=this.document;if(null!=s){var l,u=[],f=N(r);try{for(f.s();!(l=f.n()).done;){var h=c()(l.value,2),d=h[0],p=h[1];u.push([d,p,d.get_value()])}}catch(t){f.e(t)}finally{f.f()}for(var v=0,g=u;v<g.length;v++){var m=c()(g[v],3),y=m[1],_=m[2];if(this._needs_invalidate(y,_)){s._invalidate_all_models();break}}!0!==e.silent&&this._push_changes(u,e)}}}},{key:"getv",value:function(t){return this.property(t).get_value()}},{key:"ref",value:function(){return{id:this.id}}},{key:"struct",value:function(){var t={type:this.type,id:this.id,attributes:{}};return null!=this._subtype&&(t.subtype=this._subtype),t}},{key:"set_subtype",value:function(t){this._subtype=t}},{key:Symbol.iterator,value:l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=l.a.keys(this.properties);case 1:if((t.t1=t.t0()).done){t.next=7;break}return e=t.t1.value,t.next=5,this.properties[e];case 5:t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))},{key:"syncable_properties",value:l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=N(this),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=10;break}if(!(r=n.value).syncable){t.next=8;break}return t.next=8,r;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"serializable_attributes",value:function(){var t,e={},n=N(this.syncable_properties());try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.attr]=r.get_value()}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"attributes_as_json",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n._value_to_json,i={},o=N(this);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.syncable&&(e||a.dirty)&&(i[a.attr]=r(a.get_value()))}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"_immediate_references",value:function(){var t,e=new Set,r=N(this.syncable_properties());try{for(r.s();!(t=r.n()).done;){var i=t.value.get_value();n._value_record_references(i,e,{recursive:!1})}}catch(t){r.e(t)}finally{r.f()}return a()(e.values())}},{key:"references",value:function(){var t=new Set;return n._value_record_references(this,t,{recursive:!0}),t}},{key:"_doc_attached",value:function(){}},{key:"_doc_detached",value:function(){}},{key:"attach_document",value:function(t){if(null!=this.document&&this.document!=t)throw new Error("models must be owned by only a single document");this.document=t,this._doc_attached()}},{key:"detach_document",value:function(){this._doc_detached(),this.document=null}},{key:"_needs_invalidate",value:function(t,e){var r=new Set;n._value_record_references(e,r,{recursive:!1});var i=new Set;n._value_record_references(t,i,{recursive:!1});var o,a=N(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!i.has(s))return!0}}catch(t){a.e(t)}finally{a.f()}var l,u=N(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!r.has(c))return!0}}catch(t){u.e(t)}finally{u.f()}return!1}},{key:"_push_changes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.document;if(null!=n){var r,i,o=e.setter_id,a=[],s=N(t);try{for(s.s();!(r=s.n()).done;){var l=c()(r.value,3),u=l[0],f=l[1],h=l[2];u.syncable&&a.push(new M.c(n,this,u.attr,f,h,o))}}catch(t){s.e(t)}finally{s.f()}if(0!=a.length)i=1==a.length?a[0]:new M.b(n,a,o),n._trigger_on_change(i)}}},{key:"materialize_dataspecs",value:function(t){var e,n={},r=N(this);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i instanceof C.xb&&(!i.optional||null!=i.spec.value||i.dirty)){var o=i.attr,a=i.array(t);n["_".concat(o)]=a,i instanceof C.t&&(n["max_".concat(o)]=Object(R.n)(a))}}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"on_change",value:function(t,e){var n,r=N(Object(I.a)(t)?t:[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.connect(i.change,e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"type",set:function(t){console.warn("prototype.type = 'ModelName' is deprecated, use static __name__ instead"),this.constructor.__name__=t},get:function(){return this.constructor.__qualified__}},{key:"attributes",get:function(){var t,e={},n=N(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.attr]=r.get_value()}}catch(t){n.e(t)}finally{n.f()}return e}}],[{key:"init_HasProps",value:function(){this.prototype._props={},this.prototype._mixins=[],this.define({id:[C.nb,function(){return Object(S.d)()}]})}},{key:"_fix_default",value:function(t,e){return void 0===t?void 0:Object(I.e)(t)?t:Object(I.h)(t)?Object(I.a)(t)?function(){return Object(R.d)(t)}:function(){return Object(T.a)(t)}:function(){return t}}},{key:"define",value:function(t){var e,n=this,r=N(Object(T.b)(t));try{var o=function(){var t=c()(e.value,2),r=t[0],o=t[1];if(null!=n.prototype._props[r])throw new Error("attempted to redefine property '".concat(n.prototype.type,".").concat(r,"'"));if(null!=n.prototype[r])throw new Error("attempted to redefine attribute '".concat(n.prototype.type,".").concat(r,"'"));Object.defineProperty(n.prototype,r,{get:function(){return this.properties[r].get_value()},set:function(t){return this.setv(i()({},r,t)),this},configurable:!1,enumerable:!0});var a=c()(o,3),s=a[0],l=a[1],u=a[2],f={type:s,default_value:n._fix_default(l,r),options:u},h=Object(T.a)(n.prototype._props);h[r]=f,n.prototype._props=h};for(r.s();!(e=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}}},{key:"internal",value:function(t){var e,n={},r=N(Object(T.b)(t));try{for(r.s();!(e=r.n()).done;){var i=c()(e.value,2),o=i[0],a=i[1],s=c()(a,3),l=s[0],u=s[1],f=s[2],h=void 0===f?{}:f;n[o]=[l,u,Object.assign(Object.assign({},h),{internal:!0})]}}catch(t){r.e(t)}finally{r.f()}this.define(n)}},{key:"mixins",value:function(t){function e(t){switch(t){case"line":return E.f;case"fill":return E.b;case"hatch":return E.d;case"text":return E.h;default:throw new Error("Unknown property mixin kind '".concat(t,"'"))}}function n(t,e){var n,r={},i=N(Object(T.b)(e));try{for(i.s();!(n=i.n()).done;){var o=c()(n.value,2),a=o[0],s=o[1];r[t+a]=s}}catch(t){i.e(t)}finally{i.f()}return r}function r(t){var e=Object.keys(t),n=c()(e,1)[0].split("_",1);return c()(n,1)[0]}Object(I.a)(t)||(t=[t]);var i,o={},s=[],l=N(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;if(Object(I.j)(u)){var f=u.split(":"),h=c()(f,2),d=h[0],p=h[1],v=void 0===p?"":p,g=e(d);s.push(u),Object(T.c)(o,n(v,g))}else if(Object(I.a)(u)){var m=c()(u,2),y=m[0],_=m[1];s.push("".concat(r(_),":").concat(y)),Object(T.c)(o,n(y,_))}else{var b=u;s.push(r(b)),Object(T.c)(o,b)}}}catch(t){l.e(t)}finally{l.f()}this.define(o),this.prototype._mixins=[].concat(a()(this.prototype._mixins),s)}},{key:"override",value:function(t){var e,n=N(Object(T.b)(t));try{for(n.s();!(e=n.n()).done;){var r=c()(e.value,2),i=r[0],o=r[1],a=this._fix_default(o,i),s=this.prototype._props[i];if(null==s)throw new Error("attempted to override nonexistent '".concat(this.prototype.type,".").concat(i,"'"));var l=Object(T.a)(this.prototype._props);l[i]=Object.assign(Object.assign({},s),{default_value:a}),this.prototype._props=l}}catch(t){n.e(t)}finally{n.f()}}},{key:"_value_to_json",value:function(t){if(t instanceof n)return t.ref();if(Object(P.i)(t))return Object(D.b)(t);if(Object(I.a)(t)||Object(I.k)(t)){for(var e=t.length,r=new Array(e),i=0;i<e;i++){var o=t[i];r[i]=n._value_to_json(o)}return r}if(Object(I.i)(t)){var a={};for(var s in t)t.hasOwnProperty(s)&&(a[s]=n._value_to_json(t[s]));return a}return t}},{key:"_json_record_references",value:function(t,e,r,i){var o=i.recursive;if(Object(k.a)(e)){var a=t.get_model_by_id(e.id);null==a||r.has(a)||n._value_record_references(a,r,{recursive:o})}else if(Object(I.a)(e)){var s,l=N(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;n._json_record_references(t,u,r,{recursive:o})}}catch(t){l.e(t)}finally{l.f()}}else if(Object(I.i)(e))for(var c in e)if(e.hasOwnProperty(c)){var f=e[c];n._json_record_references(t,f,r,{recursive:o})}}},{key:"_value_record_references",value:function(t,e,r){var i=r.recursive;if(t instanceof n){if(!e.has(t)&&(e.add(t),i)){var o,a=N(t._immediate_references());try{for(a.s();!(o=a.n()).done;){var s=o.value;n._value_record_references(s,e,{recursive:!0})}}catch(t){a.e(t)}finally{a.f()}}}else if(Object(I.a)(t)){var l,u=N(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;n._value_record_references(c,e,{recursive:i})}}catch(t){u.e(t)}finally{u.f()}}else if(Object(I.i)(t))for(var f in t)if(t.hasOwnProperty(f)){var h=t[f];n._value_record_references(h,e,{recursive:i})}}},{key:"__qualified__",get:function(){var t=this.__module__,e=this.__name__;return null!=t?"".concat(t,".").concat(e):e}}]),n}(Object(x.c)());F.init_HasProps()},function(t,e,n){"use strict";var r=n(57);n.d(e,"e",(function(){return r.a}));var i=n(53);n.d(e,"d",(function(){return i.c})),n.d(e,"c",(function(){return i.b}));n(74);var o=n(51);n.d(e,"b",(function(){return o.b}));var a=n(99);n.d(e,"a",(function(){return a.b}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(7),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(91),g=n(8),m=n(115);function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var A=function(t){c()(n,t);var e=b(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"initialize",value:function(){l()(p()(n.prototype),"initialize",this).call(this),this._has_finished=!1,this.is_root&&(this._stylesheet=g.I),this._inject_styles(),this.el=this._createElement()}},{key:"remove",value:function(){g.A(this.el),l()(p()(n.prototype),"remove",this).call(this)}},{key:"css_classes",value:function(){return[]}},{key:"styles",value:function(){return[m.a]}},{key:"cursor",value:function(t,e){return null}},{key:"render",value:function(){}},{key:"renderTo",value:function(t){t.appendChild(this.el),this.render()}},{key:"has_finished",value:function(){return this._has_finished}},{key:"_inject_styles",value:function(){var t,e=this.stylesheet,n=y(this.styles());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.append(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_createElement",value:function(){return g.i(this.tagName,{class:this.css_classes()})}},{key:"is_idle",get:function(){return this.has_finished()}},{key:"stylesheet",get:function(){return this.is_root?this._stylesheet:this.root.stylesheet}}]),n}(v.a);A.__name__="DOMView",A.prototype.tagName="div"},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s}));var r="bk-btn",i="bk-btn-group",o="bk-btn-default";function a(t){switch(t){case"default":return o;case"primary":return"bk-btn-primary";case"success":return"bk-btn-success";case"warning":return"bk-btn-warning";case"danger":return"bk-btn-danger"}}var s="bk-dropdown-toggle"},function(t,e,n){"use strict";function r(t){if(0==t)return 0;for(;t<=0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}function i(t,e){return r(t-e)}function o(t,e,n,o){var a=i(e,n);if(0==a)return!1;if(a==2*Math.PI)return!0;var s=r(t),l=i(e,s)<=a&&i(s,n)<=a;return 0==o?l:!l}function a(){return Math.random()}function s(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function l(t,e){return Math.atan2(e[1]-t[1],e[0]-t[0])}function u(t,e){for(var n,r;n=a(),r=(2*(r=a())-1)*Math.sqrt(1/Math.E*2),!(-4*n*n*Math.log(n)>=r*r););var i=r/n;return i=t+e*i}function c(t,e,n){return t>n?n:t<e?e:t}n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return c}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return p}));var r=n(71),i=n(133),o=n(58),a=n.n(o),s=n(30),l=n(10),u={numeral:function(t,e,n){return r.format(t,e)},datetime:function(t,e,n){return a()(t,e)},printf:function(t,e,n){return c(e,t)}};function c(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return i.sprintf.apply(void 0,[t].concat(n))}function f(t,e,n){return Object(l.g)(t)?c(function(){switch(!1){case Math.floor(t)!=t:return"%d";case!(Math.abs(t)>.1&&Math.abs(t)<1e3):return"%0.3f";default:return"%0.3e"}}(),t):"".concat(t)}function h(t,e,n){if(null==e)return f;if(null!=n&&t in n){var r=n[t];if(Object(l.j)(r)){if(r in u)return u[r];throw new Error("Unknown tooltip field formatter type '".concat(r,"'"))}return function(t,e,n){return r.format(t,e,n)}}return u.numeral}function d(t,e,n,r){return"$"==t[0]?function(t,e){if(t in e)return e[t];throw new Error("Unknown special variable '$".concat(t,"'"))}(t.substring(1),r):function(t,e,n){var r=e.get_column(t);if(null==r)return null;if(Object(l.g)(n))return r[n];var i=r[n.index];return Object(l.k)(i)||Object(l.a)(i)?Object(l.a)(i[0])?i[n.dim2][n.dim1]:i[n.flat_index]:i}(t.substring(1).replace(/[{}]/g,""),e,n)}function p(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t=(t=t.replace(/@\$name/g,(function(t){return"@{".concat(i.name,"}")}))).replace(/((?:\$\w+)|(?:@\w+)|(?:@{(?:[^{}]+)}))(?:{([^{}]+)})?/g,(function(t,o,a){var l=d(o,e,n,i);if(null==l)return"".concat(Object(s.a)("???"));if("safe"==a)return"".concat(l);var u=h(o,a,r);return"".concat(Object(s.a)(u(l,a,i)))}))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return I})),n.d(e,"a",(function(){return O}));var r=n(6),i=n.n(r),o=n(7),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(2),p=n.n(d),v=n(4),g=n.n(v),m=n(57),y=n(53),_=n(10),b=n(23),A=n(9);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C=Math.max,E=Math.round,S=function(){function t(e){p()(this,t),this.def=e,this._map=new Map}return g()(t,[{key:"get",value:function(t){var e=this._map.get(t);return void 0===e&&(e=this.def(),this._map.set(t,e)),e}},{key:"apply",value:function(t,e){var n=this.get(t);this._map.set(t,e(n))}}]),t}();S.__name__="DefaultMap";var R=function(){function t(){p()(this,t),this._items=[],this._nrows=0,this._ncols=0}return g()(t,[{key:"add",value:function(t,e){var n=t.r1,r=t.c1;this._nrows=C(this._nrows,n+1),this._ncols=C(this._ncols,r+1),this._items.push({span:t,data:e})}},{key:"at",value:function(t,e){return this._items.filter((function(n){var r=n.span;return r.r0<=t&&t<=r.r1&&r.c0<=e&&e<=r.c1})).map((function(t){return t.data}))}},{key:"row",value:function(t){return this._items.filter((function(e){var n=e.span;return n.r0<=t&&t<=n.r1})).map((function(t){return t.data}))}},{key:"col",value:function(t){return this._items.filter((function(e){var n=e.span;return n.c0<=t&&t<=n.c1})).map((function(t){return t.data}))}},{key:"foreach",value:function(t){var e,n=x(this._items);try{for(n.s();!(e=n.n()).done;){var r=e.value;t(r.span,r.data)}}catch(t){n.e(t)}finally{n.f()}}},{key:"map",value:function(e){var n,r=new t,i=x(this._items);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.span,s=o.data;r.add(a,e(a,s))}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"nrows",get:function(){return this._nrows}},{key:"ncols",get:function(){return this._ncols}}]),t}();R.__name__="Container";var T=function(t){l()(n,t);var e=w(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p()(this,n),(t=e.call(this)).items=r,t.rows="auto",t.cols="auto",t.spacing=0,t.absolute=!1,t}return g()(n,[{key:"is_width_expanding",value:function(){if(a()(h()(n.prototype),"is_width_expanding",this).call(this))return!0;if("fixed"==this.sizing.width_policy)return!1;var t=this._state.cols;return Object(A.v)(t,(function(t){return"max"==t.policy}))}},{key:"is_height_expanding",value:function(){if(a()(h()(n.prototype),"is_height_expanding",this).call(this))return!0;if("fixed"==this.sizing.height_policy)return!1;var t=this._state.rows;return Object(A.v)(t,(function(t){return"max"==t.policy}))}},{key:"_init",value:function(){var t=this;a()(h()(n.prototype),"_init",this).call(this);var e,r=new R,o=x(this.items);try{for(o.s();!(e=o.n()).done;){var s=e.value,l=s.layout,u=s.row,c=s.col,f=s.row_span,d=s.col_span;if(l.sizing.visible){var p=u,v=c,g=u+(null!=f?f:1)-1,m=c+(null!=d?d:1)-1;r.add({r0:p,c0:v,r1:g,c1:m},l)}}}catch(t){o.e(t)}finally{o.f()}for(var y=r.nrows,b=r.ncols,w=new Array(y),k=function(e){var n,i=null==(n=Object(_.i)(t.rows)?t.rows[e]||t.rows["*"]:t.rows)?{policy:"auto"}:Object(_.g)(n)?{policy:"fixed",height:n}:Object(_.j)(n)?{policy:n}:n,o=i.align||"auto";if("fixed"==i.policy)w[e]={policy:"fixed",height:i.height,align:o};else if("min"==i.policy)w[e]={policy:"min",align:o};else if("fit"==i.policy||"max"==i.policy)w[e]={policy:i.policy,flex:i.flex||1,align:o};else{if("auto"!=i.policy)throw new Error("unrechable");Object(A.v)(r.row(e),(function(t){return t.is_height_expanding()}))?w[e]={policy:"max",flex:1,align:o}:w[e]={policy:"min",align:o}}},C=0;C<y;C++)k(C);for(var E=new Array(b),S=function(e){var n,i=null==(n=Object(_.i)(t.cols)?t.cols[e]||t.cols["*"]:t.cols)?{policy:"auto"}:Object(_.g)(n)?{policy:"fixed",width:n}:Object(_.j)(n)?{policy:n}:n,o=i.align||"auto";if("fixed"==i.policy)E[e]={policy:"fixed",width:i.width,align:o};else if("min"==i.policy)E[e]={policy:"min",align:o};else if("fit"==i.policy||"max"==i.policy)E[e]={policy:i.policy,flex:i.flex||1,align:o};else{if("auto"!=i.policy)throw new Error("unrechable");Object(A.v)(r.col(e),(function(t){return t.is_width_expanding()}))?E[e]={policy:"max",flex:1,align:o}:E[e]={policy:"min",align:o}}},T=0;T<b;T++)S(T);var I=Object(_.g)(this.spacing)?[this.spacing,this.spacing]:this.spacing,O=i()(I,2),M=O[0],P=O[1];this._state={items:r,nrows:y,ncols:b,rows:w,cols:E,rspacing:M,cspacing:P}}},{key:"_measure_totals",value:function(t,e){var n=this._state,r=n.nrows,i=n.ncols,o=n.rspacing,a=n.cspacing;return{height:Object(A.y)(t)+(r-1)*o,width:Object(A.y)(e)+(i-1)*a}}},{key:"_measure_cells",value:function(t){for(var e=this._state,n=e.items,r=e.nrows,i=e.ncols,o=e.rows,a=e.cols,s=e.rspacing,l=e.cspacing,u=new Array(r),c=0;c<r;c++){var f=o[c];u[c]="fixed"==f.policy?f.height:0}for(var h=new Array(i),d=0;d<i;d++){var p=a[d];h[d]="fixed"==p.policy?p.width:0}var v=new R;return n.foreach((function(e,n){for(var r=e.r0,i=e.c0,c=e.r1,f=e.c1,d=(c-r)*s,p=(f-i)*l,g=0,y=r;y<=c;y++)g+=t(y,i).height;g+=d;for(var _=0,b=i;b<=f;b++)_+=t(r,b).width;_+=p;var A=n.measure({width:_,height:g});v.add(e,{layout:n,size_hint:A});var w=new m.a(A).grow_by(n.sizing.margin);w.height-=d,w.width-=p;for(var k=[],S=r;S<=c;S++){var R=o[S];"fixed"==R.policy?w.height-=R.height:k.push(S)}if(w.height>0){var T,I=E(w.height/k.length),O=x(k);try{for(O.s();!(T=O.n()).done;){var M=T.value;u[M]=C(u[M],I)}}catch(t){O.e(t)}finally{O.f()}}for(var P=[],D=i;D<=f;D++){var N=a[D];"fixed"==N.policy?w.width-=N.width:P.push(D)}if(w.width>0){var L,j=E(w.width/P.length),F=x(P);try{for(F.s();!(L=F.n()).done;){var z=L.value;h[z]=C(h[z],j)}}catch(t){F.e(t)}finally{F.f()}}})),{size:this._measure_totals(u,h),row_heights:u,col_widths:h,size_hints:v}}},{key:"_measure_grid",value:function(t){var e,n=this._state,r=n.nrows,i=n.ncols,o=n.rows,a=n.cols,s=n.rspacing,l=n.cspacing,u=this._measure_cells((function(t,e){var n=o[t],r=a[e];return{width:"fixed"==r.policy?r.width:1/0,height:"fixed"==n.policy?n.height:1/0}}));e="fixed"==this.sizing.height_policy&&null!=this.sizing.height?this.sizing.height:t.height!=1/0&&this.is_height_expanding()?t.height:u.size.height;for(var c,f=0,h=0;h<r;h++){var d=o[h];"fit"==d.policy||"max"==d.policy?f+=d.flex:e-=u.row_heights[h]}if(e-=(r-1)*s,0!=f&&e>0)for(var p=0;p<r;p++){var v=o[p];if("fit"==v.policy||"max"==v.policy){var g=E(e*(v.flex/f));e-=g,u.row_heights[p]=g,f-=v.flex}}else if(e<0){for(var m=0,y=0;y<r;y++){"fixed"!=o[y].policy&&m++}for(var _=-e,b=0;b<r;b++){if("fixed"!=o[b].policy){var A=u.row_heights[b],w=E(_/m);u.row_heights[b]=C(A-w,0),_-=w>A?A:w,m--}}}c="fixed"==this.sizing.width_policy&&null!=this.sizing.width?this.sizing.width:t.width!=1/0&&this.is_width_expanding()?t.width:u.size.width;for(var x=0,k=0;k<i;k++){var S=a[k];"fit"==S.policy||"max"==S.policy?x+=S.flex:c-=u.col_widths[k]}if(c-=(i-1)*l,0!=x&&c>0)for(var R=0;R<i;R++){var T=a[R];if("fit"==T.policy||"max"==T.policy){var I=E(c*(T.flex/x));c-=I,u.col_widths[R]=I,x-=T.flex}}else if(c<0){for(var O=0,M=0;M<i;M++){"fixed"!=a[M].policy&&O++}for(var P=-c,D=0;D<i;D++){if("fixed"!=a[D].policy){var N=u.col_widths[D],L=E(P/O);u.col_widths[D]=C(N-L,0),P-=L>N?N:L,O--}}}var j=this._measure_cells((function(t,e){return{width:u.col_widths[e],height:u.row_heights[t]}})),F=j.row_heights,z=j.col_widths,B=j.size_hints;return{size:this._measure_totals(F,z),row_heights:F,col_widths:z,size_hints:B}}},{key:"_measure",value:function(t){return this._measure_grid(t).size}},{key:"_set_geometry",value:function(t,e){a()(h()(n.prototype),"_set_geometry",this).call(this,t,e);for(var r=this._state,i=r.nrows,o=r.ncols,s=r.rspacing,l=r.cspacing,u=this._measure_grid(t),c=u.row_heights,f=u.col_widths,d=u.size_hints,p=this._state.rows.map((function(t,e){return Object.assign(Object.assign({},t),{top:0,height:c[e],get bottom(){return this.top+this.height}})})),v=this._state.cols.map((function(t,e){return Object.assign(Object.assign({},t),{left:0,width:f[e],get right(){return this.left+this.width}})})),g=d.map((function(t,e){return Object.assign(Object.assign({},e),{outer:new b.a,inner:new b.a})})),m=0,y=this.absolute?t.top:0;m<i;m++){var _=p[m];_.top=y,y+=_.height+s}for(var A=0,w=this.absolute?t.left:0;A<o;A++){var x=v[A];x.left=w,w+=x.width+l}g.foreach((function(t,e){var n=t.r0,r=t.c0,i=t.r1,o=t.c1,a=e.layout,u=e.size_hint,c=a.sizing,f=u.width,h=u.height,d=function(t,e){for(var n=(e-t)*l,r=t;r<=e;r++)n+=v[r].width;return n}(r,o),g=function(t,e){for(var n=(e-t)*s,r=t;r<=e;r++)n+=p[r].height;return n}(n,i),m=r==o&&"auto"!=v[r].align?v[r].align:c.halign,y=n==i&&"auto"!=p[n].align?p[n].align:c.valign,_=v[r].left;"start"==m?_+=c.margin.left:"center"==m?_+=E((d-f)/2):"end"==m&&(_+=d-c.margin.right-f);var A=p[n].top;"start"==y?A+=c.margin.top:"center"==y?A+=E((g-h)/2):"end"==y&&(A+=g-c.margin.bottom-h),e.outer=new b.a({left:_,top:A,width:f,height:h})}));var k=p.map((function(){return{start:new S((function(){return 0})),end:new S((function(){return 0}))}})),R=v.map((function(){return{start:new S((function(){return 0})),end:new S((function(){return 0}))}}));g.foreach((function(t,e){var n=t.r0,r=t.c0,i=t.r1,o=t.c1,a=e.size_hint,s=e.outer,l=a.inner;null!=l&&(k[n].start.apply(s.top,(function(t){return C(t,l.top)})),k[i].end.apply(p[i].bottom-s.bottom,(function(t){return C(t,l.bottom)})),R[r].start.apply(s.left,(function(t){return C(t,l.left)})),R[o].end.apply(v[o].right-s.right,(function(t){return C(t,l.right)})))})),g.foreach((function(t,e){var n=t.r0,r=t.c0,i=t.r1,o=t.c1,a=e.size_hint,s=e.outer;function l(t){var e=t.left,n=t.right,r=t.top,i=t.bottom,o=s.width-e-n,a=s.height-r-i;return new b.a({left:e,top:r,width:o,height:a})}if(null!=a.inner){var u=l(a.inner);if(!1!==a.align){var c=k[n].start.get(s.top),f=k[i].end.get(p[i].bottom-s.bottom),h=R[r].start.get(s.left),d=R[o].end.get(v[o].right-s.right);try{u=l({top:c,bottom:f,left:h,right:d})}catch(t){}}e.inner=u}else e.inner=s})),g.foreach((function(t,e){var n=e.layout,r=e.outer,i=e.inner;n.set_geometry(r,i)}))}}]),n}(y.c);T.__name__="Grid";var I=function(t){l()(n,t);var e=w(n);function n(t){var r;return p()(this,n),(r=e.call(this)).items=t.map((function(t,e){return{layout:t,row:0,col:e}})),r.rows="fit",r}return n}(T);I.__name__="Row";var O=function(t){l()(n,t);var e=w(n);function n(t){var r;return p()(this,n),(r=e.call(this)).items=t.map((function(t,e){return{layout:t,row:e,col:0}})),r.cols="fit",r}return n}(T);O.__name__="Column"},function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return d}));var r=n(6),i=n.n(r),o={indianred:"#CD5C5C",lightcoral:"#F08080",salmon:"#FA8072",darksalmon:"#E9967A",lightsalmon:"#FFA07A",crimson:"#DC143C",red:"#FF0000",firebrick:"#B22222",darkred:"#8B0000",pink:"#FFC0CB",lightpink:"#FFB6C1",hotpink:"#FF69B4",deeppink:"#FF1493",mediumvioletred:"#C71585",palevioletred:"#DB7093",coral:"#FF7F50",tomato:"#FF6347",orangered:"#FF4500",darkorange:"#FF8C00",orange:"#FFA500",gold:"#FFD700",yellow:"#FFFF00",lightyellow:"#FFFFE0",lemonchiffon:"#FFFACD",lightgoldenrodyellow:"#FAFAD2",papayawhip:"#FFEFD5",moccasin:"#FFE4B5",peachpuff:"#FFDAB9",palegoldenrod:"#EEE8AA",khaki:"#F0E68C",darkkhaki:"#BDB76B",lavender:"#E6E6FA",thistle:"#D8BFD8",plum:"#DDA0DD",violet:"#EE82EE",orchid:"#DA70D6",fuchsia:"#FF00FF",magenta:"#FF00FF",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",blueviolet:"#8A2BE2",darkviolet:"#9400D3",darkorchid:"#9932CC",darkmagenta:"#8B008B",purple:"#800080",indigo:"#4B0082",slateblue:"#6A5ACD",darkslateblue:"#483D8B",mediumslateblue:"#7B68EE",greenyellow:"#ADFF2F",chartreuse:"#7FFF00",lawngreen:"#7CFC00",lime:"#00FF00",limegreen:"#32CD32",palegreen:"#98FB98",lightgreen:"#90EE90",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",mediumseagreen:"#3CB371",seagreen:"#2E8B57",forestgreen:"#228B22",green:"#008000",darkgreen:"#006400",yellowgreen:"#9ACD32",olivedrab:"#6B8E23",olive:"#808000",darkolivegreen:"#556B2F",mediumaquamarine:"#66CDAA",darkseagreen:"#8FBC8F",lightseagreen:"#20B2AA",darkcyan:"#008B8B",teal:"#008080",aqua:"#00FFFF",cyan:"#00FFFF",lightcyan:"#E0FFFF",paleturquoise:"#AFEEEE",aquamarine:"#7FFFD4",turquoise:"#40E0D0",mediumturquoise:"#48D1CC",darkturquoise:"#00CED1",cadetblue:"#5F9EA0",steelblue:"#4682B4",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",lightblue:"#ADD8E6",skyblue:"#87CEEB",lightskyblue:"#87CEFA",deepskyblue:"#00BFFF",dodgerblue:"#1E90FF",cornflowerblue:"#6495ED",royalblue:"#4169E1",blue:"#0000FF",mediumblue:"#0000CD",darkblue:"#00008B",navy:"#000080",midnightblue:"#191970",cornsilk:"#FFF8DC",blanchedalmond:"#FFEBCD",bisque:"#FFE4C4",navajowhite:"#FFDEAD",wheat:"#F5DEB3",burlywood:"#DEB887",tan:"#D2B48C",rosybrown:"#BC8F8F",sandybrown:"#F4A460",goldenrod:"#DAA520",darkgoldenrod:"#B8860B",peru:"#CD853F",chocolate:"#D2691E",saddlebrown:"#8B4513",sienna:"#A0522D",brown:"#A52A2A",maroon:"#800000",white:"#FFFFFF",snow:"#FFFAFA",honeydew:"#F0FFF0",mintcream:"#F5FFFA",azure:"#F0FFFF",aliceblue:"#F0F8FF",ghostwhite:"#F8F8FF",whitesmoke:"#F5F5F5",seashell:"#FFF5EE",beige:"#F5F5DC",oldlace:"#FDF5E6",floralwhite:"#FFFAF0",ivory:"#FFFFF0",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lavenderblush:"#FFF0F5",mistyrose:"#FFE4E1",gainsboro:"#DCDCDC",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",silver:"#C0C0C0",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",gray:"#808080",grey:"#808080",dimgray:"#696969",dimgrey:"#696969",lightslategray:"#778899",lightslategrey:"#778899",slategray:"#708090",slategrey:"#708090",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",black:"#000000"};function a(t){return t in o}var s=n(9);function l(t){return a(t.toLowerCase())||"#"==t.substring(0,1)||function(t){var e;switch(t.substring(0,4)){case"rgba":e={start:"rgba(",len:4,alpha:!0};break;case"rgb(":e={start:"rgb(",len:3,alpha:!1};break;default:return!1}if(new RegExp(".*?(\\.).*(,)").test(t))return!1;var n=t.replace(e.start,"").replace(")","").split(",").map(parseFloat);return n.length==e.len&&((!e.alpha||0<=n[3]&&n[3]<=1)&&!Object(s.k)(n.slice(0,3).map((function(t){return 0<=t&&t<=255})),!1))}(t)}function u(t){var e=Number(t).toString(16);return 1==e.length?"0".concat(e):e}function c(t,e,n){var r=u(255&t),i=u(255&e),o=u(255&n);return"#".concat(r).concat(i).concat(o)}function f(t){if(0==(t+="").indexOf("#"))return t;if(a(t))return o[t];if(0==t.indexOf("rgb")){var e=t.replace(/^rgba?\(|\s+|\)$/g,"").split(","),n=e.slice(0,3).map(u).join("");return 4==e.length&&(n+=u(Math.floor(255*parseFloat(e[3])))),"#".concat(n.slice(0,8))}return t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t)return[0,0,0,0];var n=f(t);(n=n.replace(/ |#/g,"")).length<=4&&(n=n.replace(/(.)/g,"$1$1"));for(var r=n.match(/../g).map((function(t){return parseInt(t,16)/255}));r.length<3;)r.push(0);return r.length<4&&r.push(e),r.slice(0,4)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1==e)return t;var n=h(t,e),r=i()(n,4),o=r[0],a=r[1],s=r[2],l=r[3];return"rgba(".concat(255*o,",").concat(255*a,",").concat(255*s,",").concat(l,")")}},function(t,e,n){"use strict";n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return A}));var r=n(3),i=n.n(r),o=n(5),a=n.n(o),s=n(0),l=n.n(s),u=n(2),c=n.n(u),f=n(4),h=n.n(f),d=n(57),p=n(23);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l()(t);if(e){var i=l()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a()(this,n)}}var g=Math.min,m=Math.max,y=Math.round,_=function(){function t(){c()(this,t),this._bbox=new p.a,this._inner_bbox=new p.a;var e=this;this._top={get value(){return e.bbox.top}},this._left={get value(){return e.bbox.left}},this._width={get value(){return e.bbox.width}},this._height={get value(){return e.bbox.height}},this._right={get value(){return e.bbox.right}},this._bottom={get value(){return e.bbox.bottom}},this._hcenter={get value(){return e.bbox.hcenter}},this._vcenter={get value(){return e.bbox.vcenter}}}return h()(t,[{key:"set_sizing",value:function(t){var e=t.width_policy||"fit",n=t.width,r=null!=t.min_width?t.min_width:0,i=null!=t.max_width?t.max_width:1/0,o=t.height_policy||"fit",a=t.height,s=null!=t.min_height?t.min_height:0,l=null!=t.max_height?t.max_height:1/0,u=t.aspect,c=t.margin||{top:0,right:0,bottom:0,left:0},f=!1!==t.visible,h=t.halign||"start",d=t.valign||"start";this._sizing={width_policy:e,min_width:r,width:n,max_width:i,height_policy:o,min_height:s,height:a,max_height:l,aspect:u,margin:c,visible:f,halign:h,valign:d,size:{width:n,height:a},min_size:{width:r,height:s},max_size:{width:i,height:l}},this._init()}},{key:"_init",value:function(){}},{key:"_set_geometry",value:function(t,e){this._bbox=t,this._inner_bbox=e}},{key:"set_geometry",value:function(t,e){this._set_geometry(t,e||t)}},{key:"is_width_expanding",value:function(){return"max"==this.sizing.width_policy}},{key:"is_height_expanding",value:function(){return"max"==this.sizing.height_policy}},{key:"apply_aspect",value:function(t,e){var n=e.width,r=e.height,i=this.sizing.aspect;if(null!=i){var o=this.sizing,a=o.width_policy,s=o.height_policy;if("fixed"!=a&&"fixed"!=s)if(a==s){var l=n,u=y(n/i),c=y(r*i),f=r;Math.abs(t.width-l)+Math.abs(t.height-u)<=Math.abs(t.width-c)+Math.abs(t.height-f)?(n=l,r=u):(n=c,r=f)}else!function(t,e){var n={max:4,fit:3,min:2,fixed:1};return n[t]>n[e]}(a,s)?n=y(r*i):r=y(n/i);else"fixed"==a?r=y(n/i):"fixed"==s&&(n=y(r*i))}return{width:n,height:r}}},{key:"measure",value:function(t){var e=this;if(!this.sizing.visible)return{width:0,height:0};var n=function(t){return"fixed"==e.sizing.width_policy&&null!=e.sizing.width?e.sizing.width:t},r=function(t){return"fixed"==e.sizing.height_policy&&null!=e.sizing.height?e.sizing.height:t},i=new d.a(t).shrink_by(this.sizing.margin).map(n,r),o=this._measure(i),a=this.clip_size(o),s=n(a.width),l=r(a.height),u=this.apply_aspect(i,{width:s,height:l});return Object.assign(Object.assign({},o),u)}},{key:"compute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.measure({width:null!=t.width&&this.is_width_expanding()?t.width:1/0,height:null!=t.height&&this.is_height_expanding()?t.height:1/0}),n=e.width,r=e.height,i=new p.a({left:0,top:0,width:n,height:r}),o=void 0;if(null!=e.inner){var a=e.inner,s=a.left,l=a.top,u=a.right,c=a.bottom;o=new p.a({left:s,top:l,right:n-u,bottom:r-c})}this.set_geometry(i,o)}},{key:"clip_width",value:function(t){return m(this.sizing.min_width,g(t,this.sizing.max_width))}},{key:"clip_height",value:function(t){return m(this.sizing.min_height,g(t,this.sizing.max_height))}},{key:"clip_size",value:function(t){var e=t.width,n=t.height;return{width:this.clip_width(e),height:this.clip_height(n)}}},{key:"bbox",get:function(){return this._bbox}},{key:"inner_bbox",get:function(){return this._inner_bbox}},{key:"sizing",get:function(){return this._sizing}},{key:"xview",get:function(){return this.bbox.xview}},{key:"yview",get:function(){return this.bbox.yview}}]),t}();_.__name__="Layoutable";var b=function(t){i()(n,t);var e=v(n);function n(){return c()(this,n),e.apply(this,arguments)}return h()(n,[{key:"_measure",value:function(t){var e,n,r=this.sizing,i=r.width_policy,o=r.height_policy;if(t.width==1/0)e=null!=this.sizing.width?this.sizing.width:0;else switch(i){case"fixed":e=null!=this.sizing.width?this.sizing.width:0;break;case"min":e=null!=this.sizing.width?g(t.width,this.sizing.width):0;break;case"fit":e=null!=this.sizing.width?g(t.width,this.sizing.width):t.width;break;case"max":e=null!=this.sizing.width?m(t.width,this.sizing.width):t.width}if(t.height==1/0)n=null!=this.sizing.height?this.sizing.height:0;else switch(o){case"fixed":n=null!=this.sizing.height?this.sizing.height:0;break;case"min":n=null!=this.sizing.height?g(t.height,this.sizing.height):0;break;case"fit":n=null!=this.sizing.height?g(t.height,this.sizing.height):t.height;break;case"max":n=null!=this.sizing.height?m(t.height,this.sizing.height):t.height}return{width:e,height:n}}}]),n}(_);b.__name__="LayoutItem";var A=function(t){i()(n,t);var e=v(n);function n(){return c()(this,n),e.apply(this,arguments)}return h()(n,[{key:"_measure",value:function(t){var e=this,n=this._content_size(),r=t.bounded_to(this.sizing.size).bounded_to(n);return{width:function(){switch(e.sizing.width_policy){case"fixed":return null!=e.sizing.width?e.sizing.width:n.width;case"min":return n.width;case"fit":return r.width;case"max":return Math.max(n.width,r.width)}}(),height:function(){switch(e.sizing.height_policy){case"fixed":return null!=e.sizing.height?e.sizing.height:n.height;case"min":return n.height;case"fit":return r.height;case"max":return Math.max(n.height,r.height)}}()}}}]),n}(_);A.__name__="ContentLayoutable"},function(t,e,n){"use strict";n.r(e),n.d(e,"Annotation",(function(){return r.a})),n.d(e,"Arrow",(function(){return O})),n.d(e,"ArrowHead",(function(){return w})),n.d(e,"OpenHead",(function(){return x})),n.d(e,"NormalHead",(function(){return k})),n.d(e,"TeeHead",(function(){return E})),n.d(e,"VeeHead",(function(){return C})),n.d(e,"Band",(function(){return D})),n.d(e,"BoxAnnotation",(function(){return z})),n.d(e,"ColorBar",(function(){return Zt})),n.d(e,"Label",(function(){return ae})),n.d(e,"LabelSet",(function(){return ue})),n.d(e,"Legend",(function(){return ce.a})),n.d(e,"LegendItem",(function(){return ge})),n.d(e,"PolyAnnotation",(function(){return _e})),n.d(e,"Slope",(function(){return we})),n.d(e,"Span",(function(){return Ce})),n.d(e,"TextAnnotation",(function(){return re})),n.d(e,"Title",(function(){return Re})),n.d(e,"ToolbarPanel",(function(){return Le})),n.d(e,"Tooltip",(function(){return Ge})),n.d(e,"Whisker",(function(){return qe})),n.d(e,"Axis",(function(){return en})),n.d(e,"CategoricalAxis",(function(){return dn})),n.d(e,"ContinuousAxis",(function(){return vn})),n.d(e,"DatetimeAxis",(function(){return Xn})),n.d(e,"LinearAxis",(function(){return yn})),n.d(e,"LogAxis",(function(){return rr})),n.d(e,"MercatorAxis",(function(){return dr})),n.d(e,"CustomJS",(function(){return mr})),n.d(e,"OpenURL",(function(){return Ar})),n.d(e,"Canvas",(function(){return Ur})),n.d(e,"CartesianFrame",(function(){return Zr})),n.d(e,"Expression",(function(){return ei})),n.d(e,"Stack",(function(){return oi})),n.d(e,"CumSum",(function(){return si})),n.d(e,"BooleanFilter",(function(){return fi})),n.d(e,"CustomJSFilter",(function(){return di})),n.d(e,"Filter",(function(){return ui})),n.d(e,"GroupFilter",(function(){return vi})),n.d(e,"IndexFilter",(function(){return mi})),n.d(e,"BasicTickFormatter",(function(){return ot})),n.d(e,"CategoricalTickFormatter",(function(){return ln})),n.d(e,"DatetimeTickFormatter",(function(){return Rn})),n.d(e,"FuncTickFormatter",(function(){return _i})),n.d(e,"LogTickFormatter",(function(){return Jn})),n.d(e,"MercatorTickFormatter",(function(){return ar})),n.d(e,"NumeralTickFormatter",(function(){return wi})),n.d(e,"PrintfTickFormatter",(function(){return ki})),n.d(e,"TickFormatter",(function(){return et})),n.d(e,"AnnularWedge",(function(){return Mi})),n.d(e,"Annulus",(function(){return ji})),n.d(e,"Arc",(function(){return Gi})),n.d(e,"Bezier",(function(){return Ji})),n.d(e,"Circle",(function(){return Ki.a})),n.d(e,"CenterRotatable",(function(){return to})),n.d(e,"Ellipse",(function(){return uo})),n.d(e,"EllipseOval",(function(){return ao})),n.d(e,"Glyph",(function(){return Hi.a})),n.d(e,"HArea",(function(){return co.a})),n.d(e,"HBar",(function(){return _o})),n.d(e,"HexTile",(function(){return ko})),n.d(e,"Image",(function(){return Po})),n.d(e,"ImageRGBA",(function(){return Lo})),n.d(e,"ImageURL",(function(){return Go})),n.d(e,"Line",(function(){return Vo.a})),n.d(e,"MultiLine",(function(){return Xo})),n.d(e,"MultiPolygons",(function(){return Zo})),n.d(e,"Oval",(function(){return na})),n.d(e,"Patch",(function(){return ra.a})),n.d(e,"Patches",(function(){return la})),n.d(e,"Quad",(function(){return fa})),n.d(e,"Quadratic",(function(){return ma})),n.d(e,"Ray",(function(){return wa})),n.d(e,"Rect",(function(){return Sa})),n.d(e,"Segment",(function(){return Ma})),n.d(e,"Step",(function(){return ja})),n.d(e,"Text",(function(){return Ga})),n.d(e,"VArea",(function(){return Va.a})),n.d(e,"VBar",(function(){return Wa})),n.d(e,"Wedge",(function(){return Ka})),n.d(e,"XYGlyph",(function(){return Ci.a})),n.d(e,"GraphHitTestPolicy",(function(){return Qa.b})),n.d(e,"NodesOnly",(function(){return Qa.d})),n.d(e,"NodesAndLinkedEdges",(function(){return Qa.c})),n.d(e,"EdgesAndLinkedNodes",(function(){return Qa.a})),n.d(e,"LayoutProvider",(function(){return ts})),n.d(e,"StaticLayoutProvider",(function(){return ns})),n.d(e,"Grid",(function(){return ss})),n.d(e,"Box",(function(){return fs})),n.d(e,"Column",(function(){return vs})),n.d(e,"GridBox",(function(){return bs})),n.d(e,"HTMLBox",(function(){return As.a})),n.d(e,"LayoutDOM",(function(){return ls.a})),n.d(e,"Row",(function(){return ks})),n.d(e,"Spacer",(function(){return Ss})),n.d(e,"Panel",(function(){return js})),n.d(e,"Tabs",(function(){return Ls})),n.d(e,"WidgetBox",(function(){return Bs})),n.d(e,"CategoricalColorMapper",(function(){return Vs})),n.d(e,"CategoricalMarkerMapper",(function(){return qs})),n.d(e,"CategoricalPatternMapper",(function(){return Ys})),n.d(e,"ContinuousColorMapper",(function(){return mt})),n.d(e,"ColorMapper",(function(){return vt})),n.d(e,"LinearColorMapper",(function(){return bt})),n.d(e,"LogColorMapper",(function(){return $s})),n.d(e,"CustomJSTransform",(function(){return Et})),n.d(e,"Dodge",(function(){return Tt})),n.d(e,"Interpolator",(function(){return Ot})),n.d(e,"Jitter",(function(){return Pt})),n.d(e,"LinearInterpolator",(function(){return Nt})),n.d(e,"StepInterpolator",(function(){return jt})),n.d(e,"Transform",(function(){return st})),n.d(e,"Asterisk",(function(){return Nl})),n.d(e,"CircleCross",(function(){return Ll})),n.d(e,"CircleDot",(function(){return jl})),n.d(e,"CircleY",(function(){return Fl})),n.d(e,"CircleX",(function(){return zl})),n.d(e,"Cross",(function(){return Bl})),n.d(e,"Dash",(function(){return Ul})),n.d(e,"Diamond",(function(){return Gl})),n.d(e,"DiamondCross",(function(){return Vl})),n.d(e,"DiamondDot",(function(){return Hl})),n.d(e,"Dot",(function(){return ql})),n.d(e,"Hex",(function(){return Wl})),n.d(e,"HexDot",(function(){return Yl})),n.d(e,"InvertedTriangle",(function(){return Xl})),n.d(e,"Plus",(function(){return $l})),n.d(e,"Square",(function(){return Jl})),n.d(e,"SquareCross",(function(){return Kl})),n.d(e,"SquareDot",(function(){return Ql})),n.d(e,"SquarePin",(function(){return Zl})),n.d(e,"SquareX",(function(){return tu})),n.d(e,"Triangle",(function(){return eu})),n.d(e,"TriangleDot",(function(){return nu})),n.d(e,"TrianglePin",(function(){return ru})),n.d(e,"X",(function(){return iu})),n.d(e,"Y",(function(){return ou})),n.d(e,"marker_funcs",(function(){return au})),n.d(e,"Marker",(function(){return tl})),n.d(e,"Scatter",(function(){return fu})),n.d(e,"MapOptions",(function(){return Lc})),n.d(e,"GMapOptions",(function(){return jc})),n.d(e,"GMapPlot",(function(){return Fc})),n.d(e,"Plot",(function(){return Oc})),n.d(e,"DataRange",(function(){return qr})),n.d(e,"DataRange1d",(function(){return Jr})),n.d(e,"FactorRange",(function(){return St.a})),n.d(e,"Range",(function(){return Wt.a})),n.d(e,"Range1d",(function(){return Xt})),n.d(e,"GlyphRenderer",(function(){return Wr.a})),n.d(e,"GraphRenderer",(function(){return zc.a})),n.d(e,"GuideRenderer",(function(){return $e})),n.d(e,"Renderer",(function(){return We.a})),n.d(e,"CategoricalScale",(function(){return Vr})),n.d(e,"ContinuousScale",(function(){return Ut})),n.d(e,"LinearScale",(function(){return Vt})),n.d(e,"LogScale",(function(){return qt})),n.d(e,"Scale",(function(){return zt})),n.d(e,"SelectionPolicy",(function(){return Bc.b})),n.d(e,"IntersectRenderers",(function(){return Bc.a})),n.d(e,"UnionRenderers",(function(){return Bc.c})),n.d(e,"Selection",(function(){return Si.a})),n.d(e,"ServerSentDataSource",(function(){return Wc})),n.d(e,"AjaxDataSource",(function(){return Xc})),n.d(e,"ColumnDataSource",(function(){return S.a})),n.d(e,"ColumnarDataSource",(function(){return fe.a})),n.d(e,"CDSView",(function(){return $c.a})),n.d(e,"DataSource",(function(){return Jc.a})),n.d(e,"GeoJSONDataSource",(function(){return ef})),n.d(e,"WebDataSource",(function(){return Hc})),n.d(e,"AdaptiveTicker",(function(){return K})),n.d(e,"BasicTicker",(function(){return Z})),n.d(e,"CategoricalTicker",(function(){return an})),n.d(e,"CompositeTicker",(function(){return In})),n.d(e,"ContinuousTicker",(function(){return $})),n.d(e,"DatetimeTicker",(function(){return qn})),n.d(e,"DaysTicker",(function(){return zn})),n.d(e,"FixedTicker",(function(){return rf})),n.d(e,"LogTicker",(function(){return tr})),n.d(e,"MercatorTicker",(function(){return cr})),n.d(e,"MonthsTicker",(function(){return Un})),n.d(e,"SingleIntervalTicker",(function(){return Mn})),n.d(e,"Ticker",(function(){return H})),n.d(e,"YearsTicker",(function(){return Vn})),n.d(e,"BBoxTileSource",(function(){return vf})),n.d(e,"MercatorTileSource",(function(){return df})),n.d(e,"QUADKEYTileSource",(function(){return mf})),n.d(e,"TileRenderer",(function(){return Ef})),n.d(e,"TileSource",(function(){return lf})),n.d(e,"TMSTileSource",(function(){return Rf})),n.d(e,"WMTSTileSource",(function(){return _f})),n.d(e,"CanvasTexture",(function(){return Mf})),n.d(e,"ImageURLTexture",(function(){return Df})),n.d(e,"Texture",(function(){return If})),n.d(e,"ActionTool",(function(){return Fu})),n.d(e,"CustomAction",(function(){return Ff})),n.d(e,"HelpTool",(function(){return Uu})),n.d(e,"RedoTool",(function(){return Uf})),n.d(e,"ResetTool",(function(){return Hf})),n.d(e,"SaveTool",(function(){return Yf})),n.d(e,"UndoTool",(function(){return Jf})),n.d(e,"ZoomInTool",(function(){return nh})),n.d(e,"ZoomOutTool",(function(){return oh})),n.d(e,"ButtonTool",(function(){return ku})),n.d(e,"EditTool",(function(){return ch})),n.d(e,"BoxEditTool",(function(){return vh})),n.d(e,"FreehandDrawTool",(function(){return bh})),n.d(e,"PointDrawTool",(function(){return Ch})),n.d(e,"PolyDrawTool",(function(){return Ph})),n.d(e,"PolyTool",(function(){return Rh})),n.d(e,"PolyEditTool",(function(){return Fh})),n.d(e,"BoxSelectTool",(function(){return Xh})),n.d(e,"BoxZoomTool",(function(){return Qh})),n.d(e,"GestureTool",(function(){return Mu})),n.d(e,"LassoSelectTool",(function(){return nd})),n.d(e,"LineEditTool",(function(){return cd})),n.d(e,"PanTool",(function(){return dd})),n.d(e,"PolySelectTool",(function(){return md})),n.d(e,"RangeTool",(function(){return Td})),n.d(e,"SelectTool",(function(){return Hh})),n.d(e,"TapTool",(function(){return Dd})),n.d(e,"WheelPanTool",(function(){return jd})),n.d(e,"WheelZoomTool",(function(){return Bd})),n.d(e,"CrosshairTool",(function(){return Vd})),n.d(e,"CustomJSHover",(function(){return qd})),n.d(e,"HoverTool",(function(){return Qd})),n.d(e,"InspectTool",(function(){return Tu})),n.d(e,"Tool",(function(){return yu})),n.d(e,"ToolProxy",(function(){return rp})),n.d(e,"Toolbar",(function(){return ec})),n.d(e,"ToolbarBase",(function(){return $u})),n.d(e,"ProxyToolbar",(function(){return sp})),n.d(e,"ToolbarBox",(function(){return up}));var r=n(26),i=n(6),o=n.n(i),a=n(2),s=n.n(a),l=n(4),u=n.n(l),c=n(7),f=n.n(c),h=n(3),d=n.n(h),p=n(5),v=n.n(p),g=n(0),m=n.n(g),y=n(69),_=n(12),b=n(1);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var w=function(t){d()(n,t);var e=A(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.visuals=new y.b(this)}}],[{key:"init_ArrowHead",value:function(){this.define({size:[b.V,25]})}}]),n}(r.a);w.__name__="ArrowHead",w.init_ArrowHead();var x=function(t){d()(n,t);var e=A(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"clip",value:function(t,e){this.visuals.line.set_vectorize(t,e),t.moveTo(.5*this.size,this.size),t.lineTo(.5*this.size,-2),t.lineTo(-.5*this.size,-2),t.lineTo(-.5*this.size,this.size),t.lineTo(0,0),t.lineTo(.5*this.size,this.size)}},{key:"render",value:function(t,e){this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,e),t.beginPath(),t.moveTo(.5*this.size,this.size),t.lineTo(0,0),t.lineTo(-.5*this.size,this.size),t.stroke())}}],[{key:"init_OpenHead",value:function(){this.mixins(_.f)}}]),n}(w);x.__name__="OpenHead",x.init_OpenHead();var k=function(t){d()(n,t);var e=A(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"clip",value:function(t,e){this.visuals.line.set_vectorize(t,e),t.moveTo(.5*this.size,this.size),t.lineTo(.5*this.size,-2),t.lineTo(-.5*this.size,-2),t.lineTo(-.5*this.size,this.size),t.lineTo(.5*this.size,this.size)}},{key:"render",value:function(t,e){this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,e),this._normal(t,e),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,e),this._normal(t,e),t.stroke())}},{key:"_normal",value:function(t,e){t.beginPath(),t.moveTo(.5*this.size,this.size),t.lineTo(0,0),t.lineTo(-.5*this.size,this.size),t.closePath()}}],[{key:"init_NormalHead",value:function(){this.mixins([_.f,_.b]),this.override({fill_color:"black"})}}]),n}(w);k.__name__="NormalHead",k.init_NormalHead();var C=function(t){d()(n,t);var e=A(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"clip",value:function(t,e){this.visuals.line.set_vectorize(t,e),t.moveTo(.5*this.size,this.size),t.lineTo(.5*this.size,-2),t.lineTo(-.5*this.size,-2),t.lineTo(-.5*this.size,this.size),t.lineTo(0,.5*this.size),t.lineTo(.5*this.size,this.size)}},{key:"render",value:function(t,e){this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,e),this._vee(t,e),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,e),this._vee(t,e),t.stroke())}},{key:"_vee",value:function(t,e){t.beginPath(),t.moveTo(.5*this.size,this.size),t.lineTo(0,0),t.lineTo(-.5*this.size,this.size),t.lineTo(0,.5*this.size),t.closePath()}}],[{key:"init_VeeHead",value:function(){this.mixins([_.f,_.b]),this.override({fill_color:"black"})}}]),n}(w);C.__name__="VeeHead",C.init_VeeHead();var E=function(t){d()(n,t);var e=A(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"render",value:function(t,e){this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,e),t.beginPath(),t.moveTo(.5*this.size,0),t.lineTo(-.5*this.size,0),t.stroke())}},{key:"clip",value:function(t,e){}}],[{key:"init_TeeHead",value:function(){this.mixins(_.f)}}]),n}(w);E.__name__="TeeHead",E.init_TeeHead();var S=n(43),R=n(49);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var I=function(t){d()(n,t);var e=T(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),null==this.model.source&&(this.model.source=new S.a),this.set_data(this.model.source)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.streaming,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.patching,(function(){return t.set_data(t.model.source)}))}},{key:"set_data",value:function(t){f()(m()(n.prototype),"set_data",this).call(this,t),this.visuals.warm_cache(t),this.plot_view.request_render()}},{key:"_map_data",value:function(){var t,e,n,r,i=this.plot_view.frame;return"data"==this.model.start_units?(t=i.xscales[this.model.x_range_name].v_compute(this._x_start),e=i.yscales[this.model.y_range_name].v_compute(this._y_start)):(t=i.xview.v_compute(this._x_start),e=i.yview.v_compute(this._y_start)),"data"==this.model.end_units?(n=i.xscales[this.model.x_range_name].v_compute(this._x_end),r=i.yscales[this.model.y_range_name].v_compute(this._y_end)):(n=i.xview.v_compute(this._x_end),r=i.yview.v_compute(this._y_end)),[[t,e],[n,r]]}},{key:"render",value:function(){if(this.model.visible){var t=this.layer.ctx;t.save();var e=this._map_data(),n=o()(e,2),r=n[0],i=n[1];null!=this.model.end&&this._arrow_head(t,"render",this.model.end,r,i),null!=this.model.start&&this._arrow_head(t,"render",this.model.start,i,r),t.beginPath();var a=this.plot_view.frame.bbox,s=a.x,l=a.y,u=a.width,c=a.height;t.rect(s,l,u,c),null!=this.model.end&&this._arrow_head(t,"clip",this.model.end,r,i),null!=this.model.start&&this._arrow_head(t,"clip",this.model.start,i,r),t.closePath(),t.clip(),this._arrow_body(t,r,i),t.restore()}}},{key:"_arrow_head",value:function(t,e,n,r,i){for(var o=0,a=this._x_start.length;o<a;o++){var s=Math.PI/2+Object(R.b)([r[0][o],r[1][o]],[i[0][o],i[1][o]]);t.save(),t.translate(i[0][o],i[1][o]),t.rotate(s),"render"==e?n.render(t,o):"clip"==e&&n.clip(t,o),t.restore()}}},{key:"_arrow_body",value:function(t,e,n){if(this.visuals.line.doit)for(var r=0,i=this._x_start.length;r<i;r++)this.visuals.line.set_vectorize(t,r),t.beginPath(),t.moveTo(e[0][r],e[1][r]),t.lineTo(n[0][r],n[1][r]),t.stroke()}}]),n}(r.b);I.__name__="ArrowView";var O=function(t){d()(n,t);var e=T(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Arrow",value:function(){this.prototype.default_view=I,this.mixins(_.f),this.define({x_start:[b.X],y_start:[b.X],start_units:[b.kb,"data"],start:[b.F,null],x_end:[b.X],y_end:[b.X],end_units:[b.kb,"data"],end:[b.F,function(){return new x({})}],source:[b.F],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]})}}]),n}(r.a);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}O.__name__="Arrow",O.init_Arrow();var P=function(t){d()(n,t);var e=M(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.set_data(this.model.source)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.source.streaming,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.patching,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.change,(function(){return t.set_data(t.model.source)}))}},{key:"set_data",value:function(t){f()(m()(n.prototype),"set_data",this).call(this,t),this.visuals.warm_cache(t),this.plot_view.request_render()}},{key:"_map_data",value:function(){var t,e,n,r=this.plot_view.frame,i=this.model.dimension,a=r.xscales[this.model.x_range_name],s=r.yscales[this.model.y_range_name],l="height"==i?s:a,u="height"==i?a:s,c="height"==i?r.yview:r.xview,f="height"==i?r.xview:r.yview;t="data"==this.model.properties.lower.units?l.v_compute(this._lower):c.v_compute(this._lower),e="data"==this.model.properties.upper.units?l.v_compute(this._upper):c.v_compute(this._upper),n="data"==this.model.properties.base.units?u.v_compute(this._base):f.v_compute(this._base);var h="height"==i?[1,0]:[0,1],d=o()(h,2),p=d[0],v=d[1],g=[t,n],m=[e,n];this._lower_sx=g[p],this._lower_sy=g[v],this._upper_sx=m[p],this._upper_sy=m[v]}},{key:"render",value:function(){if(this.model.visible){this._map_data();var t=this.layer.ctx;t.beginPath(),t.moveTo(this._lower_sx[0],this._lower_sy[0]);for(var e=0,n=this._lower_sx.length;e<n;e++)t.lineTo(this._lower_sx[e],this._lower_sy[e]);for(var r=this._upper_sx.length-1;r>=0;r--)t.lineTo(this._upper_sx[r],this._upper_sy[r]);t.closePath(),this.visuals.fill.doit&&(this.visuals.fill.set_value(t),t.fill()),t.beginPath(),t.moveTo(this._lower_sx[0],this._lower_sy[0]);for(var i=0,o=this._lower_sx.length;i<o;i++)t.lineTo(this._lower_sx[i],this._lower_sy[i]);this.visuals.line.doit&&(this.visuals.line.set_value(t),t.stroke()),t.beginPath(),t.moveTo(this._upper_sx[0],this._upper_sy[0]);for(var a=0,s=this._upper_sx.length;a<s;a++)t.lineTo(this._upper_sx[a],this._upper_sy[a]);this.visuals.line.doit&&(this.visuals.line.set_value(t),t.stroke())}}}]),n}(r.b);P.__name__="BandView";var D=function(t){d()(n,t);var e=M(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Band",value:function(){this.prototype.default_view=P,this.mixins([_.e,_.a]),this.define({lower:[b.t],upper:[b.t],base:[b.t],dimension:[b.q,"height"],source:[b.F,function(){return new S.a}],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({fill_color:"#fff9ba",fill_alpha:.4,line_color:"#cccccc",line_alpha:.3})}}]),n}(r.a);D.__name__="Band",D.init_Band();var N=n(22),L=n(23);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var F=function(t){d()(n,t);var e=j(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_paint(t)})),this.connect(this.model.data_update,(function(){return t.plot_view.request_paint(t)}))}},{key:"render",value:function(){var t=this;if(this.model.visible&&(null!=this.model.left||null!=this.model.right||null!=this.model.top||null!=this.model.bottom)){var e=this.plot_view.frame,n=e.xscales[this.model.x_range_name],r=e.yscales[this.model.y_range_name],i=function(e,n,r,i,o){return null!=e?t.model.screen?e:"data"==n?r.compute(e):i.compute(e):o};this.sleft=i(this.model.left,this.model.left_units,n,e.xview,e._left.value),this.sright=i(this.model.right,this.model.right_units,n,e.xview,e._right.value),this.stop=i(this.model.top,this.model.top_units,r,e.yview,e._top.value),this.sbottom=i(this.model.bottom,this.model.bottom_units,r,e.yview,e._bottom.value),this._paint_box(this.sleft,this.sright,this.sbottom,this.stop)}}},{key:"_paint_box",value:function(t,e,n,r){var i=this.layer.ctx;i.save(),i.beginPath(),i.rect(t,r,e-t,n-r),this.visuals.fill.doit&&(this.visuals.fill.set_value(i),i.fill()),this.visuals.line.doit&&(this.visuals.line.set_value(i),i.stroke()),i.restore()}},{key:"interactive_bbox",value:function(){var t=this.model.properties.line_width.value()+2.5;return new L.a({x0:this.sleft-t,y0:this.stop-t,x1:this.sright+t,y1:this.sbottom+t})}},{key:"interactive_hit",value:function(t,e){return null!=this.model.in_cursor&&this.interactive_bbox().contains(t,e)}},{key:"cursor",value:function(t,e){return Math.abs(t-this.sleft)<3||Math.abs(t-this.sright)<3?this.model.ew_cursor:Math.abs(e-this.sbottom)<3||Math.abs(e-this.stop)<3?this.model.ns_cursor:t>this.sleft&&t<this.sright&&e>this.stop&&e<this.sbottom?this.model.in_cursor:null}}]),n}(r.b);F.__name__="BoxAnnotationView";var z=function(t){d()(n,t);var e=j(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.data_update=new N.b(this,"data_update")}},{key:"update",value:function(t){var e=t.left,n=t.right,r=t.top,i=t.bottom;this.setv({left:e,right:n,top:r,bottom:i,screen:!0},{silent:!0}),this.data_update.emit()}}],[{key:"init_BoxAnnotation",value:function(){this.prototype.default_view=F,this.mixins([_.e,_.a]),this.define({render_mode:[b.fb,"canvas"],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"],top:[b.V,null],top_units:[b.kb,"data"],bottom:[b.V,null],bottom_units:[b.kb,"data"],left:[b.V,null],left_units:[b.kb,"data"],right:[b.V,null],right_units:[b.kb,"data"]}),this.internal({screen:[b.i,!1],ew_cursor:[b.nb,null],ns_cursor:[b.nb,null],in_cursor:[b.nb,null]}),this.override({fill_color:"#fff9ba",fill_alpha:.4,line_color:"#cccccc",line_alpha:.3})}}]),n}(r.a);z.__name__="BoxAnnotation",z.init_BoxAnnotation();var B=n(13),U=n.n(B),G=n(19);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var H=function(t){d()(n,t);var e=V(n);function n(t){return s()(this,n),e.call(this,t)}return n}(G.a);H.__name__="Ticker";var q=n(9);function W(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var $=function(t){d()(n,t);var e=X(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_ticks",value:function(t,e,n,r,i){return this.get_ticks_no_defaults(t,e,r,this.desired_num_ticks)}},{key:"get_ticks_no_defaults",value:function(t,e,n,r){var i=this.get_interval(t,e,r),o=Math.floor(t/i),a=Math.ceil(e/i),s=(isNaN(o)||isNaN(a)?[]:Object(q.q)(o,a+1)).map((function(t){return t*i})).filter((function(n){return t<=n&&n<=e})),l=this.num_minor_ticks,u=[];if(l>0&&s.length>0){var c,f=i/l,h=Object(q.q)(0,l).map((function(t){return t*f})),d=W(h.slice(1));try{for(d.s();!(c=d.n()).done;){var p=c.value,v=s[0]-p;t<=v&&v<=e&&u.push(v)}}catch(t){d.e(t)}finally{d.f()}var g,m=W(s);try{for(m.s();!(g=m.n()).done;){var y,_=g.value,b=W(h);try{for(b.s();!(y=b.n()).done;){var A=_+y.value;t<=A&&A<=e&&u.push(A)}}catch(t){b.e(t)}finally{b.f()}}}catch(t){m.e(t)}finally{m.f()}}return{major:s,minor:u}}},{key:"get_min_interval",value:function(){return this.min_interval}},{key:"get_max_interval",value:function(){return null!=this.max_interval?this.max_interval:1/0}},{key:"get_ideal_interval",value:function(t,e,n){return(e-t)/n}}],[{key:"init_ContinuousTicker",value:function(){this.define({num_minor_ticks:[b.V,5],desired_num_ticks:[b.V,6]})}}]),n}(H);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}$.__name__="ContinuousTicker",$.init_ContinuousTicker();var K=function(t){d()(n,t);var e=J(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this);var t=Object(q.p)(this.mantissas,-1)/this.base,e=Object(q.p)(this.mantissas,0)*this.base;this.extended_mantissas=[t].concat(U()(this.mantissas),[e]),this.base_factor=0===this.get_min_interval()?1:this.get_min_interval()}},{key:"get_interval",value:function(t,e,n){var r,i,o,a=e-t,s=this.get_ideal_interval(t,e,n),l=Math.floor(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.E;return Math.log(t)/Math.log(e)}(s/this.base_factor,this.base)),u=Math.pow(this.base,l)*this.base_factor,c=this.extended_mantissas,f=c.map((function(t){return Math.abs(n-a/(t*u))})),h=c[Object(q.a)(f)];return r=h*u,i=this.get_min_interval(),o=this.get_max_interval(),Math.max(i,Math.min(o,r))}}],[{key:"init_AdaptiveTicker",value:function(){this.define({base:[b.V,10],mantissas:[b.g,[1,2,5]],min_interval:[b.V,0],max_interval:[b.V]})}}]),n}($);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}K.__name__="AdaptiveTicker",K.init_AdaptiveTicker();var Z=function(t){d()(n,t);var e=Q(n);function n(t){return s()(this,n),e.call(this,t)}return n}(K);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Z.__name__="BasicTicker";var et=function(t){d()(n,t);var e=tt(n);function n(t){return s()(this,n),e.call(this,t)}return n}(G.a);function nt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}et.__name__="TickFormatter";var ot=function(t){d()(n,t);var e=it(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).last_precision=3,r}return u()(n,[{key:"_need_sci",value:function(t){if(!this.use_scientific)return!1;var e,n=this.scientific_limit_high,r=this.scientific_limit_low,i=t.length<2?0:Math.abs(t[1]-t[0])/1e4,o=nt(t);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=Math.abs(a);if(!(s<=i)&&(s>=n||s<=r))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}},{key:"_format_with_precision",value:function(t,e,n){var r=new Array(t.length);if(e)for(var i=0,o=t.length;i<o;i++)r[i]=t[i].toExponential(n);else for(var a=0,s=t.length;a<s;a++)r[a]=t[a].toFixed(n).replace(/(\.[0-9]*?)0+$/,"$1").replace(/\.$/,"");return r}},{key:"_auto_precision",value:function(t,e){var n=new Array(t.length),r=this.last_precision<=15;t:for(var i=this.last_precision;r?i<=15:i>=1;r?i++:i--){if(e){n[0]=t[0].toExponential(i);for(var o=1;o<t.length;o++)if(n[o]==n[o-1])continue t;this.last_precision=i;break}n[0]=t[0].toFixed(i).replace(/(\.[0-9]*?)0+$/,"$1").replace(/\.$/,"");for(var a=1;a<t.length;a++)if(n[a]=t[a].toFixed(i).replace(/(\.[0-9]*?)0+$/,"$1").replace(/\.$/,""),n[a]==n[a-1])continue t;this.last_precision=i;break}return this.last_precision}},{key:"doFormat",value:function(t,e){if(0==t.length)return[];var n=this._need_sci(t),r="auto"==this.precision?this._auto_precision(t,n):this.precision;return this._format_with_precision(t,n,r)}},{key:"scientific_limit_low",get:function(){return Math.pow(10,this.power_limit_low)}},{key:"scientific_limit_high",get:function(){return Math.pow(10,this.power_limit_high)}}],[{key:"init_BasicTickFormatter",value:function(){this.define({precision:[b.e,"auto"],use_scientific:[b.i,!0],power_limit_high:[b.V,5],power_limit_low:[b.V,-3]})}}]),n}(et);function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ot.__name__="BasicTickFormatter",ot.init_BasicTickFormatter();var st=function(t){d()(n,t);var e=at(n);function n(t){return s()(this,n),e.call(this,t)}return n}(G.a);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}st.__name__="Transform";var ut=function(t){d()(n,t);var e=lt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){throw new Error("mapping single values is not supported")}}]),n}(st);ut.__name__="Mapper";var ct=n(10),ft=n(52),ht=n(63);function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function pt(t){return Object(ct.g)(t)?t:("#"!=t[0]&&(t=Object(ft.b)(t)),9!=t.length&&(t+="ff"),parseInt(t.slice(1),16))}var vt=function(t){d()(n,t);var e=dt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"v_compute",value:function(t){var e=new Array(t.length);return this._v_compute(t,e,this.palette,this._colors((function(t){return t}))),e}},{key:"_colors",value:function(t){return{nan_color:t(this.nan_color)}}},{key:"rgba_mapper",get:function(){var t=this,e=function(t){for(var e=new Uint32Array(t.length),n=0,r=t.length;n<r;n++)e[n]=pt(t[n]);return e}(this.palette),n=this._colors(pt);return{v_compute:function(r){var i=new Uint32Array(r.length);return t._v_compute(r,i,e,n),function(t){if(ht.b)for(var e=new DataView(t.buffer),n=0,r=t.length;n<r;n++)e.setUint32(4*n,t[n]);return new Uint8Array(t.buffer)}(i)}}}}],[{key:"init_ColorMapper",value:function(){this.define({palette:[b.e],nan_color:[b.m,"gray"]})}}]),n}(ut);function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vt.__name__="ColorMapper",vt.init_ColorMapper();var mt=function(t){d()(n,t);var e=gt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_colors",value:function(t){return Object.assign(Object.assign({},f()(m()(n.prototype),"_colors",this).call(this,t)),{low_color:null!=this.low_color?t(this.low_color):void 0,high_color:null!=this.high_color?t(this.high_color):void 0})}}],[{key:"init_ContinuousColorMapper",value:function(){this.define({high:[b.V],low:[b.V],high_color:[b.m],low_color:[b.m]})}}]),n}(vt);mt.__name__="ContinuousColorMapper",mt.init_ContinuousColorMapper();var yt=n(17);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var bt=function(t){d()(n,t);var e=_t(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_v_compute",value:function(t,e,n,r){for(var i=r.nan_color,o=r.low_color,a=r.high_color,s=null!=this.low?this.low:Object(yt.m)(t),l=null!=this.high?this.high:Object(yt.k)(t),u=n.length-1,c=1/(l-s),f=1/n.length,h=0,d=t.length;h<d;h++){var p=t[h];if(isNaN(p))e[h]=i;else if(p!=l){var v=(p-s)*c,g=Math.floor(v/f);e[h]=g<0?null!=o?o:n[0]:g>u?null!=a?a:n[u]:n[g]}else e[h]=n[u]}}}]),n}(mt);bt.__name__="LinearColorMapper";var At=n(61),wt=n.n(At),xt=n(16),kt=n(30);function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Et=function(t){d()(n,t);var e=Ct(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_make_transform",value:function(t,e){return wt()(Function,U()(this.names).concat([t,Object(kt.e)(e)]))}},{key:"compute",value:function(t){return this.scalar_transform.apply(this,U()(this.values).concat([t]))}},{key:"v_compute",value:function(t){return this.vector_transform.apply(this,U()(this.values).concat([t]))}},{key:"names",get:function(){return Object(xt.e)(this.args)}},{key:"values",get:function(){return Object(xt.i)(this.args)}},{key:"scalar_transform",get:function(){return this._make_transform("x",this.func)}},{key:"vector_transform",get:function(){return this._make_transform("xs",this.v_func)}}],[{key:"init_CustomJSTransform",value:function(){this.define({args:[b.e,{}],func:[b.nb,""],v_func:[b.nb,""]})}}]),n}(st);Et.__name__="CustomJSTransform",Et.init_CustomJSTransform();var St=n(42);function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Tt=function(t){d()(n,t);var e=Rt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"v_compute",value:function(t){var e;if(this.range instanceof St.a)e=this.range.v_synthetic(t);else{if(!Object(ct.c)(t,ct.g))throw new Error("unexpected");e=t}for(var n=new Float64Array(e.length),r=0;r<e.length;r++){var i=e[r];n[r]=this._compute(i)}return n}},{key:"compute",value:function(t){if(this.range instanceof St.a)return this._compute(this.range.synthetic(t));if(Object(ct.g)(t))return this._compute(t);throw new Error("unexpected")}},{key:"_compute",value:function(t){return t+this.value}}],[{key:"init_Dodge",value:function(){this.define({value:[b.V,0],range:[b.F]})}}]),n}(st);function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Tt.__name__="Dodge",Tt.init_Dodge();var Ot=function(t){d()(n,t);var e=It(n);function n(t){var r;return s()(this,n),(r=e.call(this,t))._sorted_dirty=!0,r}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.change,(function(){return t._sorted_dirty=!0}))}},{key:"v_compute",value:function(t){for(var e=new Float64Array(t.length),n=0;n<t.length;n++){var r=t[n];e[n]=this.compute(r)}return e}},{key:"sort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._sorted_dirty){var e,n;if(Object(ct.j)(this.x)&&Object(ct.j)(this.y)&&null!=this.data){var r=this.data.columns();if(!Object(q.k)(r,this.x))throw new Error("The x parameter does not correspond to a valid column name defined in the data parameter");if(!Object(q.k)(r,this.y))throw new Error("The y parameter does not correspond to a valid column name defined in the data parameter");e=this.data.get_column(this.x),n=this.data.get_column(this.y)}else{if(!Object(ct.a)(this.x)||!Object(ct.a)(this.y))throw new Error("parameters 'x' and 'y' must be both either string fields or arrays");e=this.x,n=this.y}if(e.length!==n.length)throw new Error("The length for x and y do not match");if(e.length<2)throw new Error("x and y must have at least two elements to support interpolation");var i=[];for(var o in e)i.push({x:e[o],y:n[o]});t?i.sort((function(t,e){return t.x>e.x?-1:t.x==e.x?0:1})):i.sort((function(t,e){return t.x<e.x?-1:t.x==e.x?0:1})),this._x_sorted=[],this._y_sorted=[];for(var a=0,s=i;a<s.length;a++){var l=s[a],u=l.x,c=l.y;this._x_sorted.push(u),this._y_sorted.push(c)}this._sorted_dirty=!1}}}],[{key:"init_Interpolator",value:function(){this.define({x:[b.e],y:[b.e],data:[b.e],clip:[b.i,!0]})}}]),n}(st);function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ot.__name__="Interpolator",Ot.init_Interpolator();var Pt=function(t){d()(n,t);var e=Mt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"v_compute",value:function(t){if(null!=this.previous_values&&this.previous_values.length==t.length)return this.previous_values;var e;if(this.range instanceof St.a)e=this.range.v_synthetic(t);else{if(!Object(ct.c)(t,ct.g))throw new Error("unexpected");e=t}for(var n=new Float64Array(e.length),r=0;r<e.length;r++){var i=e[r];n[r]=this._compute(i)}return this.previous_values=n,n}},{key:"compute",value:function(t){if(this.range instanceof St.a)return this._compute(this.range.synthetic(t));if(Object(ct.g)(t))return this._compute(t);throw new Error("unexpected")}},{key:"_compute",value:function(t){switch(this.distribution){case"uniform":return t+this.mean+(R.d()-.5)*this.width;case"normal":return t+R.f(this.mean,this.width)}}}],[{key:"init_Jitter",value:function(){this.define({mean:[b.V,0],width:[b.V,1],distribution:[b.u,"uniform"],range:[b.F]}),this.internal({previous_values:[b.g]})}}]),n}(st);function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Pt.__name__="Jitter",Pt.init_Jitter();var Nt=function(t){d()(n,t);var e=Dt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){if(this.sort(!1),this.clip){if(t<this._x_sorted[0]||t>this._x_sorted[this._x_sorted.length-1])return NaN}else{if(t<this._x_sorted[0])return this._y_sorted[0];if(t>this._x_sorted[this._x_sorted.length-1])return this._y_sorted[this._y_sorted.length-1]}if(t==this._x_sorted[0])return this._y_sorted[0];var e=Object(q.j)(this._x_sorted,(function(e){return e<t})),n=this._x_sorted[e],r=this._x_sorted[e+1],i=this._y_sorted[e],o=this._y_sorted[e+1];return i+(t-n)/(r-n)*(o-i)}}]),n}(Ot);function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Nt.__name__="LinearInterpolator";var jt=function(t){d()(n,t);var e=Lt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){if(this.sort(!1),this.clip){if(t<this._x_sorted[0]||t>this._x_sorted[this._x_sorted.length-1])return NaN}else{if(t<this._x_sorted[0])return this._y_sorted[0];if(t>this._x_sorted[this._x_sorted.length-1])return this._y_sorted[this._y_sorted.length-1]}var e;switch(this.mode){case"after":e=Object(q.j)(this._x_sorted,(function(e){return t>=e}));break;case"before":e=Object(q.i)(this._x_sorted,(function(e){return t<=e}));break;case"center":var n=this._x_sorted.map((function(e){return Math.abs(e-t)})),r=Object(q.o)(n);e=Object(q.i)(n,(function(t){return r===t}));break;default:throw new Error("unknown mode: ".concat(this.mode))}return-1!=e?this._y_sorted[e]:NaN}}],[{key:"init_StepInterpolator",value:function(){this.define({mode:[b.mb,"after"]})}}]),n}(Ot);function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}jt.__name__="StepInterpolator",jt.init_StepInterpolator();var zt=function(t){d()(n,t);var e=Ft(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"r_compute",value:function(t,e){return this.target_range.is_reversed?[this.compute(e),this.compute(t)]:[this.compute(t),this.compute(e)]}},{key:"r_invert",value:function(t,e){return this.target_range.is_reversed?[this.invert(e),this.invert(t)]:[this.invert(t),this.invert(e)]}},{key:"_linear_compute",value:function(t){var e=this._linear_compute_state(),n=o()(e,2);return n[0]*t+n[1]}},{key:"_linear_v_compute",value:function(t){for(var e=this._linear_compute_state(),n=o()(e,2),r=n[0],i=n[1],a=new Float64Array(t.length),s=0;s<t.length;s++)a[s]=r*t[s]+i;return a}},{key:"_linear_invert",value:function(t){var e=this._linear_compute_state(),n=o()(e,2),r=n[0];return(t-n[1])/r}},{key:"_linear_v_invert",value:function(t){for(var e=this._linear_compute_state(),n=o()(e,2),r=n[0],i=n[1],a=new Float64Array(t.length),s=0;s<t.length;s++)a[s]=(t[s]-i)/r;return a}},{key:"_linear_compute_state",value:function(){var t=this.source_range.start,e=this.source_range.end,n=this.target_range.start,r=(this.target_range.end-n)/(e-t);return[r,-r*t+n]}}],[{key:"init_Scale",value:function(){this.internal({source_range:[b.e],target_range:[b.e]})}}]),n}(st);function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}zt.__name__="Scale",zt.init_Scale();var Ut=function(t){d()(n,t);var e=Bt(n);function n(t){return s()(this,n),e.call(this,t)}return n}(zt);function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ut.__name__="ContinuousScale";var Vt=function(t){d()(n,t);var e=Gt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){return this._linear_compute(t)}},{key:"v_compute",value:function(t){return this._linear_v_compute(t)}},{key:"invert",value:function(t){return this._linear_invert(t)}},{key:"v_invert",value:function(t){return this._linear_v_invert(t)}}]),n}(Ut);function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Vt.__name__="LinearScale";var qt=function(t){d()(n,t);var e=Ht(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){var e,n=this._compute_state(),r=o()(n,4),i=r[0],a=r[1],s=r[2],l=r[3];if(0==s)e=0;else{var u=(Math.log(t)-l)/s;e=isFinite(u)?u*i+a:NaN}return e}},{key:"v_compute",value:function(t){var e=this._compute_state(),n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3],l=new Float64Array(t.length);if(0==a)for(var u=0;u<t.length;u++)l[u]=0;else for(var c=0;c<t.length;c++){var f=(Math.log(t[c])-s)/a,h=void 0;h=isFinite(f)?f*r+i:NaN,l[c]=h}return l}},{key:"invert",value:function(t){var e=this._compute_state(),n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3],l=(t-i)/r;return Math.exp(a*l+s)}},{key:"v_invert",value:function(t){for(var e=this._compute_state(),n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3],l=new Float64Array(t.length),u=0;u<t.length;u++){var c=(t[u]-i)/r;l[u]=Math.exp(a*c+s)}return l}},{key:"_get_safe_factor",value:function(t,e){var n=t<0?0:t,r=e<0?0:e;if(n==r)if(0==n)n=1,r=10;else{var i=Math.log(n)/Math.log(10);n=Math.pow(10,Math.floor(i)),r=Math.ceil(i)!=Math.floor(i)?Math.pow(10,Math.ceil(i)):Math.pow(10,Math.ceil(i)+1)}return[n,r]}},{key:"_compute_state",value:function(){var t,e,n=this.source_range.start,r=this.source_range.end,i=this.target_range.start,a=this.target_range.end-i,s=this._get_safe_factor(n,r),l=o()(s,2),u=l[0],c=l[1];return 0==u?(t=Math.log(c),e=0):(t=Math.log(c)-Math.log(u),e=Math.log(u)),[a,i,t,e]}}]),n}(Ut);qt.__name__="LogScale";var Wt=n(80);function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Xt=function(t){d()(n,t);var e=Yt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_set_auto_bounds",value:function(){if("auto"==this.bounds){var t=Math.min(this.reset_start,this.reset_end),e=Math.max(this.reset_start,this.reset_end);this.setv({bounds:[t,e]},{silent:!0})}}},{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),null==this.reset_start&&(this.reset_start=this.start),null==this.reset_end&&(this.reset_end=this.end),this._set_auto_bounds()}},{key:"reset",value:function(){this._set_auto_bounds(),this.start!=this.reset_start||this.end!=this.reset_end?this.setv({start:this.reset_start,end:this.reset_end}):this.change.emit()}},{key:"min",get:function(){return Math.min(this.start,this.end)}},{key:"max",get:function(){return Math.max(this.start,this.end)}}],[{key:"init_Range1d",value:function(){this.define({start:[b.V,0],end:[b.V,1],reset_start:[b.V],reset_end:[b.V]})}}]),n}(Wt.a);Xt.__name__="Range1d",Xt.init_Range1d();var $t=n(73),Jt=n(37);function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Qt=function(t){d()(n,t);var e=Kt(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._set_canvas_image()}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.visible.change,(function(){return t.plot_view.request_render()})),this.connect(this.model.ticker.change,(function(){return t.plot_view.request_render()})),this.connect(this.model.formatter.change,(function(){return t.plot_view.request_render()})),null!=this.model.color_mapper&&this.connect(this.model.color_mapper.change,(function(){t._set_canvas_image(),t.plot_view.request_render()}))}},{key:"_get_size",value:function(){if(null==this.model.color_mapper)return{width:0,height:0};var t=this.compute_legend_dimensions();return{width:t.width,height:t.height}}},{key:"_set_canvas_image",value:function(){if(null!=this.model.color_mapper){var t,e,n=this.model.color_mapper.palette;switch("vertical"==this.model.orientation&&(n=Object(q.u)(n)),this.model.orientation){case"vertical":var r=[1,n.length];t=r[0],e=r[1];break;case"horizontal":var i=[n.length,1];t=i[0],e=i[1]}var o=document.createElement("canvas");o.width=t,o.height=e;var a=o.getContext("2d"),s=a.getImageData(0,0,t,e),l=new bt({palette:n}).rgba_mapper.v_compute(Object(q.q)(0,n.length));s.data.set(l),a.putImageData(s,0,0),this.image=o}}},{key:"compute_legend_dimensions",value:function(){var t,e,n=this._computed_image_dimensions(),r=[n.height,n.width],i=r[0],o=r[1],a=this._get_label_extent(),s=this._title_extent(),l=this._tick_extent(),u=this.model.padding;switch(this.model.orientation){case"vertical":t=i+s+2*u,e=o+l+a+2*u;break;case"horizontal":t=i+s+l+a+2*u,e=o+2*u}return{width:e,height:t}}},{key:"compute_legend_location",value:function(){var t,e,n=this.compute_legend_dimensions(),r=[n.height,n.width],i=r[0],a=r[1],s=this.model.margin,l=null!=this.panel?this.panel:this.plot_view.frame,u=o()(l.bbox.ranges,2),c=u[0],f=u[1],h=this.model.location;if(Object(ct.j)(h))switch(h){case"top_left":t=c.start+s,e=f.start+s;break;case"top_center":t=(c.end+c.start)/2-a/2,e=f.start+s;break;case"top_right":t=c.end-s-a,e=f.start+s;break;case"bottom_right":t=c.end-s-a,e=f.end-s-i;break;case"bottom_center":t=(c.end+c.start)/2-a/2,e=f.end-s-i;break;case"bottom_left":t=c.start+s,e=f.end-s-i;break;case"center_left":t=c.start+s,e=(f.end+f.start)/2-i/2;break;case"center":t=(c.end+c.start)/2-a/2,e=(f.end+f.start)/2-i/2;break;case"center_right":t=c.end-s-a,e=(f.end+f.start)/2-i/2}else if(Object(ct.a)(h)&&2==h.length){var d=o()(h,2),p=d[0],v=d[1];t=l.xview.compute(p),e=l.yview.compute(v)-i}else Object(Jt.b)();return{sx:t,sy:e}}},{key:"render",value:function(){if(this.model.visible&&null!=this.model.color_mapper){var t=this.layer.ctx;t.save();var e=this.compute_legend_location(),n=e.sx,r=e.sy;t.translate(n,r),this._draw_bbox(t);var i=this._get_image_offset();if(t.translate(i.x,i.y),this._draw_image(t),null!=this.model.color_mapper.low&&null!=this.model.color_mapper.high){var o=this.tick_info();this._draw_major_ticks(t,o),this._draw_minor_ticks(t,o),this._draw_major_labels(t,o)}this.model.title&&this._draw_title(t),t.restore()}}},{key:"_draw_bbox",value:function(t){var e=this.compute_legend_dimensions();t.save(),this.visuals.background_fill.doit&&(this.visuals.background_fill.set_value(t),t.fillRect(0,0,e.width,e.height)),this.visuals.border_line.doit&&(this.visuals.border_line.set_value(t),t.strokeRect(0,0,e.width,e.height)),t.restore()}},{key:"_draw_image",value:function(t){var e=this._computed_image_dimensions();t.save(),t.setImageSmoothingEnabled(!1),t.globalAlpha=this.model.scale_alpha,t.drawImage(this.image,0,0,e.width,e.height),this.visuals.bar_line.doit&&(this.visuals.bar_line.set_value(t),t.strokeRect(0,0,e.width,e.height)),t.restore()}},{key:"_draw_major_ticks",value:function(t,e){if(this.visuals.major_tick_line.doit){var n=this._normals(),r=o()(n,2),i=r[0],a=r[1],s=this._computed_image_dimensions(),l=s.width*i,u=s.height*a,c=o()(e.coords.major,2),f=c[0],h=c[1],d=this.model.major_tick_in,p=this.model.major_tick_out;t.save(),t.translate(l,u),this.visuals.major_tick_line.set_value(t);for(var v=0,g=f.length;v<g;v++)t.beginPath(),t.moveTo(Math.round(f[v]+i*p),Math.round(h[v]+a*p)),t.lineTo(Math.round(f[v]-i*d),Math.round(h[v]-a*d)),t.stroke();t.restore()}}},{key:"_draw_minor_ticks",value:function(t,e){if(this.visuals.minor_tick_line.doit){var n=this._normals(),r=o()(n,2),i=r[0],a=r[1],s=this._computed_image_dimensions(),l=s.width*i,u=s.height*a,c=o()(e.coords.minor,2),f=c[0],h=c[1],d=this.model.minor_tick_in,p=this.model.minor_tick_out;t.save(),t.translate(l,u),this.visuals.minor_tick_line.set_value(t);for(var v=0,g=f.length;v<g;v++)t.beginPath(),t.moveTo(Math.round(f[v]+i*p),Math.round(h[v]+a*p)),t.lineTo(Math.round(f[v]-i*d),Math.round(h[v]-a*d)),t.stroke();t.restore()}}},{key:"_draw_major_labels",value:function(t,e){if(this.visuals.major_label_text.doit){var n=this._normals(),r=o()(n,2),i=r[0],a=r[1],s=this._computed_image_dimensions(),l=s.width*i,u=s.height*a,c=this.model.label_standoff+this._tick_extent(),f=c*i,h=c*a,d=o()(e.coords.major,2),p=d[0],v=d[1],g=e.labels.major;this.visuals.major_label_text.set_value(t),t.save(),t.translate(l+f,u+h);for(var m=0,y=p.length;m<y;m++)t.fillText(g[m],Math.round(p[m]+i*this.model.label_standoff),Math.round(v[m]+a*this.model.label_standoff));t.restore()}}},{key:"_draw_title",value:function(t){this.visuals.title_text.doit&&(t.save(),this.visuals.title_text.set_value(t),t.fillText(this.model.title,0,-this.model.title_standoff),t.restore())}},{key:"_get_label_extent",value:function(){var t,e=this.tick_info().labels.major;if(null==this.model.color_mapper.low||null==this.model.color_mapper.high||Object(q.m)(e))t=0;else{var n=this.layer.ctx;switch(n.save(),this.visuals.major_label_text.set_value(n),this.model.orientation){case"vertical":t=Object(q.n)(e.map((function(t){return n.measureText(t.toString()).width})));break;case"horizontal":t=$t.a(this.visuals.major_label_text.font_value()).height}t+=this.model.label_standoff,n.restore()}return t}},{key:"_get_image_offset",value:function(){return{x:this.model.padding,y:this.model.padding+this._title_extent()}}},{key:"_normals",value:function(){return"vertical"==this.model.orientation?[1,0]:[0,1]}},{key:"_title_extent",value:function(){var t=this.model.title_text_font+" "+this.model.title_text_font_size+" "+this.model.title_text_font_style;return this.model.title?$t.a(t).height+this.model.title_standoff:0}},{key:"_tick_extent",value:function(){return null!=this.model.color_mapper.low&&null!=this.model.color_mapper.high?Object(q.n)([this.model.major_tick_out,this.model.minor_tick_out]):0}},{key:"_computed_image_dimensions",value:function(){var t,e,n=this.plot_view.frame._height.value,r=this.plot_view.frame._width.value,i=this._title_extent();switch(this.model.orientation){case"vertical":"auto"==this.model.height?null!=this.panel?t=n-2*this.model.padding-i:(t=Object(q.n)([25*this.model.color_mapper.palette.length,.3*n]),t=Object(q.o)([t,.8*n-2*this.model.padding-i])):t=this.model.height,e="auto"==this.model.width?25:this.model.width;break;case"horizontal":t="auto"==this.model.height?25:this.model.height,"auto"==this.model.width?null!=this.panel?e=r-2*this.model.padding:(e=Object(q.n)([25*this.model.color_mapper.palette.length,.3*r]),e=Object(q.o)([e,.8*r-2*this.model.padding])):e=this.model.width}return{width:e,height:t}}},{key:"_tick_coordinate_scale",value:function(t){var e={source_range:new Xt({start:this.model.color_mapper.low,end:this.model.color_mapper.high}),target_range:new Xt({start:0,end:t})};switch(this.model.color_mapper.type){case"LinearColorMapper":return new Vt(e);case"LogColorMapper":return new qt(e);default:Object(Jt.b)()}}},{key:"_format_major_labels",value:function(t,e){for(var n=this.model.formatter.doFormat(t,null),r=0,i=e.length;r<i;r++)e[r]in this.model.major_label_overrides&&(n[r]=this.model.major_label_overrides[e[r]]);return n}},{key:"tick_info",value:function(){var t,e=this._computed_image_dimensions();switch(this.model.orientation){case"vertical":t=e.height;break;case"horizontal":t=e.width}for(var n=this._tick_coordinate_scale(t),r=this._normals(),i=o()(r,2),a=i[0],s=i[1],l=[this.model.color_mapper.low,this.model.color_mapper.high],u=l[0],c=l[1],f=this.model.ticker.get_ticks(u,c,null,null,this.model.ticker.desired_num_ticks),h=f.major,d=f.minor,p=[[],[]],v=[[],[]],g=0,m=h.length;g<m;g++)h[g]<u||h[g]>c||(p[a].push(h[g]),p[s].push(0));for(var y=0,_=d.length;y<_;y++)d[y]<u||d[y]>c||(v[a].push(d[y]),v[s].push(0));var b={major:this._format_major_labels(p[a],h)},A={major:[[],[]],minor:[[],[]]};return A.major[a]=n.v_compute(p[a]),A.minor[a]=n.v_compute(v[a]),A.major[s]=p[s],A.minor[s]=v[s],"vertical"==this.model.orientation&&(A.major[a]=Object(yt.j)(A.major[a],(function(e){return t-e})),A.minor[a]=Object(yt.j)(A.minor[a],(function(e){return t-e}))),{coords:A,labels:b}}}]),n}(r.b);Qt.__name__="ColorBarView";var Zt=function(t){d()(n,t);var e=Kt(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ColorBar",value:function(){this.prototype.default_view=Qt,this.mixins([["major_label_",_.g],["title_",_.g],["major_tick_",_.e],["minor_tick_",_.e],["border_",_.e],["bar_",_.e],["background_",_.a]]),this.define({location:[b.e,"top_right"],orientation:[b.Y,"vertical"],title:[b.nb],title_standoff:[b.V,2],width:[b.e,"auto"],height:[b.e,"auto"],scale_alpha:[b.V,1],ticker:[b.F,function(){return new Z}],formatter:[b.F,function(){return new ot}],major_label_overrides:[b.e,{}],color_mapper:[b.F],label_standoff:[b.V,5],margin:[b.V,30],padding:[b.V,10],major_tick_in:[b.V,5],major_tick_out:[b.V,0],minor_tick_in:[b.V,0],minor_tick_out:[b.V,0]}),this.override({background_fill_color:"#ffffff",background_fill_alpha:.95,bar_line_color:null,border_line_color:null,major_label_text_align:"center",major_label_text_baseline:"middle",major_label_text_font_size:"11px",major_tick_line_color:"#ffffff",minor_tick_line_color:null,title_text_font_size:"13px",title_text_font_style:"italic"})}}]),n}(r.a);Zt.__name__="ColorBar",Zt.init_ColorBar();var te=n(8);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ne=function(t){d()(n,t);var e=ee(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).rotate=!0,t}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),"css"==this.model.render_mode&&this.plot_view.canvas_view.add_overlay(this.el)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),"css"==this.model.render_mode?this.connect(this.model.change,(function(){return t.render()})):this.connect(this.model.change,(function(){return t.plot_view.request_render()}))}},{key:"_calculate_text_dimensions",value:function(t,e){return[t.measureText(e).width,Object($t.a)(this.visuals.text.font_value()).height]}},{key:"_calculate_bounding_box_dimensions",value:function(t,e){var n,r,i=this._calculate_text_dimensions(t,e),a=o()(i,2),s=a[0],l=a[1];switch(t.textAlign){case"left":n=0;break;case"center":n=-s/2;break;case"right":n=-s;break;default:Object(Jt.b)()}switch(t.textBaseline){case"top":r=0;break;case"middle":r=-.5*l;break;case"bottom":r=-1*l;break;case"alphabetic":r=-.8*l;break;case"hanging":r=-.17*l;break;case"ideographic":r=-.83*l;break;default:Object(Jt.b)()}return[n,r,s,l]}},{key:"_canvas_text",value:function(t,e,n,r,i){this.visuals.text.set_value(t);var o=this._calculate_bounding_box_dimensions(t,e);t.save(),t.beginPath(),t.translate(n,r),i&&t.rotate(i),t.rect(o[0],o[1],o[2],o[3]),this.visuals.background_fill.doit&&(this.visuals.background_fill.set_value(t),t.fill()),this.visuals.border_line.doit&&(this.visuals.border_line.set_value(t),t.stroke()),this.visuals.text.doit&&(this.visuals.text.set_value(t),t.fillText(e,0,0)),t.restore()}},{key:"_css_text",value:function(t,e,n,r,i){Object(te.L)(this.el),this.visuals.text.set_value(t);var o=this._calculate_bounding_box_dimensions(t,e),a=this.visuals.border_line.line_dash.value().length<2?"solid":"dashed";this.visuals.border_line.set_value(t),this.visuals.background_fill.set_value(t),this.el.style.position="absolute",this.el.style.left="".concat(n+o[0],"px"),this.el.style.top="".concat(r+o[1],"px"),this.el.style.color="".concat(this.visuals.text.text_color.value()),this.el.style.opacity="".concat(this.visuals.text.text_alpha.value()),this.el.style.font="".concat(this.visuals.text.font_value()),this.el.style.lineHeight="normal",i&&(this.el.style.transform="rotate(".concat(i,"rad)")),this.visuals.background_fill.doit&&(this.el.style.backgroundColor="".concat(this.visuals.background_fill.color_value())),this.visuals.border_line.doit&&(this.el.style.borderStyle="".concat(a),this.el.style.borderWidth="".concat(this.visuals.border_line.line_width.value(),"px"),this.el.style.borderColor="".concat(this.visuals.border_line.color_value())),this.el.textContent=e,Object(te.j)(this.el)}}]),n}(r.b);ne.__name__="TextAnnotationView";var re=function(t){d()(n,t);var e=ee(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_TextAnnotation",value:function(){this.define({render_mode:[b.fb,"canvas"]})}}]),n}(r.a);function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}re.__name__="TextAnnotation",re.init_TextAnnotation();var oe=function(t){d()(n,t);var e=ie(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.visuals.warm_cache()}},{key:"_get_size",value:function(){var t=this.layer.ctx;this.visuals.text.set_value(t);var e=t.measureText(this.model.text);return{width:e.width,height:e.ascent}}},{key:"render",value:function(){if(this.model.visible||"css"!=this.model.render_mode||Object(te.L)(this.el),this.model.visible){var t;switch(this.model.angle_units){case"rad":t=-this.model.angle;break;case"deg":t=-this.model.angle*Math.PI/180}var e=null!=this.panel?this.panel:this.plot_view.frame,n=this.plot_view.frame.xscales[this.model.x_range_name],r=this.plot_view.frame.yscales[this.model.y_range_name],i="data"==this.model.x_units?n.compute(this.model.x):e.xview.compute(this.model.x),o="data"==this.model.y_units?r.compute(this.model.y):e.yview.compute(this.model.y);i+=this.model.x_offset,o-=this.model.y_offset,("canvas"==this.model.render_mode?this._canvas_text.bind(this):this._css_text.bind(this))(this.layer.ctx,this.model.text,i,o,t)}}}]),n}(ne);oe.__name__="LabelView";var ae=function(t){d()(n,t);var e=ie(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Label",value:function(){this.prototype.default_view=oe,this.mixins([_.g,["border_",_.e],["background_",_.a]]),this.define({x:[b.V],x_units:[b.kb,"data"],y:[b.V],y_units:[b.kb,"data"],text:[b.nb],angle:[b.b,0],angle_units:[b.d,"rad"],x_offset:[b.V,0],y_offset:[b.V,0],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({background_fill_color:null,border_line_color:null})}}]),n}(re);function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ae.__name__="Label",ae.init_Label();var le=function(t){d()(n,t);var e=se(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){if(f()(m()(n.prototype),"initialize",this).call(this),this.set_data(this.model.source),"css"==this.model.render_mode)for(var t=0,e=this._text.length;t<e;t++){var r=Object(te.k)({style:{display:"none"}});this.el.appendChild(r)}}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),"css"==this.model.render_mode?(this.connect(this.model.change,(function(){t.set_data(t.model.source),t.render()})),this.connect(this.model.source.streaming,(function(){t.set_data(t.model.source),t.render()})),this.connect(this.model.source.patching,(function(){t.set_data(t.model.source),t.render()})),this.connect(this.model.source.change,(function(){t.set_data(t.model.source),t.render()}))):(this.connect(this.model.change,(function(){t.set_data(t.model.source),t.plot_view.request_render()})),this.connect(this.model.source.streaming,(function(){t.set_data(t.model.source),t.plot_view.request_render()})),this.connect(this.model.source.patching,(function(){t.set_data(t.model.source),t.plot_view.request_render()})),this.connect(this.model.source.change,(function(){t.set_data(t.model.source),t.plot_view.request_render()})))}},{key:"set_data",value:function(t){f()(m()(n.prototype),"set_data",this).call(this,t),this.visuals.warm_cache(t)}},{key:"_map_data",value:function(){var t=this.plot_view.frame.xscales[this.model.x_range_name],e=this.plot_view.frame.yscales[this.model.y_range_name],n=null!=this.panel?this.panel:this.plot_view.frame;return["data"==this.model.x_units?t.v_compute(this._x):n.xview.v_compute(this._x),"data"==this.model.y_units?e.v_compute(this._y):n.yview.v_compute(this._y)]}},{key:"render",value:function(){if(this.model.visible||"css"!=this.model.render_mode||Object(te.L)(this.el),this.model.visible)for(var t="canvas"==this.model.render_mode?this._v_canvas_text.bind(this):this._v_css_text.bind(this),e=this.layer.ctx,n=this._map_data(),r=o()(n,2),i=r[0],a=r[1],s=0,l=this._text.length;s<l;s++)t(e,s,this._text[s],i[s]+this._x_offset[s],a[s]-this._y_offset[s],this._angle[s])}},{key:"_get_size",value:function(){var t=this.layer.ctx;this.visuals.text.set_value(t);var e=t.measureText(this._text[0]);return{width:e.width,height:e.ascent}}},{key:"_v_canvas_text",value:function(t,e,n,r,i,o){this.visuals.text.set_vectorize(t,e);var a=this._calculate_bounding_box_dimensions(t,n);t.save(),t.beginPath(),t.translate(r,i),t.rotate(o),t.rect(a[0],a[1],a[2],a[3]),this.visuals.background_fill.doit&&(this.visuals.background_fill.set_vectorize(t,e),t.fill()),this.visuals.border_line.doit&&(this.visuals.border_line.set_vectorize(t,e),t.stroke()),this.visuals.text.doit&&(this.visuals.text.set_vectorize(t,e),t.fillText(n,0,0)),t.restore()}},{key:"_v_css_text",value:function(t,e,n,r,i,o){var a=this.el.children[e];a.textContent=n,this.visuals.text.set_vectorize(t,e);var s=this._calculate_bounding_box_dimensions(t,n),l=this.visuals.border_line.line_dash.value().length<2?"solid":"dashed";this.visuals.border_line.set_vectorize(t,e),this.visuals.background_fill.set_vectorize(t,e),a.style.position="absolute",a.style.left="".concat(r+s[0],"px"),a.style.top="".concat(i+s[1],"px"),a.style.color="".concat(this.visuals.text.text_color.value()),a.style.opacity="".concat(this.visuals.text.text_alpha.value()),a.style.font="".concat(this.visuals.text.font_value()),a.style.lineHeight="normal",o&&(a.style.transform="rotate(".concat(o,"rad)")),this.visuals.background_fill.doit&&(a.style.backgroundColor="".concat(this.visuals.background_fill.color_value())),this.visuals.border_line.doit&&(a.style.borderStyle="".concat(l),a.style.borderWidth="".concat(this.visuals.border_line.line_width.value(),"px"),a.style.borderColor="".concat(this.visuals.border_line.color_value())),Object(te.j)(a)}}]),n}(ne);le.__name__="LabelSetView";var ue=function(t){d()(n,t);var e=se(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_LabelSet",value:function(){this.prototype.default_view=le,this.mixins([_.h,["border_",_.f],["background_",_.b]]),this.define({x:[b.X],y:[b.X],x_units:[b.kb,"data"],y_units:[b.kb,"data"],text:[b.ob,{field:"text"}],angle:[b.c,0],x_offset:[b.X,{value:0}],y_offset:[b.X,{value:0}],source:[b.F,function(){return new S.a}],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({background_fill_color:null,border_line_color:null})}}]),n}(re);ue.__name__="LabelSet",ue.init_LabelSet();var ce=n(101),fe=n(62);var he=n(15);function de(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ge=function(t){d()(n,t);var e=ve(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_check_data_sources_on_renderers",value:function(){if(null!=this.get_field_from_label_prop()){if(this.renderers.length<1)return!1;var t=this.renderers[0].data_source;if(null!=t){var e,n=de(this.renderers);try{for(n.s();!(e=n.n()).done;){if(e.value.data_source!=t)return!1}}catch(t){n.e(t)}finally{n.f()}}}return!0}},{key:"_check_field_label_on_data_source",value:function(){var t=this.get_field_from_label_prop();if(null!=t){if(this.renderers.length<1)return!1;var e=this.renderers[0].data_source;if(null!=e&&!Object(q.k)(e.columns(),t))return!1}return!0}},{key:"initialize",value:function(){var t=this;f()(m()(n.prototype),"initialize",this).call(this),this.legend=null,this.connect(this.change,(function(){null!=t.legend&&t.legend.item_change.emit()})),this._check_data_sources_on_renderers()||he.a.error("Non matching data sources on legend item renderers"),this._check_field_label_on_data_source()||he.a.error("Bad column name on label: ".concat(this.label))}},{key:"get_field_from_label_prop",value:function(){var t,e=this.label;return t=e,Object(ct.i)(t)&&"field"in t?e.field:null}},{key:"get_labels_list_from_label_prop",value:function(){if(e=this.label,Object(ct.i)(e)&&"value"in e){var t=this.label.value;return null!=t?[t]:[]}var e,n=this.get_field_from_label_prop();if(null!=n){var r;if(!this.renderers[0]||null==this.renderers[0].data_source)return["No source found"];if((r=this.renderers[0].data_source)instanceof fe.a){var i=r.get_column(n);return null!=i?Object(q.B)(Array.from(i)):["Invalid field"]}}return[]}}],[{key:"init_LegendItem",value:function(){this.define({label:[b.ob,null],renderers:[b.g,[]],index:[b.V,null]})}}]),n}(G.a);function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ge.__name__="LegendItem",ge.init_LegendItem();var ye=function(t){d()(n,t);var e=me(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_render()})),this.connect(this.model.data_update,(function(){return t.plot_view.request_render()}))}},{key:"render",value:function(){if(this.model.visible){var t=this.model,e=t.xs,n=t.ys;if(e.length==n.length&&!(e.length<3||n.length<3)){for(var r=this.plot_view.frame,i=this.layer.ctx,o=0,a=e.length;o<a;o++){var s=void 0;if("screen"!=this.model.xs_units)throw new Error("not implemented");s=this.model.screen?e[o]:r.xview.compute(e[o]);var l=void 0;if("screen"!=this.model.ys_units)throw new Error("not implemented");l=this.model.screen?n[o]:r.yview.compute(n[o]),0==o?(i.beginPath(),i.moveTo(s,l)):i.lineTo(s,l)}i.closePath(),this.visuals.line.doit&&(this.visuals.line.set_value(i),i.stroke()),this.visuals.fill.doit&&(this.visuals.fill.set_value(i),i.fill())}}}}]),n}(r.b);ye.__name__="PolyAnnotationView";var _e=function(t){d()(n,t);var e=me(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.data_update=new N.b(this,"data_update")}},{key:"update",value:function(t){var e=t.xs,n=t.ys;this.setv({xs:e,ys:n,screen:!0},{silent:!0}),this.data_update.emit()}}],[{key:"init_PolyAnnotation",value:function(){this.prototype.default_view=ye,this.mixins([_.e,_.a]),this.define({xs:[b.g,[]],xs_units:[b.kb,"data"],ys:[b.g,[]],ys_units:[b.kb,"data"],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.internal({screen:[b.i,!1]}),this.override({fill_color:"#fff9ba",fill_alpha:.4,line_color:"#cccccc",line_alpha:.3})}}]),n}(r.a);function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}_e.__name__="PolyAnnotation",_e.init_PolyAnnotation();var Ae=function(t){d()(n,t);var e=be(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_render()}))}},{key:"render",value:function(){this.model.visible&&this._draw_slope()}},{key:"_draw_slope",value:function(){var t=this.model.gradient,e=this.model.y_intercept;if(null!=t&&null!=e){var n=this.plot_view.frame,r=n.xscales[this.model.x_range_name],i=n.yscales[this.model.y_range_name],o=n._top.value,a=o+n._height.value,s=(i.invert(o)-e)/t,l=(i.invert(a)-e)/t,u=r.compute(s),c=r.compute(l),f=this.layer.ctx;f.save(),f.beginPath(),this.visuals.line.set_value(f),f.moveTo(u,o),f.lineTo(c,a),f.stroke(),f.restore()}}}]),n}(r.b);Ae.__name__="SlopeView";var we=function(t){d()(n,t);var e=be(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Slope",value:function(){this.prototype.default_view=Ae,this.mixins(_.e),this.define({gradient:[b.V,null],y_intercept:[b.V,null],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({line_color:"black"})}}]),n}(r.a);function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}we.__name__="Slope",we.init_Slope();var ke=function(t){d()(n,t);var e=xe(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_paint(t)}))}},{key:"render",value:function(){var t=this;if(this.model.visible){var e=this.model.location;if(null!=e){var n,r,i,o,a=this.plot_view.frame,s=a.xscales[this.model.x_range_name],l=a.yscales[this.model.y_range_name],u=function(n,r){return"data"==t.model.location_units?n.compute(e):t.model.for_hover?e:r.compute(e)};"width"==this.model.dimension?(i=u(l,a.yview),r=a._left.value,o=a._width.value,n=this.model.properties.line_width.value()):(i=a._top.value,r=u(s,a.xview),o=this.model.properties.line_width.value(),n=a._height.value);var c=this.layer.ctx;c.save(),c.beginPath(),this.visuals.line.set_value(c),c.moveTo(r,i),"width"==this.model.dimension?c.lineTo(r+o,i):c.lineTo(r,i+n),c.stroke(),c.restore()}}}}]),n}(r.b);ke.__name__="SpanView";var Ce=function(t){d()(n,t);var e=xe(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Span",value:function(){this.prototype.default_view=ke,this.mixins(_.e),this.define({render_mode:[b.fb,"canvas"],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"],location:[b.V,null],location_units:[b.kb,"data"],dimension:[b.q,"width"]}),this.override({line_color:"black"}),this.internal({for_hover:[b.i,!1]})}}]),n}(r.a);function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ce.__name__="Span",Ce.init_Span();var Se=function(t){d()(n,t);var e=Ee(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.visuals.text=new y.a(this.model)}},{key:"_get_location",value:function(){var t,e,n=this.panel,r=this.model.offset;switch(n.side){case"above":case"below":switch(this.model.vertical_align){case"top":e=n._top.value+5;break;case"middle":e=n._vcenter.value;break;case"bottom":e=n._bottom.value-5}switch(this.model.align){case"left":t=n._left.value+r;break;case"center":t=n._hcenter.value;break;case"right":t=n._right.value-r}break;case"left":switch(this.model.vertical_align){case"top":t=n._left.value-5;break;case"middle":t=n._hcenter.value;break;case"bottom":t=n._right.value+5}switch(this.model.align){case"left":e=n._bottom.value-r;break;case"center":e=n._vcenter.value;break;case"right":e=n._top.value+r}break;case"right":switch(this.model.vertical_align){case"top":t=n._right.value-5;break;case"middle":t=n._hcenter.value;break;case"bottom":t=n._left.value+5}switch(this.model.align){case"left":e=n._top.value+r;break;case"center":e=n._vcenter.value;break;case"right":e=n._bottom.value-r}}return[t,e]}},{key:"render",value:function(){if(this.model.visible){var t=this.model.text;if(null!=t&&0!=t.length){this.model.text_baseline=this.model.vertical_align,this.model.text_align=this.model.align;var e=this._get_location(),n=o()(e,2),r=n[0],i=n[1],a=this.panel.get_label_angle_heuristic("parallel");("canvas"==this.model.render_mode?this._canvas_text.bind(this):this._css_text.bind(this))(this.layer.ctx,t,r,i,a)}}else"css"==this.model.render_mode&&Object(te.L)(this.el)}},{key:"_get_size",value:function(){var t=this.model.text;if(null==t||0==t.length)return{width:0,height:0};this.visuals.text.set_value(this.layer.ctx);var e=this.layer.ctx.measureText(t);return{width:e.width,height:e.ascent*this.visuals.text.text_line_height.value()+10}}}]),n}(ne);Se.__name__="TitleView";var Re=function(t){d()(n,t);var e=Ee(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Title",value:function(){this.prototype.default_view=Se,this.mixins([["border_",_.e],["background_",_.a]]),this.define({text:[b.nb],text_font:[b.v,"helvetica"],text_font_size:[b.ob,"13px"],text_font_style:[b.z,"bold"],text_color:[b.o,"#444444"],text_alpha:[b.X,1],text_line_height:[b.V,1],vertical_align:[b.yb,"bottom"],align:[b.qb,"left"],offset:[b.V,0]}),this.override({background_fill_color:null,border_line_color:null}),this.internal({text_align:[b.qb,"left"],text_baseline:[b.sb,"bottom"]})}}]),n}(re);Re.__name__="Title",Re.init_Title();var Te=n(14),Ie=n.n(Te),Oe=n(21),Me=n.n(Oe),Pe=n(39);function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Ne=function(t){d()(r,t);var e,n=De(r);function r(){var t;return s()(this,r),(t=n.apply(this,arguments)).rotate=!0,t}return u()(r,[{key:"initialize",value:function(){f()(m()(r.prototype),"initialize",this).call(this),this.plot_view.canvas_view.add_event(this.el)}},{key:"lazy_initialize",value:(e=Me()(Ie.a.mark((function t(){var e=this;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Pe.a)(this.model.toolbar,{parent:this});case 2:this._toolbar_view=t.sent,this.plot_view.visibility_callbacks.push((function(t){return e._toolbar_view.set_visibility(t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"remove",value:function(){this._toolbar_view.remove(),f()(m()(r.prototype),"remove",this).call(this)}},{key:"render",value:function(){f()(m()(r.prototype),"render",this).call(this),this.model.visible?(this.el.style.position="absolute",this.el.style.overflow="hidden",Object(te.w)(this.el,this.panel.bbox),this._toolbar_view.render(),Object(te.l)(this.el),this.el.appendChild(this._toolbar_view.el),Object(te.j)(this.el)):Object(te.L)(this.el)}},{key:"_get_size",value:function(){var t=this.model.toolbar,e=t.tools,n=t.logo;return{width:30*e.length+(null!=n?25:0),height:30}}}]),r}(r.b);Ne.__name__="ToolbarPanelView";var Le=function(t){d()(n,t);var e=De(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ToolbarPanel",value:function(){this.prototype.default_view=Ne,this.define({toolbar:[b.F]})}}]),n}(r.a);Le.__name__="ToolbarPanel",Le.init_ToolbarPanel();var je=n(28);function Fe(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Ue=function(t){d()(n,t);var e=Be(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.plot_view.canvas_view.add_overlay(this.el),Object(te.L)(this.el)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.data.change,(function(){return t._draw_tips()}))}},{key:"styles",value:function(){return[].concat(U()(f()(m()(n.prototype),"styles",this).call(this)),['\n.bk-root {\n  /* Same border color used everywhere */\n  /* Gray of icons */\n}\n.bk-root .bk-tooltip {\n  font-weight: 300;\n  font-size: 12px;\n  position: absolute;\n  padding: 5px;\n  border: 1px solid #e5e5e5;\n  color: #2f2f2f;\n  background-color: white;\n  pointer-events: none;\n  opacity: 0.95;\n  z-index: 100;\n}\n.bk-root .bk-tooltip > div:not(:first-child) {\n  /* gives space when multiple elements are being hovered over */\n  margin-top: 5px;\n  border-top: #e5e5e5 1px dashed;\n}\n.bk-root .bk-tooltip.bk-left.bk-tooltip-arrow::before {\n  position: absolute;\n  margin: -7px 0 0 0;\n  top: 50%;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 7px 0 7px 0;\n  border-color: transparent;\n  content: " ";\n  display: block;\n  left: -10px;\n  border-right-width: 10px;\n  border-right-color: #909599;\n}\n.bk-root .bk-tooltip.bk-left::before {\n  left: -10px;\n  border-right-width: 10px;\n  border-right-color: #909599;\n}\n.bk-root .bk-tooltip.bk-right.bk-tooltip-arrow::after {\n  position: absolute;\n  margin: -7px 0 0 0;\n  top: 50%;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 7px 0 7px 0;\n  border-color: transparent;\n  content: " ";\n  display: block;\n  right: -10px;\n  border-left-width: 10px;\n  border-left-color: #909599;\n}\n.bk-root .bk-tooltip.bk-right::after {\n  right: -10px;\n  border-left-width: 10px;\n  border-left-color: #909599;\n}\n.bk-root .bk-tooltip.bk-above::before {\n  position: absolute;\n  margin: 0 0 0 -7px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 7px 0 7px;\n  border-color: transparent;\n  content: " ";\n  display: block;\n  top: -10px;\n  border-bottom-width: 10px;\n  border-bottom-color: #909599;\n}\n.bk-root .bk-tooltip.bk-below::after {\n  position: absolute;\n  margin: 0 0 0 -7px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 7px 0 7px;\n  border-color: transparent;\n  content: " ";\n  display: block;\n  bottom: -10px;\n  border-top-width: 10px;\n  border-top-color: #909599;\n}\n.bk-root .bk-tooltip-row-label {\n  text-align: right;\n  color: #26aae1;\n  /* blue from toolbar highlighting */\n}\n.bk-root .bk-tooltip-row-value {\n  color: default;\n  /* seems to be necessary for notebook */\n}\n.bk-root .bk-tooltip-color-block {\n  width: 12px;\n  height: 12px;\n  margin-left: 5px;\n  margin-right: 5px;\n  outline: #dddddd solid 1px;\n  display: inline-block;\n}\n'])}},{key:"css_classes",value:function(){return f()(m()(n.prototype),"css_classes",this).call(this).concat("bk-tooltip")}},{key:"render",value:function(){this.model.visible&&this._draw_tips()}},{key:"_draw_tips",value:function(){var t=this.model.data;if(Object(te.l)(this.el),Object(te.L)(this.el),this.model.custom?this.el.classList.add("bk-tooltip-custom"):this.el.classList.remove("bk-tooltip-custom"),0!=t.length){var e,n=this.plot_view.frame,r=Fe(t);try{for(r.s();!(e=r.n()).done;){var i=o()(e.value,3),a=i[0],s=i[1],l=i[2];if(!this.model.inner_only||n.bbox.contains(a,s)){var u=Object(te.k)({},l);this.el.appendChild(u)}}}catch(t){r.e(t)}finally{r.f()}var c=o()(t[t.length-1],2),f=c[0],h=c[1],d=function(t,e,n,r,i){switch(t){case"horizontal":return e<r?"right":"left";case"vertical":return n<i?"below":"above";default:return t}}(this.model.attachment,f,h,n._hcenter.value,n._vcenter.value);this.el.classList.remove(je.g),this.el.classList.remove(je.f),this.el.classList.remove(je.a),this.el.classList.remove(je.c);var p;Object(te.j)(this.el);var v=0,g=0;switch(d){case"right":this.el.classList.add(je.f),v=f+(this.el.offsetWidth-this.el.clientWidth)+10,p=h-this.el.offsetHeight/2;break;case"left":this.el.classList.add(je.g),g=this.plot_view.layout.bbox.width-f+10,p=h-this.el.offsetHeight/2;break;case"below":this.el.classList.add(je.a),p=h+(this.el.offsetHeight-this.el.clientHeight)+10,v=Math.round(f-this.el.offsetWidth/2);break;case"above":this.el.classList.add(je.c),p=h-this.el.offsetHeight-10,v=Math.round(f-this.el.offsetWidth/2)}this.model.show_arrow&&this.el.classList.add("bk-tooltip-arrow"),this.el.childNodes.length>0?(this.el.style.top="".concat(p,"px"),this.el.style.left=v?"".concat(v,"px"):"auto",this.el.style.right=g?"".concat(g,"px"):"auto"):Object(te.L)(this.el)}}}]),n}(r.b);Ue.__name__="TooltipView";var Ge=function(t){d()(n,t);var e=Be(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"clear",value:function(){this.data=[]}},{key:"add",value:function(t,e,n){this.data=this.data.concat([[t,e,n]])}}],[{key:"init_Tooltip",value:function(){this.prototype.default_view=Ue,this.define({attachment:[b.vb,"horizontal"],inner_only:[b.i,!0],show_arrow:[b.i,!0]}),this.override({level:"overlay"}),this.internal({data:[b.e,[]],custom:[b.e]})}}]),n}(r.a);function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ge.__name__="Tooltip",Ge.init_Tooltip();var He=function(t){d()(n,t);var e=Ve(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.set_data(this.model.source)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.source.streaming,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.patching,(function(){return t.set_data(t.model.source)})),this.connect(this.model.source.change,(function(){return t.set_data(t.model.source)}))}},{key:"set_data",value:function(t){f()(m()(n.prototype),"set_data",this).call(this,t),this.visuals.warm_cache(t),this.plot_view.request_render()}},{key:"_map_data",value:function(){var t,e,n,r=this.plot_view.frame,i=this.model.dimension,a=r.xscales[this.model.x_range_name],s=r.yscales[this.model.y_range_name],l="height"==i?s:a,u="height"==i?a:s,c="height"==i?r.yview:r.xview,f="height"==i?r.xview:r.yview;t="data"==this.model.properties.lower.units?l.v_compute(this._lower):c.v_compute(this._lower),e="data"==this.model.properties.upper.units?l.v_compute(this._upper):c.v_compute(this._upper),n="data"==this.model.properties.base.units?u.v_compute(this._base):f.v_compute(this._base);var h="height"==i?[1,0]:[0,1],d=o()(h,2),p=d[0],v=d[1],g=[t,n],m=[e,n];this._lower_sx=g[p],this._lower_sy=g[v],this._upper_sx=m[p],this._upper_sy=m[v]}},{key:"render",value:function(){if(this.model.visible){this._map_data();var t=this.layer.ctx;if(this.visuals.line.doit)for(var e=0,n=this._lower_sx.length;e<n;e++)this.visuals.line.set_vectorize(t,e),t.beginPath(),t.moveTo(this._lower_sx[e],this._lower_sy[e]),t.lineTo(this._upper_sx[e],this._upper_sy[e]),t.stroke();var r="height"==this.model.dimension?0:Math.PI/2;if(null!=this.model.lower_head)for(var i=0,o=this._lower_sx.length;i<o;i++)t.save(),t.translate(this._lower_sx[i],this._lower_sy[i]),t.rotate(r+Math.PI),this.model.lower_head.render(t,i),t.restore();if(null!=this.model.upper_head)for(var a=0,s=this._upper_sx.length;a<s;a++)t.save(),t.translate(this._upper_sx[a],this._upper_sy[a]),t.rotate(r),this.model.upper_head.render(t,a),t.restore()}}}]),n}(r.b);He.__name__="WhiskerView";var qe=function(t){d()(n,t);var e=Ve(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Whisker",value:function(){this.prototype.default_view=He,this.mixins(_.f),this.define({lower:[b.t],lower_head:[b.F,function(){return new E({level:"underlay",size:10})}],upper:[b.t],upper_head:[b.F,function(){return new E({level:"underlay",size:10})}],base:[b.t],dimension:[b.q,"height"],source:[b.F,function(){return new S.a}],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({level:"underlay"})}}]),n}(r.a);qe.__name__="Whisker",qe.init_Whisker();var We=n(64);function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Xe=function(t){d()(n,t);var e=Ye(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(We.b);Xe.__name__="GuideRendererView";var $e=function(t){d()(n,t);var e=Ye(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_GuideRenderer",value:function(){this.override({level:"guide"})}}]),n}(We.a);function Je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}$e.__name__="GuideRenderer",$e.init_GuideRenderer();var Ke=Math.abs,Qe=Math.min,Ze=Math.max,tn=function(t){d()(n,t);var e=Je(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).rotate=!0,t}return u()(n,[{key:"render",value:function(){if(this.model.visible){var t={tick:this._tick_extent(),tick_label:this._tick_label_extents(),axis_label:this._axis_label_extent()},e=this.tick_coords,n=this.layer.ctx;n.save(),this._draw_rule(n,t),this._draw_major_ticks(n,t,e),this._draw_minor_ticks(n,t,e),this._draw_major_labels(n,t,e),this._draw_axis_label(n,t,e),null!=this._render&&this._render(n,t,e),n.restore()}}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_paint()}));var e=this.model.properties;this.on_change(e.visible,(function(){return t.plot_view.request_layout()}))}},{key:"get_size",value:function(){if(this.model.visible&&null==this.model.fixed_location){var t=this._get_size();return{width:0,height:Math.round(t)}}return{width:0,height:0}}},{key:"_get_size",value:function(){return this._tick_extent()+this._tick_label_extent()+this._axis_label_extent()}},{key:"_draw_rule",value:function(t,e){if(this.visuals.axis_line.doit){var n=o()(this.rule_coords,2),r=n[0],i=n[1],a=this.plot_view.map_to_screen(r,i,this.model.x_range_name,this.model.y_range_name),s=o()(a,2),l=s[0],u=s[1],c=o()(this.normals,2),f=c[0],h=c[1],d=o()(this.offsets,2),p=d[0],v=d[1];this.visuals.axis_line.set_value(t),t.beginPath(),t.moveTo(Math.round(l[0]+f*p),Math.round(u[0]+h*v));for(var g=1;g<l.length;g++){var m=Math.round(l[g]+f*p),y=Math.round(u[g]+h*v);t.lineTo(m,y)}t.stroke()}}},{key:"_draw_major_ticks",value:function(t,e,n){var r=this.model.major_tick_in,i=this.model.major_tick_out,o=this.visuals.major_tick_line;this._draw_ticks(t,n.major,r,i,o)}},{key:"_draw_minor_ticks",value:function(t,e,n){var r=this.model.minor_tick_in,i=this.model.minor_tick_out,o=this.visuals.minor_tick_line;this._draw_ticks(t,n.minor,r,i,o)}},{key:"_draw_major_labels",value:function(t,e,n){var r=n.major,i=this.compute_labels(r[this.dimension]),o=this.model.major_label_orientation,a=e.tick+this.model.major_label_standoff,s=this.visuals.major_label_text;this._draw_oriented_labels(t,i,r,o,this.panel.side,a,s)}},{key:"_draw_axis_label",value:function(t,e,n){if(null!=this.model.axis_label&&0!=this.model.axis_label.length&&null==this.model.fixed_location){var r,i;switch(this.panel.side){case"above":r=this.panel._hcenter.value,i=this.panel._bottom.value;break;case"below":r=this.panel._hcenter.value,i=this.panel._top.value;break;case"left":r=this.panel._right.value,i=this.panel._vcenter.value;break;case"right":r=this.panel._left.value,i=this.panel._vcenter.value;break;default:throw new Error("unknown side: ".concat(this.panel.side))}var o=[[r],[i]],a=e.tick+Object(q.y)(e.tick_label)+this.model.axis_label_standoff,s=this.visuals.axis_label_text;this._draw_oriented_labels(t,[this.model.axis_label],o,"parallel",this.panel.side,a,s,"screen")}}},{key:"_draw_ticks",value:function(t,e,n,r,i){if(i.doit){var a=o()(e,2),s=a[0],l=a[1],u=this.plot_view.map_to_screen(s,l,this.model.x_range_name,this.model.y_range_name),c=o()(u,2),f=c[0],h=c[1],d=o()(this.normals,2),p=d[0],v=d[1],g=o()(this.offsets,2),m=g[0],y=g[1],_=p*(m-n),b=v*(y-n),A=p*(m+r),w=v*(y+r);i.set_value(t);for(var x=0;x<f.length;x++){var k=Math.round(f[x]+A),C=Math.round(h[x]+w),E=Math.round(f[x]+_),S=Math.round(h[x]+b);t.beginPath(),t.moveTo(k,C),t.lineTo(E,S),t.stroke()}}}},{key:"_draw_oriented_labels",value:function(t,e,n,r,i,a,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"data";if(s.doit&&0!=e.length){var u,c,f,h;if("screen"==l){var d=o()(n,2);u=d[0],c=d[1],f=0,h=0}else{var p=o()(n,2),v=p[0],g=p[1],m=this.plot_view.map_to_screen(v,g,this.model.x_range_name,this.model.y_range_name),y=o()(m,2);u=y[0],c=y[1];var _=o()(this.offsets,2);f=_[0],h=_[1]}var b,A=o()(this.normals,2),w=A[0],x=A[1],k=w*(f+a),C=x*(h+a);s.set_value(t),this.panel.apply_label_text_heuristics(t,r),b=Object(ct.j)(r)?this.panel.get_label_angle_heuristic(r):-r;for(var E=0;E<u.length;E++){var S=Math.round(u[E]+k),R=Math.round(c[E]+C);t.translate(S,R),t.rotate(b),t.fillText(e[E],0,0),t.rotate(-b),t.translate(-S,-R)}}}},{key:"_axis_label_extent",value:function(){if(null==this.model.axis_label||""==this.model.axis_label)return 0;var t=this.model.axis_label_standoff,e=this.visuals.axis_label_text;return this._oriented_labels_extent([this.model.axis_label],"parallel",this.panel.side,t,e)}},{key:"_tick_extent",value:function(){return this.model.major_tick_out}},{key:"_tick_label_extent",value:function(){return Object(q.y)(this._tick_label_extents())}},{key:"_tick_label_extents",value:function(){var t=this.tick_coords.major,e=this.compute_labels(t[this.dimension]),n=this.model.major_label_orientation,r=this.model.major_label_standoff,i=this.visuals.major_label_text;return[this._oriented_labels_extent(e,n,this.panel.side,r,i)]}},{key:"_oriented_labels_extent",value:function(t,e,n,r,i){if(0==t.length)return 0;var o,a,s=this.layer.ctx;i.set_value(s),Object(ct.j)(e)?(o=1,a=this.panel.get_label_angle_heuristic(e)):(o=2,a=-e),a=Math.abs(a);for(var l=Math.cos(a),u=Math.sin(a),c=0,f=0;f<t.length;f++){var h=1.1*s.measureText(t[f]).width,d=.9*s.measureText(t[f]).ascent,p=void 0;(p="above"==n||"below"==n?h*u+d/o*l:h*l+d/o*u)>c&&(c=p)}return c>0&&(c+=r),c}},{key:"compute_labels",value:function(t){for(var e=this.model.formatter.doFormat(t,this),n=0;n<t.length;n++)t[n]in this.model.major_label_overrides&&(e[n]=this.model.major_label_overrides[t[n]]);return e}},{key:"serializable_state",value:function(){return Object.assign(Object.assign({},f()(m()(n.prototype),"serializable_state",this).call(this)),{bbox:this.layout.bbox.box})}},{key:"panel",get:function(){return this.layout}},{key:"needs_clip",get:function(){return null!=this.model.fixed_location}},{key:"normals",get:function(){return this.panel.normals}},{key:"dimension",get:function(){return this.panel.dimension}},{key:"offsets",get:function(){if(null!=this.model.fixed_location)return[0,0];var t=this.plot_view.frame,e=0,n=0;switch(this.panel.side){case"below":n=Ke(this.panel._top.value-t._bottom.value);break;case"above":n=Ke(this.panel._bottom.value-t._top.value);break;case"right":e=Ke(this.panel._left.value-t._right.value);break;case"left":e=Ke(this.panel._right.value-t._left.value)}return[e,n]}},{key:"ranges",get:function(){var t=this.dimension,e=(t+1)%2,n=this.plot_view.frame,r=[n.x_ranges[this.model.x_range_name],n.y_ranges[this.model.y_range_name]];return[r[t],r[e]]}},{key:"computed_bounds",get:function(){var t=o()(this.ranges,1)[0],e=this.model.bounds,n=[t.min,t.max];if("auto"==e)return[t.min,t.max];if(Object(ct.a)(e)){var r,i,a=o()(e,2),s=a[0],l=a[1],u=n[0],c=n[1];return Ke(s-l)>Ke(u-c)?(r=Ze(Qe(s,l),u),i=Qe(Ze(s,l),c)):(r=Qe(s,l),i=Ze(s,l)),[r,i]}throw new Error("user bounds '".concat(e,"' not understood"))}},{key:"rule_coords",get:function(){var t=this.dimension,e=(t+1)%2,n=o()(this.ranges,1)[0],r=o()(this.computed_bounds,2),i=r[0],a=r[1],s=[new Array(2),new Array(2)];return s[t][0]=Math.max(i,n.min),s[t][1]=Math.min(a,n.max),s[t][0]>s[t][1]&&(s[t][0]=s[t][1]=NaN),s[e][0]=this.loc,s[e][1]=this.loc,s}},{key:"tick_coords",get:function(){for(var t=this.dimension,e=(t+1)%2,n=o()(this.ranges,1)[0],r=o()(this.computed_bounds,2),i=r[0],a=r[1],s=this.model.ticker.get_ticks(i,a,n,this.loc,{}),l=s.major,u=s.minor,c=[[],[]],f=[[],[]],h=[n.min,n.max],d=h[0],p=h[1],v=0;v<l.length;v++)l[v]<d||l[v]>p||(c[t].push(l[v]),c[e].push(this.loc));for(var g=0;g<u.length;g++)u[g]<d||u[g]>p||(f[t].push(u[g]),f[e].push(this.loc));return{major:c,minor:f}}},{key:"loc",get:function(){var t=this.model.fixed_location;if(null!=t){if(Object(ct.g)(t))return t;var e=o()(this.ranges,2)[1];if(e instanceof St.a)return e.synthetic(t);throw new Error("unexpected")}var n=o()(this.ranges,2)[1];switch(this.panel.side){case"left":case"below":return n.start;case"right":case"above":return n.end}}}]),n}(Xe);tn.__name__="AxisView";var en=function(t){d()(n,t);var e=Je(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Axis",value:function(){this.prototype.default_view=tn,this.mixins([["axis_",_.e],["major_tick_",_.e],["minor_tick_",_.e],["major_label_",_.g],["axis_label_",_.g]]),this.define({bounds:[b.e,"auto"],ticker:[b.F],formatter:[b.F],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"],axis_label:[b.nb,""],axis_label_standoff:[b.G,5],major_label_standoff:[b.G,5],major_label_orientation:[b.e,"horizontal"],major_label_overrides:[b.e,{}],major_tick_in:[b.V,2],major_tick_out:[b.V,6],minor_tick_in:[b.V,0],minor_tick_out:[b.V,4],fixed_location:[b.e,null]}),this.override({axis_line_color:"black",major_tick_line_color:"black",minor_tick_line_color:"black",major_label_text_font_size:"11px",major_label_text_align:"center",major_label_text_baseline:"alphabetic",axis_label_text_font_size:"13px",axis_label_text_font_style:"italic"})}}]),n}($e);function nn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}en.__name__="Axis",en.init_Axis();var an=function(t){d()(n,t);var e=on(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_ticks",value:function(t,e,n,r,i){return{major:this._collect(n.factors,n,t,e),minor:[],tops:this._collect(n.tops||[],n,t,e),mids:this._collect(n.mids||[],n,t,e)}}},{key:"_collect",value:function(t,e,n,r){var i,o=[],a=nn(t);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=e.synthetic(s);l>n&&l<r&&o.push(s)}}catch(t){a.e(t)}finally{a.f()}return o}}]),n}(H);function sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}an.__name__="CategoricalTicker";var ln=function(t){d()(n,t);var e=sn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"doFormat",value:function(t,e){return Object(q.d)(t)}}]),n}(et);function un(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ln.__name__="CategoricalTickFormatter";var hn=function(t){d()(n,t);var e=fn(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_render",value:function(t,e,n){this._draw_group_separators(t,e,n)}},{key:"_draw_group_separators",value:function(t,e,n){var r=o()(this.ranges,1)[0],i=o()(this.computed_bounds,2),a=i[0],s=i[1];if(r.tops&&!(r.tops.length<2)&&this.visuals.separator_line.doit){for(var l=this.dimension,u=(l+1)%2,c=[[],[]],f=0,h=0;h<r.tops.length-1;h++){for(var d=void 0,p=void 0,v=f;v<r.factors.length;v++)if(r.factors[v][0]==r.tops[h+1]){var g=[r.factors[v-1],r.factors[v]];d=g[0],p=g[1],f=v;break}var m=(r.synthetic(d)+r.synthetic(p))/2;m>a&&m<s&&(c[l].push(m),c[u].push(this.loc))}var y=this._tick_label_extent();this._draw_ticks(t,c,-3,y-6,this.visuals.separator_line)}}},{key:"_draw_major_labels",value:function(t,e,n){for(var r=this._get_factor_info(),i=e.tick+this.model.major_label_standoff,a=0;a<r.length;a++){var s=o()(r[a],4),l=s[0],u=s[1],c=s[2],f=s[3];this._draw_oriented_labels(t,l,u,c,this.panel.side,i,f),i+=e.tick_label[a]}}},{key:"_tick_label_extents",value:function(){var t,e=[],n=un(this._get_factor_info());try{for(n.s();!(t=n.n()).done;){var r=o()(t.value,4),i=r[0],a=r[2],s=r[3],l=this._oriented_labels_extent(i,a,this.panel.side,this.model.major_label_standoff,s);e.push(l)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"_get_factor_info",value:function(){var t=o()(this.ranges,1)[0],e=o()(this.computed_bounds,2),n=e[0],r=e[1],i=this.loc,a=this.model.ticker.get_ticks(n,r,t,i,{}),s=this.tick_coords,l=[];if(1==t.levels){var u=a.major,c=this.model.formatter.doFormat(u,this);l.push([c,s.major,this.model.major_label_orientation,this.visuals.major_label_text])}else if(2==t.levels){var f=a.major.map((function(t){return t[1]})),h=this.model.formatter.doFormat(f,this);l.push([h,s.major,this.model.major_label_orientation,this.visuals.major_label_text]),l.push([a.tops,s.tops,this.model.group_label_orientation,this.visuals.group_text])}else if(3==t.levels){var d=a.major.map((function(t){return t[2]})),p=this.model.formatter.doFormat(d,this),v=a.mids.map((function(t){return t[1]}));l.push([p,s.major,this.model.major_label_orientation,this.visuals.major_label_text]),l.push([v,s.mids,this.model.subgroup_label_orientation,this.visuals.subgroup_text]),l.push([a.tops,s.tops,this.model.group_label_orientation,this.visuals.group_text])}return l}},{key:"tick_coords",get:function(){var t=this,e=this.dimension,n=(e+1)%2,r=o()(this.ranges,1)[0],i=o()(this.computed_bounds,2),a=i[0],s=i[1],l=this.model.ticker.get_ticks(a,s,r,this.loc,{}),u={major:[[],[]],mids:[[],[]],tops:[[],[]],minor:[[],[]]};return u.major[e]=l.major,u.major[n]=l.major.map((function(e){return t.loc})),3==r.levels&&(u.mids[e]=l.mids,u.mids[n]=l.mids.map((function(e){return t.loc}))),r.levels>1&&(u.tops[e]=l.tops,u.tops[n]=l.tops.map((function(e){return t.loc}))),u}}]),n}(tn);hn.__name__="CategoricalAxisView";var dn=function(t){d()(n,t);var e=fn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_CategoricalAxis",value:function(){this.prototype.default_view=hn,this.mixins([["separator_",_.e],["group_",_.g],["subgroup_",_.g]]),this.define({group_label_orientation:[b.e,"parallel"],subgroup_label_orientation:[b.e,"parallel"]}),this.override({ticker:function(){return new an},formatter:function(){return new ln},separator_line_color:"lightgrey",separator_line_width:2,group_text_font_style:"bold",group_text_font_size:"11px",group_text_color:"grey",subgroup_text_font_style:"bold",subgroup_text_font_size:"11px"})}}]),n}(en);function pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}dn.__name__="CategoricalAxis",dn.init_CategoricalAxis();var vn=function(t){d()(n,t);var e=pn(n);function n(t){return s()(this,n),e.call(this,t)}return n}(en);function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vn.__name__="ContinuousAxis";var mn=function(t){d()(n,t);var e=gn(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(tn);mn.__name__="LinearAxisView";var yn=function(t){d()(n,t);var e=gn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_LinearAxis",value:function(){this.prototype.default_view=mn,this.override({ticker:function(){return new Z},formatter:function(){return new ot}})}}]),n}(vn);yn.__name__="LinearAxis",yn.init_LinearAxis();var _n=n(58),bn=n.n(_n),An=n(50);function wn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function Cn(t){return bn()(t,"%Y %m %d %H %M %S").split(/\s+/).map((function(t){return parseInt(t,10)}))}function En(t,e){if(Object(ct.e)(e))return e(t);var n=Object(An.b)("$1%06d",function(t){return Math.round(t/1e3%1*1e6)}(t));return-1==(e=e.replace(/((^|[^%])(%%)*)%f/,n)).indexOf("%")?e:bn()(t,e)}var Sn=["microseconds","milliseconds","seconds","minsec","minutes","hourmin","hours","days","months","years"],Rn=function(t){d()(n,t);var e=kn(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).strip_leading_zeros=!0,r}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._update_width_formats()}},{key:"_update_width_formats",value:function(){var t=+bn()(new Date),e=function(e){var n=e.map((function(e){return En(t,e).length})),r=Object(q.w)(Object(q.D)(n,e),(function(t){return o()(t,1)[0]}));return Object(q.C)(r)};this._width_formats={microseconds:e(this.microseconds),milliseconds:e(this.milliseconds),seconds:e(this.seconds),minsec:e(this.minsec),minutes:e(this.minutes),hourmin:e(this.hourmin),hours:e(this.hours),days:e(this.days),months:e(this.months),years:e(this.years)}}},{key:"_get_resolution_str",value:function(t,e){var n=1.1*t;switch(!1){case!(n<.001):return"microseconds";case!(n<1):return"milliseconds";case!(n<60):return e>=60?"minsec":"seconds";case!(n<3600):return e>=3600?"hourmin":"minutes";case!(n<86400):return"hours";case!(n<2678400):return"days";case!(n<31536e3):return"months";default:return"years"}}},{key:"doFormat",value:function(t,e){if(0==t.length)return[];var n,r=Math.abs(t[t.length-1]-t[0])/1e3,i=r/(t.length-1),a=this._get_resolution_str(i,r),s=o()(this._width_formats[a],2),l=o()(s[1],1)[0],u=[],c=Sn.indexOf(a),f={},h=wn(Sn);try{for(h.s();!(n=h.n()).done;){f[n.value]=0}}catch(t){h.e(t)}finally{h.f()}f.seconds=5,f.minsec=4,f.minutes=4,f.hourmin=3,f.hours=3;var d,p=wn(t);try{for(p.s();!(d=p.n()).done;){var v=d.value,g=void 0,m=void 0;try{m=Cn(v),g=En(v,l)}catch(t){he.a.warn("unable to format tick for timestamp value ".concat(v)),he.a.warn(" - ".concat(t)),u.push("ERR");continue}for(var y=!1,_=c;0==m[f[Sn[_]]];){if((_+=1)==Sn.length)break;if(("minsec"==a||"hourmin"==a)&&!y){if("minsec"==a&&0==m[4]&&0!=m[5]||"hourmin"==a&&0==m[3]&&0!=m[4]){g=En(v,this._width_formats[Sn[c-1]][1][0]);break}y=!0}g=En(v,this._width_formats[Sn[_]][1][0])}if(this.strip_leading_zeros){var b=g.replace(/^0+/g,"");b!=g&&isNaN(parseInt(b))&&(b="0".concat(b)),u.push(b)}else u.push(g)}}catch(t){p.e(t)}finally{p.f()}return u}}],[{key:"init_DatetimeTickFormatter",value:function(){this.define({microseconds:[b.g,["%fus"]],milliseconds:[b.g,["%3Nms","%S.%3Ns"]],seconds:[b.g,["%Ss"]],minsec:[b.g,[":%M:%S"]],minutes:[b.g,[":%M","%Mm"]],hourmin:[b.g,["%H:%M"]],hours:[b.g,["%Hh","%H:%M"]],days:[b.g,["%m/%d","%a%d"]],months:[b.g,["%m/%Y","%b %Y"]],years:[b.g,["%Y"]]})}}]),n}(et);function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Rn.__name__="DatetimeTickFormatter",Rn.init_DatetimeTickFormatter();var In=function(t){d()(n,t);var e=Tn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_best_ticker",value:function(t,e,n){var r,i=e-t,o=this.get_ideal_interval(t,e,n),a=[Object(q.x)(this.min_intervals,o)-1,Object(q.x)(this.max_intervals,o)],s=[this.min_intervals[a[0]],this.max_intervals[a[1]]].map((function(t){return Math.abs(n-i/t)}));if(Object(q.m)(s.filter((function(t){return!isNaN(t)}))))r=this.tickers[0];else{var l=a[Object(q.a)(s)];r=this.tickers[l]}return r}},{key:"get_interval",value:function(t,e,n){return this.get_best_ticker(t,e,n).get_interval(t,e,n)}},{key:"get_ticks_no_defaults",value:function(t,e,n,r){return this.get_best_ticker(t,e,r).get_ticks_no_defaults(t,e,n,r)}},{key:"min_intervals",get:function(){return this.tickers.map((function(t){return t.get_min_interval()}))}},{key:"max_intervals",get:function(){return this.tickers.map((function(t){return t.get_max_interval()}))}},{key:"min_interval",get:function(){return this.min_intervals[0]}},{key:"max_interval",get:function(){return this.max_intervals[0]}}],[{key:"init_CompositeTicker",value:function(){this.define({tickers:[b.g,[]]})}}]),n}($);function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}In.__name__="CompositeTicker",In.init_CompositeTicker();var Mn=function(t){d()(n,t);var e=On(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_interval",value:function(t,e,n){return this.interval}},{key:"min_interval",get:function(){return this.interval}},{key:"max_interval",get:function(){return this.interval}}],[{key:"init_SingleIntervalTicker",value:function(){this.define({interval:[b.V]})}}]),n}($);Mn.__name__="SingleIntervalTicker",Mn.init_SingleIntervalTicker();function Pn(t){return new Date(t.getTime())}function Dn(t){var e=Pn(t);return e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e}function Nn(t){var e=Dn(t);return e.setUTCMonth(0),e}function Ln(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var zn=function(t){d()(n,t);var e=Fn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this);var t=this.days;t.length>1?this.interval=864e5*(t[1]-t[0]):this.interval=26784e5}},{key:"get_ticks_no_defaults",value:function(t,e,n,r){var i=function(t,e){var n=Dn(new Date(t)),r=Dn(new Date(e));r.setUTCMonth(r.getUTCMonth()+1);for(var i=[],o=n;i.push(Pn(o)),o.setUTCMonth(o.getUTCMonth()+1),!(o>r););return i}(t,e),o=this.days,a=this.interval;return{major:Object(q.b)(i.map((function(t){return function(t,e){var n,r=t.getUTCMonth(),i=[],a=Ln(o);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=Pn(t);l.setUTCDate(s),new Date(l.getTime()+e/2).getUTCMonth()==r&&i.push(l)}}catch(t){a.e(t)}finally{a.f()}return i}(t,a)}))).map((function(t){return t.getTime()})).filter((function(n){return t<=n&&n<=e})),minor:[]}}}],[{key:"init_DaysTicker",value:function(){this.define({days:[b.g,[]]}),this.override({num_minor_ticks:0})}}]),n}(Mn);function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}zn.__name__="DaysTicker",zn.init_DaysTicker();var Un=function(t){d()(n,t);var e=Bn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this);var t=this.months;t.length>1?this.interval=2592e6*(t[1]-t[0]):this.interval=31104e6}},{key:"get_ticks_no_defaults",value:function(t,e,n,r){var i=function(t,e){var n=Nn(new Date(t)),r=Nn(new Date(e));r.setUTCFullYear(r.getUTCFullYear()+1);for(var i=[],o=n;i.push(Pn(o)),o.setUTCFullYear(o.getUTCFullYear()+1),!(o>r););return i}(t,e),o=this.months;return{major:Object(q.b)(i.map((function(t){return o.map((function(e){var n=Pn(t);return n.setUTCMonth(e),n}))}))).map((function(t){return t.getTime()})).filter((function(n){return t<=n&&n<=e})),minor:[]}}}],[{key:"init_MonthsTicker",value:function(){this.define({months:[b.g,[]]})}}]),n}(Mn);function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Un.__name__="MonthsTicker",Un.init_MonthsTicker();var Vn=function(t){d()(n,t);var e=Gn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.interval=31536e6,this.basic_ticker=new Z({num_minor_ticks:0})}},{key:"get_ticks_no_defaults",value:function(t,e,n,r){var i=Nn(new Date(t)).getUTCFullYear(),o=Nn(new Date(e)).getUTCFullYear();return{major:this.basic_ticker.get_ticks_no_defaults(i,o,n,r).major.map((function(t){return Date.UTC(t,0,1)})).filter((function(n){return t<=n&&n<=e})),minor:[]}}}]),n}(Mn);function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Vn.__name__="YearsTicker";var qn=function(t){d()(n,t);var e=Hn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_DatetimeTicker",value:function(){this.override({num_minor_ticks:0,tickers:function(){return[new K({mantissas:[1,2,5],base:10,min_interval:0,max_interval:500,num_minor_ticks:0}),new K({mantissas:[1,2,5,10,15,20,30],base:60,min_interval:1e3,max_interval:18e5,num_minor_ticks:0}),new K({mantissas:[1,2,4,6,8,12],base:24,min_interval:36e5,max_interval:432e5,num_minor_ticks:0}),new zn({days:Object(q.q)(1,32)}),new zn({days:Object(q.q)(1,31,3)}),new zn({days:[1,8,15,22]}),new zn({days:[1,15]}),new Un({months:Object(q.q)(0,12,1)}),new Un({months:Object(q.q)(0,12,2)}),new Un({months:Object(q.q)(0,12,4)}),new Un({months:Object(q.q)(0,12,6)}),new Vn({})]}})}}]),n}(In);function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}qn.__name__="DatetimeTicker",qn.init_DatetimeTicker();var Yn=function(t){d()(n,t);var e=Wn(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(mn);Yn.__name__="DatetimeAxisView";var Xn=function(t){d()(n,t);var e=Wn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_DatetimeAxis",value:function(){this.prototype.default_view=Yn,this.override({ticker:function(){return new qn},formatter:function(){return new Rn}})}}]),n}(yn);function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Xn.__name__="DatetimeAxis",Xn.init_DatetimeAxis();var Jn=function(t){d()(n,t);var e=$n(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.basic_formatter=new ot}},{key:"doFormat",value:function(t,e){if(0==t.length)return[];for(var n=null!=this.ticker?this.ticker.base:10,r=!1,i=new Array(t.length),o=0,a=t.length;o<a;o++)if(i[o]="".concat(n,"^").concat(Math.round(Math.log(t[o])/Math.log(n))),o>0&&i[o]==i[o-1]){r=!0;break}return r?this.basic_formatter.doFormat(t,e):i}}],[{key:"init_LogTickFormatter",value:function(){this.define({ticker:[b.F,null]})}}]),n}(et);function Kn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Jn.__name__="LogTickFormatter",Jn.init_LogTickFormatter();var tr=function(t){d()(n,t);var e=Zn(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_ticks_no_defaults",value:function(t,e,n,r){var i,o=this.num_minor_ticks,a=[],s=this.base,l=Math.log(t)/Math.log(s),u=Math.log(e)/Math.log(s),c=u-l;if(isFinite(c))if(c<2){var f=this.get_interval(t,e,r),h=Math.floor(t/f),d=Math.ceil(e/f);if(i=Object(q.q)(h,d+1).filter((function(t){return 0!=t})).map((function(t){return t*f})).filter((function(n){return t<=n&&n<=e})),o>0&&i.length>0){var p,v=f/o,g=Object(q.q)(0,o).map((function(t){return t*v})),m=Kn(g.slice(1));try{for(m.s();!(p=m.n()).done;){var y=p.value;a.push(i[0]-y)}}catch(t){m.e(t)}finally{m.f()}var _,b=Kn(i);try{for(b.s();!(_=b.n()).done;){var A,w=_.value,x=Kn(g);try{for(x.s();!(A=x.n()).done;){var k=A.value;a.push(w+k)}}catch(t){x.e(t)}finally{x.f()}}}catch(t){b.e(t)}finally{b.f()}}}else{var C=Math.ceil(.999999*l),E=Math.floor(1.000001*u),S=Math.ceil((E-C)/9);if(i=Object(q.q)(C-1,E+1,S).map((function(t){return Math.pow(s,t)})),o>0&&i.length>0){var R,T=Math.pow(s,S)/o,I=Object(q.q)(1,o+1).map((function(t){return t*T})),O=Kn(I);try{for(O.s();!(R=O.n()).done;){var M=R.value;a.push(i[0]/M)}}catch(t){O.e(t)}finally{O.f()}a.push(i[0]);var P,D=Kn(i);try{for(D.s();!(P=D.n()).done;){var N,L=P.value,j=Kn(I);try{for(j.s();!(N=j.n()).done;){var F=N.value;a.push(L*F)}}catch(t){j.e(t)}finally{j.f()}}}catch(t){D.e(t)}finally{D.f()}}}else i=[];return{major:i.filter((function(n){return t<=n&&n<=e})),minor:a.filter((function(n){return t<=n&&n<=e}))}}}],[{key:"init_LogTicker",value:function(){this.override({mantissas:[1,5]})}}]),n}(K);function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}tr.__name__="LogTicker",tr.init_LogTicker();var nr=function(t){d()(n,t);var e=er(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(tn);nr.__name__="LogAxisView";var rr=function(t){d()(n,t);var e=er(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_LogAxis",value:function(){this.prototype.default_view=nr,this.override({ticker:function(){return new tr},formatter:function(){return new Jn}})}}]),n}(vn);rr.__name__="LogAxis",rr.init_LogAxis();var ir=n(32);function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ar=function(t){d()(n,t);var e=or(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"doFormat",value:function(t,e){if(null==this.dimension)throw new Error("MercatorTickFormatter.dimension not configured");if(0==t.length)return[];var r=t.length,i=new Array(r);if("lon"==this.dimension)for(var a=0;a<r;a++){var s=ir.e.inverse([t[a],e.loc]),l=o()(s,1)[0];i[a]=l}else for(var u=0;u<r;u++){var c=ir.e.inverse([e.loc,t[u]]),h=o()(c,2)[1];i[u]=h}return f()(m()(n.prototype),"doFormat",this).call(this,i,e)}}],[{key:"init_MercatorTickFormatter",value:function(){this.define({dimension:[b.H]})}}]),n}(ot);function sr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ar.__name__="MercatorTickFormatter",ar.init_MercatorTickFormatter();var cr=function(t){d()(n,t);var e=ur(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_ticks_no_defaults",value:function(t,e,r,i){if(null==this.dimension)throw new Error("MercatorTicker.dimension not configured");var a,s,l,u=Object(ir.a)(t,e,this.dimension),c=o()(u,2);if(t=c[0],e=c[1],"lon"===this.dimension){var h=ir.e.inverse([t,r]),d=o()(h,2);a=d[0],l=d[1];var p=ir.e.inverse([e,r]),v=o()(p,2);s=v[0],l=v[1]}else{var g=ir.e.inverse([r,t]),y=o()(g,2);l=y[0],a=y[1];var _=ir.e.inverse([r,e]),b=o()(_,2);l=b[0],s=b[1]}var A=f()(m()(n.prototype),"get_ticks_no_defaults",this).call(this,a,s,r,i),w=[],x=[];if("lon"===this.dimension){var k,C=sr(A.major);try{for(C.s();!(k=C.n()).done;){var E=k.value;if(Object(ir.b)(E,"lon")){var S=ir.e.forward([E,l]),R=o()(S,1)[0];w.push(R)}}}catch(t){C.e(t)}finally{C.f()}var T,I=sr(A.minor);try{for(I.s();!(T=I.n()).done;){var O=T.value;if(Object(ir.b)(O,"lon")){var M=ir.e.forward([O,l]),P=o()(M,1)[0];x.push(P)}}}catch(t){I.e(t)}finally{I.f()}}else{var D,N=sr(A.major);try{for(N.s();!(D=N.n()).done;){var L=D.value;if(Object(ir.b)(L,"lat")){var j=ir.e.forward([l,L]),F=o()(j,2)[1];w.push(F)}}}catch(t){N.e(t)}finally{N.f()}var z,B=sr(A.minor);try{for(B.s();!(z=B.n()).done;){var U=z.value;if(Object(ir.b)(U,"lat")){var G=ir.e.forward([l,U]),V=o()(G,2)[1];x.push(V)}}}catch(t){B.e(t)}finally{B.f()}}return{major:w,minor:x}}}],[{key:"init_MercatorTicker",value:function(){this.define({dimension:[b.H]})}}]),n}(Z);function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}cr.__name__="MercatorTicker",cr.init_MercatorTicker();var hr=function(t){d()(n,t);var e=fr(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(tn);hr.__name__="MercatorAxisView";var dr=function(t){d()(n,t);var e=fr(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_MercatorAxis",value:function(){this.prototype.default_view=hr,this.override({ticker:function(){return new cr({dimension:"lat"})},formatter:function(){return new ar({dimension:"lat"})}})}}]),n}(yn);function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}dr.__name__="MercatorAxis",dr.init_MercatorAxis();var vr=function(t){d()(n,t);var e=pr(n);function n(t){return s()(this,n),e.call(this,t)}return n}(G.a);function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vr.__name__="Callback";var mr=function(t){d()(n,t);var e=gr(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"execute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.func.apply(t,this.values.concat(t,e))}},{key:"names",get:function(){return Object(xt.e)(this.args)}},{key:"values",get:function(){return Object(xt.i)(this.args)}},{key:"func",get:function(){var t=Object(kt.e)(this.code);return wt()(Function,U()(this.names).concat(["cb_obj","cb_data",t]))}}],[{key:"init_CustomJS",value:function(){this.define({args:[b.e,{}],code:[b.nb,""]})}}]),n}(vr);function yr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}mr.__name__="CustomJS",mr.init_CustomJS();var Ar=function(t){d()(n,t);var e=br(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"execute",value:function(t,e){var n,r=this,i=e.source,o=function(t){var e=Object(An.a)(r.url,i,t);r.same_tab?window.location.href=e:window.open(e)},a=i.selected,s=yr(a.indices);try{for(s.s();!(n=s.n()).done;){o(n.value)}}catch(t){s.e(t)}finally{s.f()}var l,u=yr(a.line_indices);try{for(u.s();!(l=u.n()).done;){o(l.value)}}catch(t){u.e(t)}finally{u.f()}}}],[{key:"init_OpenURL",value:function(){this.define({url:[b.nb,"http://"],same_tab:[b.i,!1]})}}]),n}(vr);Ar.__name__="OpenURL",Ar.init_OpenURL();var wr=n(44),xr=n(46);function kr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Er(t){return U()(t.childNodes)}function Sr(t){if(!t)throw new Error("cannot create a random attribute name for an undefined object");var e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{n="";for(var r=0;r<12;r++)n+=e[Math.floor(Math.random()*e.length)]}while(t[n]);return n}function Rr(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}var Tr=function(t,e){var n=new Map,r=t.split(",");e=e||10;for(var i=0;i<r.length;i+=2){var o="&"+r[i+1]+";",a=parseInt(r[i],e);n.set(o,"&#"+a+";")}return n.set("\\xa0","&#160;"),n}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ir={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},Or=function(){function t(e,n){s()(this,t),this.__root=e,this.__ctx=n}return u()(t,[{key:"addColorStop",value:function(t,e){var n=this.__ctx.__createElement("stop");if(n.setAttribute("offset","".concat(t)),-1!==e.indexOf("rgba")){var r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(e),i=o()(r,5),a=i[1],s=i[2],l=i[3],u=i[4];n.setAttribute("stop-color","rgb(".concat(a,",").concat(s,",").concat(l,")")),n.setAttribute("stop-opacity",u)}else n.setAttribute("stop-color",e);this.__root.appendChild(n)}}]),t}();Or.__name__="CanvasGradient";var Mr=function t(e,n){s()(this,t),this.__root=e,this.__ctx=n};Mr.__name__="CanvasPattern";var Pr=function(){function t(e){var n,r,i,o;s()(this,t),this.__currentPosition=null,this.__currentElementsToStyle=null,this.enableMirroring=null!==(n=null==e?void 0:e.enableMirroring)&&void 0!==n&&n,this.__document=null!==(r=null==e?void 0:e.document)&&void 0!==r?r:document,(null==e?void 0:e.ctx)?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version","1.1"),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.width=null!==(i=null==e?void 0:e.width)&&void 0!==i?i:500,this.height=null!==(o=null==e?void 0:e.height)&&void 0!==o?o:500,this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}return u()(t,[{key:"__createElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.__document.createElementNS("http://www.w3.org/2000/svg",t);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var i=Object.keys(e),o=0,a=i;o<a.length;o++){var s=a[o];r.setAttribute(s,"".concat(e[s]))}return r}},{key:"__setDefaultStyles",value:function(){for(var t=Object.keys(Ir),e=0;e<t.length;e++){var n=t[e];this[n]=Ir[n].canvas}}},{key:"__applyStyleState",value:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n];this[r]=t[r]}}},{key:"__getStyleState",value:function(){for(var t=Object.keys(Ir),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this[r]}return e}},{key:"__applyStyleToCurrentElement",value:function(t){var e=this.__currentElement,n=this.__currentElementsToStyle;if(null!=n){e.setAttribute(t,""),e=n.element;var r,i=kr(n.children);try{for(i.s();!(r=i.n()).done;){r.value.setAttribute(t,"")}}catch(t){i.e(t)}finally{i.f()}}for(var a=Object.keys(Ir),s=0;s<a.length;s++){var l=Ir[a[s]],u=this[a[s]];if(l.apply)if(u instanceof Mr){if(u.__ctx)for(;u.__ctx.__defs.childNodes.length;){var c=Er(u.__ctx.__defs)[0].getAttribute("id");this.__ids[c]=c,this.__defs.appendChild(u.__ctx.__defs.childNodes[0])}var f=u.__root.getAttribute("id");e.setAttribute(l.apply,"url(#".concat(f,")"))}else if(u instanceof Or){var h=u.__root.getAttribute("id");e.setAttribute(l.apply,"url(#".concat(h,")"))}else if(-1!==l.apply.indexOf(t)&&l.svg!==u)if("stroke"!==l.svgAttr&&"fill"!==l.svgAttr||!Object(ct.j)(u)||-1===u.indexOf("rgba")){var d=l.svgAttr;if("globalAlpha"===a[s]&&(d=t+"-"+l.svgAttr,e.getAttribute(d)))continue;e.setAttribute(d,"".concat(u))}else{var p=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(u),v=o()(p,5),g=v[1],m=v[2],y=v[3],_=v[4];e.setAttribute(l.svgAttr,"rgb(".concat(g,",").concat(m,",").concat(y,")"));var b=parseFloat(_),A=this.globalAlpha;null!=A&&(b*=A),e.setAttribute(l.svgAttr+"-opacity","".concat(b))}}}},{key:"__closestGroupOrSvg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__currentElement;return"g"===t.nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)}},{key:"getSerializedSvg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(new XMLSerializer).serializeToString(this.__root),n=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;if(n.test(e)&&(e=e.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t){var r,i=kr(Tr);try{for(i.s();!(r=i.n()).done;){var a=o()(r.value,2),s=a[0],l=a[1],u=new RegExp(s,"gi");u.test(e)&&(e=e.replace(u,l))}}catch(t){i.e(t)}finally{i.f()}}return e}},{key:"getSvg",value:function(){return this.__root}},{key:"save",value:function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())}},{key:"restore",value:function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=Er(this.__root)[1]);var t=this.__stack.pop();this.__applyStyleState(t)}},{key:"__addTransform",value:function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:e,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");e.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");if(r){if(r.includes(t))return;r+=" "}else r="";r+=t,this.__currentElement.setAttribute("transform",r)}},{key:"scale",value:function(t,e){this.__addTransform("scale(".concat(t,",").concat(null!=e?e:t,")"))}},{key:"rotate",value:function(t){var e=180*t/Math.PI;this.__addTransform("rotate(".concat(e,",").concat(0,",").concat(0,")"))}},{key:"translate",value:function(t,e){this.__addTransform("translate(".concat(t,",").concat(e,")"))}},{key:"transform",value:function(t,e,n,r,i,o){this.__addTransform("matrix(".concat(t,",").concat(e,",").concat(n,",").concat(r,",").concat(i,",").concat(o,")"))}},{key:"beginPath",value:function(){this.__currentDefaultPath="",this.__currentPosition=null;var t=this.__createElement("path",{},!0);this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t}},{key:"__applyCurrentDefaultPath",value:function(){var t=this.__currentElement;"path"===t.nodeName?t.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t.nodeName)}},{key:"__addPathCommand",value:function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t}},{key:"moveTo",value:function(t,e){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand("M ".concat(t," ").concat(e))}},{key:"closePath",value:function(){this.__currentDefaultPath&&this.__addPathCommand("Z")}},{key:"lineTo",value:function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand("L ".concat(t," ").concat(e)):this.__addPathCommand("M ".concat(t," ").concat(e))}},{key:"bezierCurveTo",value:function(t,e,n,r,i,o){this.__currentPosition={x:i,y:o},this.__addPathCommand("C ".concat(t," ").concat(e," ").concat(n," ").concat(r," ").concat(i," ").concat(o))}},{key:"quadraticCurveTo",value:function(t,e,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand("Q ".concat(t," ").concat(e," ").concat(n," ").concat(r))}},{key:"arcTo",value:function(t,e,n,r,i){if(null!=this.__currentPosition){var a=this.__currentPosition.x,s=this.__currentPosition.y;if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(a===t&&s===e||t===n&&e===r||0===i)this.lineTo(t,e);else{var l=b([a-t,s-e]),u=b([n-t,r-e]);if(l[0]*u[1]!=l[1]*u[0]){var c=l[0]*u[0]+l[1]*u[1],f=Math.acos(Math.abs(c)),h=b([l[0]+u[0],l[1]+u[1]]),d=i/Math.sin(f/2),p=t+d*h[0],v=e+d*h[1],g=[-l[1],l[0]],m=[u[1],-u[0]],y=A(g),_=A(m);this.lineTo(p+g[0]*i,v+g[1]*i),this.arc(p,v,i,y,_)}else this.lineTo(t,e)}}function b(t){var e=o()(t,2),n=e[0],r=e[1],i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return[n/i,r/i]}function A(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)}}},{key:"stroke",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}},{key:"fill",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}},{key:"rect",value:function(t,e,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.closePath()}},{key:"fillRect",value:function(t,e,n,r){var i=this.__createElement("rect",{x:t,y:e,width:n,height:r},!0);this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("fill")}},{key:"strokeRect",value:function(t,e,n,r){var i=this.__createElement("rect",{x:t,y:e,width:n,height:r},!0);this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")}},{key:"__clearCanvas",value:function(){for(var t=this.__closestGroupOrSvg().getAttribute("transform"),e=Er(this.__root)[1],n=e.childNodes,r=n.length-1;r>=0;r--)n[r]&&e.removeChild(n[r]);this.__currentElement=e,this.__groupStack=[],t&&this.__addTransform(t)}},{key:"clearRect",value:function(t,e,n,r){if(0!==t||0!==e||n!==this.width||r!==this.height){var i=this.__createElement("rect",{x:t,y:e,width:n,height:r,fill:"#FFFFFF"},!0);this.__closestGroupOrSvg().appendChild(i)}else this.__clearCanvas()}},{key:"createLinearGradient",value:function(t,e,n,r){var i=this.__createElement("linearGradient",{id:Sr(this.__ids),x1:t+"px",x2:n+"px",y1:e+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new Or(i,this)}},{key:"createRadialGradient",value:function(t,e,n,r,i,o){var a=this.__createElement("radialGradient",{id:Sr(this.__ids),cx:r+"px",cy:i+"px",r:o+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new Or(a,this)}},{key:"__parseFont",value:function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal"};return"underline"===this.__fontUnderline&&(e.decoration="underline"),null!=this.__fontHref&&(e.href=this.__fontHref),e}},{key:"__wrapTextLink",value:function(t,e){if(t.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),n.appendChild(e),n}return e}},{key:"__applyText",value:function(t,e,n,r){var i,o,a=this.__parseFont(),s=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:e,y:n,"text-anchor":(i=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[i]||o.start),"dominant-baseline":Rr(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(t)),this.__currentElement=l,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,l))}},{key:"fillText",value:function(t,e,n){this.__applyText(t,e,n,"fill")}},{key:"strokeText",value:function(t,e,n){this.__applyText(t,e,n,"stroke")}},{key:"measureText",value:function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)}},{key:"arc",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r!==i){(r%=2*Math.PI)===(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var a=t+n*Math.cos(i),s=e+n*Math.sin(i),l=t+n*Math.cos(r),u=e+n*Math.sin(r),c=o?0:1,f=0,h=i-r;h<0&&(h+=2*Math.PI),f=o?h>Math.PI?0:1:h>Math.PI?1:0,this.moveTo(l,u);var d=n,p=n,v=0;this.__addPathCommand("A ".concat(d," ").concat(p," ").concat(v," ").concat(f," ").concat(c," ").concat(a," ").concat(s)),this.__currentPosition={x:a,y:s}}}},{key:"clip",value:function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),n=Sr(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),t.removeChild(this.__currentElement),e.setAttribute("id",n),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path","url(#".concat(n,")")),t.appendChild(r),this.__currentElement=r}},{key:"drawImage",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a,s,l,u,c,f,h;if(2==r.length)o=r[0],a=r[1],u=0,c=0,s=f=e.width,l=h=e.height;else if(4==r.length)o=r[0],a=r[1],s=r[2],l=r[3],u=0,c=0,f=e.width,h=e.height;else{if(8!==r.length)throw new Error("Inavlid number of arguments passed to drawImage: ".concat(arguments.length));u=r[0],c=r[1],f=r[2],h=r[3],o=r[4],a=r[5],s=r[6],l=r[7]}var d=this.__closestGroupOrSvg(),p="translate("+o+", "+a+")";if(e instanceof t){var v=e.getSvg().cloneNode(!0);if(v.childNodes&&v.childNodes.length>1){for(var g=Er(v)[0];g.childNodes.length;){var m=Er(g)[0].getAttribute("id");this.__ids[m]=m,this.__defs.appendChild(Er(g)[0])}var y=Er(v)[1];if(y){var _,b=y.getAttribute("transform");_=b?b+" "+p:p,y.setAttribute("transform",_),d.appendChild(y)}}}else if(e instanceof HTMLImageElement||e instanceof SVGImageElement){var A=this.__createElement("image");if(A.setAttribute("width","".concat(s)),A.setAttribute("height","".concat(l)),A.setAttribute("preserveAspectRatio","none"),u||c||f!==e.width||h!==e.height){var w=this.__document.createElement("canvas");w.width=s,w.height=l;var x=w.getContext("2d");x.drawImage(e,u,c,f,h,0,0,s,l),e=w}A.setAttribute("transform",p);var k=e instanceof HTMLCanvasElement?e.toDataURL():e.getAttribute("src");A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k),d.appendChild(A)}else if(e instanceof HTMLCanvasElement){var C=this.__createElement("image");C.setAttribute("width","".concat(s)),C.setAttribute("height","".concat(l)),C.setAttribute("preserveAspectRatio","none");var E=this.__document.createElement("canvas");E.width=s,E.height=l;var S=E.getContext("2d");S.imageSmoothingEnabled=!1,S.drawImage(e,u,c,f,h,0,0,s,l),e=E,C.setAttribute("transform",p),C.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.toDataURL()),d.appendChild(C)}}},{key:"createPattern",value:function(e,n){var r,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),o=Sr(this.__ids);if(i.setAttribute("id",o),i.setAttribute("width","".concat(e.width)),i.setAttribute("height","".concat(e.height)),e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof SVGImageElement){(r=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width","".concat(e.width)),r.setAttribute("height","".concat(e.height));var a=e instanceof HTMLCanvasElement?e.toDataURL():e.getAttribute("src");r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.appendChild(r),this.__defs.appendChild(i)}else e instanceof t&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i));return new Mr(i,this)}},{key:"setLineDash",value:function(t){t&&t.length>0?this.lineDash=t.join(","):this.lineDash=null}},{key:"canvas",get:function(){return this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.__root.setAttribute("width","".concat(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.__root.setAttribute("height","".concat(t))}}]),t}();function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Pr.__name__="SVGRenderingContext2D";var Nr,Lr,jr=(Nr=document.createElement("canvas"),null!=(Lr=Nr.getContext("webgl",{premultipliedAlpha:!0}))?{canvas:Nr,gl:Lr}:void he.a.trace("WebGL is not supported")),Fr={position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},zr=function(){function t(e,n){switch(s()(this,t),this.backend=e,this.hidpi=n,this.pixel_ratio=1,this.bbox=new L.a,e){case"webgl":case"canvas":this._el=this._canvas=Object(te.e)({style:Fr});var r=this.canvas.getContext("2d");if(null==r)throw new Error("unable to obtain 2D rendering context");this._ctx=r,n&&(this.pixel_ratio=devicePixelRatio);break;case"svg":var i=new Pr;this._ctx=i,this._canvas=i.getSvg(),this._el=Object(te.k)({style:Fr},this._canvas)}!function(t){!function(t){t.setLineDash||(t.setLineDash=function(e){t.mozDash=e,t.webkitLineDash=e}),t.getLineDash||(t.getLineDash=function(){return t.mozDash})}(t),function(t){t.setLineDashOffset=function(e){t.lineDashOffset=e,t.mozDashOffset=e,t.webkitLineDashOffset=e},t.getLineDashOffset=function(){return t.mozDashOffset}}(t),function(t){t.setImageSmoothingEnabled=function(e){t.imageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.oImageSmoothingEnabled=e,t.webkitImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e},t.getImageSmoothingEnabled=function(){var e=t.imageSmoothingEnabled;return null==e||e}}(t),function(t){t.measureText&&null==t.html5MeasureText&&(t.html5MeasureText=t.measureText,t.measureText=function(e){var n=t.html5MeasureText(e);return n.ascent=1.6*t.html5MeasureText("m").width,n})}(t),function(t){t.ellipse||(t.ellipse=function(e,n,r,i,o,a,s){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=.551784;t.translate(e,n),t.rotate(o);var c=r,f=i;l&&(c=-r,f=-i),t.moveTo(-c,0),t.bezierCurveTo(-c,f*u,-c*u,f,0,f),t.bezierCurveTo(c*u,f,c,f*u,c,0),t.bezierCurveTo(c,-f*u,c*u,-f,0,-f),t.bezierCurveTo(-c*u,-f,-c,-f*u,-c,0),t.rotate(-o),t.translate(-e,-n)})}(t)}(this._ctx)}return u()(t,[{key:"resize",value:function(t,e){this.bbox=new L.a({left:0,top:0,width:t,height:e});var n=this._ctx instanceof Pr?this._ctx:this.canvas;n.width=t*this.pixel_ratio,n.height=e*this.pixel_ratio}},{key:"prepare",value:function(){var t=this.ctx,e=this.hidpi,n=this.pixel_ratio;t.save(),e&&(t.scale(n,n),t.translate(.5,.5)),this.clear()}},{key:"clear",value:function(){var t=this.bbox,e=t.x,n=t.y,r=t.width,i=t.height;this.ctx.clearRect(e,n,r,i)}},{key:"finish",value:function(){this.ctx.restore()}},{key:"save",value:function(t){var e=this._canvas;if(e instanceof HTMLCanvasElement)if(null!=e.msToBlob){var n=e.msToBlob();window.navigator.msSaveBlob(n,t)}else{var r=document.createElement("a");r.href=e.toDataURL("image/png"),r.download=t+".png",r.target="_blank",r.dispatchEvent(new MouseEvent("click"))}else{var i=this._ctx.getSerializedSvg(!0),o=new Blob([i],{type:"text/plain"}),a=document.createElement("a");a.download=t+".svg",a.innerHTML="Download svg",a.href=window.URL.createObjectURL(o),a.onclick=function(t){return document.body.removeChild(t.target)},a.style.display="none",document.body.appendChild(a),a.click()}}},{key:"canvas",get:function(){return this._canvas}},{key:"ctx",get:function(){return this._ctx}},{key:"el",get:function(){return this._el}}]),t}();zr.__name__="CanvasLayer";var Br=function(t){d()(n,t);var e=Dr(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this);var t=this.model,e=t.output_backend,r=t.hidpi;"webgl"==e&&(this.webgl=jr),this.underlays_el=Object(te.k)({style:Fr}),this.primary=new zr(e,r),this.overlays=new zr(e,r),this.overlays_el=Object(te.k)({style:Fr}),this.events_el=Object(te.k)({class:"bk-canvas-events",style:Fr});var i=[this.underlays_el,this.primary.el,this.overlays.el,this.overlays_el,this.events_el];Object(xt.c)(this.el.style,Fr),te.c.apply(void 0,[this.el].concat(i)),he.a.debug("CanvasView initialized")}},{key:"add_underlay",value:function(t){this.underlays_el.appendChild(t)}},{key:"add_overlay",value:function(t){this.overlays_el.appendChild(t)}},{key:"add_event",value:function(t){this.events_el.appendChild(t)}},{key:"resize",value:function(t,e){this.bbox=new L.a({left:0,top:0,width:t,height:e}),this.primary.resize(t,e),this.overlays.resize(t,e)}},{key:"prepare_webgl",value:function(t){var e=this.webgl;if(null!=e){var n=this.bbox,r=n.width,i=n.height;e.canvas.width=this.pixel_ratio*r,e.canvas.height=this.pixel_ratio*i;var a=e.gl;a.enable(a.SCISSOR_TEST);var s=o()(t,4),l=s[0],u=s[1],c=s[2],f=s[3],h=this.bbox,d=h.xview,p=h.yview,v=d.compute(l),g=p.compute(u+f),m=this.pixel_ratio;a.scissor(m*v,m*g,m*c,m*f),a.enable(a.BLEND),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE_MINUS_DST_ALPHA,a.ONE)}}},{key:"clear_webgl",value:function(){var t=this.webgl;if(null!=t){var e=t.gl,n=t.canvas;e.viewport(0,0,n.width,n.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT||e.DEPTH_BUFFER_BIT)}}},{key:"blit_webgl",value:function(t){var e=this.webgl;if(null!=e&&(he.a.debug("drawing with WebGL"),t.restore(),t.drawImage(e.canvas,0,0),t.save(),this.model.hidpi)){var n=this.pixel_ratio;t.scale(n,n),t.translate(.5,.5)}}},{key:"save",value:function(t){var e=this.model.output_backend,n=this.bbox,r=n.width,i=n.height,o=new zr(e,!1);o.resize(r,i),o.ctx.drawImage(this.primary.canvas,0,0),o.ctx.drawImage(this.overlays.canvas,0,0),o.save(t)}},{key:"pixel_ratio",get:function(){return this.primary.pixel_ratio}}]),n}(xr.a);Br.__name__="CanvasView";var Ur=function(t){d()(n,t);var e=Dr(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Canvas",value:function(){this.prototype.default_view=Br,this.internal({hidpi:[b.i,!0],output_backend:[b.Z,"canvas"]})}}]),n}(wr.a);function Gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ur.__name__="Canvas",Ur.init_Canvas();var Vr=function(t){d()(n,t);var e=Gr(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute",value:function(t){return f()(m()(n.prototype),"_linear_compute",this).call(this,this.source_range.synthetic(t))}},{key:"v_compute",value:function(t){return f()(m()(n.prototype),"_linear_v_compute",this).call(this,this.source_range.v_synthetic(t))}},{key:"invert",value:function(t){return this._linear_invert(t)}},{key:"v_invert",value:function(t){return this._linear_v_invert(t)}}]),n}(zt);function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Vr.__name__="CategoricalScale";var qr=function(t){d()(n,t);var e=Hr(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_DataRange",value:function(){this.define({names:[b.g,[]],renderers:[b.g,[]]})}}]),n}(Wt.a);qr.__name__="DataRange",qr.init_DataRange();var Wr=n(40);function Yr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Jr=function(t){d()(n,t);var e=$r(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).have_updated_interactively=!1,r}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._initial_start=this.start,this._initial_end=this.end,this._initial_range_padding=this.range_padding,this._initial_range_padding_units=this.range_padding_units,this._initial_follow=this.follow,this._initial_follow_interval=this.follow_interval,this._initial_default_span=this.default_span,this._plot_bounds=new Map}},{key:"computed_renderers",value:function(){var t=this.names,e=this.renderers;if(0==e.length){var n,r=Yr(this.plots);try{for(r.s();!(n=r.n()).done;){var i=n.value.renderers.filter((function(t){return t instanceof Wr.a}));e=e.concat(i)}}catch(t){r.e(t)}finally{r.f()}}t.length>0&&(e=e.filter((function(e){return Object(q.k)(t,e.name)}))),he.a.debug("computed ".concat(e.length," renderers for ").concat(this));var o,a=Yr(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;he.a.trace(" - ".concat(s))}}catch(t){a.e(t)}finally{a.f()}return e}},{key:"_compute_plot_bounds",value:function(t,e){var n,r=L.b(),i=Yr(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e.get(o);null==a||!o.visible&&this.only_visible||(r=L.e(r,a))}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"adjust_bounds_for_aspect",value:function(t,e){var n=L.b(),r=t.x1-t.x0;r<=0&&(r=1);var i=t.y1-t.y0;i<=0&&(i=1);var o=.5*(t.x1+t.x0),a=.5*(t.y1+t.y0);return r<e*i?r=e*i:i=r/e,n.x1=o+.5*r,n.x0=o-.5*r,n.y1=a+.5*i,n.y0=a-.5*i,n}},{key:"_compute_min_max",value:function(t,e){var n,r,i,o=L.b(),a=Yr(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;o=L.e(o,s)}}catch(t){a.e(t)}finally{a.f()}if(0==e){var l=[o.x0,o.x1];r=l[0],i=l[1]}else{var u=[o.y0,o.y1];r=u[0],i=u[1]}return[r,i]}},{key:"_compute_range",value:function(t,e){var n,r,i=this.range_padding;if(null!=this._initial_start&&(t=this._initial_start),null!=this._initial_end&&(e=this._initial_end),"log"==this.scale_hint){var o,a,s,l;if((isNaN(t)||!isFinite(t)||t<=0)&&(t=isNaN(e)||!isFinite(e)||e<=0?.1:e/100,he.a.warn("could not determine minimum data value for log axis, DataRange1d using value ".concat(t))),(isNaN(e)||!isFinite(e)||e<=0)&&(e=isNaN(t)||!isFinite(t)||t<=0?10:100*t,he.a.warn("could not determine maximum data value for log axis, DataRange1d using value ".concat(e))),e==t)a=this.default_span+.001,o=Math.log(t)/Math.log(10);else"percent"==this.range_padding_units?(s=Math.log(t)/Math.log(10),a=((l=Math.log(e)/Math.log(10))-s)*(1+i)):(s=Math.log(t-i)/Math.log(10),a=(l=Math.log(e+i)/Math.log(10))-s),o=(s+l)/2;n=Math.pow(10,o-a/2),r=Math.pow(10,o+a/2)}else{var u,c=(e+t)/2;n=c-(u=e==t?this.default_span:"percent"==this.range_padding_units?(e-t)*(1+i):e-t+2*i)/2,r=c+u/2}var f=1;if(this.flipped){var h=[r,n];n=h[0],r=h[1],f=-1}var d=this.follow_interval;return null!=d&&Math.abs(n-r)>d&&("start"==this.follow?r=n+f*d:"end"==this.follow&&(n=r-f*d)),[n,r]}},{key:"update",value:function(t,e,n,r){if(!this.have_updated_interactively){var i=this.computed_renderers(),a=this._compute_plot_bounds(i,t);null!=r&&(a=this.adjust_bounds_for_aspect(a,r)),this._plot_bounds.set(n,a);var s=this._compute_min_max(this._plot_bounds.values(),e),l=o()(s,2),u=l[0],c=l[1],f=this._compute_range(u,c),h=o()(f,2),d=h[0],p=h[1];null!=this._initial_start&&("log"==this.scale_hint?this._initial_start>0&&(d=this._initial_start):d=this._initial_start),null!=this._initial_end&&("log"==this.scale_hint?this._initial_end>0&&(p=this._initial_end):p=this._initial_end);var v=[this.start,this.end],g=v[0],m=v[1];if(d!=g||p!=m){var y={};d!=g&&(y.start=d),p!=m&&(y.end=p),this.setv(y)}"auto"==this.bounds&&this.setv({bounds:[d,p]},{silent:!0}),this.change.emit()}}},{key:"reset",value:function(){this.have_updated_interactively=!1,this.setv({range_padding:this._initial_range_padding,range_padding_units:this._initial_range_padding_units,follow:this._initial_follow,follow_interval:this._initial_follow_interval,default_span:this._initial_default_span},{silent:!0}),this.change.emit()}},{key:"min",get:function(){return Math.min(this.start,this.end)}},{key:"max",get:function(){return Math.max(this.start,this.end)}}],[{key:"init_DataRange1d",value:function(){this.define({start:[b.V],end:[b.V],range_padding:[b.V,.1],range_padding_units:[b.ab,"percent"],flipped:[b.i,!1],follow:[b.lb],follow_interval:[b.V],default_span:[b.V,2],only_visible:[b.i,!1]}),this.internal({scale_hint:[b.nb,"auto"]})}}]),n}(qr);Jr.__name__="DataRange1d",Jr.init_DataRange1d();var Kr=n(45);function Qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Zr=function(t){d()(n,t);var e=Qr(n);function n(t,r,i,o){var a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return s()(this,n),(a=e.call(this)).x_scale=t,a.y_scale=r,a.x_range=i,a.y_range=o,a.extra_x_ranges=l,a.extra_y_ranges=u,a._configure_scales(),a}return u()(n,[{key:"map_to_screen",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=this.xscales[n].v_compute(t),o=this.yscales[r].v_compute(e);return[i,o]}},{key:"_get_ranges",value:function(t,e){return Object.assign(Object.assign({},e),{default:t})}},{key:"_get_scales",value:function(t,e,n){var r={};for(var i in e){var o=e[i];if((o instanceof Jr||o instanceof Xt)&&!(t instanceof Ut))throw new Error("Range ".concat(o.type," is incompatible is Scale ").concat(t.type));if(o instanceof St.a&&!(t instanceof Vr))throw new Error("Range ".concat(o.type," is incompatible is Scale ").concat(t.type));t instanceof qt&&o instanceof Jr&&(o.scale_hint="log");var a=t.clone();a.setv({source_range:o,target_range:n}),r[i]=a}return r}},{key:"_configure_frame_ranges",value:function(){this._h_target=new Xt({start:this._left.value,end:this._right.value}),this._v_target=new Xt({start:this._bottom.value,end:this._top.value})}},{key:"_configure_scales",value:function(){this._configure_frame_ranges(),this._x_ranges=this._get_ranges(this.x_range,this.extra_x_ranges),this._y_ranges=this._get_ranges(this.y_range,this.extra_y_ranges),this._xscales=this._get_scales(this.x_scale,this._x_ranges,this._h_target),this._yscales=this._get_scales(this.y_scale,this._y_ranges,this._v_target)}},{key:"_update_scales",value:function(){for(var t in this._configure_frame_ranges(),this._xscales){this._xscales[t].target_range=this._h_target}for(var e in this._yscales){this._yscales[e].target_range=this._v_target}}},{key:"_set_geometry",value:function(t,e){f()(m()(n.prototype),"_set_geometry",this).call(this,t,e),this._update_scales()}},{key:"x_ranges",get:function(){return this._x_ranges}},{key:"y_ranges",get:function(){return this._y_ranges}},{key:"xscales",get:function(){return this._xscales}},{key:"yscales",get:function(){return this._yscales}}]),n}(Kr.c);function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Zr.__name__="CartesianFrame";var ei=function(t){d()(n,t);var e=ti(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._connected=new Set,this._result=new Map}},{key:"v_compute",value:function(t){var e=this;this._connected.has(t)||(this.connect(t.change,(function(){return e._result.delete(t)})),this.connect(t.patching,(function(){return e._result.delete(t)})),this.connect(t.streaming,(function(){return e._result.delete(t)})),this._connected.add(t));var n=this._result.get(t);return null==n&&(n=this._v_compute(t),this._result.set(t,n)),n}}]),n}(G.a);function ni(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ri(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ri(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ei.__name__="Expression";var oi=function(t){d()(n,t);var e=ii(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_v_compute",value:function(t){var e,n,r=null!==(e=t.get_length())&&void 0!==e?e:0,i=new Float64Array(r),o=ni(this.fields);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.data[a];if(null!=s)for(var l=0,u=Math.min(r,s.length);l<u;l++)i[l]+=s[l]}}catch(t){o.e(t)}finally{o.f()}return i}}],[{key:"init_Stack",value:function(){this.define({fields:[b.g,[]]})}}]),n}(ei);function ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}oi.__name__="Stack",oi.init_Stack();var si=function(t){d()(n,t);var e=ai(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_v_compute",value:function(t){var e=new Float64Array(t.get_length()||0),n=t.data[this.field],r=this.include_zero?1:0;e[0]=this.include_zero?0:n[0];for(var i=1;i<e.length;i++)e[i]=e[i-1]+n[i-r];return e}}],[{key:"init_CumSum",value:function(){this.define({field:[b.nb],include_zero:[b.i,!1]})}}]),n}(ei);function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}si.__name__="CumSum",si.init_CumSum();var ui=function(t){d()(n,t);var e=li(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute_indices",value:function(t){var e=this.filter;return null!=e?Object(ct.b)(e,ct.d)?Object(q.q)(0,e.length).filter((function(t){return!0===e[t]})):Object(ct.b)(e,ct.f)?e:(he.a.warn("".concat(this,": filter should either be array of only booleans or only integers, defaulting to no filtering")),null):(he.a.warn("".concat(this,": filter was not set to be an array, defaulting to no filtering")),null)}}],[{key:"init_Filter",value:function(){this.define({filter:[b.g,null]})}}]),n}(G.a);function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ui.__name__="Filter",ui.init_Filter();var fi=function(t){d()(n,t);var e=ci(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute_indices",value:function(t){var e=this.booleans;return null!=e&&e.length>0?Object(q.g)(e,ct.d)?(e.length!==t.get_length()&&he.a.warn("".concat(this,": length of booleans doesn't match data source")),Object(q.q)(0,e.length).filter((function(t){return!0===e[t]}))):(he.a.warn("".concat(this,": booleans should be array of booleans, defaulting to no filtering")),null):(null!=e&&0==e.length?he.a.warn("".concat(this,": booleans is empty, defaulting to no filtering")):he.a.warn("".concat(this,": booleans was not set, defaulting to no filtering")),null)}}],[{key:"init_BooleanFilter",value:function(){this.define({booleans:[b.g,null]})}}]),n}(ui);function hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}fi.__name__="BooleanFilter",fi.init_BooleanFilter();var di=function(t){d()(n,t);var e=hi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute_indices",value:function(t){return this.filter=this.func.apply(this,U()(this.values).concat([t])),f()(m()(n.prototype),"compute_indices",this).call(this,t)}},{key:"names",get:function(){return Object(xt.e)(this.args)}},{key:"values",get:function(){return Object(xt.i)(this.args)}},{key:"func",get:function(){var t=Object(kt.e)(this.code);return wt()(Function,U()(this.names).concat(["source",t]))}}],[{key:"init_CustomJSFilter",value:function(){this.define({args:[b.e,{}],code:[b.nb,""]})}}]),n}(ui);function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}di.__name__="CustomJSFilter",di.init_CustomJSFilter();var vi=function(t){d()(n,t);var e=pi(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).indices=null,r}return u()(n,[{key:"compute_indices",value:function(t){var e=this,n=t.get_column(this.column_name);return null==n?(he.a.warn("group filter: groupby column not found in data source"),null):(this.indices=Object(q.q)(0,t.get_length()||0).filter((function(t){return n[t]===e.group})),0===this.indices.length&&he.a.warn("group filter: group '".concat(this.group,"' did not match any values in column '").concat(this.column_name,"'")),this.indices)}}],[{key:"init_GroupFilter",value:function(){this.define({column_name:[b.nb],group:[b.nb]})}}]),n}(ui);function gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vi.__name__="GroupFilter",vi.init_GroupFilter();var mi=function(t){d()(n,t);var e=gi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"compute_indices",value:function(t){return null!=this.indices?Object(q.g)(this.indices,ct.f)?this.indices:(he.a.warn("".concat(this,": indices should be array of integers, defaulting to no filtering")),null):(he.a.warn("".concat(this,": indices was not set, defaulting to no filtering")),null)}}],[{key:"init_IndexFilter",value:function(){this.define({indices:[b.g,null]})}}]),n}(ui);function yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}mi.__name__="IndexFilter",mi.init_IndexFilter();var _i=function(t){d()(n,t);var e=yi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_make_func",value:function(){var t=Object(kt.e)(this.code);return wt()(Function,["tick","index","ticks"].concat(U()(this.names),[t]))}},{key:"doFormat",value:function(t,e){var n=this,r=this._make_func().bind({});return t.map((function(t,e,i){return r.apply(void 0,[t,e,i].concat(U()(n.values)))}))}},{key:"names",get:function(){return Object(xt.e)(this.args)}},{key:"values",get:function(){return Object(xt.i)(this.args)}}],[{key:"init_FuncTickFormatter",value:function(){this.define({args:[b.e,{}],code:[b.nb,""]})}}]),n}(et);_i.__name__="FuncTickFormatter",_i.init_FuncTickFormatter();var bi=n(71);function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var wi=function(t){d()(n,t);var e=Ai(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"doFormat",value:function(t,e){var n=this.format,r=this.language,i=this._rounding_fn;return t.map((function(t){return bi.format(t,n,r,i)}))}},{key:"_rounding_fn",get:function(){switch(this.rounding){case"round":case"nearest":return Math.round;case"floor":case"rounddown":return Math.floor;case"ceil":case"roundup":return Math.ceil}}}],[{key:"init_NumeralTickFormatter",value:function(){this.define({format:[b.nb,"0,0"],language:[b.nb,"en"],rounding:[b.hb,"round"]})}}]),n}(et);function xi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}wi.__name__="NumeralTickFormatter",wi.init_NumeralTickFormatter();var ki=function(t){d()(n,t);var e=xi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"doFormat",value:function(t,e){var n=this;return t.map((function(t){return Object(An.b)(n.format,t)}))}}],[{key:"init_PrintfTickFormatter",value:function(){this.define({format:[b.nb,"%s"]})}}]),n}(et);ki.__name__="PrintfTickFormatter",ki.init_PrintfTickFormatter();var Ci=n(25),Ei=n(29),Si=n(18);function Ri(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ti(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Oi=function(t){d()(n,t);var e=Ii(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){"data"==this.model.properties.inner_radius.units?this.sinner_radius=this.sdist(this.renderer.xscale,this._x,this._inner_radius):this.sinner_radius=this._inner_radius,"data"==this.model.properties.outer_radius.units?this.souter_radius=this.sdist(this.renderer.xscale,this._x,this._outer_radius):this.souter_radius=this._outer_radius,this._angle=new Float32Array(this._start_angle.length);for(var t=0,e=this._start_angle.length;t<e;t++)this._angle[t]=this._end_angle[t]-this._start_angle[t]}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n._start_angle,s=n._angle,l=n.sinner_radius,u=n.souter_radius,c=this.model.properties.direction.value(),f=Ri(e);try{for(f.s();!(r=f.n()).done;){var h=r.value;isNaN(i[h]+o[h]+l[h]+u[h]+a[h]+s[h])||(t.translate(i[h],o[h]),t.rotate(a[h]),t.moveTo(u[h],0),t.beginPath(),t.arc(0,0,u[h],0,s[h],c),t.rotate(s[h]),t.lineTo(l[h],0),t.arc(0,0,l[h],0,-s[h],!c),t.closePath(),t.rotate(-s[h]-a[h]),t.translate(-i[h],-o[h]),this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,h),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,h),t.stroke()))}}catch(t){f.e(t)}finally{f.f()}}},{key:"_hit_point",value:function(t){var e,n,r,i,a=t.sx,s=t.sy,l=this.renderer.xscale.invert(a),u=this.renderer.yscale.invert(s);if("data"==this.model.properties.outer_radius.units)e=l-this.max_outer_radius,r=l+this.max_outer_radius,n=u-this.max_outer_radius,i=u+this.max_outer_radius;else{var c=a-this.max_outer_radius,f=a+this.max_outer_radius,h=this.renderer.xscale.r_invert(c,f),d=o()(h,2);e=d[0],r=d[1];var p=s-this.max_outer_radius,v=s+this.max_outer_radius,g=this.renderer.yscale.r_invert(p,v),m=o()(g,2);n=m[0],i=m[1]}var y,_=[],b=Ri(this.index.indices({x0:e,x1:r,y0:n,y1:i}));try{for(b.s();!(y=b.n()).done;){var A=y.value,w=Math.pow(this.souter_radius[A],2),x=Math.pow(this.sinner_radius[A],2),k=this.renderer.xscale.r_compute(l,this._x[A]),C=o()(k,2),E=C[0],S=C[1],T=this.renderer.yscale.r_compute(u,this._y[A]),I=o()(T,2),O=I[0],M=I[1],P=Math.pow(E-S,2)+Math.pow(O-M,2);P<=w&&P>=x&&_.push([A,P])}}catch(t){b.e(t)}finally{b.f()}for(var D=this.model.properties.direction.value(),N=[],L=0,j=_;L<j.length;L++){var F=o()(j[L],2),z=F[0],B=F[1],U=Math.atan2(s-this.sy[z],a-this.sx[z]);Object(R.a)(-U,-this._start_angle[z],-this._end_angle[z],D)&&N.push([z,B])}return Si.a.from_hits(N)}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}},{key:"_scenterxy",value:function(t){var e=(this.sinner_radius[t]+this.souter_radius[t])/2,n=(this._start_angle[t]+this._end_angle[t])/2;return{x:this.sx[t]+e*Math.cos(n),y:this.sy[t]+e*Math.sin(n)}}},{key:"scenterx",value:function(t){return this._scenterxy(t).x}},{key:"scentery",value:function(t){return this._scenterxy(t).y}}]),n}(Ci.b);Oi.__name__="AnnularWedgeView";var Mi=function(t){d()(n,t);var e=Ii(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_AnnularWedge",value:function(){this.prototype.default_view=Oi,this.mixins([_.f,_.b]),this.define({direction:[b.s,"anticlock"],inner_radius:[b.t],outer_radius:[b.t],start_angle:[b.c],end_angle:[b.c]})}}]),n}(Ci.a);function Pi(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Di(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Di(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Mi.__name__="AnnularWedge",Mi.init_AnnularWedge();var Li=function(t){d()(n,t);var e=Ni(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){"data"==this.model.properties.inner_radius.units?this.sinner_radius=this.sdist(this.renderer.xscale,this._x,this._inner_radius):this.sinner_radius=this._inner_radius,"data"==this.model.properties.outer_radius.units?this.souter_radius=this.sdist(this.renderer.xscale,this._x,this._outer_radius):this.souter_radius=this._outer_radius}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n.sinner_radius,s=n.souter_radius,l=Pi(e);try{for(l.s();!(r=l.n()).done;){var u=r.value;if(!isNaN(i[u]+o[u]+a[u]+s[u])){if(this.visuals.fill.doit){if(this.visuals.fill.set_vectorize(t,u),t.beginPath(),ht.a)for(var c=0,f=[!1,!0];c<f.length;c++){var h=f[c];t.arc(i[u],o[u],a[u],0,Math.PI,h),t.arc(i[u],o[u],s[u],Math.PI,0,!h)}else t.arc(i[u],o[u],a[u],0,2*Math.PI,!0),t.arc(i[u],o[u],s[u],2*Math.PI,0,!1);t.fill()}this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,u),t.beginPath(),t.arc(i[u],o[u],a[u],0,2*Math.PI),t.moveTo(i[u]+s[u],o[u]),t.arc(i[u],o[u],s[u],0,2*Math.PI),t.stroke())}}}catch(t){l.e(t)}finally{l.f()}}},{key:"_hit_point",value:function(t){var e,n,r,i,a=t.sx,s=t.sy,l=this.renderer.xscale.invert(a),u=this.renderer.yscale.invert(s);if("data"==this.model.properties.outer_radius.units)e=l-this.max_outer_radius,r=l+this.max_outer_radius,n=u-this.max_outer_radius,i=u+this.max_outer_radius;else{var c=a-this.max_outer_radius,f=a+this.max_outer_radius,h=this.renderer.xscale.r_invert(c,f),d=o()(h,2);e=d[0],r=d[1];var p=s-this.max_outer_radius,v=s+this.max_outer_radius,g=this.renderer.yscale.r_invert(p,v),m=o()(g,2);n=m[0],i=m[1]}var y,_=[],b=Pi(this.index.indices({x0:e,x1:r,y0:n,y1:i}));try{for(b.s();!(y=b.n()).done;){var A=y.value,w=Math.pow(this.souter_radius[A],2),x=Math.pow(this.sinner_radius[A],2),k=this.renderer.xscale.r_compute(l,this._x[A]),C=o()(k,2),E=C[0],S=C[1],R=this.renderer.yscale.r_compute(u,this._y[A]),T=o()(R,2),I=T[0],O=T[1],M=Math.pow(E-S,2)+Math.pow(I-O,2);M<=w&&M>=x&&_.push([A,M])}}catch(t){b.e(t)}finally{b.f()}return Si.a.from_hits(_)}},{key:"draw_legend_for_index",value:function(t,e,n){var r=e.x0,i=e.y0,o=e.x1,a=e.y1,s=n+1,l=new Array(s);l[n]=(r+o)/2;var u=new Array(s);u[n]=(i+a)/2;var c=.5*Math.min(Math.abs(o-r),Math.abs(a-i)),f=new Array(s);f[n]=.4*c;var h=new Array(s);h[n]=.8*c,this._render(t,[n],{sx:l,sy:u,sinner_radius:f,souter_radius:h})}}]),n}(Ci.b);Li.__name__="AnnulusView";var ji=function(t){d()(n,t);var e=Ni(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Annulus",value:function(){this.prototype.default_view=Li,this.mixins([_.f,_.b]),this.define({inner_radius:[b.t],outer_radius:[b.t]})}}]),n}(Ci.a);function Fi(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ji.__name__="Annulus",ji.init_Annulus();var Ui=function(t){d()(n,t);var e=Bi(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){"data"==this.model.properties.radius.units?this.sradius=this.sdist(this.renderer.xscale,this._x,this._radius):this.sradius=this._radius}},{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,o=n.sradius,a=n._start_angle,s=n._end_angle;if(this.visuals.line.doit){var l,u=this.model.properties.direction.value(),c=Fi(e);try{for(c.s();!(l=c.n()).done;){var f=l.value;isNaN(r[f]+i[f]+o[f]+a[f]+s[f])||(t.beginPath(),t.arc(r[f],i[f],o[f],a[f],s[f],u),this.visuals.line.set_vectorize(t,f),t.stroke())}}catch(t){c.e(t)}finally{c.f()}}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}}]),n}(Ci.b);Ui.__name__="ArcView";var Gi=function(t){d()(n,t);var e=Bi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Arc",value:function(){this.prototype.default_view=Ui,this.mixins(_.f),this.define({direction:[b.s,"anticlock"],radius:[b.t],start_angle:[b.c],end_angle:[b.c]})}}]),n}(Ci.a);Gi.__name__="Arc",Gi.init_Arc();var Vi=n(36),Hi=n(31);function qi(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Wi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function Xi(t,e,n,r,i,o,a,s){for(var l=[],u=[[],[]],c=0;c<=2;c++){var f=void 0,h=void 0,d=void 0;if(0===c?(h=6*t-12*n+6*i,f=-3*t+9*n-9*i+3*a,d=3*n-3*t):(h=6*e-12*r+6*o,f=-3*e+9*r-9*o+3*s,d=3*r-3*e),Math.abs(f)<1e-12){if(Math.abs(h)<1e-12)continue;var p=-d/h;0<p&&p<1&&l.push(p)}else{var v=h*h-4*d*f,g=Math.sqrt(v);if(!(v<0)){var m=(-h+g)/(2*f);0<m&&m<1&&l.push(m);var y=(-h-g)/(2*f);0<y&&y<1&&l.push(y)}}}for(var _=l.length,b=_;_--;){var A=l[_],w=1-A,x=w*w*w*t+3*w*w*A*n+3*w*A*A*i+A*A*A*a;u[0][_]=x;var k=w*w*w*e+3*w*w*A*r+3*w*A*A*o+A*A*A*s;u[1][_]=k}return u[0][b]=t,u[1][b]=e,u[0][b+1]=a,u[1][b+1]=s,[Math.min.apply(Math,U()(u[0])),Math.max.apply(Math,U()(u[1])),Math.max.apply(Math,U()(u[0])),Math.min.apply(Math,U()(u[1]))]}var $i=function(t){d()(n,t);var e=Yi(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x0.length;e<n;e++)if(!isNaN(this._x0[e]+this._x1[e]+this._y0[e]+this._y1[e]+this._cx0[e]+this._cy0[e]+this._cx1[e]+this._cy1[e])){var r=Xi(this._x0[e],this._y0[e],this._x1[e],this._y1[e],this._cx0[e],this._cy0[e],this._cx1[e],this._cy1[e]),i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3];t.push({x0:a,y0:s,x1:l,y1:u,i:e})}return new Vi.a(t)}},{key:"_render",value:function(t,e,n){var r=n.sx0,i=n.sy0,o=n.sx1,a=n.sy1,s=n.scx0,l=n.scy0,u=n.scx1,c=n.scy1;if(this.visuals.line.doit){var f,h=qi(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;isNaN(r[d]+i[d]+o[d]+a[d]+s[d]+l[d]+u[d]+c[d])||(t.beginPath(),t.moveTo(r[d],i[d]),t.bezierCurveTo(s[d],l[d],u[d],c[d],o[d],a[d]),this.visuals.line.set_vectorize(t,d),t.stroke())}}catch(t){h.e(t)}finally{h.f()}}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}},{key:"scenterx",value:function(){throw new Error("not implemented")}},{key:"scentery",value:function(){throw new Error("not implemented")}}]),n}(Hi.b);$i.__name__="BezierView";var Ji=function(t){d()(n,t);var e=Yi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Bezier",value:function(){this.prototype.default_view=$i,this.coords([["x0","y0"],["x1","y1"],["cx0","cy0"],["cx1","cy1"]]),this.mixins(_.f)}}]),n}(Hi.a);Ji.__name__="Bezier",Ji.init_Bezier();var Ki=n(125);function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Zi=function(t){d()(n,t);var e=Qi(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(Ci.b);Zi.__name__="CenterRotatableView";var to=function(t){d()(n,t);var e=Qi(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_CenterRotatable",value:function(){this.mixins([_.f,_.b]),this.define({angle:[b.c,0],width:[b.t],height:[b.t]})}}]),n}(Ci.a);to.__name__="CenterRotatable",to.init_CenterRotatable();var eo=n(27);function no(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var oo=function(t){d()(n,t);var e=io(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_set_data",value:function(){this.max_w2=0,"data"==this.model.properties.width.units&&(this.max_w2=this.max_width/2),this.max_h2=0,"data"==this.model.properties.height.units&&(this.max_h2=this.max_height/2)}},{key:"_map_data",value:function(){"data"==this.model.properties.width.units?this.sw=this.sdist(this.renderer.xscale,this._x,this._width,"center"):this.sw=this._width,"data"==this.model.properties.height.units?this.sh=this.sdist(this.renderer.yscale,this._y,this._height,"center"):this.sh=this._height}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n.sw,s=n.sh,l=n._angle,u=no(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;isNaN(i[c]+o[c]+a[c]+s[c]+l[c])||(t.beginPath(),t.ellipse(i[c],o[c],a[c]/2,s[c]/2,l[c],0,2*Math.PI),this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,c),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,c),t.stroke()))}}catch(t){u.e(t)}finally{u.f()}}},{key:"_hit_point",value:function(t){var e,n,r,i,a,s,l,u,c,f=t.sx,h=t.sy,d=this.renderer.xscale.invert(f),p=this.renderer.yscale.invert(h);if("data"==this.model.properties.width.units)e=d-this.max_width,n=d+this.max_width;else{s=f-this.max_width,l=f+this.max_width;var v=this.renderer.xscale.r_invert(s,l),g=o()(v,2);e=g[0],n=g[1]}if("data"==this.model.properties.height.units)r=p-this.max_height,i=p+this.max_height;else{u=h-this.max_height,c=h+this.max_height;var m=this.renderer.yscale.r_invert(u,c),y=o()(m,2);r=y[0],i=y[1]}var _,b=[],A=no(this.index.indices({x0:e,x1:n,y0:r,y1:i}));try{for(A.s();!(_=A.n()).done;){var w=_.value;if(eo.e(f,h,this._angle[w],this.sh[w]/2,this.sw[w]/2,this.sx[w],this.sy[w])){var x=this.renderer.xscale.r_compute(d,this._x[w]),k=o()(x,2);s=k[0],l=k[1];var C=this.renderer.yscale.r_compute(p,this._y[w]),E=o()(C,2);u=E[0],c=E[1],a=Math.pow(s-l,2)+Math.pow(u-c,2),b.push([w,a])}}}catch(t){A.e(t)}finally{A.f()}return Si.a.from_hits(b)}},{key:"draw_legend_for_index",value:function(t,e,n){var r=e.x0,i=e.y0,o=e.x1,a=e.y1,s=n+1,l=new Array(s);l[n]=(r+o)/2;var u=new Array(s);u[n]=(i+a)/2;var c=this.sw[n]/this.sh[n],f=.8*Math.min(Math.abs(o-r),Math.abs(a-i)),h=new Array(s),d=new Array(s);c>1?(h[n]=f,d[n]=f/c):(h[n]=f*c,d[n]=f),this._render(t,[n],{sx:l,sy:u,sw:h,sh:d,_angle:[0]})}},{key:"_bounds",value:function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;return{x0:e-this.max_w2,x1:n+this.max_w2,y0:r-this.max_h2,y1:i+this.max_h2}}}]),n}(Zi);oo.__name__="EllipseOvalView";var ao=function(t){d()(n,t);var e=io(n);function n(t){return s()(this,n),e.call(this,t)}return n}(to);function so(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ao.__name__="EllipseOval";var lo=function(t){d()(n,t);var e=so(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(oo);lo.__name__="EllipseView";var uo=function(t){d()(n,t);var e=so(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Ellipse",value:function(){this.prototype.default_view=lo}}]),n}(ao);uo.__name__="Ellipse",uo.init_Ellipse();var co=n(111);function fo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ho(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ho(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var vo=function(t){d()(n,t);var e=po(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"get_anchor_point",value:function(t,e,n){var r=Math.min(this.sleft[e],this.sright[e]),i=Math.max(this.sright[e],this.sleft[e]),o=Math.min(this.stop[e],this.sbottom[e]),a=Math.max(this.sbottom[e],this.stop[e]);switch(t){case"top_left":return{x:r,y:o};case"top_center":return{x:(r+i)/2,y:o};case"top_right":return{x:i,y:o};case"bottom_left":return{x:r,y:a};case"bottom_center":return{x:(r+i)/2,y:a};case"bottom_right":return{x:i,y:a};case"center_left":return{x:r,y:(o+a)/2};case"center":return{x:(r+i)/2,y:(o+a)/2};case"center_right":return{x:i,y:(o+a)/2};default:return null}}},{key:"_index_box",value:function(t){for(var e=[],n=0;n<t;n++){var r=this._lrtb(n),i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3];!isNaN(a+s+l+u)&&isFinite(a+s+l+u)&&e.push({x0:Math.min(a,s),y0:Math.min(l,u),x1:Math.max(s,a),y1:Math.max(l,u),i:n})}return new Vi.a(e)}},{key:"_render",value:function(t,e,n){var r,i=this,o=n.sleft,a=n.sright,s=n.stop,l=n.sbottom,u=fo(e);try{var c=function(){var e=r.value;if(isNaN(o[e]+s[e]+a[e]+l[e]))return"continue";t.rect(o[e],s[e],a[e]-o[e],l[e]-s[e]),i.visuals.fill.doit&&(i.visuals.fill.set_vectorize(t,e),t.beginPath(),t.rect(o[e],s[e],a[e]-o[e],l[e]-s[e]),t.fill()),i.visuals.hatch.doit2(t,e,(function(){t.beginPath(),t.rect(o[e],s[e],a[e]-o[e],l[e]-s[e]),t.fill()}),(function(){return i.renderer.request_render()})),i.visuals.line.doit&&(i.visuals.line.set_vectorize(t,e),t.beginPath(),t.rect(o[e],s[e],a[e]-o[e],l[e]-s[e]),t.stroke())};for(u.s();!(r=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}}},{key:"_clamp_viewport",value:function(){for(var t=this.renderer.plot_view.frame.bbox.h_range,e=this.renderer.plot_view.frame.bbox.v_range,n=this.stop.length,r=0;r<n;r++)this.stop[r]=Math.max(this.stop[r],e.start),this.sbottom[r]=Math.min(this.sbottom[r],e.end),this.sleft[r]=Math.max(this.sleft[r],t.start),this.sright[r]=Math.min(this.sright[r],t.end)}},{key:"_hit_rect",value:function(t){return this._hit_rect_against_index(t)}},{key:"_hit_point",value:function(t){var e=t.sx,n=t.sy,r=this.renderer.xscale.invert(e),i=this.renderer.yscale.invert(n),o=this.index.indices({x0:r,y0:i,x1:r,y1:i});return new Si.a({indices:o})}},{key:"_hit_span",value:function(t){var e,n=t.sx,r=t.sy;if("v"==t.direction){var i=this.renderer.yscale.invert(r),a=this.renderer.plot_view.frame.bbox.h_range,s=this.renderer.xscale.r_invert(a.start,a.end),l=o()(s,2),u=l[0],c=l[1];e=this.index.indices({x0:u,y0:i,x1:c,y1:i})}else{var f=this.renderer.xscale.invert(n),h=this.renderer.plot_view.frame.bbox.v_range,d=this.renderer.yscale.r_invert(h.start,h.end),p=o()(d,2),v=p[0],g=p[1];e=this.index.indices({x0:f,y0:v,x1:f,y1:g})}return new Si.a({indices:e})}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}}]),n}(Hi.b);vo.__name__="BoxView";var go=function(t){d()(n,t);var e=po(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Box",value:function(){this.mixins([_.f,_.b,_.d])}}]),n}(Hi.a);function mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}go.__name__="Box",go.init_Box();var yo=function(t){d()(n,t);var e=mo(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"scenterx",value:function(t){return(this.sleft[t]+this.sright[t])/2}},{key:"scentery",value:function(t){return this.sy[t]}},{key:"_index_data",value:function(){return this._index_box(this._y.length)}},{key:"_lrtb",value:function(t){return[Math.min(this._left[t],this._right[t]),Math.max(this._left[t],this._right[t]),this._y[t]+.5*this._height[t],this._y[t]-.5*this._height[t]]}},{key:"_map_data",value:function(){this.sy=this.renderer.yscale.v_compute(this._y),this.sh=this.sdist(this.renderer.yscale,this._y,this._height,"center"),this.sleft=this.renderer.xscale.v_compute(this._left),this.sright=this.renderer.xscale.v_compute(this._right);var t=this.sy.length;this.stop=new Float64Array(t),this.sbottom=new Float64Array(t);for(var e=0;e<t;e++)this.stop[e]=this.sy[e]-this.sh[e]/2,this.sbottom[e]=this.sy[e]+this.sh[e]/2;this._clamp_viewport()}}]),n}(vo);yo.__name__="HBarView";var _o=function(t){d()(n,t);var e=mo(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_HBar",value:function(){this.prototype.default_view=yo,this.coords([["left","y"]]),this.define({height:[b.X],right:[b.p]}),this.override({left:0})}}]),n}(go);function bo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}_o.__name__="HBar",_o.init_HBar();var xo=function(t){d()(n,t);var e=wo(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"scenterx",value:function(t){return this.sx[t]}},{key:"scentery",value:function(t){return this.sy[t]}},{key:"_set_data",value:function(){var t=this._q.length,e=this.model.size,n=this.model.aspect_scale;if(this._x=new Float64Array(t),this._y=new Float64Array(t),"pointytop"==this.model.orientation)for(var r=0;r<t;r++)this._x[r]=e*Math.sqrt(3)*(this._q[r]+this._r[r]/2)/n,this._y[r]=3*-e/2*this._r[r];else for(var i=0;i<t;i++)this._x[i]=3*e/2*this._q[i],this._y[i]=-e*Math.sqrt(3)*(this._r[i]+this._q[i]/2)*n}},{key:"_index_data",value:function(){var t=this.model.size,e=Math.sqrt(3)*t/2;if("flattop"==this.model.orientation){var n=[t,e];e=n[0],t=n[1],t*=this.model.aspect_scale}else e/=this.model.aspect_scale;for(var r=[],i=0;i<this._x.length;i++){var o=this._x[i],a=this._y[i];!isNaN(o+a)&&isFinite(o+a)&&r.push({x0:o-e,y0:a-t,x1:o+e,y1:a+t,i:i})}return new Vi.a(r)}},{key:"map_data",value:function(){var t=this.map_to_screen(this._x,this._y),e=o()(t,2);this.sx=e[0],this.sy=e[1];var n=this._get_unscaled_vertices(),r=o()(n,2);this.svx=r[0],this.svy=r[1]}},{key:"_get_unscaled_vertices",value:function(){var t=this.model.size,e=this.model.aspect_scale;if("pointytop"==this.model.orientation){var n=this.renderer.yscale,r=this.renderer.xscale,i=Math.abs(n.compute(0)-n.compute(t)),o=Math.sqrt(3)/2*Math.abs(r.compute(0)-r.compute(t))/e,a=i/2;return[[0,-o,-o,0,o,o],[i,a,-a,-i,-a,a]]}var s=this.renderer.xscale,l=this.renderer.yscale,u=Math.abs(s.compute(0)-s.compute(t)),c=Math.sqrt(3)/2*Math.abs(l.compute(0)-l.compute(t))*e,f=u/2;return[[u,f,-f,-u,-f,f],[0,-c,-c,0,c,c]]}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n.svx,s=n.svy,l=n._scale,u=bo(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(!isNaN(i[c]+o[c]+l[c])){t.translate(i[c],o[c]),t.beginPath();for(var f=0;f<6;f++)t.lineTo(a[f]*l[c],s[f]*l[c]);t.closePath(),t.translate(-i[c],-o[c]),this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,c),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,c),t.stroke())}}}catch(t){u.e(t)}finally{u.f()}}},{key:"_hit_point",value:function(t){var e,n=t.sx,r=t.sy,i=this.renderer.xscale.invert(n),o=this.renderer.yscale.invert(r),a=[],s=bo(this.index.indices({x0:i,y0:o,x1:i,y1:o}));try{for(s.s();!(e=s.n()).done;){var l=e.value;eo.f(n-this.sx[l],r-this.sy[l],this.svx,this.svy)&&a.push(l)}}catch(t){s.e(t)}finally{s.f()}return new Si.a({indices:a})}},{key:"_hit_span",value:function(t){var e,n=t.sx,r=t.sy;if("v"==t.direction){var i=this.renderer.yscale.invert(r),a=this.renderer.plot_view.frame.bbox.h_range,s=this.renderer.xscale.r_invert(a.start,a.end),l=o()(s,2),u=l[0],c=l[1];e=this.index.indices({x0:u,y0:i,x1:c,y1:i})}else{var f=this.renderer.xscale.invert(n),h=this.renderer.plot_view.frame.bbox.v_range,d=this.renderer.yscale.r_invert(h.start,h.end),p=o()(d,2),v=p[0],g=p[1];e=this.index.indices({x0:f,y0:v,x1:f,y1:g})}return new Si.a({indices:e})}},{key:"_hit_rect",value:function(t){var e=t.sx0,n=t.sx1,r=t.sy0,i=t.sy1,a=this.renderer.xscale.r_invert(e,n),s=o()(a,2),l=s[0],u=s[1],c=this.renderer.yscale.r_invert(r,i),f=o()(c,2),h=f[0],d=f[1],p=this.index.indices({x0:l,x1:u,y0:h,y1:d});return new Si.a({indices:p})}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}}]),n}(Hi.b);xo.__name__="HexTileView";var ko=function(t){d()(n,t);var e=wo(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_HexTile",value:function(){this.prototype.default_view=xo,this.coords([["r","q"]]),this.mixins([_.f,_.b]),this.define({size:[b.V,1],aspect_scale:[b.V,1],scale:[b.X,1],orientation:[b.D,"pointytop"]}),this.override({line_color:null})}}]),n}(Hi.a);ko.__name__="HexTile",ko.init_HexTile();var Co=n(55);function Eo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return So(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function So(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var To=function(t){d()(n,t);var e=Ro(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.global_alpha.change,(function(){return t.renderer.request_render()}))}},{key:"_render",value:function(t,e,n){var r=n.image_data,i=n.sx,o=n.sy,a=n.sw,s=n.sh,l=t.getImageSmoothingEnabled();t.setImageSmoothingEnabled(!1),t.globalAlpha=this.model.global_alpha;var u,c=Eo(e);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(null!=r[f]&&!isNaN(i[f]+o[f]+a[f]+s[f])){var h=o[f];t.translate(0,h),t.scale(1,-1),t.translate(0,-h),t.drawImage(r[f],0|i[f],0|o[f],a[f],s[f]),t.translate(0,h),t.scale(1,-1),t.translate(0,-h)}}}catch(t){c.e(t)}finally{c.f()}t.setImageSmoothingEnabled(l)}},{key:"_set_data",value:function(t){this._set_width_heigh_data();for(var e=0,n=this._image.length;e<n;e++)if(!(null!=t&&t.indexOf(e)<0)){var r=this._image[e],i=void 0;Object(Co.i)(r)?(i=r,this._height[e]=r.shape[0],this._width[e]=r.shape[1]):(i=Object(q.b)(r),this._height[e]=r.length,this._width[e]=r[0].length);var o=this._flat_img_to_buf8(i);this._set_image_data_from_buffer(e,o)}}},{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x.length;e<n;e++){var r=this._lrtb(e),i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3];!isNaN(a+s+l+u)&&isFinite(a+s+l+u)&&t.push({x0:a,y0:u,x1:s,y1:l,i:e})}return new Vi.a(t)}},{key:"_lrtb",value:function(t){var e=this.renderer.xscale.source_range,n=this._x[t],r=e.is_reversed?n-this._dw[t]:n+this._dw[t],i=this.renderer.yscale.source_range,a=this._y[t],s=i.is_reversed?a-this._dh[t]:a+this._dh[t],l=n<r?[n,r]:[r,n],u=o()(l,2),c=u[0],f=u[1],h=a<s?[a,s]:[s,a],d=o()(h,2),p=d[0];return[c,f,d[1],p]}},{key:"_set_width_heigh_data",value:function(){null!=this.image_data&&this.image_data.length==this._image.length||(this.image_data=new Array(this._image.length)),null!=this._width&&this._width.length==this._image.length||(this._width=new Array(this._image.length)),null!=this._height&&this._height.length==this._image.length||(this._height=new Array(this._image.length))}},{key:"_get_or_create_canvas",value:function(t){var e=this.image_data[t];if(null!=e&&e.width==this._width[t]&&e.height==this._height[t])return e;var n=document.createElement("canvas");return n.width=this._width[t],n.height=this._height[t],n}},{key:"_set_image_data_from_buffer",value:function(t,e){var n=this._get_or_create_canvas(t),r=n.getContext("2d"),i=r.getImageData(0,0,this._width[t],this._height[t]);i.data.set(e),r.putImageData(i,0,0),this.image_data[t]=n}},{key:"_map_data",value:function(){switch(this.model.properties.dw.units){case"data":this.sw=this.sdist(this.renderer.xscale,this._x,this._dw,"edge",this.model.dilate);break;case"screen":this.sw=this._dw}switch(this.model.properties.dh.units){case"data":this.sh=this.sdist(this.renderer.yscale,this._y,this._dh,"edge",this.model.dilate);break;case"screen":this.sh=this._dh}}},{key:"_image_index",value:function(t,e,n){var r=this._lrtb(t),i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3],c=this._width[t],f=this._height[t],h=(s-a)/c,d=(l-u)/f,p=Math.floor((e-a)/h),v=Math.floor((n-u)/d);return this.renderer.xscale.source_range.is_reversed&&(p=c-p-1),this.renderer.yscale.source_range.is_reversed&&(v=f-v-1),{index:t,dim1:p,dim2:v,flat_index:v*c+p}}},{key:"_hit_point",value:function(t){var e,n=t.sx,r=t.sy,i=this.renderer.xscale.invert(n),o=this.renderer.yscale.invert(r),a=this.index.indices({x0:i,x1:i,y0:o,y1:o}),s=new Si.a,l=Eo(a);try{for(l.s();!(e=l.n()).done;){var u=e.value;n!=1/0&&r!=1/0&&s.image_indices.push(this._image_index(u,i,o))}}catch(t){l.e(t)}finally{l.f()}return s}}]),n}(Ci.b);To.__name__="ImageBaseView";var Io=function(t){d()(n,t);var e=Ro(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ImageBase",value:function(){this.define({image:[b.X],dw:[b.t],dh:[b.t],dilate:[b.i,!1],global_alpha:[b.V,1]})}}]),n}(Ci.a);function Oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Io.__name__="ImageBase",Io.init_ImageBase();var Mo=function(t){d()(n,t);var e=Oo(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.color_mapper.change,(function(){return t._update_image()}))}},{key:"_update_image",value:function(){null!=this.image_data&&(this._set_data(null),this.renderer.plot_view.request_render())}},{key:"_flat_img_to_buf8",value:function(t){return this.model.color_mapper.rgba_mapper.v_compute(t)}}]),n}(To);Mo.__name__="ImageView";var Po=function(t){d()(n,t);var e=Oo(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Image",value:function(){this.prototype.default_view=Mo,this.define({color_mapper:[b.F,function(){return new bt({palette:["#000000","#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0","#ffffff"]})}]})}}]),n}(Io);function Do(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Po.__name__="Image",Po.init_Image();var No=function(t){d()(n,t);var e=Do(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_flat_img_to_buf8",value:function(t){var e;return e=Object(ct.a)(t)?new Uint32Array(t):t,new Uint8Array(e.buffer)}}]),n}(To);No.__name__="ImageRGBAView";var Lo=function(t){d()(n,t);var e=Do(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ImageRGBA",value:function(){this.prototype.default_view=No}}]),n}(Io);Lo.__name__="ImageRGBA",Lo.init_ImageRGBA();var jo=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this._image=new Image,this._finished=!1;var i=r.attempts,o=void 0===i?1:i,a=r.timeout,l=void 0===a?1:a;this.promise=new Promise((function(t,i){n._image.crossOrigin="anonymous";var a=0;n._image.onerror=function(){if(++a==o){var t="unable to load ".concat(e," image after ").concat(o," attempts");if(he.a.warn(t),null==n._image.crossOrigin)return void(null!=r.failed&&r.failed());he.a.warn("attempting to load ".concat(e," without a cross origin policy")),n._image.crossOrigin=null,a=0}setTimeout((function(){return n._image.src=e}),l)},n._image.onload=function(){n._finished=!0,null!=r.loaded&&r.loaded(n._image),t(n._image)},n._image.src=e}))}return u()(t,[{key:"finished",get:function(){return this._finished}},{key:"image",get:function(){return this._image}}]),t}();function Fo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}jo.__name__="ImageLoader";var Uo=function(t){d()(n,t);var e=Bo(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments))._images_rendered=!1,t}return u()(n,[{key:"initialize",value:function(){var t=this;f()(m()(n.prototype),"initialize",this).call(this),this.connect(this.model.properties.global_alpha.change,(function(){return t.renderer.request_render()}))}},{key:"_index_data",value:function(){return new Vi.a([])}},{key:"_set_data",value:function(){var t=this;null!=this.image&&this.image.length==this._url.length||(this.image=Object(yt.j)(this._url,(function(){return null})));for(var e=this.model,n=e.retry_attempts,r=e.retry_timeout,i=function(e,i){var o=t._url[e];if(null==o||""==o)return"continue";new jo(o,{loaded:function(n){t.image[e]=n,t.renderer.request_render()},attempts:n+1,timeout:r})},o=0,a=this._url.length;o<a;o++)i(o);for(var s="data"==this.model.properties.w.units,l="data"==this.model.properties.h.units,u=this._x.length,c=new Array(s?2*u:u),f=new Array(l?2*u:u),h=0;h<u;h++)c[h]=this._x[h],f[h]=this._y[h];if(s)for(var d=0;d<u;d++)c[u+d]=this._x[d]+this._w[d];if(l)for(var p=0;p<u;p++)f[u+p]=this._y[p]+this._h[p];var v=Object(yt.m)(c),g=Object(yt.k)(c),m=Object(yt.m)(f),y=Object(yt.k)(f);this._bounds_rect={x0:v,x1:g,y0:m,y1:y}}},{key:"has_finished",value:function(){return f()(m()(n.prototype),"has_finished",this).call(this)&&1==this._images_rendered}},{key:"_map_data",value:function(){var t=null!=this.model.w?this._w:Object(yt.j)(this._x,(function(){return NaN})),e=null!=this.model.h?this._h:Object(yt.j)(this._x,(function(){return NaN}));switch(this.model.properties.w.units){case"data":this.sw=this.sdist(this.renderer.xscale,this._x,t,"edge",this.model.dilate);break;case"screen":this.sw=t}switch(this.model.properties.h.units){case"data":this.sh=this.sdist(this.renderer.yscale,this._y,e,"edge",this.model.dilate);break;case"screen":this.sh=e}}},{key:"_render",value:function(t,e,n){var r=n.image,i=n.sx,o=n.sy,a=n.sw,s=n.sh,l=n._angle,u=this.renderer.plot_view.frame;t.rect(u._left.value+1,u._top.value+1,u._width.value-2,u._height.value-2),t.clip();var c,f=!0,h=Fo(e);try{for(h.s();!(c=h.n()).done;){var d=c.value;if(!isNaN(i[d]+o[d]+l[d])){var p=r[d];null!=p?this._render_image(t,d,p,i,o,a,s,l):f=!1}}}catch(t){h.e(t)}finally{h.f()}f&&!this._images_rendered&&(this._images_rendered=!0,this.notify_finished())}},{key:"_final_sx_sy",value:function(t,e,n,r,i){switch(t){case"top_left":return[e,n];case"top_center":return[e-r/2,n];case"top_right":return[e-r,n];case"center_right":return[e-r,n-i/2];case"bottom_right":return[e-r,n-i];case"bottom_center":return[e-r/2,n-i];case"bottom_left":return[e,n-i];case"center_left":return[e,n-i/2];case"center":return[e-r/2,n-i/2]}}},{key:"_render_image",value:function(t,e,n,r,i,a,s,l){isNaN(a[e])&&(a[e]=n.width),isNaN(s[e])&&(s[e]=n.height);var u=this.model.anchor,c=this._final_sx_sy(u,r[e],i[e],a[e],s[e]),f=o()(c,2),h=f[0],d=f[1];t.save(),t.globalAlpha=this.model.global_alpha;var p=a[e]/2,v=s[e]/2;l[e]?(t.translate(h,d),t.translate(p,v),t.rotate(l[e]),t.translate(-p,-v),t.drawImage(n,0,0,a[e],s[e]),t.translate(p,v),t.rotate(-l[e]),t.translate(-p,-v),t.translate(-h,-d)):t.drawImage(n,h,d,a[e],s[e]),t.restore()}},{key:"bounds",value:function(){return this._bounds_rect}}]),n}(Ci.b);Uo.__name__="ImageURLView";var Go=function(t){d()(n,t);var e=Bo(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ImageURL",value:function(){this.prototype.default_view=Uo,this.define({url:[b.ob],anchor:[b.a,"top_left"],global_alpha:[b.V,1],angle:[b.c,0],w:[b.t],h:[b.t],dilate:[b.i,!1],retry_attempts:[b.V,0],retry_timeout:[b.V,0]})}}]),n}(Ci.a);Go.__name__="ImageURL",Go.init_ImageURL();var Vo=n(75);function Ho(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Yo=function(t){d()(n,t);var e=Wo(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._xs.length;e<n;e++)if(null!=this._xs[e]&&0!==this._xs[e].length){for(var r=this._xs[e],i=[],o=0,a=r.length;o<a;o++){var s=r[o];isNaN(s)||i.push(s)}for(var l=this._ys[e],u=[],c=0,f=l.length;c<f;c++){var h=l[c];isNaN(h)||u.push(h)}var d=[Object(q.o)(i),Object(q.n)(i)],p=d[0],v=d[1],g=[Object(q.o)(u),Object(q.n)(u)],m=g[0],y=g[1];t.push({x0:p,y0:m,x1:v,y1:y,i:e})}return new Vi.a(t)}},{key:"_render",value:function(t,e,n){var r,i=n.sxs,o=n.sys,a=Ho(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=[i[s],o[s]],u=l[0],c=l[1];this.visuals.line.set_vectorize(t,s);for(var f=0,h=u.length;f<h;f++)0!=f?isNaN(u[f])||isNaN(c[f])?(t.stroke(),t.beginPath()):t.lineTo(u[f],c[f]):(t.beginPath(),t.moveTo(u[f],c[f]));t.stroke()}}catch(t){a.e(t)}finally{a.f()}}},{key:"_hit_point",value:function(t){for(var e={x:t.sx,y:t.sy},n=9999,r=new Map,i=0,o=this.sxs.length;i<o;i++){for(var a=Math.max(2,this.visuals.line.cache_select("line_width",i)/2),s=null,l=0,u=this.sxs[i].length-1;l<u;l++){var c={x:this.sxs[i][l],y:this.sys[i][l]},f={x:this.sxs[i][l+1],y:this.sys[i][l+1]},h=eo.c(e,c,f);h<a&&h<n&&(n=h,s=[l])}null!=s&&r.set(i,s)}return new Si.a({indices:U()(r.keys()),multiline_indices:Object(xt.h)(r)})}},{key:"_hit_span",value:function(t){var e,n,r=t.sx,i=t.sy;"v"===t.direction?(e=this.renderer.yscale.invert(i),n=this._ys):(e=this.renderer.xscale.invert(r),n=this._xs);for(var o=new Map,a=0,s=n.length;a<s;a++){for(var l=[],u=0,c=n[a].length-1;u<c;u++)n[a][u]<=e&&e<=n[a][u+1]&&l.push(u);l.length>0&&o.set(a,l)}return new Si.a({indices:U()(o.keys()),multiline_indices:Object(xt.h)(o)})}},{key:"get_interpolation_hit",value:function(t,e,n){var r=[this._xs[t][e],this._ys[t][e],this._xs[t][e+1],this._ys[t][e+1]],i=r[0],o=r[1],a=r[2],s=r[3];return Object(Ei.c)(this.renderer,n,i,o,a,s)}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}},{key:"scenterx",value:function(){throw new Error("not implemented")}},{key:"scentery",value:function(){throw new Error("not implemented")}}]),n}(Hi.b);Yo.__name__="MultiLineView";var Xo=function(t){d()(n,t);var e=Wo(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_MultiLine",value:function(){this.prototype.default_view=Yo,this.coords([["xs","ys"]]),this.mixins(_.f)}}]),n}(Hi.a);function $o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Xo.__name__="MultiLine",Xo.init_MultiLine();var Qo=function(t){d()(n,t);var e=Ko(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._xs.length;e<n;e++)for(var r=0,i=this._xs[e].length;r<i;r++){var o=this._xs[e][r][0],a=this._ys[e][r][0];0!=o.length&&t.push({x0:Object(q.o)(o),y0:Object(q.o)(a),x1:Object(q.n)(o),y1:Object(q.n)(a),i:e})}return this.hole_index=this._index_hole_data(),new Vi.a(t)}},{key:"_index_hole_data",value:function(){for(var t=[],e=0,n=this._xs.length;e<n;e++)for(var r=0,i=this._xs[e].length;r<i;r++)if(this._xs[e][r].length>1)for(var o=1,a=this._xs[e][r].length;o<a;o++){var s=this._xs[e][r][o],l=this._ys[e][r][o];0!=s.length&&t.push({x0:Object(q.o)(s),y0:Object(q.o)(l),x1:Object(q.n)(s),y1:Object(q.n)(l),i:e})}return new Vi.a(t)}},{key:"_mask_data",value:function(){var t=this.renderer.plot_view.frame.x_ranges.default,e=[t.min,t.max],n=e[0],r=e[1],i=this.renderer.plot_view.frame.y_ranges.default,o=[i.min,i.max],a=o[0],s=o[1];return this.index.indices({x0:n,x1:r,y0:a,y1:s}).sort((function(t,e){return t-e})).filter((function(t,e,n){return 0===e||t!==n[e-1]}))}},{key:"_inner_loop",value:function(t,e,n){t.beginPath();for(var r=0,i=e.length;r<i;r++)for(var o=0,a=e[r].length;o<a;o++){for(var s=e[r][o],l=n[r][o],u=0,c=s.length;u<c;u++)0!=u?t.lineTo(s[u],l[u]):t.moveTo(s[u],l[u]);t.closePath()}}},{key:"_render",value:function(t,e,n){var r=this,i=n.sxs,o=n.sys;if(this.visuals.fill.doit||this.visuals.line.doit){var a,s=$o(e);try{var l=function(){var e=a.value,n=[i[e],o[e]],s=n[0],l=n[1];r.visuals.fill.doit&&(r.visuals.fill.set_vectorize(t,e),r._inner_loop(t,s,l),t.fill("evenodd")),r.visuals.hatch.doit2(t,e,(function(){r._inner_loop(t,s,l),t.fill("evenodd")}),(function(){return r.renderer.request_render()})),r.visuals.line.doit&&(r.visuals.line.set_vectorize(t,e),r._inner_loop(t,s,l),t.stroke())};for(s.s();!(a=s.n()).done;)l()}catch(t){s.e(t)}finally{s.f()}}}},{key:"_hit_rect",value:function(t){for(var e=t.sx0,n=t.sx1,r=t.sy0,i=t.sy1,a=[e,n,n,e],s=[r,r,i,i],l=this.renderer.xscale.r_invert(e,n),u=o()(l,2),c=u[0],f=u[1],h=this.renderer.yscale.r_invert(r,i),d=o()(h,2),p=d[0],v=d[1],g=this.index.indices({x0:c,x1:f,y0:p,y1:v}),m=[],y=0,_=g.length;y<_;y++){for(var b=g[y],A=this.sxs[b],w=this.sys[b],x=!0,k=0,C=A.length;k<C;k++){for(var E=0,S=A[k][0].length;E<S;E++){var R=A[k][0][E],T=w[k][0][E];if(!eo.f(R,T,a,s)){x=!1;break}}if(!x)break}x&&m.push(b)}return new Si.a({indices:m})}},{key:"_hit_point",value:function(t){for(var e=t.sx,n=t.sy,r=this.renderer.xscale.invert(e),i=this.renderer.yscale.invert(n),o=this.index.indices({x0:r,y0:i,x1:r,y1:i}),a=this.hole_index.indices({x0:r,y0:i,x1:r,y1:i}),s=[],l=0,u=o.length;l<u;l++)for(var c=o[l],f=this.sxs[c],h=this.sys[c],d=0,p=f.length;d<p;d++){var v=f[d].length;if(eo.f(e,n,f[d][0],h[d][0]))if(1==v)s.push(c);else if(-1==a.indexOf(c))s.push(c);else if(v>1){for(var g=!1,m=1;m<v;m++){var y=f[d][m],_=h[d][m];if(eo.f(e,n,y,_)){g=!0;break}}g||s.push(c)}}return new Si.a({indices:s})}},{key:"_get_snap_coord",value:function(t){return Object(yt.q)(t)/t.length}},{key:"scenterx",value:function(t,e,n){if(1==this.sxs[t].length)return this._get_snap_coord(this.sxs[t][0][0]);for(var r=this.sxs[t],i=this.sys[t],o=0,a=r.length;o<a;o++)if(eo.f(e,n,r[o][0],i[o][0]))return this._get_snap_coord(r[o][0]);Object(Jt.b)()}},{key:"scentery",value:function(t,e,n){if(1==this.sys[t].length)return this._get_snap_coord(this.sys[t][0][0]);for(var r=this.sxs[t],i=this.sys[t],o=0,a=r.length;o<a;o++)if(eo.f(e,n,r[o][0],i[o][0]))return this._get_snap_coord(i[o][0]);Object(Jt.b)()}},{key:"map_data",value:function(){var t,e=$o(this.model._coords);try{for(e.s();!(t=e.n()).done;){var n=o()(t.value,2),r=n[0],i=n[1],a="s".concat(r),s="s".concat(i);if(r="_".concat(r),i="_".concat(i),null!=this[r]&&(Object(ct.a)(this[r][0])||Object(ct.k)(this[r][0]))){var l=this[r].length;this[a]=new Array(l),this[s]=new Array(l);for(var u=0;u<l;u++){var c=this[r][u].length;this[a][u]=new Array(c),this[s][u]=new Array(c);for(var f=0;f<c;f++){var h=this[r][u][f].length;this[a][u][f]=new Array(h),this[s][u][f]=new Array(h);for(var d=0;d<h;d++){var p=this.map_to_screen(this[r][u][f][d],this[i][u][f][d]),v=o()(p,2),g=v[0],m=v[1];this[a][u][f][d]=g,this[s][u][f][d]=m}}}}}}catch(t){e.e(t)}finally{e.f()}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}}]),n}(Hi.b);Qo.__name__="MultiPolygonsView";var Zo=function(t){d()(n,t);var e=Ko(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_MultiPolygons",value:function(){this.prototype.default_view=Qo,this.coords([["xs","ys"]]),this.mixins([_.f,_.b,_.d])}}]),n}(Hi.a);function ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Zo.__name__="MultiPolygons",Zo.init_MultiPolygons();var ea=function(t){d()(n,t);var e=ta(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){f()(m()(n.prototype),"_map_data",this).call(this);for(var t=this.sw,e=t.length,r=0;r<e;r++)t[r]*=.75}}]),n}(oo);ea.__name__="OvalView";var na=function(t){d()(n,t);var e=ta(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Oval",value:function(){this.prototype.default_view=ea}}]),n}(ao);na.__name__="Oval",na.init_Oval();var ra=n(110);function ia(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var sa=function(t){d()(n,t);var e=aa(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_build_discontinuous_object",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){e[n]=[];for(var i=Object(q.d)(t[n]);i.length>0;){var o=Object(q.j)(i,(function(t){return isNaN(t)})),a=void 0;o>=0?a=i.splice(o):(a=i,i=[]);var s=a.filter((function(t){return!isNaN(t)}));e[n].push(s)}}return e}},{key:"_index_data",value:function(){for(var t=this._build_discontinuous_object(this._xs),e=this._build_discontinuous_object(this._ys),n=[],r=0,i=this._xs.length;r<i;r++)for(var o=0,a=t[r].length;o<a;o++){var s=t[r][o],l=e[r][o];0!=s.length&&n.push({x0:Object(q.o)(s),y0:Object(q.o)(l),x1:Object(q.n)(s),y1:Object(q.n)(l),i:r})}return new Vi.a(n)}},{key:"_mask_data",value:function(){var t=this.renderer.plot_view.frame.x_ranges.default,e=[t.min,t.max],n=e[0],r=e[1],i=this.renderer.plot_view.frame.y_ranges.default,o=[i.min,i.max],a=o[0],s=o[1];return this.index.indices({x0:n,x1:r,y0:a,y1:s}).sort((function(t,e){return t-e}))}},{key:"_inner_loop",value:function(t,e,n,r){for(var i=0,o=e.length;i<o;i++)0!=i?isNaN(e[i]+n[i])?(t.closePath(),r.apply(t),t.beginPath()):t.lineTo(e[i],n[i]):(t.beginPath(),t.moveTo(e[i],n[i]));t.closePath(),r.call(t)}},{key:"_render",value:function(t,e,n){var r=this,i=n.sxs,o=n.sys;this.sxss=this._build_discontinuous_object(i),this.syss=this._build_discontinuous_object(o);var a,s=ia(e);try{var l=function(){var e=a.value,n=[i[e],o[e]],s=n[0],l=n[1];r.visuals.fill.doit&&(r.visuals.fill.set_vectorize(t,e),r._inner_loop(t,s,l,t.fill)),r.visuals.hatch.doit2(t,e,(function(){return r._inner_loop(t,s,l,t.fill)}),(function(){return r.renderer.request_render()})),r.visuals.line.doit&&(r.visuals.line.set_vectorize(t,e),r._inner_loop(t,s,l,t.stroke))};for(s.s();!(a=s.n()).done;)l()}catch(t){s.e(t)}finally{s.f()}}},{key:"_hit_rect",value:function(t){for(var e=t.sx0,n=t.sx1,r=t.sy0,i=t.sy1,a=[e,n,n,e],s=[r,r,i,i],l=this.renderer.xscale.r_invert(e,n),u=o()(l,2),c=u[0],f=u[1],h=this.renderer.yscale.r_invert(r,i),d=o()(h,2),p=d[0],v=d[1],g=this.index.indices({x0:c,x1:f,y0:p,y1:v}),m=[],y=0,_=g.length;y<_;y++){for(var b=g[y],A=this.sxs[b],w=this.sys[b],x=!0,k=0,C=A.length;k<C;k++){var E=A[k],S=w[k];if(!eo.f(E,S,a,s)){x=!1;break}}x&&m.push(b)}return new Si.a({indices:m})}},{key:"_hit_point",value:function(t){for(var e=t.sx,n=t.sy,r=this.renderer.xscale.invert(e),i=this.renderer.yscale.invert(n),o=this.index.indices({x0:r,y0:i,x1:r,y1:i}),a=[],s=0,l=o.length;s<l;s++)for(var u=o[s],c=this.sxss[u],f=this.syss[u],h=0,d=c.length;h<d;h++)eo.f(e,n,c[h],f[h])&&a.push(u);return new Si.a({indices:a})}},{key:"_get_snap_coord",value:function(t){return Object(yt.q)(t)/t.length}},{key:"scenterx",value:function(t,e,n){if(1==this.sxss[t].length)return this._get_snap_coord(this.sxs[t]);for(var r=this.sxss[t],i=this.syss[t],o=0,a=r.length;o<a;o++)if(eo.f(e,n,r[o],i[o]))return this._get_snap_coord(r[o]);Object(Jt.b)()}},{key:"scentery",value:function(t,e,n){if(1==this.syss[t].length)return this._get_snap_coord(this.sys[t]);for(var r=this.sxss[t],i=this.syss[t],o=0,a=r.length;o<a;o++)if(eo.f(e,n,r[o],i[o]))return this._get_snap_coord(i[o]);Object(Jt.b)()}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}}]),n}(Hi.b);sa.__name__="PatchesView";var la=function(t){d()(n,t);var e=aa(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Patches",value:function(){this.prototype.default_view=sa,this.coords([["xs","ys"]]),this.mixins([_.f,_.b,_.d])}}]),n}(Hi.a);function ua(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}la.__name__="Patches",la.init_Patches();var ca=function(t){d()(n,t);var e=ua(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"scenterx",value:function(t){return(this.sleft[t]+this.sright[t])/2}},{key:"scentery",value:function(t){return(this.stop[t]+this.sbottom[t])/2}},{key:"_index_data",value:function(){return this._index_box(this._right.length)}},{key:"_lrtb",value:function(t){return[this._left[t],this._right[t],this._top[t],this._bottom[t]]}}]),n}(vo);ca.__name__="QuadView";var fa=function(t){d()(n,t);var e=ua(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Quad",value:function(){this.prototype.default_view=ca,this.coords([["right","bottom"],["left","top"]])}}]),n}(go);function ha(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return da(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function da(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function va(t,e,n){if(e==(t+n)/2)return[t,n];var r=(t-e)/(t-2*e+n),i=t*Math.pow(1-r,2)+2*e*(1-r)*r+n*Math.pow(r,2);return[Math.min(t,n,i),Math.max(t,n,i)]}fa.__name__="Quad",fa.init_Quad();var ga=function(t){d()(n,t);var e=pa(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x0.length;e<n;e++)if(!isNaN(this._x0[e]+this._x1[e]+this._y0[e]+this._y1[e]+this._cx[e]+this._cy[e])){var r=va(this._x0[e],this._cx[e],this._x1[e]),i=o()(r,2),a=i[0],s=i[1],l=va(this._y0[e],this._cy[e],this._y1[e]),u=o()(l,2),c=u[0],f=u[1];t.push({x0:a,y0:c,x1:s,y1:f,i:e})}return new Vi.a(t)}},{key:"_render",value:function(t,e,n){var r=n.sx0,i=n.sy0,o=n.sx1,a=n.sy1,s=n.scx,l=n.scy;if(this.visuals.line.doit){var u,c=ha(e);try{for(c.s();!(u=c.n()).done;){var f=u.value;isNaN(r[f]+i[f]+o[f]+a[f]+s[f]+l[f])||(t.beginPath(),t.moveTo(r[f],i[f]),t.quadraticCurveTo(s[f],l[f],o[f],a[f]),this.visuals.line.set_vectorize(t,f),t.stroke())}}catch(t){c.e(t)}finally{c.f()}}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}},{key:"scenterx",value:function(){throw new Error("not implemented")}},{key:"scentery",value:function(){throw new Error("not implemented")}}]),n}(Hi.b);ga.__name__="QuadraticView";var ma=function(t){d()(n,t);var e=pa(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Quadratic",value:function(){this.prototype.default_view=ga,this.coords([["x0","y0"],["x1","y1"],["cx","cy"]]),this.mixins(_.f)}}]),n}(Hi.a);function ya(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ma.__name__="Quadratic",ma.init_Quadratic();var Aa=function(t){d()(n,t);var e=ba(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){"data"==this.model.properties.length.units?this.slength=this.sdist(this.renderer.xscale,this._x,this._length):this.slength=this._length}},{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,o=n.slength,a=n._angle;if(this.visuals.line.doit){for(var s=2*(this.renderer.plot_view.frame._width.value+this.renderer.plot_view.frame._height.value),l=0,u=o.length;l<u;l++)0==o[l]&&(o[l]=s);var c,f=ya(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;isNaN(r[h]+i[h]+a[h]+o[h])||(t.translate(r[h],i[h]),t.rotate(a[h]),t.beginPath(),t.moveTo(0,0),t.lineTo(o[h],0),this.visuals.line.set_vectorize(t,h),t.stroke(),t.rotate(-a[h]),t.translate(-r[h],-i[h]))}}catch(t){f.e(t)}finally{f.f()}}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}}]),n}(Ci.b);Aa.__name__="RayView";var wa=function(t){d()(n,t);var e=ba(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Ray",value:function(){this.prototype.default_view=Aa,this.mixins(_.f),this.define({length:[b.t],angle:[b.c]})}}]),n}(Ci.a);function xa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ka(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ka(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ka(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}wa.__name__="Ray",wa.init_Ray();var Ea=function(t){d()(n,t);var e=Ca(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_set_data",value:function(){this.max_w2=0,"data"==this.model.properties.width.units&&(this.max_w2=this.max_width/2),this.max_h2=0,"data"==this.model.properties.height.units&&(this.max_h2=this.max_height/2)}},{key:"_map_data",value:function(){if("data"==this.model.properties.width.units){var t=this._map_dist_corner_for_data_side_length(this._x,this._width,this.renderer.xscale),e=o()(t,2);this.sw=e[0],this.sx0=e[1]}else{this.sw=this._width;var n=this.sx.length;this.sx0=new Float64Array(n);for(var r=0;r<n;r++)this.sx0[r]=this.sx[r]-this.sw[r]/2}if("data"==this.model.properties.height.units){var i=this._map_dist_corner_for_data_side_length(this._y,this._height,this.renderer.yscale),a=o()(i,2);this.sh=a[0],this.sy1=a[1]}else{this.sh=this._height;var s=this.sy.length;this.sy1=new Float64Array(s);for(r=0;r<s;r++)this.sy1[r]=this.sy[r]-this.sh[r]/2}var l=this.sw.length;this.ssemi_diag=new Float64Array(l);for(var u=0;u<l;u++)this.ssemi_diag[u]=Math.sqrt(this.sw[u]/2*this.sw[u]/2+this.sh[u]/2*this.sh[u]/2)}},{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,o=n.sx0,a=n.sy1,s=n.sw,l=n.sh,u=n._angle;if(this.visuals.fill.doit){var c,f=xa(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;isNaN(r[h]+i[h]+o[h]+a[h]+s[h]+l[h]+u[h])||(this.visuals.fill.set_vectorize(t,h),u[h]?(t.translate(r[h],i[h]),t.rotate(u[h]),t.fillRect(-s[h]/2,-l[h]/2,s[h],l[h]),t.rotate(-u[h]),t.translate(-r[h],-i[h])):t.fillRect(o[h],a[h],s[h],l[h]))}}catch(t){f.e(t)}finally{f.f()}}if(this.visuals.line.doit){t.beginPath();var d,p=xa(e);try{for(p.s();!(d=p.n()).done;){var v=d.value;isNaN(r[v]+i[v]+o[v]+a[v]+s[v]+l[v]+u[v])||0!=s[v]&&0!=l[v]&&(u[v]?(t.translate(r[v],i[v]),t.rotate(u[v]),t.rect(-s[v]/2,-l[v]/2,s[v],l[v]),t.rotate(-u[v]),t.translate(-r[v],-i[v])):t.rect(o[v],a[v],s[v],l[v]),this.visuals.line.set_vectorize(t,v),t.stroke(),t.beginPath())}}catch(t){p.e(t)}finally{p.f()}t.stroke()}}},{key:"_hit_rect",value:function(t){return this._hit_rect_against_index(t)}},{key:"_hit_point",value:function(t){for(var e=t.sx,n=t.sy,r=this.renderer.xscale.invert(e),i=this.renderer.yscale.invert(n),o=[],a=0,s=this.sx0.length;a<s;a++)o.push(this.sx0[a]+this.sw[a]/2);for(var l=[],u=0,c=this.sy1.length;u<c;u++)l.push(this.sy1[u]+this.sh[u]/2);var f,h=Object(yt.k)(this._ddist(0,o,this.ssemi_diag)),d=Object(yt.k)(this._ddist(1,l,this.ssemi_diag)),p=r-h,v=r+h,g=i-d,m=i+d,y=[],_=xa(this.index.indices({x0:p,x1:v,y0:g,y1:m}));try{for(_.s();!(f=_.n()).done;){var b=f.value,A=void 0,w=void 0;if(this._angle[b]){var x=Math.sin(-this._angle[b]),k=Math.cos(-this._angle[b]),C=k*(e-this.sx[b])-x*(n-this.sy[b])+this.sx[b],E=x*(e-this.sx[b])+k*(n-this.sy[b])+this.sy[b];e=C,n=E,w=Math.abs(this.sx[b]-e)<=this.sw[b]/2,A=Math.abs(this.sy[b]-n)<=this.sh[b]/2}else w=e-this.sx0[b]<=this.sw[b]&&e-this.sx0[b]>=0,A=n-this.sy1[b]<=this.sh[b]&&n-this.sy1[b]>=0;A&&w&&y.push(b)}}catch(t){_.e(t)}finally{_.f()}return new Si.a({indices:y})}},{key:"_map_dist_corner_for_data_side_length",value:function(t,e,n){for(var r=t.length,i=new Float64Array(r),o=new Float64Array(r),a=0;a<r;a++)i[a]=Number(t[a])-e[a]/2,o[a]=Number(t[a])+e[a]/2;for(var s=n.v_compute(i),l=n.v_compute(o),u=this.sdist(n,i,e,"edge",this.model.dilate),c=s,f=0,h=s.length;f<h;f++)if(s[f]!=l[f]){c=s[f]<l[f]?s:l;break}return[u,c]}},{key:"_ddist",value:function(t,e,n){for(var r=0==t?this.renderer.xscale:this.renderer.yscale,i=e,o=i.length,a=new Float64Array(o),s=0;s<o;s++)a[s]=i[s]+n[s];for(var l=r.v_invert(i),u=r.v_invert(a),c=l.length,f=new Float64Array(c),h=0;h<c;h++)f[h]=Math.abs(u[h]-l[h]);return f}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}},{key:"_bounds",value:function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;return{x0:e-this.max_w2,x1:n+this.max_w2,y0:r-this.max_h2,y1:i+this.max_h2}}}]),n}(Zi);Ea.__name__="RectView";var Sa=function(t){d()(n,t);var e=Ca(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Rect",value:function(){this.prototype.default_view=Ea,this.define({dilate:[b.i,!1]})}}]),n}(to);function Ra(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ia(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Sa.__name__="Rect",Sa.init_Rect();var Oa=function(t){d()(n,t);var e=Ia(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x0.length;e<n;e++){var r=this._x0[e],i=this._x1[e],o=this._y0[e],a=this._y1[e];isNaN(r+i+o+a)||t.push({x0:Math.min(r,i),y0:Math.min(o,a),x1:Math.max(r,i),y1:Math.max(o,a),i:e})}return new Vi.a(t)}},{key:"_render",value:function(t,e,n){var r=n.sx0,i=n.sy0,o=n.sx1,a=n.sy1;if(this.visuals.line.doit){var s,l=Ra(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;isNaN(r[u]+i[u]+o[u]+a[u])||(t.beginPath(),t.moveTo(r[u],i[u]),t.lineTo(o[u],a[u]),this.visuals.line.set_vectorize(t,u),t.stroke())}}catch(t){l.e(t)}finally{l.f()}}}},{key:"_hit_point",value:function(t){var e,n=t.sx,r=t.sy,i={x:n,y:r},a=this.renderer.xscale.r_invert(n-2,n+2),s=o()(a,2),l=s[0],u=s[1],c=this.renderer.yscale.r_invert(r-2,r+2),f=o()(c,2),h=f[0],d=f[1],p=[],v=Ra(this.index.indices({x0:l,y0:h,x1:u,y1:d}));try{for(v.s();!(e=v.n()).done;){var g=e.value,m=Math.pow(Math.max(2,this.visuals.line.cache_select("line_width",g)/2),2),y={x:this.sx0[g],y:this.sy0[g]},_={x:this.sx1[g],y:this.sy1[g]};eo.d(i,y,_)<m&&p.push(g)}}catch(t){v.e(t)}finally{v.f()}return new Si.a({indices:p})}},{key:"_hit_span",value:function(t){var e,n,r,i=o()(this.renderer.plot_view.frame.bbox.ranges,2),a=i[0],s=i[1],l=t.sx,u=t.sy;if("v"==t.direction){r=this.renderer.yscale.invert(u);var c=[this._y0,this._y1];e=c[0],n=c[1]}else{r=this.renderer.xscale.invert(l);var f=[this._x0,this._x1];e=f[0],n=f[1]}var h,d=[],p=this.renderer.xscale.r_invert(a.start,a.end),v=o()(p,2),g=v[0],m=v[1],y=this.renderer.yscale.r_invert(s.start,s.end),_=o()(y,2),b=_[0],A=_[1],w=Ra(this.index.indices({x0:g,y0:b,x1:m,y1:A}));try{for(w.s();!(h=w.n()).done;){var x=h.value;(e[x]<=r&&r<=n[x]||n[x]<=r&&r<=e[x])&&d.push(x);var k=1.5+this.visuals.line.cache_select("line_width",x)/2;e[x]==n[x]&&("h"==t.direction?Math.abs(this.sx0[x]-l)<=k&&d.push(x):Math.abs(this.sy0[x]-u)<=k&&d.push(x))}}catch(t){w.e(t)}finally{w.f()}return new Si.a({indices:d})}},{key:"scenterx",value:function(t){return(this.sx0[t]+this.sx1[t])/2}},{key:"scentery",value:function(t){return(this.sy0[t]+this.sy1[t])/2}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}}]),n}(Hi.b);Oa.__name__="SegmentView";var Ma=function(t){d()(n,t);var e=Ia(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Segment",value:function(){this.prototype.default_view=Oa,this.coords([["x0","y0"],["x1","y1"]]),this.mixins(_.f)}}]),n}(Hi.a);function Pa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Da(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Da(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Da(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ma.__name__="Segment",Ma.init_Segment();var La=function(t){d()(n,t);var e=Na(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,o=!1,a=null;this.visuals.line.set_value(t);var s=e.length;if(!(s<2)){t.beginPath(),t.moveTo(r[0],i[0]);var l,u=Pa(e);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=void 0,h=void 0,d=void 0,p=void 0;switch(this.model.mode){case"before":var v=[r[c-1],i[c]];f=v[0],d=v[1];var g=[r[c],i[c]];h=g[0],p=g[1];break;case"after":var m=[r[c],i[c-1]];f=m[0],d=m[1];var y=[r[c],i[c]];h=y[0],p=y[1];break;case"center":var _=(r[c-1]+r[c])/2,b=[_,i[c-1]];f=b[0],d=b[1];var A=[_,i[c]];h=A[0],p=A[1];break;default:throw new Error("unexpected")}if(o){if(!isFinite(r[c]+i[c])){t.stroke(),t.beginPath(),o=!1,a=c;continue}null!=a&&c-a>1&&(t.stroke(),o=!1)}o?(t.lineTo(f,d),t.lineTo(h,p)):(t.beginPath(),t.moveTo(r[c],i[c]),o=!0),a=c}}catch(t){u.e(t)}finally{u.f()}t.lineTo(r[s-1],i[s-1]),t.stroke()}}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.b)(this.visuals,t,e,n)}}]),n}(Ci.b);La.__name__="StepView";var ja=function(t){d()(n,t);var e=Na(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Step",value:function(){this.prototype.default_view=La,this.mixins(_.f),this.define({mode:[b.mb,"before"]})}}]),n}(Ci.a);function Fa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ja.__name__="Step",ja.init_Step();var Ua=function(t){d()(n,t);var e=Ba(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_rotate_point",value:function(t,e,n,r,i){return[(t-n)*Math.cos(i)-(e-r)*Math.sin(i)+n,(t-n)*Math.sin(i)+(e-r)*Math.cos(i)+r]}},{key:"_text_bounds",value:function(t,e,n,r){return[[t,t+n,t+n,t,t],[e,e,e-r,e-r,e]]}},{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,a=n._x_offset,s=n._y_offset,l=n._angle,u=n._text;this._sys=[],this._sxs=[];var c,f=Fa(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(this._sxs[h]=[],this._sys[h]=[],!isNaN(r[h]+i[h]+a[h]+s[h]+l[h])&&null!=u[h]&&this.visuals.text.doit){var d="".concat(u[h]);t.save(),t.translate(r[h]+a[h],i[h]+s[h]),t.rotate(l[h]),this.visuals.text.set_vectorize(t,h);var p=this.visuals.text.cache_select("font",h),v=Object($t.a)(p).height,g=this.visuals.text.text_line_height.value()*v;if(-1==d.indexOf("\n")){t.fillText(d,0,0);var m=r[h]+a[h],y=i[h]+s[h],_=t.measureText(d).width,b=this._text_bounds(m,y,_,g),A=o()(b,2),w=A[0],x=A[1];this._sxs[h].push(w),this._sys[h].push(x)}else{var k=d.split("\n"),C=g*k.length,E=this.visuals.text.cache_select("text_baseline",h),S=void 0;switch(E){case"top":S=0;break;case"middle":S=-C/2+g/2;break;case"bottom":S=-C+g;break;default:S=0,console.warn("'".concat(E,"' baseline not supported with multi line text"))}var R,T=Fa(k);try{for(T.s();!(R=T.n()).done;){var I=R.value;t.fillText(I,0,S);var O=r[h]+a[h],M=S+i[h]+s[h],P=t.measureText(I).width,D=this._text_bounds(O,M,P,g),N=o()(D,2),L=N[0],j=N[1];this._sxs[h].push(L),this._sys[h].push(j),S+=g}}catch(t){T.e(t)}finally{T.f()}}t.restore()}}}catch(t){f.e(t)}finally{f.f()}}},{key:"_hit_point",value:function(t){for(var e=t.sx,n=t.sy,r=[],i=0;i<this._sxs.length;i++)for(var a=this._sxs[i],s=this._sys[i],l=a.length,u=0,c=l;u<c;u++){var f=this._rotate_point(e,n,a[l-1][0],s[l-1][0],-this._angle[i]),h=o()(f,2),d=h[0],p=h[1];eo.f(d,p,a[u],s[u])&&r.push(i)}return new Si.a({indices:r})}},{key:"_scenterxy",value:function(t){var e=this._sxs[t],n=this._sys[t];Object(Jt.a)(0!=e.length&&0!=n.length);var r=e[0][0],i=n[0][0],a=(e[0][2]+r)/2,s=(n[0][2]+i)/2,l=this._rotate_point(a,s,r,i,this._angle[t]),u=o()(l,2);return{x:u[0],y:u[1]}}},{key:"scenterx",value:function(t){return this._scenterxy(t).x}},{key:"scentery",value:function(t){return this._scenterxy(t).y}}]),n}(Ci.b);Ua.__name__="TextView";var Ga=function(t){d()(n,t);var e=Ba(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Text",value:function(){this.prototype.default_view=Ua,this.mixins(_.h),this.define({text:[b.U,{field:"text"}],angle:[b.c,0],x_offset:[b.X,0],y_offset:[b.X,0]})}}]),n}(Ci.a);Ga.__name__="Text",Ga.init_Text();var Va=n(112);function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var qa=function(t){d()(n,t);var e=Ha(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"scenterx",value:function(t){return this.sx[t]}},{key:"scentery",value:function(t){return(this.stop[t]+this.sbottom[t])/2}},{key:"_index_data",value:function(){return this._index_box(this._x.length)}},{key:"_lrtb",value:function(t){return[this._x[t]-this._width[t]/2,this._x[t]+this._width[t]/2,Math.max(this._top[t],this._bottom[t]),Math.min(this._top[t],this._bottom[t])]}},{key:"_map_data",value:function(){this.sx=this.renderer.xscale.v_compute(this._x),this.sw=this.sdist(this.renderer.xscale,this._x,this._width,"center"),this.stop=this.renderer.yscale.v_compute(this._top),this.sbottom=this.renderer.yscale.v_compute(this._bottom);var t=this.sx.length;this.sleft=new Float64Array(t),this.sright=new Float64Array(t);for(var e=0;e<t;e++)this.sleft[e]=this.sx[e]-this.sw[e]/2,this.sright[e]=this.sx[e]+this.sw[e]/2;this._clamp_viewport()}}]),n}(vo);qa.__name__="VBarView";var Wa=function(t){d()(n,t);var e=Ha(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_VBar",value:function(){this.prototype.default_view=qa,this.coords([["x","bottom"]]),this.define({width:[b.X],top:[b.p]}),this.override({bottom:0})}}]),n}(go);function Ya(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Wa.__name__="VBar",Wa.init_VBar();var Ja=function(t){d()(n,t);var e=$a(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_map_data",value:function(){"data"==this.model.properties.radius.units?this.sradius=this.sdist(this.renderer.xscale,this._x,this._radius):this.sradius=this._radius}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n.sradius,s=n._start_angle,l=n._end_angle,u=this.model.properties.direction.value(),c=Ya(e);try{for(c.s();!(r=c.n()).done;){var f=r.value;isNaN(i[f]+o[f]+a[f]+s[f]+l[f])||(t.beginPath(),t.arc(i[f],o[f],a[f],s[f],l[f],u),t.lineTo(i[f],o[f]),t.closePath(),this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,f),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,f),t.stroke()))}}catch(t){c.e(t)}finally{c.f()}}},{key:"_hit_point",value:function(t){var e,n,r,i,a,s,l,u,c,f=t.sx,h=t.sy,d=this.renderer.xscale.invert(f),p=this.renderer.yscale.invert(h),v=2*this.max_radius;if("data"===this.model.properties.radius.units)s=d-v,l=d+v,u=p-v,c=p+v;else{n=f-v,r=f+v;var g=this.renderer.xscale.r_invert(n,r),m=o()(g,2);s=m[0],l=m[1],i=h-v,a=h+v;var y=this.renderer.yscale.r_invert(i,a),_=o()(y,2);u=_[0],c=_[1]}var b,A=[],w=Ya(this.index.indices({x0:s,x1:l,y0:u,y1:c}));try{for(w.s();!(b=w.n()).done;){var x=b.value,k=Math.pow(this.sradius[x],2),C=this.renderer.xscale.r_compute(d,this._x[x]),E=o()(C,2);n=E[0],r=E[1];var S=this.renderer.yscale.r_compute(p,this._y[x]),T=o()(S,2);i=T[0],a=T[1],(e=Math.pow(n-r,2)+Math.pow(i-a,2))<=k&&A.push([x,e])}}catch(t){w.e(t)}finally{w.f()}for(var I=this.model.properties.direction.value(),O=[],M=0,P=A;M<P.length;M++){var D=o()(P[M],2),N=D[0],L=D[1],j=Math.atan2(h-this.sy[N],f-this.sx[N]);Object(R.a)(-j,-this._start_angle[N],-this._end_angle[N],I)&&O.push([N,L])}return Si.a.from_hits(O)}},{key:"draw_legend_for_index",value:function(t,e,n){Object(Ei.a)(this.visuals,t,e,n)}},{key:"_scenterxy",value:function(t){var e=this.sradius[t]/2,n=(this._start_angle[t]+this._end_angle[t])/2;return{x:this.sx[t]+e*Math.cos(n),y:this.sy[t]+e*Math.sin(n)}}},{key:"scenterx",value:function(t){return this._scenterxy(t).x}},{key:"scentery",value:function(t){return this._scenterxy(t).y}}]),n}(Ci.b);Ja.__name__="WedgeView";var Ka=function(t){d()(n,t);var e=$a(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Wedge",value:function(){this.prototype.default_view=Ja,this.mixins([_.f,_.b]),this.define({direction:[b.s,"anticlock"],radius:[b.t],start_angle:[b.c],end_angle:[b.c]})}}]),n}(Ci.a);Ka.__name__="Wedge",Ka.init_Wedge();var Qa=n(100);function Za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ts=function(t){d()(n,t);var e=Za(n);function n(t){return s()(this,n),e.call(this,t)}return n}(G.a);function es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ts.__name__="LayoutProvider";var ns=function(t){d()(n,t);var e=es(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_node_coordinates",value:function(t){for(var e=[],n=[],r=t.data.index,i=0,a=r.length;i<a;i++){var s=this.graph_layout[r[i]],l=null!=s?s:[NaN,NaN],u=o()(l,2),c=u[0],f=u[1];e.push(c),n.push(f)}return[e,n]}},{key:"get_edge_coordinates",value:function(t){for(var e=[],n=[],r=t.data.start,i=t.data.end,o=null!=t.data.xs&&null!=t.data.ys,a=0,s=r.length;a<s;a++){var l=null!=this.graph_layout[r[a]]&&null!=this.graph_layout[i[a]];if(o&&l)e.push(t.data.xs[a]),n.push(t.data.ys[a]);else{var u=void 0,c=void 0;if(l){var f=[this.graph_layout[r[a]],this.graph_layout[i[a]]];c=f[0],u=f[1]}else c=[NaN,NaN],u=[NaN,NaN];e.push([c[0],u[0]]),n.push([c[1],u[1]])}}return[e,n]}}],[{key:"init_StaticLayoutProvider",value:function(){this.define({graph_layout:[b.e,{}]})}}]),n}(ts);function rs(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return is(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function is(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ns.__name__="StaticLayoutProvider",ns.init_StaticLayoutProvider();var as=function(t){d()(n,t);var e=os(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){if(this.model.visible){var t=this.layer.ctx;t.save(),this._draw_regions(t),this._draw_minor_grids(t),this._draw_grids(t),t.restore()}}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.request_render()}))}},{key:"_draw_regions",value:function(t){var e=this;if(this.visuals.band_fill.doit||this.visuals.band_hatch.doit){this.visuals.band_fill.set_value(t);for(var n=this.grid_coords("major",!1),r=o()(n,2),i=r[0],a=r[1],s=function(n){if(n%2!=1)return"continue";var r=e.plot_view.map_to_screen(i[n],a[n],e.model.x_range_name,e.model.y_range_name),s=o()(r,2),l=s[0],u=s[1],c=e.plot_view.map_to_screen(i[n+1],a[n+1],e.model.x_range_name,e.model.y_range_name),f=o()(c,2),h=f[0],d=f[1];e.visuals.band_fill.doit&&t.fillRect(l[0],u[0],h[1]-l[0],d[1]-u[0]),e.visuals.band_hatch.doit2(t,n,(function(){t.fillRect(l[0],u[0],h[1]-l[0],d[1]-u[0])}),(function(){return e.request_render()}))},l=0;l<i.length-1;l++)s(l)}}},{key:"_draw_grids",value:function(t){if(this.visuals.grid_line.doit){var e=this.grid_coords("major"),n=o()(e,2),r=n[0],i=n[1];this._draw_grid_helper(t,this.visuals.grid_line,r,i)}}},{key:"_draw_minor_grids",value:function(t){if(this.visuals.minor_grid_line.doit){var e=this.grid_coords("minor"),n=o()(e,2),r=n[0],i=n[1];this._draw_grid_helper(t,this.visuals.minor_grid_line,r,i)}}},{key:"_draw_grid_helper",value:function(t,e,n,r){e.set_value(t);for(var i=0;i<n.length;i++){var a=this.plot_view.map_to_screen(n[i],r[i],this.model.x_range_name,this.model.y_range_name),s=o()(a,2),l=s[0],u=s[1];t.beginPath(),t.moveTo(Math.round(l[0]),Math.round(u[0]));for(var c=1;c<l.length;c++)t.lineTo(Math.round(l[c]),Math.round(u[c]));t.stroke()}}},{key:"ranges",value:function(){var t=this.model.dimension,e=(t+1)%2,n=this.plot_view.frame,r=[n.x_ranges[this.model.x_range_name],n.y_ranges[this.model.y_range_name]];return[r[t],r[e]]}},{key:"computed_bounds",value:function(){var t,e,n=this.ranges(),r=o()(n,1)[0],i=this.model.bounds,a=[r.min,r.max];if(Object(ct.a)(i))t=Math.min(i[0],i[1]),e=Math.max(i[0],i[1]),t<a[0]&&(t=a[0]),e>a[1]&&(e=a[1]);else{t=a[0],e=a[1];var s,l=rs(this.plot_view.axis_views);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(u.dimension==this.model.dimension&&u.model.x_range_name==this.model.x_range_name&&u.model.y_range_name==this.model.y_range_name){var c=o()(u.computed_bounds,2);t=c[0],e=c[1]}}}catch(t){l.e(t)}finally{l.f()}}return[t,e]}},{key:"grid_coords",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.model.dimension,r=(n+1)%2,i=this.ranges(),a=o()(i,2),s=a[0],l=a[1],u=this.computed_bounds(),c=o()(u,2),f=c[0],h=c[1],d=[Math.min(f,h),Math.max(f,h)];f=d[0],h=d[1];var p=[[],[]],v=this.model.get_ticker();if(null==v)return p;var g=v.get_ticks(f,h,s,l.min,{})[t],m=s.min,y=s.max,_=l.min,b=l.max;e||(g[0]!=m&&g.splice(0,0,m),g[g.length-1]!=y&&g.push(y));for(var A=0;A<g.length;A++)if(g[A]!=m&&g[A]!=y||!e){for(var w=[],x=[],k=2,C=0;C<k;C++){var E=_+(b-_)/(k-1)*C;w.push(g[A]),x.push(E)}p[n].push(w),p[r].push(x)}return p}}]),n}(Xe);as.__name__="GridView";var ss=function(t){d()(n,t);var e=os(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_ticker",value:function(){return null!=this.ticker?this.ticker:null!=this.axis?this.axis.ticker:null}}],[{key:"init_Grid",value:function(){this.prototype.default_view=as,this.mixins([["grid_",_.e],["minor_grid_",_.e],["band_",_.a],["band_",_.c]]),this.define({bounds:[b.e,"auto"],dimension:[b.e,0],axis:[b.F],ticker:[b.F],x_range_name:[b.nb,"default"],y_range_name:[b.nb,"default"]}),this.override({level:"underlay",band_fill_color:null,band_fill_alpha:0,grid_line_color:"#e5e5e5",minor_grid_line_color:null})}}]),n}($e);ss.__name__="Grid",ss.init_Grid();var ls=n(38);function us(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var cs=function(t){d()(n,t);var e=us(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.children.change,(function(){return t.rebuild()}))}},{key:"child_models",get:function(){return this.model.children}}]),n}(ls.b);cs.__name__="BoxView";var fs=function(t){d()(n,t);var e=us(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Box",value:function(){this.define({children:[b.g,[]],spacing:[b.V,0]})}}]),n}(ls.a);fs.__name__="Box",fs.init_Box();var hs=n(51);function ds(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ps=function(t){d()(n,t);var e=ds(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_update_layout",value:function(){var t=this.child_views.map((function(t){return t.layout}));this.layout=new hs.a(t),this.layout.rows=this.model.rows,this.layout.spacing=[this.model.spacing,0],this.layout.set_sizing(this.box_sizing())}}]),n}(cs);ps.__name__="ColumnView";var vs=function(t){d()(n,t);var e=ds(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Column",value:function(){this.prototype.default_view=ps,this.define({rows:[b.e,"auto"]})}}]),n}(fs);function gs(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ms(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vs.__name__="Column",vs.init_Column();var _s=function(t){d()(n,t);var e=ys(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.children.change,(function(){return t.rebuild()}))}},{key:"_update_layout",value:function(){this.layout=new hs.b,this.layout.rows=this.model.rows,this.layout.cols=this.model.cols,this.layout.spacing=this.model.spacing;var t,e=gs(this.model.children);try{for(e.s();!(t=e.n()).done;){var n=o()(t.value,5),r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=this._child_views.get(r);this.layout.items.push({layout:u.layout,row:i,col:a,row_span:s,col_span:l})}}catch(t){e.e(t)}finally{e.f()}this.layout.set_sizing(this.box_sizing())}},{key:"child_models",get:function(){return this.model.children.map((function(t){return o()(t,1)[0]}))}}]),n}(ls.b);_s.__name__="GridBoxView";var bs=function(t){d()(n,t);var e=ys(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_GridBox",value:function(){this.prototype.default_view=_s,this.define({children:[b.g,[]],rows:[b.e,"auto"],cols:[b.e,"auto"],spacing:[b.e,0]})}}]),n}(ls.a);bs.__name__="GridBox",bs.init_GridBox();var As=n(102);function ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var xs=function(t){d()(n,t);var e=ws(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_update_layout",value:function(){var t=this.child_views.map((function(t){return t.layout}));this.layout=new hs.c(t),this.layout.cols=this.model.cols,this.layout.spacing=[0,this.model.spacing],this.layout.set_sizing(this.box_sizing())}}]),n}(cs);xs.__name__="RowView";var ks=function(t){d()(n,t);var e=ws(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Row",value:function(){this.prototype.default_view=xs,this.define({cols:[b.e,"auto"]})}}]),n}(fs);function Cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ks.__name__="Row",ks.init_Row();var Es=function(t){d()(n,t);var e=Cs(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_update_layout",value:function(){this.layout=new Kr.c,this.layout.set_sizing(this.box_sizing())}},{key:"child_models",get:function(){return[]}}]),n}(ls.b);Es.__name__="SpacerView";var Ss=function(t){d()(n,t);var e=Cs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Spacer",value:function(){this.prototype.default_view=Es}}]),n}(ls.a);Ss.__name__="Spacer",Ss.init_Spacer();var Rs=n(48),Ts=n(65),Is=n(92),Os=n(81);function Ms(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ps(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ds(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Ns=function(t){d()(n,t);var e=Ds(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.tabs.change,(function(){return t.rebuild()})),this.connect(this.model.properties.active.change,(function(){return t.on_active_change()}))}},{key:"styles",value:function(){return[].concat(U()(f()(m()(n.prototype),"styles",this).call(this)),[Is.a,Os.a,'\n.bk-root .bk-tabs-header {\n  display: flex;\n  display: -webkit-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  align-items: center;\n  -webkit-align-items: center;\n  overflow: hidden;\n  user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n.bk-root .bk-tabs-header .bk-btn-group {\n  height: auto;\n  margin-right: 5px;\n}\n.bk-root .bk-tabs-header .bk-btn-group > .bk-btn {\n  flex-grow: 0;\n  -webkit-flex-grow: 0;\n  height: auto;\n  padding: 4px 4px;\n}\n.bk-root .bk-tabs-header .bk-headers-wrapper {\n  flex-grow: 1;\n  -webkit-flex-grow: 1;\n  overflow: hidden;\n  color: #666666;\n}\n.bk-root .bk-tabs-header.bk-above .bk-headers-wrapper {\n  border-bottom: 1px solid #e6e6e6;\n}\n.bk-root .bk-tabs-header.bk-right .bk-headers-wrapper {\n  border-left: 1px solid #e6e6e6;\n}\n.bk-root .bk-tabs-header.bk-below .bk-headers-wrapper {\n  border-top: 1px solid #e6e6e6;\n}\n.bk-root .bk-tabs-header.bk-left .bk-headers-wrapper {\n  border-right: 1px solid #e6e6e6;\n}\n.bk-root .bk-tabs-header.bk-above,\n.bk-root .bk-tabs-header.bk-below {\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-tabs-header.bk-above .bk-headers,\n.bk-root .bk-tabs-header.bk-below .bk-headers {\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-tabs-header.bk-left,\n.bk-root .bk-tabs-header.bk-right {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.bk-root .bk-tabs-header.bk-left .bk-headers,\n.bk-root .bk-tabs-header.bk-right .bk-headers {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.bk-root .bk-tabs-header .bk-headers {\n  position: relative;\n  display: flex;\n  display: -webkit-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.bk-root .bk-tabs-header .bk-tab {\n  padding: 4px 8px;\n  border: solid transparent;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.bk-root .bk-tabs-header .bk-tab:hover {\n  background-color: #f2f2f2;\n}\n.bk-root .bk-tabs-header .bk-tab.bk-active {\n  color: #4d4d4d;\n  background-color: white;\n  border-color: #e6e6e6;\n}\n.bk-root .bk-tabs-header .bk-tab .bk-close {\n  margin-left: 10px;\n}\n.bk-root .bk-tabs-header.bk-above .bk-tab {\n  border-width: 3px 1px 0px 1px;\n  border-radius: 4px 4px 0 0;\n}\n.bk-root .bk-tabs-header.bk-right .bk-tab {\n  border-width: 1px 3px 1px 0px;\n  border-radius: 0 4px 4px 0;\n}\n.bk-root .bk-tabs-header.bk-below .bk-tab {\n  border-width: 0px 1px 3px 1px;\n  border-radius: 0 0 4px 4px;\n}\n.bk-root .bk-tabs-header.bk-left .bk-tab {\n  border-width: 1px 0px 1px 3px;\n  border-radius: 4px 0 0 4px;\n}\n.bk-root .bk-close {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  vertical-align: middle;\n  background-image: url(\'data:image/svg+xml;utf8,      <svg viewPort="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg">        <line x1="1" y1="9" x2="9" y2="1" stroke="gray" stroke-width="2"/>        <line x1="1" y1="1" x2="9" y2="9" stroke="gray" stroke-width="2"/>      </svg>\');\n}\n.bk-root .bk-close:hover {\n  background-image: url(\'data:image/svg+xml;utf8,      <svg viewPort="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg">        <line x1="1" y1="9" x2="9" y2="1" stroke="red" stroke-width="2"/>        <line x1="1" y1="1" x2="9" y2="9" stroke="red" stroke-width="2"/>      </svg>\');\n}\n'])}},{key:"_update_layout",value:function(){var t=this.model.tabs_location,e="above"==t||"below"==t,n=this.scroll_el,r=this.headers_el;this.header=new(function(t){d()(o,t);var i=Ds(o);function o(){return s()(this,o),i.apply(this,arguments)}return u()(o,[{key:"_measure",value:function(t){var i=Object(te.F)(n),a=Object(te.f)(r).slice(0,3).map((function(t){return Object(te.F)(t)})),s=f()(m()(o.prototype),"_measure",this).call(this,t),l=s.width,u=s.height;if(e){var c=i.width+Object(q.y)(a.map((function(t){return t.width})));return{width:t.width!=1/0?t.width:c,height:u}}var h=i.height+Object(q.y)(a.map((function(t){return t.height})));return{width:l,height:t.height!=1/0?t.height:h}}}]),o}(Kr.a))(this.header_el),e?this.header.set_sizing({width_policy:"fit",height_policy:"fixed"}):this.header.set_sizing({width_policy:"fixed",height_policy:"fit"});var i=1,o=1;switch(t){case"above":i-=1;break;case"below":i+=1;break;case"left":o-=1;break;case"right":o+=1}var a={layout:this.header,row:i,col:o},l=this.child_views.map((function(t){return{layout:t.layout,row:1,col:1}}));this.layout=new Kr.b([a].concat(U()(l))),this.layout.set_sizing(this.box_sizing())}},{key:"update_position",value:function(){f()(m()(n.prototype),"update_position",this).call(this),this.header_el.style.position="absolute",Object(te.w)(this.header_el,this.header.bbox);var t=this.model.tabs_location,e="above"==t||"below"==t,r=Object(te.F)(this.scroll_el),i=Object(te.C)(this.headers_el);if(e){var o=this.header.bbox.width;i.width>o?(this.wrapper_el.style.maxWidth="".concat(o-r.width,"px"),Object(te.j)(this.scroll_el)):(this.wrapper_el.style.maxWidth="",Object(te.L)(this.scroll_el))}else{var a=this.header.bbox.height;i.height>a?(this.wrapper_el.style.maxHeight="".concat(a-r.height,"px"),Object(te.j)(this.scroll_el)):(this.wrapper_el.style.maxHeight="",Object(te.L)(this.scroll_el))}var s,l=this.child_views,u=Ms(l);try{for(u.s();!(s=u.n()).done;){var c=s.value;Object(te.n)(c.el)}}catch(t){u.e(t)}finally{u.f()}var h=l[this.model.active];null!=h&&Object(te.E)(h.el)}},{key:"render",value:function(){var t=this;f()(m()(n.prototype),"render",this).call(this);var e=this.model.active,r=this.model.tabs_location,i="above"==r||"below"==r,o=this.model.tabs.map((function(n,r){var i=Object(te.k)({class:["bk-tab",r==e?je.b:null]},n.title);if(i.addEventListener("click",(function(e){e.target==e.currentTarget&&t.change_active(r)})),n.closable){var o=Object(te.k)({class:"bk-close"});o.addEventListener("click",(function(e){if(e.target==e.currentTarget){t.model.tabs=Object(q.r)(t.model.tabs,r);var n=t.model.tabs.length;t.model.active>n-1&&(t.model.active=n-1)}})),i.appendChild(o)}return i}));this.headers_el=Object(te.k)({class:["bk-headers"]},o),this.wrapper_el=Object(te.k)({class:"bk-headers-wrapper"},this.headers_el);var a=Object(te.k)({class:[Rs.a,Rs.b],disabled:""},Object(te.k)({class:[Ts.a,je.f]})),s=Object(te.k)({class:[Rs.a,Rs.b]},Object(te.k)({class:[Ts.a,je.g]})),l=0,u=function(e){return function(){var n=t.model.tabs.length;0==(l="left"==e?Math.max(l-1,0):Math.min(l+1,n-1))?a.setAttribute("disabled",""):a.removeAttribute("disabled"),l==n-1?s.setAttribute("disabled",""):s.removeAttribute("disabled");var r=Object(te.f)(t.headers_el).slice(0,l).map((function(t){return t.getBoundingClientRect()}));if(i){var o=-Object(q.y)(r.map((function(t){return t.width})));t.headers_el.style.left="".concat(o,"px")}else{var u=-Object(q.y)(r.map((function(t){return t.height})));t.headers_el.style.top="".concat(u,"px")}}};a.addEventListener("click",u("left")),s.addEventListener("click",u("right")),this.scroll_el=Object(te.k)({class:Rs.c},a,s),this.header_el=Object(te.k)({class:["bk-tabs-header",Object(je.h)(r)]},this.scroll_el,this.wrapper_el),this.el.appendChild(this.header_el)}},{key:"change_active",value:function(t){t!=this.model.active&&(this.model.active=t)}},{key:"on_active_change",value:function(){var t,e=this.model.active,n=Object(te.f)(this.headers_el),r=Ms(n);try{for(r.s();!(t=r.n()).done;){t.value.classList.remove(je.b)}}catch(t){r.e(t)}finally{r.f()}n[e].classList.add(je.b);var i,o=this.child_views,a=Ms(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;Object(te.n)(s.el)}}catch(t){a.e(t)}finally{a.f()}Object(te.E)(o[e].el)}},{key:"child_models",get:function(){return this.model.tabs.map((function(t){return t.child}))}}]),n}(ls.b);Ns.__name__="TabsView";var Ls=function(t){d()(n,t);var e=Ds(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Tabs",value:function(){this.prototype.default_view=Ns,this.define({tabs:[b.g,[]],tabs_location:[b.N,"above"],active:[b.V,0]})}}]),n}(ls.a);Ls.__name__="Tabs",Ls.init_Tabs();var js=function(t){d()(n,t);var e=Ds(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Panel",value:function(){this.define({title:[b.nb,""],child:[b.F],closable:[b.i,!1]})}}]),n}(G.a);function Fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}js.__name__="Panel",js.init_Panel();var zs=function(t){d()(n,t);var e=Fs(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(ps);zs.__name__="WidgetBoxView";var Bs=function(t){d()(n,t);var e=Fs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_WidgetBox",value:function(){this.prototype.default_view=zs}}]),n}(vs);function Us(t,e,n,r,i,o,a){for(var s=function(s,l){var u=t[s],c=void 0;Object(ct.j)(u)?c=Object(yt.h)(e,u):(null!=i?u=null!=o?u.slice(i,o):u.slice(i):null!=o&&(u=u.slice(0,o)),c=1==u.length?Object(yt.h)(e,u[0]):Object(yt.e)(e,(function(t){return function(t,e){if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}(t,u)})));var f=void 0;f=c<0||c>=n.length?a:n[c],r[s]=f},l=0,u=t.length;l<u;l++)s(l)}function Gs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Bs.__name__="WidgetBox",Bs.init_WidgetBox();var Vs=function(t){d()(n,t);var e=Gs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_v_compute",value:function(t,e,n,r){var i=r.nan_color;Us(t,this.factors,n,e,this.start,this.end,i)}}],[{key:"init_CategoricalColorMapper",value:function(){this.define({factors:[b.g],start:[b.V,0],end:[b.V]})}}]),n}(vt);function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Vs.__name__="CategoricalColorMapper",Vs.init_CategoricalColorMapper();var qs=function(t){d()(n,t);var e=Hs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"v_compute",value:function(t){var e=new Array(t.length);return Us(t,this.factors,this.markers,e,this.start,this.end,this.default_value),e}}],[{key:"init_CategoricalMarkerMapper",value:function(){this.define({factors:[b.g],markers:[b.g],start:[b.V,0],end:[b.V],default_value:[b.Q,"circle"]})}}]),n}(ut);function Ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}qs.__name__="CategoricalMarkerMapper",qs.init_CategoricalMarkerMapper();var Ys=function(t){d()(n,t);var e=Ws(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"v_compute",value:function(t){var e=new Array(t.length);return Us(t,this.factors,this.patterns,e,this.start,this.end,this.default_value),e}}],[{key:"init_CategoricalPatternMapper",value:function(){this.define({factors:[b.g],patterns:[b.g],start:[b.V,0],end:[b.V],default_value:[b.C," "]})}}]),n}(ut);function Xs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ys.__name__="CategoricalPatternMapper",Ys.init_CategoricalPatternMapper();var $s=function(t){d()(n,t);var e=Xs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_v_compute",value:function(t,e,n,r){for(var i=r.nan_color,o=r.low_color,a=r.high_color,s=n.length,l=null!=this.low?this.low:Object(yt.m)(t),u=null!=this.high?this.high:Object(yt.k)(t),c=s/(Math.log(u)-Math.log(l)),f=n.length-1,h=0,d=t.length;h<d;h++){var p=t[h];if(isNaN(p))e[h]=i;else if(p>u)e[h]=null!=a?a:n[f];else if(p!=u)if(p<l)e[h]=null!=o?o:n[0];else{var v=Math.log(p)-Math.log(l),g=Math.floor(v*c);g>f&&(g=f),e[h]=n[g]}else e[h]=n[f]}}}]),n}(mt);function Js(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ks(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ks(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}$s.__name__="LogColorMapper";var Zs=function(t){d()(n,t);var e=Qs(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n._size,s=n._angle,l=Js(e);try{for(l.s();!(r=l.n()).done;){var u=r.value;if(!isNaN(i[u]+o[u]+a[u]+s[u])){var c=a[u]/2;t.beginPath(),t.translate(i[u],o[u]),s[u]&&t.rotate(s[u]),this._render_one(t,u,c,this.visuals.line,this.visuals.fill),s[u]&&t.rotate(-s[u]),t.translate(-i[u],-o[u])}}}catch(t){l.e(t)}finally{l.f()}}},{key:"_mask_data",value:function(){var t=this.renderer.plot_view.frame.bbox.h_range,e=t.start-this.max_size,n=t.end+this.max_size,r=this.renderer.xscale.r_invert(e,n),i=o()(r,2),a=i[0],s=i[1],l=this.renderer.plot_view.frame.bbox.v_range,u=l.start-this.max_size,c=l.end+this.max_size,f=this.renderer.yscale.r_invert(u,c),h=o()(f,2),d=h[0],p=h[1];return this.index.indices({x0:a,x1:s,y0:d,y1:p})}},{key:"_hit_point",value:function(t){var e,n=t.sx,r=t.sy,i=n-this.max_size,a=n+this.max_size,s=this.renderer.xscale.r_invert(i,a),l=o()(s,2),u=l[0],c=l[1],f=r-this.max_size,h=r+this.max_size,d=this.renderer.yscale.r_invert(f,h),p=o()(d,2),v=p[0],g=p[1],m=[],y=Js(this.index.indices({x0:u,x1:c,y0:v,y1:g}));try{for(y.s();!(e=y.n()).done;){var _=e.value,b=this._size[_]/2,A=Math.abs(this.sx[_]-n)+Math.abs(this.sy[_]-r);Math.abs(this.sx[_]-n)<=b&&Math.abs(this.sy[_]-r)<=b&&m.push([_,A])}}catch(t){y.e(t)}finally{y.f()}return Si.a.from_hits(m)}},{key:"_hit_span",value:function(t){var e,n,r,i,a=t.sx,s=t.sy,l=this.bounds(),u=this.max_size/2;if("h"==t.direction){r=l.y0,i=l.y1;var c=a-u,f=a+u,h=this.renderer.xscale.r_invert(c,f),d=o()(h,2);e=d[0],n=d[1]}else{e=l.x0,n=l.x1;var p=s-u,v=s+u,g=this.renderer.yscale.r_invert(p,v),m=o()(g,2);r=m[0],i=m[1]}var y=this.index.indices({x0:e,x1:n,y0:r,y1:i});return new Si.a({indices:y})}},{key:"_hit_rect",value:function(t){var e=t.sx0,n=t.sx1,r=t.sy0,i=t.sy1,a=this.renderer.xscale.r_invert(e,n),s=o()(a,2),l=s[0],u=s[1],c=this.renderer.yscale.r_invert(r,i),f=o()(c,2),h=f[0],d=f[1],p=this.index.indices({x0:l,x1:u,y0:h,y1:d});return new Si.a({indices:p})}},{key:"_hit_poly",value:function(t){for(var e=t.sx,n=t.sy,r=Object(q.q)(0,this.sx.length),i=[],o=0,a=r.length;o<a;o++){var s=r[o];eo.f(this.sx[o],this.sy[o],e,n)&&i.push(s)}return new Si.a({indices:i})}},{key:"draw_legend_for_index",value:function(t,e,n){var r=e.x0,i=e.x1,o=e.y0,a=e.y1,s=n+1,l=new Array(s);l[n]=(r+i)/2;var u=new Array(s);u[n]=(o+a)/2;var c=new Array(s);c[n]=.4*Math.min(Math.abs(i-r),Math.abs(a-o));var f=new Array(s);f[n]=0,this._render(t,[n],{sx:l,sy:u,_size:c,_angle:f})}}]),n}(Ci.b);Zs.__name__="MarkerView";var tl=function(t){d()(n,t);var e=Qs(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Marker",value:function(){this.mixins([_.f,_.b]),this.define({size:[b.t,{units:"screen",value:4}],angle:[b.c,0]})}}]),n}(Ci.a);function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}tl.__name__="Marker",tl.init_Marker();var nl=Math.sqrt(3);function rl(t,e){t.rotate(Math.PI/4),ol(t,e),t.rotate(-Math.PI/4)}function il(t,e){var n=e*nl,r=n/3;t.moveTo(-n/2,-r),t.lineTo(0,0),t.lineTo(n/2,-r),t.lineTo(0,0),t.lineTo(0,e)}function ol(t,e){t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-e,0),t.lineTo(e,0)}function al(t,e){t.moveTo(0,e),t.lineTo(e/1.5,0),t.lineTo(0,-e),t.lineTo(-e/1.5,0),t.closePath()}function sl(t,e){var n=e*nl,r=n/3;t.moveTo(-e,r),t.lineTo(e,r),t.lineTo(0,r-n),t.closePath()}function ll(t,e,n,r,i){ol(t,n),rl(t,n),r.doit&&(r.set_vectorize(t,e),t.stroke())}function ul(t,e,n,r,i){t.arc(0,0,n,0,2*Math.PI,!1),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function cl(t,e,n,r,i){t.arc(0,0,n,0,2*Math.PI,!1),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),ol(t,n),t.stroke())}function fl(t,e,n,r,i){ul(t,e,n,r,i),yl(t,e,n,r,i)}function hl(t,e,n,r,i){t.arc(0,0,n,0,2*Math.PI,!1),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),il(t,n),t.stroke())}function dl(t,e,n,r,i){t.arc(0,0,n,0,2*Math.PI,!1),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),rl(t,n),t.stroke())}function pl(t,e,n,r,i){ol(t,n),r.doit&&(r.set_vectorize(t,e),t.stroke())}function vl(t,e,n,r,i){al(t,n),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function gl(t,e,n,r,i){al(t,n),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-n/1.5,0),t.lineTo(n/1.5,0),t.stroke())}function ml(t,e,n,r,i){vl(t,e,n,r,i),yl(t,e,n,r,i)}function yl(t,e,n,r,i){!function(t,e){t.beginPath(),t.arc(0,0,e/4,0,2*Math.PI,!1),t.closePath()}(t,n),r.set_vectorize(t,e),t.fillStyle=t.strokeStyle,t.fill()}function _l(t,e,n,r,i){!function(t,e){var n=e/2,r=nl*n;t.moveTo(e,0),t.lineTo(n,-r),t.lineTo(-n,-r),t.lineTo(-e,0),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}(t,n),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function bl(t,e,n,r,i){_l(t,e,n,r,i),yl(t,e,n,r)}function Al(t,e,n,r,i){t.rotate(Math.PI),sl(t,n),t.rotate(-Math.PI),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function wl(t,e,n,r,i){var o=3*n/8,a=[o,o,n,n,o,o,-o,-o,-n,-n,-o,-o],s=[n,o,o,-o,-o,-n,-n,-o,-o,o,o,n];for(t.moveTo(a[0],s[0]),e=1;e<12;e++)t.lineTo(a[e],s[e]);t.closePath(),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function xl(t,e,n,r,i){var o=2*n;t.rect(-n,-n,o,o),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function kl(t,e,n,r,i){var o=3*n/8;t.moveTo(-n,-n),t.quadraticCurveTo(0,-o,n,-n),t.quadraticCurveTo(o,0,n,n),t.quadraticCurveTo(0,o,-n,n),t.quadraticCurveTo(-o,0,-n,-n),t.closePath(),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Cl(t,e,n,r,i){var o=2*n;t.rect(-n,-n,o,o),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),ol(t,n),t.stroke())}function El(t,e,n,r,i){xl(t,e,n,r,i),yl(t,e,n,r)}function Sl(t,e,n,r,i){var o=2*n;t.rect(-n,-n,o,o),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.moveTo(-n,n),t.lineTo(n,-n),t.moveTo(-n,-n),t.lineTo(n,n),t.stroke())}function Rl(t,e,n,r,i){sl(t,n),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Tl(t,e,n,r,i){Rl(t,e,n,r,i),yl(t,e,n,r)}function Il(t,e,n,r,i){var o=n*nl,a=o/3,s=3*a/8;t.moveTo(-n,a),t.quadraticCurveTo(0,s,n,a),t.quadraticCurveTo(nl*s/2,s/2,0,a-o),t.quadraticCurveTo(-nl*s/2,s/2,-n,a),t.closePath(),i.doit&&(i.set_vectorize(t,e),t.fill()),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Ol(t,e,n,r,i){!function(t,e){t.moveTo(-e,0),t.lineTo(e,0)}(t,n),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Ml(t,e,n,r,i){rl(t,n),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Pl(t,e,n,r,i){il(t,n),r.doit&&(r.set_vectorize(t,e),t.stroke())}function Dl(t,e){var n,r=function(t){d()(r,t);var n=el(r);function r(){return s()(this,r),n.apply(this,arguments)}return u()(r,null,[{key:"initClass",value:function(){this.prototype._render_one=e}}]),r}(Zs);r.initClass();var i=((n=function(t){d()(n,t);var e=el(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,null,[{key:"initClass",value:function(){this.prototype.default_view=r}}]),n}(tl)).__name__=t,n);return i.initClass(),i}var Nl=Dl("Asterisk",ll),Ll=Dl("CircleCross",cl),jl=Dl("CircleDot",fl),Fl=Dl("CircleY",hl),zl=Dl("CircleX",dl),Bl=Dl("Cross",pl),Ul=Dl("Dash",Ol),Gl=Dl("Diamond",vl),Vl=Dl("DiamondCross",gl),Hl=Dl("DiamondDot",ml),ql=Dl("Dot",yl),Wl=Dl("Hex",_l),Yl=Dl("HexDot",bl),Xl=Dl("InvertedTriangle",Al),$l=Dl("Plus",wl),Jl=Dl("Square",xl),Kl=Dl("SquareCross",Cl),Ql=Dl("SquareDot",El),Zl=Dl("SquarePin",kl),tu=Dl("SquareX",Sl),eu=Dl("Triangle",Rl),nu=Dl("TriangleDot",Tl),ru=Dl("TrianglePin",Il),iu=Dl("X",Ml),ou=Dl("Y",Pl),au={asterisk:ll,circle:ul,circle_cross:cl,circle_dot:fl,circle_y:hl,circle_x:dl,cross:pl,diamond:vl,diamond_dot:ml,diamond_cross:gl,dot:yl,hex:_l,hex_dot:bl,inverted_triangle:Al,plus:wl,square:xl,square_cross:Cl,square_dot:El,square_pin:kl,square_x:Sl,triangle:Rl,triangle_dot:Tl,triangle_pin:Il,dash:Ol,x:Ml,y:Pl};function su(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var cu=function(t){d()(n,t);var e=uu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n._size,s=n._angle,l=n._marker,u=su(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(!isNaN(i[c]+o[c]+a[c]+s[c])&&null!=l[c]){var f=a[c]/2;t.beginPath(),t.translate(i[c],o[c]),s[c]&&t.rotate(s[c]),au[l[c]](t,c,f,this.visuals.line,this.visuals.fill),s[c]&&t.rotate(-s[c]),t.translate(-i[c],-o[c])}}}catch(t){u.e(t)}finally{u.f()}}},{key:"draw_legend_for_index",value:function(t,e,n){var r=e.x0,i=e.x1,o=e.y0,a=e.y1,s=n+1,l=new Array(s);l[n]=(r+i)/2;var u=new Array(s);u[n]=(o+a)/2;var c=new Array(s);c[n]=.4*Math.min(Math.abs(i-r),Math.abs(a-o));var f=new Array(s);f[n]=0;var h=new Array(s);h[n]=this._marker[n],this._render(t,[n],{sx:l,sy:u,_size:c,_angle:f,_marker:h})}}]),n}(Zs);cu.__name__="ScatterView";var fu=function(t){d()(n,t);var e=uu(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_Scatter",value:function(){this.prototype.default_view=cu,this.define({marker:[b.P,{value:"circle"}]})}}]),n}(tl);fu.__name__="Scatter",fu.init_Scatter();var hu=n(47),du=n.n(hu),pu=n(86),vu=n.n(pu);function gu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var mu=function(t){d()(n,t);var e=gu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.active.change,(function(){t.model.active?t.activate():t.deactivate()}))}},{key:"activate",value:function(){}},{key:"deactivate",value:function(){}},{key:"plot_view",get:function(){return this.parent}},{key:"plot_model",get:function(){return this.parent.model}}]),n}(n(91).a);mu.__name__="ToolView";var yu=function(t){d()(n,t);var e=gu(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_get_dim_tooltip",value:function(t,e){switch(e){case"width":return"".concat(t," (x-axis)");case"height":return"".concat(t," (y-axis)");case"both":return t}}},{key:"_get_dim_limits",value:function(t,e,n,r){var i,a=o()(t,2),s=a[0],l=a[1],u=o()(e,2),c=u[0],f=u[1],h=n.bbox.h_range;"width"==r||"both"==r?(i=[Object(q.o)([s,c]),Object(q.n)([s,c])],i=[Object(q.n)([i[0],h.start]),Object(q.o)([i[1],h.end])]):i=[h.start,h.end];var d,p=n.bbox.v_range;return"height"==r||"both"==r?(d=[Object(q.o)([l,f]),Object(q.n)([l,f])],d=[Object(q.n)([d[0],p.start]),Object(q.o)([d[1],p.end])]):d=[p.start,p.end],[i,d]}},{key:"synthetic_renderers",get:function(){return[]}}],[{key:"init_Tool",value:function(){this.prototype._known_aliases=new Map,this.internal({active:[b.i,!1]})}},{key:"register_alias",value:function(t,e){this.prototype._known_aliases.set(t,e)}},{key:"from_string",value:function(t){var e=this.prototype._known_aliases.get(t);if(null!=e)return e();var n=U()(this.prototype._known_aliases.keys());throw new Error("unexpected tool name '".concat(t,"', possible tools are ").concat(n.join(", ")))}}]),n}(G.a);yu.__name__="Tool",yu.init_Tool();var _u='\n.bk-root .bk-toolbar-hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0.3s linear, opacity 0.3s linear;\n}\n.bk-root .bk-toolbar,\n.bk-root .bk-button-bar {\n  display: flex;\n  display: -webkit-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  align-items: center;\n  -webkit-align-items: center;\n  user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n.bk-root .bk-toolbar .bk-logo {\n  flex-shrink: 0;\n  -webkit-flex-shrink: 0;\n}\n.bk-root .bk-toolbar.bk-above,\n.bk-root .bk-toolbar.bk-below {\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: flex-end;\n  -webkit-justify-content: flex-end;\n}\n.bk-root .bk-toolbar.bk-above .bk-button-bar,\n.bk-root .bk-toolbar.bk-below .bk-button-bar {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-toolbar.bk-above .bk-logo,\n.bk-root .bk-toolbar.bk-below .bk-logo {\n  order: 1;\n  -webkit-order: 1;\n  margin-left: 5px;\n  margin-right: 0px;\n}\n.bk-root .bk-toolbar.bk-left,\n.bk-root .bk-toolbar.bk-right {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n.bk-root .bk-toolbar.bk-left .bk-button-bar,\n.bk-root .bk-toolbar.bk-right .bk-button-bar {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.bk-root .bk-toolbar.bk-left .bk-logo,\n.bk-root .bk-toolbar.bk-right .bk-logo {\n  order: 0;\n  -webkit-order: 0;\n  margin-bottom: 5px;\n  margin-top: 0px;\n}\n.bk-root .bk-toolbar-button {\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  background-size: 60%;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.bk-root .bk-toolbar-button:hover {\n  background-color: rgba(192, 192, 192, 0.15);\n}\n.bk-root .bk-toolbar-button:focus {\n  outline: none;\n}\n.bk-root .bk-toolbar-button::-moz-focus-inner {\n  border: 0;\n}\n.bk-root .bk-toolbar.bk-above .bk-toolbar-button {\n  border-bottom: 2px solid transparent;\n}\n.bk-root .bk-toolbar.bk-above .bk-toolbar-button.bk-active {\n  border-bottom-color: #26aae1;\n}\n.bk-root .bk-toolbar.bk-below .bk-toolbar-button {\n  border-top: 2px solid transparent;\n}\n.bk-root .bk-toolbar.bk-below .bk-toolbar-button.bk-active {\n  border-top-color: #26aae1;\n}\n.bk-root .bk-toolbar.bk-right .bk-toolbar-button {\n  border-left: 2px solid transparent;\n}\n.bk-root .bk-toolbar.bk-right .bk-toolbar-button.bk-active {\n  border-left-color: #26aae1;\n}\n.bk-root .bk-toolbar.bk-left .bk-toolbar-button {\n  border-right: 2px solid transparent;\n}\n.bk-root .bk-toolbar.bk-left .bk-toolbar-button.bk-active {\n  border-right-color: #26aae1;\n}\n.bk-root .bk-button-bar + .bk-button-bar:before {\n  content: " ";\n  display: inline-block;\n  background-color: lightgray;\n}\n.bk-root .bk-toolbar.bk-above .bk-button-bar + .bk-button-bar:before,\n.bk-root .bk-toolbar.bk-below .bk-button-bar + .bk-button-bar:before {\n  height: 10px;\n  width: 1px;\n}\n.bk-root .bk-toolbar.bk-left .bk-button-bar + .bk-button-bar:before,\n.bk-root .bk-toolbar.bk-right .bk-button-bar + .bk-button-bar:before {\n  height: 1px;\n  width: 10px;\n}\n',bu=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.items=e,this.options=r,this.el=Object(te.k)(),this._open=!1,this._item_click=function(t){var e;null===(e=n.items[t])||void 0===e||e.handler(),n.hide()},this._on_mousedown=function(t){var e,r,i=t.target;i instanceof Node&&n.el.contains(i)||(null===(r=(e=n.options).prevent_hide)||void 0===r?void 0:r.call(e,t))||n.hide()},this._on_keydown=function(t){t.keyCode==te.a.Esc&&n.hide()},this._on_blur=function(){n.hide()},Object(te.L)(this.el)}return u()(t,[{key:"remove",value:function(){Object(te.z)(this.el),this._unlisten()}},{key:"_listen",value:function(){document.addEventListener("mousedown",this._on_mousedown),document.addEventListener("keydown",this._on_keydown),window.addEventListener("blur",this._on_blur)}},{key:"_unlisten",value:function(){document.removeEventListener("mousedown",this._on_mousedown),document.removeEventListener("keydown",this._on_keydown),window.removeEventListener("blur",this._on_blur)}},{key:"_position",value:function(t){var e=this.el.parentElement;if(null!=e){var n=e.getBoundingClientRect();this.el.style.left=null!=t.left?"".concat(t.left-n.left,"px"):"",this.el.style.top=null!=t.top?"".concat(t.top-n.top,"px"):"",this.el.style.right=null!=t.right?"".concat(n.right-t.right,"px"):"",this.el.style.bottom=null!=t.bottom?"".concat(n.bottom-t.bottom,"px"):""}}},{key:"render",value:function(){var t,e=this;Object(te.l)(this.el,!0);var n=null!==(t=this.options.orientation)&&void 0!==t?t:"vertical";Object(te.g)(this.el).add("bk-context-menu","bk-".concat(n)),te.c.apply(void 0,[this.el].concat(U()(this.items.map((function(t,n){var r,i;if(null!=t){var o=null!=t.icon?Object(te.k)({class:["bk-menu-icon",t.icon]}):null;i=Object(te.k)({class:(null===(r=t.active)||void 0===r?void 0:r.call(t))?"bk-active":null,title:t.tooltip},o,t.label)}else i=Object(te.k)({class:Ts.b});return i.addEventListener("click",(function(){return e._item_click(n)})),i})))))}},{key:"show",value:function(t){0!=this.items.length&&(this._open||(this.render(),this._position(null!=t?t:{left:0,top:0}),Object(te.j)(this.el),this._listen(),this._open=!0))}},{key:"hide",value:function(){this._open&&(this._open=!1,this._unlisten(),Object(te.L)(this.el))}},{key:"toggle",value:function(t){this._open?this.hide():this.show(t)}},{key:"is_open",get:function(){return this._open}},{key:"can_open",get:function(){return 0!=this.items.length}}]),t}();function Au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}bu.__name__="ContextMenu";var wu=function(t){d()(n,t);var e=Au(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){var t=this;f()(m()(n.prototype),"initialize",this).call(this);var e=this.model.menu;if(null!=e){var r=this.parent.model.toolbar_location,i="left"==r||"above"==r,o=this.parent.model.horizontal?"vertical":"horizontal";this._menu=new bu(i?Object(q.u)(e):e,{orientation:o,prevent_hide:function(e){return e.target==t.el}})}this._hammer=new vu.a(this.el,{touchAction:"auto",inputClass:vu.a.TouchMouseInput}),this.connect(this.model.change,(function(){return t.render()})),this._hammer.on("tap",(function(e){var n;(null===(n=t._menu)||void 0===n?void 0:n.is_open)?t._menu.hide():e.target==t.el&&t._clicked()})),this._hammer.on("press",(function(){return t._pressed()}))}},{key:"remove",value:function(){var t;this._hammer.destroy(),null===(t=this._menu)||void 0===t||t.remove(),f()(m()(n.prototype),"remove",this).call(this)}},{key:"styles",value:function(){return[].concat(U()(f()(m()(n.prototype),"styles",this).call(this)),[_u,'\n.bk-root .bk-tool-icon-replace-mode {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AUFFxokK3gniQAAAHpJREFUWMNjXLhsJcNAAiaGAQajDhhwB7DgEP+PxmeksvjgDwFcLmYkUh2hkBj8IcBIZXsYh1w2/I8v3sgAOM0bLYhGc8GgrwuICgldfQO88pcvXvg/aOuCUQeM5oLRuoCFCJcTbOMh5XOiW0JDNhdQS3y0IBp1ABwAAF8KGrhC1Eg6AAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-append-mode {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AUFFxkZWD04WwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAoUlEQVRYw+1WQQ6AIAwrhO8Y/bIXEz9jIMSDr8ETCUEPQzA4pMeFLKNbu4l5WR0CDOMEALBGIzMuQIBEZQjPgP9JLjwTfBjY9sO9lZsFA9IafZng3BlIyVefgd8XQFZBAWe8jfNxwsDhir6rzoCiPiy1K+J8/FRQemv2XfAdFcQ9znU4Viqg9ta1qYJ+D1BnAIBrkgGVOrXNqUA9rbyZm/AEzFh4jEeY/soAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-intersect-mode {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AUFFxkrkOpp2wAAAPhJREFUWMPtV1EKwjAMTUavI3oawR/vtn5srJdREfzwMvHHQlcT2mpdMzFfWxiP5r2+JMN+mAiCOB72CABgR1cln4oOGocJnuMTSxWk8jMm7OggYkYXA9gPE3uyd8NXHONJ+eYMdE/NqCJmEZ5ZqlJJ4sUksKN7cYSaPoCZFWR1QI+Xm1fBACU63Cw22x0AAJxudwrffVwvZ+JmQdAHZkw0d4EpAMCw8k87pMdbnwtizQumJYv3nwV6XOA1qbUT/oQLUJgFRbsiNwFVucBIlyR3p0tdMp+XmFjfLKi1LatyAXtCRjPWBdL3Ke3VuACJKFfDr/xFN2fgAR/Go0qaLlmEAAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-subtract-mode {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AUFFxgsF5XNOQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABFUlEQVRYw9VWUQqDMAxNpWfxQxD1MoP97G7zQ5mH2RTZYLtM9lWoMbXtxLXNX4OG9r28l4hrd0PQoqxqAACYpxH25C/nkwCHyCBwSPoS09k1T5Fo+4EiExcC4v584xGFmyIXHBLRISAVZyZufUPVa4rcrwmPDgr93ylo+2GliLRUYHK6th/o/6r7nfLpqaCsagEA8Hh9FmcNKeRmgeYDC+SCq0B6FFi8/BcV6BdR9cL3gCv3ijPKOacsn3rBEcjmaVxpfGcg4wHxzgJJnc6241Hn23DERFRAu1bNcWa3Q0uXi62XR6sCaWoSejbtdLYmU3kTEunNgj0bUbQqYG/IcMaqwPS9jftoVCAQ0ZVDJwf0zQdH4AsyW6fpQu4YegAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-clear-selection {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AUGEhcuan3d3wAAAoRJREFUWMPtlzFP3EAQhd+b3TNSzg0N5TWXLkJQUUaKhIQ4fgP/g5ArrriE/I3opEgRrZtIVJR0FJQ010SioUmEZHtnUpwN9gWHGA5BJCy58MraffvmfZ41v3z9hqe8BE98vQh4cgG+Ydzmnrng8efvQJNi/uN7dznx/B3ggtfhf4ehNdUttRzBDIm/2VTiiWCG1HK0nc+3UWtq8BQIiEEakEQOADBIA4QCQmBqoHBhFNR27ikQSmGdYCdTqCpEHMDZmEKRWUBEv1gBDg5SzRJnpopILWICgWuRYflLamuzxB2BmtYqSRIka5VWU8QduXO+1hRc5YZu5GAwmP2ZJzND0IBu5HCV2+NQcAhAVRsnC2IbPzPdSjzd6to6VtfWkXi6YLaVWr7xoAwkfpb8MnC3SH7rKSMBe4M0jA/OTicFIbtCGRIyNbURhcf3ErCd6YwA1m0HgAxhw1NGQnlXBHG4kylVlSJuH0RfIP2CkL2I/qS1gIAAQiBl1QwFggIHtyxgrxK5PgyfC0JWKoT0HLh8LwoietB4TYKaIl7yeNURxB05UtMxDOcVQlZIrlRKdK6m47gjR/fuBRQihyLArtNeJD50Izcx2Eczu7iFkIug4VM3cpOr3MKDekFED0fWUHv9Zq0kpLnridjhY3XDg7NTN0jDrhO3X7O9Wg7wwyANu4mnayNg3gmbu0tCNoUyBNGv2l4rB9EXynA7082FOxAQLhU6rQVO9T2AvWowFToNCJcPORGxIRcnpjZSKATSU9NxvOQnAPArDSaQoUKnNI4iufkGtD4P3EHIcWZhz4HLceSOyrR3Izf5memPAL2cX3yhAkonysZVaWLBkd9dw1Ivv2a/AYPkK+ty1U1DAAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-box-select {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg0kduFrowAAAIdJREFUWMPtVtEKwCAI9KL//4e9DPZ3+wP3KgOjNZouFYI4C8q7s7DtB1lGIeMoRMRinCLXg/ML3EcFqpjjloOyZxRntxpwQ8HsgHYARKFAtSFrCg3TCdMFCE1BuuALEXJLjC4qENsFVXCESZw38/kWLOkC/K4PcOc/Hj03WkoDT3EaWW9egQul6CUbq90JTwAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-box-zoom {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg82t254aQAAAkBJREFUWMPN11+E1FEUB/DPTFn2qaeIpcSwr5NlUyJiKWVXWUqvlUh/iE3RY9mUekkPPURtLKNRrFJEeuphGfUUaVliiX1aVjGs6aG7+XX9ZnZ+d2fTl2vmnHvPPfeee/79Sk+may2/UQq/q7Qu+bAJoxjHIKqB/wlfUMcMVqI9bLZ+DGIKwzlzQ2GcxCx2xwvKOUKlaHTiX8bHNspjDONHkOmJBW5jIof/FvPh/06MZOb6cRc7cGn1AKUE5cdzlM/gAr5F/O24H3xkFRfxAbVygvK+cIsspjGWo1zgjeFpxL+BvnLw7laBA4xjIFJwrgu52DoVjKdY4HBEX8dSF3JLYe1fe6UcYCii3xWQjdfuSTnAtoheKCC7GNED5Zx4L4qt61jbTLHA94geKSC7P7ZeShQ0Inoi1IJuEOeORooFXkV0FZNdZs5qvFfKAeqYy7nZ6yg//HG0MBfffh71lFrQDCW2EvEP4mt4okZUDftz9rmGZkotmMxJRtlisy+MTniAWrty3AlXw0hFM2TD89l+oNsoOJXjbIs4EpqNtTCLXbiZ0g+M4mFObj8U3vsNjoZCVcmk60ZwthpepLZkB/AsivWfOJZxtpUQHfWib7KWDwzjeegBZJSdKFiE2qJTFFTwElsi/unQ/awXrU4WGMD7nOJxBY/1EO2iYConq93CHT1GOwucjdqnRyFz+VcHmMNefMY9nNkA3SWUOoXhQviSWQ4huLIRFlirFixnQq/XaKXUgg2xQNGv4V7x/RcW+AXPB3h7H1PaiQAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-zoom-in {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEgsUBmL8iQAAA2JJREFUWMO9l12IlFUYx3//MzPrLpSjkm5oN4FFIWVEl66IQlFYwtLOzozsjHdGRSCRF0sfBEXRVV0FQuQiLm5CZNBFgRRaRLVFhbJ2EdiN5gbK7toObTPn6eYdPTvNzPvOBz5Xh/ec5/n/n89zXtEHmZqeSXSuXBz/3zfdKvBWJHQrwZuRcP0El+QkbQXeBX6WZEgm6TtJk5lM5o4Lc+cV6qpf4Ga20Tm338zeATItVK9Ker6yvPzp4NDQ3+XieGsCU9MzTYumGbhz7m4ze9/MHgvBgItACrgfGAj2jgAvAYs3wlEujjc13kii8YyZrXXOfWhmo9GnFUlvOOemarVapVqtkslksmb2KjARqL62ecuWN9NxbRInzrldAXhV0uFSIfdew7G/gNLU9MwS8CwSmE3Oz88fcXG5blfpqVRq0Ix8VIAAX0XgrVL7HDCHGcCaWrV60LUBN8Dae58aQIxEqcA592I9M610JL0cpG/U9TIHJNKY3RV5z0R+7Nd4HZ0P1g/2RMBuegLAsRMnb4vT8d5vqKfMzOgtAlADrkmqGywmiMBTwfr3dC9j1Xv/r6Tvg/5/5ejxE6cO7M9faVbQZrYNOFSPmqQvVo9FKexvi5uWX58943aM7DwAfBDY+FbSCxP5sdkGx55GeguzrUEXPaSo2pFkAbiSZQCAzZJOmdkjwd6SpB/M7KykQTPbA2wDhoIzRzcNDx9MJwGNIXdJ0mEzmwbujL7dbma7gd03A7lKfnTOvf74nl0r6bonTUbujRSUCrm2d4L3/kvn3JPe+8+BDW2i9o+kT7z3kxP5sYsA6W47oE64TsR7P9tQL4vA2mh9WdIscKxUyJ0M7aR7acOGzikD65EQLEjaa2ZXzMwDFeB6qZBbbLTRE4EGeSaozNOZgYFf8qP7lmIvs354n0qlHpB0T7B9Ogl4IgJJrmjv/SiQjbrkD+BMUkfSbYATPdckrTOzkciWAXOlQu5cYgLdPEIapud9wMOR9zVJH3ViKx333mtHMJvNuoWFhZ3A+ojMcja77njXBEKwJJfTcqUyCIQ34Mf7nnh0paMnXacFuGoC1mr3AtuDfLzd8Zuyl+rfuGn4HLAD+Az4qZQf+61TAj0Noj8vX6oC35SL43u7teG6rf5+iXppwW7/JUL5D03qaFRvvUe+AAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-zoom-out {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEgsHgty9VwAAA0FJREFUWMO9l09oXFUUxn/fmXlpItppi22k7UJBRSlVkCytSAuKUloIdjKT0El3FXVXdVFKRVAQV7qQohsNwdA0UFvBhYtqUVyIVlRaogtFQVq7qSTVjA3z3nHzBq/jvPmTN/Ss7rv3nvN99/y794kByMzcfE/7picn/jenmwWeRUI3E7wdCRskuCSTdDfwBvCtJEdySV9KOhpF0e0/LF5SqKtBgbv7ZjObcvfXgShD9Zqk5+orKx8Oj4z8NT05kU1gZm6+bdK0Azezu9z9hLs/HoIBvwAF4H5gKFh7B3gBWFY3460kWve4+3oze9fdx9OpVUmvmNlMHMf1RqNBFEUldz8OHAxUX9q6bduryut+Sfvc/Wz62ZD0fK1afjND9y3gGSRwv1GMojstTxUUCoVhdyopEYDzKXjWwZ4FFnEHWBc3Goet00m7lZlZYQixKw0FZnakGZksHUnHgvCN5/KARBH37enpOVg58H13HV0Kxg/kIuD/ngSA2ZMLt3bTSZJkUzNk7k4+D0AM/CGpaXCyBw/sC8Y/qZd2GpZiuL9YLN4Sx/HpoP5/c/exQ1OVq+1yyt13SLoArEsJnMjlgfOffvK3u58Kprab2QezJxfG2iTzUzI70wRPG9jbmpmb95SNB9mpzp7/j2yVdNbdx4K565K+cvfPJQ27+x5gBzAS7Hlvy+jo4WIvoC3kWpcvS3rR3eeAO9K529x9N7C7zX6AC2b28hN7Hl1Vt44niVq13LUjmtlYkiQfA5s6eO+GpDNJkhw9NFX5ueNt2ARodyF1IHIN2JiOl4H16fiKpK+B2Vq1vBAqFAf4IJkGNiIhWJK0192vunsC1IE/a9XycquNXARa5OnApeeioaHvKuP7r3dTGsiLqFAo7JR0T7B8rhfwXARa2us4UEqr5Ffgs151i/08oTNKdIO770ptObBYq5Yv5ibQq/sl3Qc8lJ4+lnSqH1vFfp9koZRKJVtaWnqkWXqSVkqlDe+vmUDWpZMlK/X6MBDegKf3P/nYaj8ErN9fqZBYEsf3Ag8G8Xit33BaniTcvGX0IvAw8BHwTa1y4Md+CeRqRL9fudwAvpienNi7Vhu21uwflOT+L+i1X2TJP57iUvUFtHWsAAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-help {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABltpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MzI8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MzI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpBODVDNDBDMzIwQjMxMUU0ODREQUYzNzM5QTM2MjBCRTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpBODVDNDBDNDIwQjMxMUU0ODREQUYzNzM5QTM2MjBCRTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDpBODVDNDBDMTIwQjMxMUU0ODREQUYzNzM5QTM2MjBCRTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpBODVDNDBDMjIwQjMxMUU0ODREQUYzNzM5QTM2MjBCRTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPGRjOnN1YmplY3Q+CiAgICAgICAgICAgIDxyZGY6U2VxLz4KICAgICAgICAgPC9kYzpzdWJqZWN0PgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNjoxMToyOCAxMToxMTo4MjwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjY8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cphjt2AAAAT7SURBVFgJxRdbaFxFdGb2bhui227BWrsVKYgf2kJUbP9EUPuzEB803WTXJjH61Q/7Ya1+CMYKEVTsh4J/EpvY7BoabUiNiA8s1p+4KIhpoUUEselHqyS76TbZ3HuP58ydc3d2u4+IkQxczpz3mZkzZ86VYpXjvenpjZsLhUcliE4AuUuASAgptmt1EFdwPiclzIIUUwubNn17OJlcXo1p2UpodHRiux9xB1Eug1+slbzhFxGOKc851tu7/0oznYYBDA8Pt0U2tL8KQryIq2tvZqQhD0QJHRz3yqWhgYGBpXpydQMwqz6NCnurleCSADkJEfgKfOePqL80R/wV1ZaQyr1LenKfkPCkEPKeaj0xg7vxVL3duCmA0Vyuw/fl52hgBxsBED+h4Cv9z3R/zbRm8MTJTx7HQN7GQB6w5C4L4SX7M5lfLBpurjXMyvNIShiyi0l1pL8n9b7EDGPR8fHxzSsQ6XDB3618/xqo6Pk25V5MpVJllgHM1BO58RdQ612kOYZ+GXdij70TYQB05mpj+1kU5G2fB+l3PZtOf8NGx6ambnMXb3yAxg8wjSEG6OKKR9oicBQD+ZvpH2Wzj0lQpxCPG9qMv1x6hHNCsSAlHM7ZOa682vlI9tRDbvHGbD3nZAPpDoD/3JIrLpAs26UFkC3EMUA99hpfGtEBfJjNJnS2Gwnadnvl+Xw+iuc3DAJuNyIaSCHpilVldyDjjUxj3WDZIAhxhHHyRcdNuA7AAfUaXzVKODpzFiZ4/uLvh5G+m2no+C/pyIf7MqlEJB7bpqR6nXkEUfbeawuLaZsW2ISfNQ2vtaktQlGFQyIVGT0o2+2EC4iQNGwjBIN9qdQ5Qg4mk4X4rW3vCClLtowE2FOFUxKDfNmiZci3ovKKRFPh4FK9q4Zbdr+lKKJiA13TcHR2dmLBgdmQ0GAS2MZaEowY+XbAk09IvgtYZGp16SyvFhaHcIUh645t8T9DBCcnz5zZ4hZLu3DzK2QlL1QQa0Y+pHiJKPSuOGj3PmZTheM5w2TwqBxnvBZOTk7G5gvXJ5Aelms8wnJURL+olSWcfEhf6gDoUXPMq6ZlqbzWU2pE+3hi4s6F68tfIj9cBMlikr7Z0/P0b/X0yIcUXsDCF1WhtL4OROHaXk+xlkbV0Cu732Nmhc4peaWSg73pA8dq5RkvO37ldUTfXCKZv2q45MkhvG87WQEzpCCUSvV1d9GONBy3lMvgKSwrZig8gjAietWY0QriylO2jIo4yVbOSb7KB/qmI9BPKjHpSSXYauRyn92Nq9/Kcrj13x3s3v8D481glQ/0raiNYgX9njPSBOImbrHZePl+tfFmc9sH+Xaoh8NjOKSVdDMhjjYzQLy+dFceH5+IJQf9VYXX4tROg4ZFU8m31M3mfPEqUoJqCGJfvWpo2xnNfdrhC28n06SCeSzNZxlvBINGRXCtKS7EY1uV6V7HWAm38y1cXaXsMcOCvr9ySPj+af7A1U2HJXHzVNvUXVLIGyPf+jV0pf8GHoN+TLAyPkidTCi2RpPApmnR0Bd1zGRaB/B8Oj2HSw7LLbVR1MmskW8RdEWVXSJf3JbpAMgRtc4IZoxTh9qotQjCasm46M0YX9pV1VmbpvRH5OwwgdRtSg2vKaAz/1dNKVtb17Y8DCL4HVufHxMOYl1/zTgIgiYvBnFKfaNp3YjTdPz3n9Na8//X7/k/O1tdwopcZlcAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-hover {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4oVHp0SwAAAQJJREFUWMPtlsENgzAMRb8RQ5VJItFDOgaZAMaAA0iZpN3KPZSoEEHSQBCViI/G8pfNt/KAFFcPshPdoAGgZkYVVYjQAFCyFLN8tlAbXRwAxp61nc9XCkGERpZCxRDvBl0zoxp7K98GAACxxH29srNNmPsK2l7zHoHHXZDr+/9vwDfB3kgeSB5IHkgeOH0DmesJjSXi6pUvkYt5u9teVy6aWREDM0D0BRvmGRV5N6DsQkMzI64FidtI5t3AOKWaFhuioY8dlYf9TO1PREUh/9HVeAqzIThHgWZ6MuNmC1jiL1mK4pAzlKUojEmNsxcmL0J60tazWjLZFpClPbd9BMJfL95145YajN5RHQAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-crosshair {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADEUlEQVRYR81XXVIaQRCeHqug8CXmBNETaE4gniDwIgpVspxAbxC9ATkBkCpQ8gKeQDiB5AQxNyAvUlrldr7eHxyGXZi1rMJ5opbp7m++7un+htSGF204vsoMoNXrlzSpfWa1oxQfhAegCZGaEtPorHo8znIoJwCt6+td8uk7ApUQCIHTF4BNAWzImq8ap6cP68CsBdDp9i9ZqXM7ML79g/EnCWD+jgMKENKqWT+tXK0CkQqgNRjs0OxpQIqKhoMxaG6/6JeRnK7T6yO2UvVqhYSlLX+ryORfgKn9ORDFIy7ky41yGcwsr0QAQfDH5zucOswx819fs4egI9OFCcD8DjBF7VNbEX0JzdWEt3NHSSASAcCxBDqMgt/623kvyTgNgNjJIfTjk4D4FqaJR1715MjmYAmA5Bx3AwUXQL+t105KaTlcBSC26XRvhjEIoLiq1yqXpr8FAGG16/ug4IT27fxBWu7EiQuAiImJpEMKE6nYM30uAIDDttSUOPfJP7JzbjPhAiBIh9QE67vIvoOi9WJfCwDavf40ulpjbCqmUf+W753ezURuh7Dg1SqflwAEHU6pgfyBq9Y4qx0LG++2fnZ/eUzcstmdM2AWH+jfc+liWdBJfSENf8Lifi3GVwC9mybOfi5dzatWVrbbLIHNva8p5h/16gkaFiLGGxbufkoE6XguwePiXLF3XmMfCUCUAqtKXU7sumd1CowOuJEi3Pg1FBpjitIGhyvVSfvmjci6ZR+rFQfDiPVE2jFYeICQ+PoewwjC5h7CZld6DBdyu6nDSKgzOyIMhmhK5TTqXYbRorZYM46TmpKAAOrGWwSJJekSB1yqJNOzp1Gs7YJ0EDeySDIMtJbQHh6Kf/uFfNFZkolJICRmz0P8DKWZuIG2g1hpok+Mk0Qphs0h9lzMtWRoNvYLuVImUWrmPJDlBKeRBDfATGOpHkhw670QSHWGLLckmF1PTsMlYqMJpyUbiO0weiMMceqLVTcotnMCYAYJJbcuQrVgZFP0NOOJYpr62pf3AmrHfWUG4O7abefGAfwH7EXSMJafOlYAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-lasso-select {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEgwlGP1qdAAABMBJREFUWMO9V1uIVVUY/r61z57ZMx4DnbzgkbQXL5iCJphlWdpIGY4jpFBkEiU9ZNaDRRcITcIwMwgxoQtU2IMXdAZfMjFvpERXYiSbysyBEXFmyuHMnLP32uvrwT2xnY5nxvHQ93Jg7fWv71/r//7L4a59TRgqJk+Z6v3a+sv0OI5nk5wu6VaSVZImAThHsgjgrKTvM5nMUWvtmf5n8HodCIKgOgzDhc65pSTrJQWDsSNpJX1ljHnDOfdT37oZLLHv+8OMMasKhcIJ59xHAJYMlhwAJGUAzJfUTHLFuFzOG5QDU6dNMyQfs9Yedc5tBpAD4IYYNQGoBrDtQnt7/b0LFrJsCHzfn2itfQfAnZLiazytA3AaQAuAiwDaEgeNpGkkswAWSBqRONB38b88z5uTKePt6iiKXkk8jq+iJC5LOmiMaTLGHLPWhmWeHr7vV0dRtATAapAzIVmSo51zyzIlbm2stesFPA6pKk0r6Ryg93y/ek8YFvPOOTg3cDSiKCoC2OP7/rEoirYm4rUkF12lAWNM1lr7lqQn0+QA8gI2jBg5cj6Aj8OwmB+KAKIoukhyp6SRJAUgl0ndPLDWPi9pJQCbuviXvu+/GIZhW1dnJ24UJFuTjCCA2ADA8sYGWmsXS3qmL94kDYAtkh4Nw7ANlQJ5U6INT1KrAYC9zQdykl7nFSj5fXp5Y8NWVBhy7mUAjqShMYdMXV2dJ2klyRwAJ8lIeuGWCRMP7N7frEqSG2OmAFhKshNAp5wrmO7u7jEAngPQm1S2z2pqapr+OPt7XEly0oxwzq2RdFmSD2AMgKKJouhhAL4kA+Cs53l7e3t7uytJHgRBreTWkXwkKVJnJD0B4GAGwIJE9R6AFufc6UqSZ7PZbD6ff5dkA4CQZEHSqwAOISmXtwGIE+F1SeqqIP8d+Xz+C0mLJYWSAODteXffczjdDQNJ0BWMCoLg5gqIbRTJNwHsljQhUb0luWPM2LE7Thw/9m/5NCT/TByxAOYWi8X6/gdWV1dnfN8fNRBxJpMZTXKdc+6IpFVJWAEgkvSJpA0X2tvtVTaSjgOYBCAEEADYSHK87/sfhmEYA9gShuEDkgzJHyWtB/B1irQ2juP7ADxkrX0wOUOpzmdpzEY590HJ7Ni1r2kSyZOSiv2+hSRjSTXp/QAukzySNJOJkmalyNIl10hqMcasdc61XDNcQRD8BnITgNp+36r6kfcNFMMlLQGwTNLMEuQGQBfJl2bdPru+HDkAZAqFQux53jZHEsC6aw0eg2gylNRBcqcx5v04ji999+03AwsWAOI4Lsy9a94WkisAnE5a5WCJYwCfA1g7LJudI2lTHMeXBm1faiQzxkyRtF3S5CTupeAB+KG2tnZFT0/P30NO2VKLzrmfAbwGMipjG5Oc0dPTc0Md05SZ5U4Q2FxChErtEYD7jTGNQ3UgM8Asv90Yc9I5LSKRlXSI5CxJa0jWSALJjKRnAewfkniT+vwf7N7fXHK9rq7O7+jo+BTA/NRrdBpjnnLOnUrvXd7YMPQXSBunneno6IhIHgYwW1JtkgmBpBkATlVMAwOk3nFJ+VSoqgCMr6gIy2FcLtdKspAedyQN/98caDt/3kpyabUmf8WvG/8A1vODTBVE/0MAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-pan {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4lKssI9gAAAOtJREFUWMPVll0KwyAMgNPgoc0JzDX2Mtgp3csKErSamGabIEUo/T6bHz0ezxdsjPJ5kvUDaROem7VJAp3gufkbtwtI+JYEOsHNEugIN0mgM1wtsVoF1MnyKtZHZBW4DVxoMh6jaAW0MTfnBAbALyUwCD6UwEB4VyJN4FXx4aqUAACgFLjzrsRP9AECAP4Cm88QtJeJrGivdeNdPpko+j1H7XzUB+6WYHmo4eDk4wj41XFMEfBZGXpK0F/eB+QhVcXslVo7i6eANjF5NYSojCN7wi05MJNgbfKiMaPZA75TBVKCrWWbnGrb3DPePZ9Bcbe/QecAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-xpan {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4X4hxZdgAAAMpJREFUWMPtlsEKwjAMhr/pwOOedINJe/PobWXCfAIvgo/nA4heOiilZQqN2yE5lpD/I38SWt3uD9aMHSuHAiiAAmwaYCqoM/0KMABtQYDW11wEaHyiEei28bWb8LGOkk5C4iEEgE11YBQWDyHGuAMD0CeS30IQPfACbC3o+Vd2bOIOWMCtoO1mC+ap3CfmoCokFs/SZd6E0ILjnzrhvFbyEJ2FIZzXyB6iZ3AkjITn8WOdSbbAoaD4NSW+tIZdQYBOPyQKoAAKkIsPv0se4A/1UC0AAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-ypan {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4anK0lywAAAMVJREFUWMPtlzEKwzAMRX/S7rlpIMXeOnaLaME36FLo8XqCdNFghGljyc4kgQi2Q/SUj0F/eL7eMMTKz6j9wNlYPGRrFcSoLH4XxQPvdQeYuPOlcLbw2dRTgqvoXEaolWM0aP4LYm0NkHYWzyFSSwlmzjw2sR6OvAXNwgEcwAEcwAEcwAEcoGYk20SiMCHlmVoCzACoojEqjHBmCeJOCOo1lgPA7Q8E8TvdjMmHuzsV3NFD4w+1t+Ai/gTx3qHuOFqdMQB8ASMwJX0IEHOeAAAAAElFTkSuQmCC");\n}\n.bk-root .bk-tool-icon-range {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4zMjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMjhUMTQ6MDQ6NDk8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy43PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrsrWBhAAAD60lEQVRYCcVWv2scRxSemZ097SHbSeWkcYwwclDhzr1Q5T6QE1LghP6BGNIYJGRWNlaZItiFK1mr+JAu4HQu0kjpU8sgF3ITAsaFg0hOvt2Zyfvmdsa7a610Unx44Zgf773vvfneezPHNzrbhn3CT3xC3wPXYOC8LDzqdi8YY/gwh4BeknS/2th6dr2kf94AOp3OFyWgMyziOPbMDxV9FTtJnl1ut795Xd0/YQ0/vtYQwMT1KXWCfr2IjOWwtNehwN4xL9ykTrm6Pzl58yLn3J+mKh9mXbT3uRjGEDph+O8/TjfP5dBp7Ha7AX7O3o5nZeD/0E/OGyXntDgzA0X6qmCnrVutVlrUWV9f/3xo+pwhGDhvEPHOjoxnZjJggXmMHzBQ7NGNp9vxk61fr0HR7e/u7pZzCGHlc7qwBYYTT7tJYSx1AQzppyFPft5apta9w7SKcn0b7P7+/jCsDQ5mbc0dCmIJGDN0ehdcjsmkm6A6KUeKFOTE11PLxrC7Ukqh3ylL2fT0NAP9q6ur6rRCJJYsbKB0JsbCKMuy+xREePDyxQPCz+Crlw062QcA5wBOOt1l6vIl2WiI9F1fN6Q+BBqit6hEC4Hk08GQJMn4myjSP7RavVxgdaVUh/3U6HCMsPr9pYnJKRziHtWQ+un58+hGs6nsjQSjpuTyKGN3CX+FBwHXSiEVgjP+O8X6N12kIePES+GzTKAkGbNp8yJsGUMVzz8jPKReiyAQRimy5/cjye5RpF8utFp/+nwmT7d/NMzcFkS7yjJNGDaPURQxIQThEQy0SyF4l5WJYYhBa816vZ6dU7A6CAhbZVow/pDe0O9hVOoCi13r4BgBAvJHqMSQL2vE/iH6IAXEwgrRVUmBoRRwnwJQT98xEeVeSUyB4dJ5nwJBKdCFFGRmUCcu7rwIYypCTblaChuNBhWODrman5ub+4v0rMNBt8z6Ezh7GksJQpCbm79cMQE7QBFm/X6f0rjWnv8WRYg/QdbUpwDAEBy8vPyA8rNGzg3a8MiElwiM7dAtRqNoNptjGPM1laVxP9umWEMGLOKhKUOJDtBwDmzsw9fC/CzHr9SGuCTi2LbbKvVtmqXpCjMihBFa79Wrt5fGx9PDzc3fmu32Lf8qFliwU9emKhBSp+kRKn/hu9k1COEDbFdt/BoKWOAkuEbdVYyoIXv8+I/QK9dMHEb1Knb7MHOv8LFFOsjzCVHWOD7Ltn+MXCRF4729vWMDK+p8rLkvwjLg4N4v741m5YuwCI9CvHp1Ha8gFdBoPnQAkGsYYGxxcfEI7QQlFCTGUXwjAz4tWF+EpymOWu7fglE7qsOvrYE6g4+9/x/vhRbMdLOCFgAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-polygon-select {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEjc1OfiVKAAAAe1JREFUWMPt1r9rU1EUB/DPK0XbqphFHETo4OCiFhwF0V1KHbRSROLqon+AUMVRRFBwEbRFMBiV+mMW/wIxi5OD1kERRVKRJHUwLvfBTZrU5OWBGXLgQu7Jfe98z/ec7z0vKa88b2q1BDtRHdAPBaylm1NzsxsOjPnPNt6WSWprbft+/c3I3zOAjhT1Y4+fvcjEQJIXnVECSa+AhqIHqlHH5lWCZoe+Gk4GRgDG86j9SAUdlDBSQaZhlOkuHyoVdJmsw98D1S5fM4NYM1LCpqM+Lwa240oLgmZzpVZvzKT75VLZcqksSZKWlQeAy/iORVwIvh31xvotvK7VG3Px4aWHj3Jl4C2uYSvq+Bn8v6LLbaVWb9zsBiKLCvbiNG7gLm7jAYqbPHMJMziZ9lsKoh8GtqCEVVzHftwJn+TFHp4/hg8BSCYVfMOZoPEv2NZGdy9WCGUr9toDR3E2/H4V6nwRe/BmgN65H1ZhvMuB3XiKIyFoGefwO6ysVkUlrNUNsyAK/jli533Q+Y8cJFvAeXyMS1CI/jiMr/gUtD2LQwMGr4R3p7bY3oQHQ5b38CT4D2AXXg6YcQXHpyYnlqKsi5iOAVSwL9zd7zJ09r+Cpwq72omFMazjT9Dnibym0dTkRDUKrrgwH7MwXVyYB38BstaGDfLUTsgAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-redo {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4itK+dVQAAAaFJREFUWMPt1L1rFFEUBfDfJDaBBSslIFjbaSFp1FJQFMVCHkzhKIqdUYOCoBgErVz8rCwiTDMwBCIKipDWyip/gxAIWAmBgBC0eYFh2Gx2l9lFcA5M8e59782Zc84dWrT435Hs1siLchqn43MS0zgW22vYxjesYjVLw3YjBPKinMUTBOwf8J5fKLGYpWFjJAJ5Uc7gIW6jM6Kim3iNZ1katgYmEL/6I+YasvY7Lg6iRpIX5VF8wuEe/XV8wGf8jN6LWTiAc7iEQ7ucPZ+lYW0vAtfwvlbfwCKW9gpXDOv1mJvZHiSO91MiyYsyiQSuxtpXXM7SsDmM5nlRdrCMMz3sOJWl4Xevc/vwBzdwAl+yNNwZxfRI+GxelK9ikHcwh8d4NNR/YFRES1ZwoTYdR7I0rNf3TzVNIGbmSvR/Bx08mIgCFSVu4l2ltIWD9WxNGR+W8KOynqnZ0rwCeVG+wa0hjrxtWoF5dAfc28V8Mib/n+Nev5dnabg/zgw87aNEN/bHOwVRiRe4Wym9zNKwMKkpgIWKEt24njxiJlq0aPFv4i9ZWXMSPPhE/QAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-reset {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4gWqH8eQAABLdJREFUWMPtlktsVGUUx3/nfvfOlLQaY2IiRRMQIRpI0PjamJhoVASDvNpCpYw1vJQYSVwZwIVQF6wwRHmkAUof9ElrI6VqDAXcID4TF0IiYQMkSlTokNCZ+b7jove2t+NMH7rQBWd3v+989/zP+Z8X3Jb/WGQySvUNTQBJESkNguAVYIWqzhaRhwBU9WcR+QXoymazn6jqzUQiMQSQzWZRVdal1vwzAI2tHQBPOuc2AbWTdOyQ53n7nHNfRwee51GzqoIQMCLDpr3x/tLQ0oZzrk5Vj0/BOEBt+KYuOlBVGlrahr0Wob27t3gEjnZ2AyQzmUwHsDgP6J/AYRE553neDwDOuUdU9QngNeCumK4TkRMhZUORcYC1qysLA6iuSQHIwkWLD6lqapQsuSmwTVV3h99I7EcAR462A2xR2Ilq6ehTaejvO1774kuLNALR33eclsaGsQDe3fYegHl43vyNwEeqGl1963mm2jl7YZRTQ82qlWP4HM6ZToC5ztkW4LHQoALru7s6Di5dvlIj/e6ujrEAWoZDn8hmMjXATMACGaAVuBjXTVVXFc/AxhaA+4zvn1DV+eHxVWPMAmvtb5GeMWZyZVhI2rt7qVy2pOh9U1snwIPW2vMi4oWJuBPYHkVAVScPoKmtkzVVK6cEMsyJraHhiCqJqJUwj/JRz7TW1iSSyR2rVyylqa0Ta+24Ic8vXaAEmDFc/l5Z2A/80OibuVyuz/f9ElUdHCmvw82t5HK5h6y1PYhsz2YyGw43t2KtBZHIGwB6+j4rCkBVUdV7gXrggnPuu8h4eP+xMeZS2D0rJYZ6AdAMzAt1b4nI26p6IFZOY8pugijcKSIHVLUK0LyST4vnrVfnWr3mjmP4QTATaERkXkypRFX3isjmuHdRJEK6Ckqquopp06bdKCkp2Sgi7XnGLcg7gzeutwNIiPYc8HixqIrIOlU9ONVIhHPEd851icgSVXUiskVV94gIqoonIt0i8gfQCfwae38e6BWRXuBZz5jZ8VbaOE4EIqlZVUEQBLlkMplS1QER2RwkEnsSyaREDUzyeNsvIhvCMqkH1kdIJ2o+k8iJB1LVVRfjZ6nqqlEAIbdVQGto8Lrv+/dbawcjAL7vc+6bs+zetetfLSHxniIFGofGGsU2oC7eOCbDfZ7nQawBOSAX74SF9oEPImOq+r7nmVmxb5raukZa8UReGmNmhbMkAwwBH467EYVZe49z7kdgenj8k7V2oTHm8kgdWcvrNdVFjR8cHkYzjDH9wLjDaEwEzpwa4MypgWvAjtjxfGNMj4jMiT+M+kFsZI/Q6Pv+HGNMT8w4wI7TAyevxXVPD5z8+zD64tRXAMHVK1eaVLUyVvuDqroV2BOnJF4ZIedviUidqt4Re9s+vbx8zZXLl7PR2+nl5Tz/zNOFp2FzxzGAklw22wUsLLaSKXwf8vhosZUM6PeDYEUum70VHfpBwKsVyyfeikOP6oBNwN1TrLbfgX3A1kKLzKeff8nLLzw38T5wZDgxn1LnNk5lLRfP26/OnR2hwfNYW2Atn9RCsrf+EECyrKysDFimqhXhyjY3VLkAXBKRDqA7nU6nS0tLhyIj6XSaN9bVclv+l/IXAmkwvZc+jNUAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-save {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4UexUIzAAAAIRJREFUWMNjXLhs5X+GAQRMDAMMWJDYjGhyf7CoIQf8x2H+f0KGM9M7BBio5FNcITo408CoA0YdQM1cwEhtB/ylgqMkCJmFLwrOQguj/xTg50hmkeyARAYGhlNUCIXjDAwM0eREwTUGBgbz0Ww46oBRB4w6YNQBow4YdcCIahP+H5EhAAAH2R8hH3Rg0QAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-tap-select {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3NzIwRUFGMDYyMjE2ODExOTdBNUNBNjVEQTY5OTRDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCOTJBQzE0RDQ0RDUxMUU0QTE0ODk2NTE1M0M0MkZENCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCOTJBQzE0QzQ0RDUxMUU0QTE0ODk2NTE1M0M0MkZENCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTQ0QzIwMUM1RjIxNjgxMUE3QkFFMzhGRjc2NTI3MjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyMEVBRjA2MjIxNjgxMTk3QTVDQTY1REE2OTk0Q0UiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6eYZ88AAADLklEQVR42rSXf2TUYRzHv7tuGcfE6Vwb5zLSSjEj7Y9KWqfEmFZJP+yPMdKKmUrrn0iUfjhWlLFi6YfNrF+StBoTo39iYkTGco4xxxG59P7k/T2PT8/37nu3bx9ezvPj+zyf5/PreS78bGLS8SmrwE6yje3NHJsDBTALpknBz6JhH3NiYAB0gHqPOVv52wJ6QQ48BzdAttTioRJjdeA8mAHHS2xuk3p+M8M16ipVQE49Ds6CiFO9RLjGONf05QLx6wPQaBlbBlPgJVgkP0ETiIJ2sB/E1XfimjfgBOOlKDUqCGOcqBcQnw6BYW5YTo4wbvQhMmCfGRemC2rBiGXzWUb+kM/NRZ6CHWBM9ce5R61NgX6ayhSJ5EPlItlDRNkz4JbFHf06BkSzHjXxM+gDv1S/mPUo2AXWgt9UUHL/IVhS8yUV1/EbV3o4N+NaoE9Fu/i827K5pNYHnqAVJECShWmAaddpscYFFXwR7vnXBRGlnUN/L6kqKJlxnRUuDbaDBiL+vst5d4gpcpBrqk/2jIgCKVUolhntplzivHmwh4stGOPfwBWwl/2dpp8p7xjQZqFLiQJtauKkivYm+kzccpK57yXfOUe+P23JqAnVbhMFmlXntCWnxbT31am9ZJ4BJifsUmNTqt0cYhA5ypympPg7VkEKunPbVb8cIG+0kyHLJZNR7fUMooUKFHAPkfQo58VLK+RzwRDd4FdWG9mjpaAXzqkJa1R7kQttqEABWXMjOOxxVRfnhRm5URX1prk/0pQHwNcKlchZ+jdpC+hFdVqO0my9Hj5dkYgCn1Rfh/KdlNDHrJhPqlDih+IfBd6qwpOgEqYMsorJ2HtWxtagLJDn/W3KRfPOZhoeBJfZPgVeGKeKrkQBh5dLXl25Ny3pc4/1fkTdbvFqFQgbxWeYD0hXulhQ0pYiM1jG547fcbMQpVnHTZEn9W3ljsCzwHxCdVteNHIZvQa7/7cC7nV6zHIfyFP9EXjFa7YxKAVqPP4bxhhoLWW+z9JyCb6M/MREg59/RlmmXbmneIybB+YC/ay+yrffqEddDzwGvKxxDmzhc0tc80XVgblqFfgjwAAPubcGjAOl1wAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-undo {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4em8Dh0gAAAatJREFUWMPt1rFrFFEQBvDfGhACASshkL/ALpWVrSAKEQV5sIULWlgZNSgIFkGIVQ412gkBt1lYLERREFJqJRaW1oHAoZUQsDqwecWy7N3tbe6C4H2wxc682Zn3zTfvLXPM8b8j6RqYF+UCzsfnHBawGt3fMcAX7GEvS8NgKgXkRbmMxwg41TLsN0psZmnodyogL8pFPMIdLHUk7hA7eJKl4U/rAuKu3+HslFr/FZezNPSTFslX8QErDe4DvMVH/Iq9F7VwGpdwZUjsPtaSFjv/1vCBPjaxO0xcNbHejLpZrrlvJCMCT+JzA+2fcC1Lw+GE4l3CG1yIptfjCtiKoqtiJ0vD3aM0Py/K57iIMxgkQxat4EdN7e9xdRzlk+LEEPvDWvIDXJ928sYxjL36icWK+VaWhlezOIqbGFirJd/H7szugrwoX+D2BDEvszSsT5OBdfRaru/F9dPXQF6U27g/KnmWhgctxqyzBrZGMNGL/rHI0nDkKXiKexXTsywNGx0OnFbFNk3BRoWJXnw//j+ivCi32/S8CxPVNiWOAdUiJtXITIqYY45/Cn8B2D97FYW2H+IAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-wheel-pan {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEgswOmEYWAAABddJREFUWMO9l09oXNcVxn/n3vc0fzRjj2RHyIZ6ERuy6CarxJtS0pQSCsXNpqGFWK5tTHAwyqIGN7VdEts1LV04BEoxdlJnUbfNogtDCYWQRZOSxtAUCoFiJY0pWJVUjeTKM9LMe+9+Xcyb8ZMychuofeHCffeee7/vnXvOuefYlV/+mv932//tb91z/Y2rvxmMHQ+4FcEfOIGN4A+UwDDwoQScc7vM7AIwB8yZ2QXn3K77Ab6OgJnVgeOSbkqaBiaACUnTkm4Cx3OZzwf+qzcRQup1zNZ9RwDe+0YI4YKZTUn6zCGSMLOfAF/03r+QZdnyfwO+ePEiI6N1nPMgMDMkETLRbd2mXG8gCbd9YiIKIUxLKoLfBN7I+80+CUlTIYTp7RMT0b3Af37p8kh5y9gZcy4Fzt+5szqSaxkzUR7dwtrKMmaGW242d0t6vrD/He/90865o865o977p4F3Ctp4frnZ3L0Z+OryUrVSrZ0z8ZxhHjhcq1XPrS43q/0flDlK9XpPA2ma7gMeyvfPx3H8TJZlH4YQWiGEVpZlH8Zx/Awwn8s8lKbpvmq1ahvB641SXNk6dhLskNA2MIBtwKHK1vGTW8bKMRbAMgyPqWeETxUM8VSSJAv52JmZA0iSZMHMThWwnipXKp8hsLLcSaIR92oU8xjSayCQXotiHotG3Ku3m+0EOQwPQCDggMf7BzQajSs5eAk4B5zLx4O1vD2eJMmAQKliscgASJMw21pansFs1swQ/DNLmUmTMNuXX+taXHTDaj5OW612R1JZ0nFJJ/J+XFJ5aWmpA6S5bHV8fHsPHFU6q3pJCjtFxtrKMuXRLUUXXxdrRLazFOtUolZlsGhmACsgnHPTwJnCnjP5HMBKLotzxsTE9rgDL0t6LoriKsDIaB31ZEK+JxQJRHFUBR2NqLw8OTkZR0OC0ntm9k1JWU7OA4vD/mZ+YfElsANmNEKi75vztzB5M8uAr+bx48me88g757PQ1U5zNg52YH7hX8l6f+4Fi3c3BqHNmkI4YQOV2MGCNu9qHPYCewfzbrC+XSGcWEcgTRKA3wFfyzdDz5d+D3x9CIcfA4eBbQS9LscskgfLnHNPAnslvS/pbZDHLLPADpx9N9fqpSIBH8cxWZY9m6bpb4Ev5fN/iKLo2TRNgdx/eo8Wk5O7Ts/N/SOSdMjHdj4kmgkIEJLJzPZKetvMTkIvFLsR25Ml2gfuF5M7vnA66sdooJYkCSGERe/9VAjhzRxoKk3Tvg3U8nulVqvx8cyNpER2umM+SdOkbc5B8JhpqBdIgTRR24h+lpKen731aRIN7thscH9Zlv0d2F8YD2TIX7F2uw3A7ZWV1a0TYz9ca8cJZHRbuRuaDfUCw9/qJHamPOKToAwHtHN6lMvlSkH2o7wDMDo6WuGuQbbn5+YAKNcb3J5fSvrhtTY+vsOPuD1IOyRhMOkj9kSx29HfXB5RUnS964NT2+3vbGbxG9auO2cDNuV6A8NTb5TitBuOpQkfYD2vwOxgmvBB2g3Hto5X42EJyVsFlztbKpXGNgqVSqUxSWcLU2+tdToa9hasLjfPYlwGa+bTi8Dl1dvNsyvNtQQL9MO2w+HM7BqwlAtPdrvdq9773WAVsIr3fne3270KTOYyS2Z2bbXdHhogKmPj7YWF+VOSXs/v/9KdO+0fVBrjbRkgB/KIDBnYu9f/7D+ZmfmRxPd6qwB8YmZXcq1MAQ/nJhTM+OnDe/a8+PGNG9lm19V/D1Qw7HXZlcRa69+U6w38l5/4ipxzf5X0CPBILjcGPJH34pVcc8692FxcXLlXRnTwwH7+9P4f8aWe3fY59LIqo1NMyQBCCHNmdgx4BegUWefjDvCKmR0LIcz9L8nokSNH+PRvH4HC3YQ098pSbevg24qlmZmNmtmjkg4D3+j/tZldkvQXSa3PW5ptlpL3ZaIN99OS9F7+IgKUgSyEkNyv2nHT7DZX0dr9rpjua2l2r4rogRAYVqZvnPsPqVnpEXjEaB4AAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-wheel-zoom {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEgskILvMJQAABTtJREFUWMPdl1+MXVUVxn/fPvf2zrSFmUKnoBCUdjRoVaIxEpO2JhilMYBCtBQS2hejpg1Uo2NUrIFAoyGmtiE+GHwQGtvQJhqDmKYRBv+URFsFDNCSptH60DJTO3dKnX/33rM/H7rvsDu9M20fDMaVnGTvtb69z7fWXmvtc/TEzqd4OyXwNsv/FwFJQVI/sA14SZKRLOlPkr5TrVYXHz70quYkEEK4TtI2YAgYkrQthHDdhV5uuw+43/ZrwCbgRttgY/tjtrc0m83X3/f+D6ydnJhYcB4BSZcBA7aP2d4ELAGW2N5k+xgwkDB0IH19CGGH7R8B1aQeAf4KvAw0ku4K2zu7uru3ApdPEyiKohd4TNKjtjt5h6RHgccSNrddbvuHtm9Jqoak7xVF8WFgdavV+pSk5cCObNmXgK++85prCj3z28HKqZMnH7D9YAY4BvwujT8BvCuL1INX9vVt+dfwcCvNb7f9q2RuSfrGvWu/sL2Nf3LX7pzvj4ENSGBPVarVd4fRkZFltjdmoMGiKO4IIWwIIWwoiuIOYDDzeOPoyMiyFLkum7WJCMDztrcrTTrIRuAQZ6NcK1utL4dWq/VZoC8BhqvV6l1lWb4YYxyLMY6VZflitVq9CxhOmL60hhCKeYiV7WMKIXw9jT1HpXw3c+bOAKzOjJubzebJrKQCQLPZPClpc7bP6rMYKtjXth2OMf7tIkr11Wz8oQDc1Fb09vY+kQw1YAuwJY2nbUluAnCWpKkaFl6IQIzxivaR2SYA89sJVK/Xp2x32R6w/a30DNjuqtfrU0ArYecDCEqgLqm94T0dEm9mBG7PxkdDlkBnkhebgIezNQ8nHcCZPL9ijE1Jf/bZZoPtzbavmqNZLbf9tSxq+yoduuJ+SZ+zXSZyBXCqU+d8fvC5yRUrV+0G2j3g2hDCLyXd/+Su3QdnvP/zCuH72LWsgf2k0oHlH2c2odlkxcpVEdgr6aDtjyb8x20/J+mA7T9I6rL9SWA5dne2/GdXLl58qNJh398An85yTMA+4DOz8Dgu6Zu2dwJXJ91ltm8Gbp7Fgb+EEB4aHhpq5CEtACqVyr3AC0AlPS8k3TSmQ2YPhhBuS/1/LpmS9JTtNTHGfwBU2uUALARotVqniqJYH2Pck85pfavVaufAwnQvnHc0McaDKVptebN94QAnJB0EdtjekydyZXqjs/0ZgLIs/w6sy8bnYGYJ63pgERKC05JutT1kOwITwL9tvzlzUQUYB+Zjs2DBgu6xsbGJZHstByZbezregcBXeCsEz1bnzXt5anLyzLq71zDLxTRdVgemdx0fv2e2w5thO5DbiqL4oKT3ZKpnpyYnz+SY2ZpTAPZmJfdIrVZbNBNUq9UW2X4kU+2dcf53Aj1pj2PA7y/6m1DS00A9za9uNBq7iqJYBuoGdRdFsazRaOzKSqye1rTbaa/tlbYrqXQP2X4FIA9/J1l39xrC0v7+w5IeB8XkwS1lWe6TGJAYKMty31tfO4qSHl/a3384I3CDpI+kzC4lnRfrue6GytEjR8oQwlY73gC0L4qlth/q0M1/LYWtR48cKQF6enrC6dOnVwGLEpnxnp7en4+O1i/tszzGOCTpPmB7ahb57QUwBWyXdF+McWg6MScmuoA8OX8xOlpvXGz422XYTsB/SnpA0h7bX5R0WzI9HUL4qe2XbI+dk3xl+V7gxoztD5jRI+YK/zkEEokx2/uB/RdzIfUtueqVN04cXwF8G3iHY3z9Urw/j8ClyhsnjrcS2Vv/J/8NLxT+/zqBTkcxU/cfEkyEAu3kmjAAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-box-edit {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEg4QfHjM1QAAAGRJREFUWMNjXLhsJcNAAiaGAQYsDAwM/+lsJ+OgCwGsLqMB+D8o08CoA0YdMOqAUQewDFQdMBoFIyoN/B/U7YFRB7DQIc7xyo9GwbBMA4xDqhxgISH1klXbDYk0QOseEeOgDgEAIS0JQleje6IAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-freehand-draw {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADTElEQVRYCeWWTWwMYRjH/88721X1lZJIGxJxcEE4OOiBgzjXWh8TJKR76kWacOBGxdEJIdk4VChZI/phidRBHMRRIr7DSUiaSCRFRM3u88gz+o7Z6bBTdjmYZPf9eJ55fv/5zzvvDPC/H9QsA66Olo9Ga+/MdR+Ljm2/KQIULsz9FqItGdOfJKLhApLgVkiSCGODjWit7QpKWy+TNrFeXvzKVUT8NiTVaIgDcbiCFJ7GiT8WkARXAdYBK0Lbhi/CenArRNskuM7/tgNp4ArQ42dwjf3WY5gWTqC7O/NbNn2Xkfw/YwdSw/We14HP2IEZwX+y9cZ9SH0LmgFP7UCz4KkENBNeV0Cz4b8U8DfgKiDxMWwUXETqLvJpCQpXZfawbzS7t9v5pL19cHBwfja7YA0y/lyCM0+E5hv5+piZXwKYcF23as+37bTXsQVqgkL0p/34fHR7DcBtbetFsBmGDwMOJCggYG55yw7dMlk6DuC1Bdu2RsCU9TYWQq2IoGbsreZ5NzvEqfSBsIsIy8OTbcdgiRHeh4o8AFAEwDakbY2AaCCpH7V9aGhoUUUy3UyVbkPYFuYLDlUZH8XBpwxkK0Dbgxg5HcVi0ent7a0RULMIozaHBSMfF9b2SzdutFcFB2FkwMIJOG6qfteXOa1nHZ48tyefuwyfT9s6wtzZ3t7eZse2DR2I228TtHXzuWCx9g8MtK5cuHCZTH4tiHEOa4xFngvTyS8f35d6enomiCi4/foEXBkZaQuukChL4FYA2Whd7YcC4gEdW3CpdL3LtGAVCVYJywEyTpAuJKeMOKXZs/Bw947C50KhUFOG4cwz35cjWNBlHGeD53n3xsfHP/T19U1qciggar8Fa4I3PHobIotBWBtc2hSiChyZxVzM53Pv7FVH6Tp3uVy+g0r1ImD2GjIrQGYIxjnfuXTZGICS5k/bBwJoubwEFX4TLah9EXomJGMA3za+f9913Yl4TnzsDQ+vE6YTZOjHh4ngibstt1pzQwd04F0bPStEBpXqRoBeQ/AKghfBnOEKgS+Q7z91Xfdz/HGKg8Ox7z8iYD9z6wqTkZFgnvhMGP9VZ2or1XVkPM9z0mytSfVsHa1RLBZbLoyNzUnK+ydz3wC6I9x+lwbngwAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-poly-draw {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEjglo9eZgwAAAc5JREFUWMPt1zFrU1EUB/DfS4OmVTGDIChCP4BgnQXRxVHqIJUupp9AB8VBQcRBQUXIB9DWQoMRiXZzcnQSA34A7aAuHSJKkgo2LvfBrU3aJnlYkBy4vHcP557zP/9z3r33JdXa647N0kHSZd5Nn0rSxc8G3cXp85sMcnZZ8vge3osZ+l3vB8CWFA0iL14t79h210swAjACMAIwAjACkB90D/8/GchI9ve4nPwTBh5E9ws7OepzGWb9EddSn51Op9ZstadSg4VK1UKlKkmSDSMLALewiuNh/hVJq71Wxttmqz0dG88vPc+MgWP4grvYG3SLOBrZFFFrttqPe4HIDxh4GSei+98iSlusuYopXEAjBtEPA3tQwUpwluAbDm4TPJUz+BTW9l2Ce6G7L0X/Bw8D3T/7SKKIDzHg7QCcxjvcQAEtXAnrrg/RP0/DKPbqgcN4iVOR7gcO4dcQgRuoh7HSqwlP4n20m63jJu5n8MkWMYfP3UowhzdR8FU8w9iQwevBdyq3/27CMRzAE5yLuvsRLg+ZcR1nJ8YL81HWJUzGAPaFZwe/Q5MdyYDyNHgjzO90YyGHtVDncuiJchaHw8R4oREFV5qdiVmYLM3OgD9k5209/atmIAAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-point-draw {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEMEiERGWPELgAAA4RJREFUWMO1lr1uG1cQhb9ztdRSP7AF1QxgwKlcuZSqRC9gWUUUINWqTh5AnaFOnVPEteQmRuhCURqWsSqqc9IolREXdEvQBElxtdw7KURSFEVKu4w8wAKLxdw9Z+bMnRmZGXfZ29//II8th4WwGVNyIoQLYB5vxA9Caq04iUd9A+7ZlsNC2I7TdSd2hZXMJKlnTqp9jtl/GBaqoyQ0noFKpUIzBicYYc+DEFpxkglc4oVJa5gvDn8v1xV2irG3FM4NSVwjUKlUaMcpJhCGmSEJQ6QGD8M5WnHCd8+f3QCXpPLx8WNwv0j6Bm9FMK7FJ3WBE+R/2t7c/GBmFvSBrzRTCsyTDjXrxUgEMtpxynJYmJoBJ4VAybwVARgvL7Oik0okCodnKpVKX7P0leiVMb0VvbJT+upznK4vh0GIeQwwQStJkHQD3MwsCALTJRG7Qrdrj5m/djgYaIa0hlkRdJk26XEgC9txurccBtVW3IudBImmZuACUP+ZlIDBt9FKcubYNTcAH/X0RYM1E7utJPlqe+uZzPxUcEkiSS4sTT95n15Mud0xWC0o2PAWOCdK3KYZlFxfM+tHOcnMzNr1es18ug+cgsVjP4yBU/Ppfrter1m/+l0+zYygML1xRVHU7TSb1cSzBzoBzszsH+AMdJJ49jrNZjWKou6wBnwOzcyndBpNbuueURR1Dw8Pq35p9cc5p/Dy9Dypt7jXrtdGwQECS9NPhr6Gq6txUzNigE6zydLK6lTw12/KT4FGFEUfJX2YJNONq5tVs4ODA7sD/DnwJ/BoADZuE3tHFs12dna6d4C/BI6AlbyzI8ii2TTw12/KK33gb2cdXsNZoAntbZC2SeO4c9592k/5eNQbiwvFd1kJuFGwLJr1wSPg/SwpvyFBHufOeXcFeAlE97U/uCxOY+P3b+Bn4B3Q+L8EdJfD4a+/AbC4UBzPxiPg3wlHZquB28Cn2IuR9x3gr3uV4DbwfvSDOvi4uFA8BDZmIRHkjHpS9Ht9iRqd8+5G3g05mAGcQbsdiX5QJ428G7Kygo8XYdb1/K4NWVmjzkNge2sz84bs+ELmpDDLtqWsNZBXgvmw8CTtpWVMT7x5YWBjLARnwZfKQNYN2U2LPvrh+5nBt7c2M2/It9bArCTKR8eZN+SJ13AScPnoODeRdqNenH+wul5w2gUr2WUjMFAt8bZ/0axX/wNnv4H8vTFb1QAAAABJRU5ErkJggg==");\n}\n.bk-root .bk-tool-icon-poly-edit {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gELFi46qJmxxAAABV9JREFUWMOdl19vFFUYxn9n9u9sCyylUIzWUoMQBAWCMdEEIt6xIRQSLIEKtvHe6AcA4yeQb7CAUNJy0daLeomJN8SEULAC2kBBapBKoLvbmdl/c14vdmY7u91tF95kknPOnHmf95znPc97Ro2OTeBbdjFDT3c32ZxVHUOE9kSMB0/m6ExuoJn1H+ur6Y+OTfD50SMN5168OgrAlyf7CfuD+z7+iDs3p8hkLUQ0iFQ/yFl5Nm/qonfHVva+s32Zw9GxCYILsZ08tpNfBhbs+1YN4OH9+7huGdECSBVfqUosbsllfmauBqiR+cCNwOr7AEo8pPHJnymXykhg5fUWjoQpl0vVvhZhbSzGoUOHqgBlt6B6uruj2Zy1E9jo0fhfeyL2x4Mnc8VErK0KUEOB64JSyptfG4RSytsJjUJVxw2lsFy3urL9nx1Qd25ObctkrVMi+jQivd7U2ZyV/3Hzpq7h3h1b/7p9Y0o8v8rwAbTWrGpSocN/FGDlbAI0Rl23PCBan0Ok158H9Ipwzi25A/Mzc9Gl/BYx/E4kYqC1NKRARNAaDCNUM27Z+Zr+ouXs0q4+LSLBHPYCFkTkC6uU39kwCdsS7WRKmaYUiAhdnZ3MPX2K4+QjQI+C94A93rMzm8ltMwyDeDzWjMZeEb2pYQDdW3vITU2jtUZ5QThOPgm8C7wP7J15OPsBsB3oWpGnVWisCeDS1VHj4vBI92+/3tgB7Ab2AruAXiDBK5oIOkhtkEYRNRuJhObrd8Dl9ewf4D5wG7hVLpen29vb5wzD+BrkbBMaL3d1dk5nsrnlFDTTFWAWmAZueWD3gCemGde2k2fw1Al1YXhEvjozoO49eczdqekrWmsc2zlrmvEKOGoW1GUjFLqSk2KpJrCLwyMCPAP+BO54QL8DM6YZX/ClsP9YnwKkXnIBP4jdIpJRpdJTCYdMwwi98KU0Hjc/dDILNyUcwTCWdOSMJ0TRmBktGRhLugu0xyLk7CIqVNm+0bGJptl1YXikD0grpY4Rjc4a8Fbgdab/6OGbAJeCUuyJnnHmZH9pbSyGuBXV8NUwlUpR1EWyixmSyTWEwqGlJ2Swbo2JXbAAfgDGgGQA9I1A9t1tlq0AxrXxn0ilUpw4fhQqYkH/sT41OTnJJwf2s6FjI5mshdYa7bqVR2uezr9MJmJt14FvGrh/O9D+e6UkM/xyCuCqEKCYnJyUTKFQrZDHjxzGshwWLQcRsOz8Hi85P23id0ug/XilAMLBmm4tPGdoaKjSH5+oAGrhwvBI9SjZTn4QSK9yenoD7dlrExPoJlXW8G8ytpNHxRKk02lGxsdRKFwXLNvx5yY94HQLGhGk4LFCYQSqaE0AwWM1eOoEbR0dKBSW7bC4mKuffxs4D/wCLKwQQPAUzIkslfp6cVomROWSolh0GjldAM4nzDi2k9/i5UAzC9aKfwNJ3zgJg9YEvN6+C7SHgKm69+sD7RfNnKTTaZRPQfAut4oFV//IS7gkcB34VlVo8kGzphlfB+DU+TfNGBpZtRastvrvARJmfMF28ge9sc2B9/PNnCilMIDwK6y8/ow/Ai4kvILTljAXvDvEvrqKSUs60KolzPjBxspavQD2tKqCAGF/Ba+xE/Wbilu54wZV8NEKF5fXzQHl/bh4hUsE0WAXSlDMYcQSrQXgCmsTseXHsJkNnjqBFGwKJaHsKlxtUHYVhbLCzr1kaOA4bcn1y1Swmb+iLpJKpVrfgdpfsiVVCYcgluwgnU7jEgJ4s5UkLFtWYyHyEg0/N1q1tmQH+YXnAMFr97Nmv3p+0QsHQRsF8qpBOE5+rb9Nkaj50tVQKjqh4OU3GNL/1/So3vuUgbAAAAAASUVORK5CYII=");\n}\n.bk-root .bk-tool-icon-line-edit {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAG/3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdpknSpDfzPKXwEJBDLccQW4Rv4+E4BtXR198znCdeLLijgQUoppWg3//Pv5f6FDwefXJRcUk3J4xNrrKzoFH8+pyUf9/f+8J3C7y/j7jnBGApow/mZ5l2vGJfXCzne8fZ13OV+9yl3ozvx2DDYyXbauCDvRoHPON3frl5Imt7MuX8hH0seiz9/xwxnDMFgYMczUPD7m89J4fwp/iK+OVRbiMf6gm8K4bv/3NN1Pzjw2fvwn+93PLzccTZ6mJU+/HTHSX723/bSOyLi58n8jmiqz/798+a/tUZZax7rNCKOakzXqIcpu4eFDe483kh4Mv4E/byfiqd49R2OHzC1Od/woxLD44siDVJaNHfbqQNi5MkZLXPnsMdKyFy5gwwCHXhocXahhhEK+OhgLmCYn1hon1vtPBxWcPIgrGTCZrR5fHvc58A/fb5stJaFOZEvT18BF1t8AYYxZ99YBUJoXZ/K9i+50/jPjxEbwKBsNxcYqL6dLZrQK7bC5jl4cVga/Ql5yuNuABfhbAEYCmDAJwpCiXxmzkTwYwE/CuQcIjcwQOKEB1ByDCGBnMJ2Nt7JtNey8BmGvIAICSlkUFODgqwYJSbkW0EIqZMgUUSSZClSRVNIMUlKKSfTKc0hxyw55ZxLrllLKLFISSWXUmrRyjVAxsTVVHMttVZVHKpRsZdivWKgcQstNmmp5VZabdoRPj126annXnrtOniEAQlwI408yqhDJ02E0oxTZpp5llmnLsTaCisuWWnlVVZd+mTtsvqVtU/m/po1uqzxJsrW5RdrGM75sQWZnIhxBsY4EhjPxgACmo0zXyhGNuaMM185uBCEgVKMnEHGGBiMk1gWPbl7Mfcrbw7e/V9545+Yc0bd/4M5Z9S9Mfedtx9YG7rlNmyCLAvhUyhkQPrNhvO5AJFnrZIR0plaLL5liQYdDi5TubaIokFDkmoFEB8CzxZVxemssDqthPhUblPgW1iQU5g6XwNwyVI7bUFRm035iNziMkgWvEso2SXnsJfveR0Y4SlVF8YWC1pVQhJiQa8JwDvlMNIxAfq3F7GDObHU1LlhzlZaWwNp6BvACxAgInGXlllMGZCpEnZHrGA6GM2718xuFcz7YdUQxzEEfjdWz4GlkcwaonT0pgA6mB25grPILtnSMhuCpsGhmMU6uJbixJs4lbKHqh+wos1jW2rchyGRCIvN9MXu+KAmMSfAlIKVvi/tybhCPJZCu2Ow9pLdyo427+X2ovMBmKNu8PA0zgl3fS0PB1DWWkVYB47bkyiJHhkFPzTzCjzn4Dq1mqoIWzCmcDGsHQmQAQdEHsixK1IXESd5rLU7THVJNV8obHS8sZeN0G5Jdt5pQTVKCCbgK1hItTS8o92iEZpuWJ/oC2r/0+zTmhvFXoaMVKRe27altDtid6OvG1hENVwBnC61KKugNoemOiPCCNb3GoHAZOFuDxxPsD+07nbSPcr/o1Zmc4jARhotrA5F5ZcjP9rPk90vR8A+k028A+8+5wKlHVID542sMzMCuXktkRzUCpE+xCBZywjNcJITx0II9x5948CekBl4XaC5OCX2nCyObdwN3HwQh5DWL/BBEkhDYHn/vpXNgZkVTZs8rj+HO8JFC6qvDVhgAEQSYCDyC86rMhG1WPzAVB9ZldDWG6EzDcFiqJBDvFS8mXDv3SK2LPoguVB2kwUx7UL5KqZWiEzocsbvSjNnaYDNtcYJuA5cDcsrvHd6yCxGjqvl9+wh3Qh8Kc9py8sNW8ncU8qwxdPj1qIGfrPqlXeoS4/JLa/LwRLTCtxuSoZUT+2Su6kXW3QNacYQbId6NUKVbROpviybFSPQQL9lhB2MamEnFyB9Y+hrG1+xBg+L0QG2TZdTdlcsBdq9oHdt9Bu5/IM9+Nfh1AwrSqlboTA6Bgq568A7UfbaMrZjoQZhQphofvNw93+bN+5X7FYKBgLmRid+tSdV6c02A4R0cHwKobmoMt5+6WI9XNISFIywpf6RMd5/a91vE78FzVHIFmxud4woyJx76OMTCa4yhgN3iJO2VfRPFMv9sYTxFzU+1eWeYS52pwOoSJldZY6koib4P1O427rbeUrNZfu44hWjz5ZSuu/vKPpimoXbLkfxWSPetvxDWG5jQSaZCxA3ad+p6rlttDhK+YwwK1LHVe0drDtorc5vnQ1247g58vewDtU7L3DRwrG4dhCUDRKKOtYr2dXHtpt+33d1WZmfkAHdl7Q8ENF+CNgB+nOw29n5F7SeNo/ckbu4laLTCdqJLHjmhJbKzmrCEX7zULrhefuHmu0V/1nbP1pnb6FaT7sOxn4pvWkfrYhYtCeJ4Xv+kOXrroIs1eHWXN1/AfzaY94ms5vaAAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV/TSkUqDnYQUchQnSyIijhqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxcnRSdJES/5cUWsR4cNyPd/ced+8AoVFhmhUaBzTdNtPJhJjNrYrhV4QwjAgGIMrMMuYkKQXf8XWPAF/v4jzL/9yfo1fNWwwIiMSzzDBt4g3i6U3b4LxPHGUlWSU+Jx4z6YLEj1xXPH7jXHRZ4JlRM5OeJ44Si8UOVjqYlUyNeIo4pmo65QtZj1XOW5y1So217slfGMnrK8tcpzmEJBaxBAkiFNRQRgU24rTqpFhI037Cxz/o+iVyKeQqg5FjAVVokF0/+B/87tYqTE54SZEE0PXiOB8jQHgXaNYd5/vYcZonQPAZuNLb/moDmPkkvd7WYkdA3zZwcd3WlD3gcgcYeDJkU3alIE2hUADez+ibckD/LdCz5vXW2sfpA5ChrlI3wMEhMFqk7HWfd3d39vbvmVZ/P2aecqIM1FFZAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AQdDBkQmV+argAABM5JREFUWMOtl9trHFUcxz9n9jYzm7Tb9JIWGtqUllLwVgRBQWl90S6lTaGmF6E2/4H+A4r+A0offdlWodL4kEZw9bG+iC9iKqLF0os0EBq02dtcdmdnfj7szGZ2M5vulv5g4JwzZ873+7ufUfMLi0RSa1TZNzVFrW511xBhzMxx79EyOwrbGSSzZ073zOcXFnlv5lTi3mvfzAPwwYVZ0tHiq6+/xu+/LlGtWYgEINL9oG657N41yfSRgxw9cHjDgfMLi8QVsR0X23E3gMXnkXQJ3L9zB99vI4EA0sVXqsPF93xW7y73ACVJBJwE1j8HUBIi3Sz/QNtrIzHN+yWdSdNue915IMKWXI4TJ050Adp+U+2bmkrV6tZeYAXwEJExMyf3Hi0rM5fvAvS4wPdBKRW6vZeEUiq0RIBCddddpymu0+rRbPvEzkPVmmWLBA1EdGAbYNctt7V712QwfeSgd/uXJQnPVVoEEAQBTxXpuEMELNtNNFW1WrsrQdBCRImQEeE/wBUh53v+7tW7y5n1+BZRIoJSioXvy3itdgclURSZTBrP87AdV57G1TT0d4GPgC+Bw8Ca7bifATsTgzBvjlH1qgNdICJM7tjB8soKw4jtuD+Gw3c229e1wF+P/uHPpT86rhBBRHActwAcAl4EjgIvAYcFJnlOoq5dv6EBU8AR4OUQ6AVgGjATwuC5YUdZ4A+z+1mBTUM/AKwqpZSIpPfu2VP7+/6DYEMMPE9N83lzq23ZWwxDd4GaQnmgUloqperSCpKC8HGCXz8G7NANU8CWUKPzsUDbyLPVyjYC39e0VMZx3Ccoha4b4lQqbUlnsBqNWCXpEMgKfA38DNSBcdPQr4zlMtTtFiqlulmQmJv9ks2idUZGZMjZmZMAfBUvxWHR0y5dmPV2FcbPG9ncFdPQS3nTuAJQLBZpBS1qjSqFwjipdGr9SWlsHTewm9ZmnngMKAaV9nBd+/bmdxSLRc6dnemm3+yZ06pcLvPGW2+yfWIn1ZpFEAQEvt95goCV1TXMXH4zAt4woaRF7RTAVylAUS6Xpdpsdjvk2VMnsSyHhuVEZTh+xgywBhwLfZIdKRfj7dWqPGFubq7T428ukslkaHttLNsZ9P3nwIfh+DhwS4EO9DA0zByBCE2n1fPxpQuznSCaX1js9nFp2pjbtqGhobQ0jUY9CbgALERah3IM+El1rNqTaqaph5W1uYGAFrfA5YvnyE9MoFBYtjMI/BXgQR/4pqVDZL3V9/cYrX+x7SnsXh/H5TLwW2iBQbVLNgn65CDsrSPOIJOXwmdQ4fRHrZilUqmXwNXrNzbbfxv4ArgFVBLeJ95oDEMHwHHcvvUcRqEwuBf0SSUEB9gfxsAgAkO1kcj/WvwKPaR8EhvPAUvRtdIMtR1FtBH37w8DEeChaehXw/xfAnzHcVOjEkhHrIe0Qlz7T8PuWLEd9+2w9KphgUUgQJ7JAgAPDT13NTrJyOYqIilrlEwQv/NPMTSByxfPIU37eCqtq2zWmPYDjbavaLYVdn2NuffPjqRJK2hRLBaHzoK+X7L1QE+nIFeYoFQqkTVMaTn2UOe1LWtwEJqGzqgRnS9M4Fb+3XBJGfSrFzW9dBw0icioJBzHzUXdMJM18APwWo6Kmy1O6X+V8UHDotBqogAAAABJRU5ErkJggg==");\n}\n',Os.a])}},{key:"css_classes",value:function(){return f()(m()(n.prototype),"css_classes",this).call(this).concat("bk-toolbar-button")}},{key:"render",value:function(){Object(te.l)(this.el);var t=this.model.computed_icon;Object(ct.j)(t)&&(Object(kt.b)(t,"data:image")?this.el.style.backgroundImage="url('"+t+"')":this.el.classList.add(t)),this.el.title=this.model.tooltip,null!=this._menu&&this.root.el.appendChild(this._menu.el)}},{key:"_pressed",value:function(){var t,e=this,n=this.el.getBoundingClientRect(),r=n.left,i=n.top,o=n.right,a=n.bottom,s=function(){switch(e.parent.model.toolbar_location){case"right":return{right:r,top:i};case"left":return{left:o,top:i};case"above":return{left:r,top:a};case"below":return{left:r,bottom:i}}}();null===(t=this._menu)||void 0===t||t.toggle(s)}}]),n}(xr.a);wu.__name__="ButtonToolButtonView";var xu=function(t){d()(n,t);var e=Au(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(mu);xu.__name__="ButtonToolView";var ku=function(t){d()(n,t);var e=Au(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"tooltip",get:function(){return this.tool_name}},{key:"computed_icon",get:function(){return this.icon}},{key:"menu",get:function(){return null}}],[{key:"init_ButtonTool",value:function(){this.internal({disabled:[b.i,!1]})}}]),n}(yu);function Cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ku.__name__="ButtonTool",ku.init_ButtonTool();var Eu=function(t){d()(n,t);var e=Cu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){f()(m()(n.prototype),"render",this).call(this),Object(te.g)(this.el).toggle(je.b,this.model.active)}},{key:"_clicked",value:function(){var t=this.model.active;this.model.active=!t}}]),n}(wu);function Su(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Eu.__name__="OnOffButtonView";var Ru=function(t){d()(n,t);var e=Su(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(xu);Ru.__name__="InspectToolView";var Tu=function(t){d()(n,t);var e=Su(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).event_type="move",r}return u()(n,null,[{key:"init_InspectTool",value:function(){this.prototype.button_view=Eu,this.define({toggleable:[b.i,!0]}),this.override({active:!0})}}]),n}(ku);function Iu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Tu.__name__="InspectTool",Tu.init_InspectTool();var Ou=function(t){d()(n,t);var e=Iu(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(xu);Ou.__name__="GestureToolView";var Mu=function(t){d()(n,t);var e=Iu(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).button_view=Eu,r}return n}(ku);Mu.__name__="GestureTool";var Pu=n(83),Du=n.n(Pu);function Nu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Lu=function(t){d()(n,t);var e=Nu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_clicked",value:function(){this.model.do.emit()}}]),n}(wu);Lu.__name__="ActionToolButtonView";var ju=function(t){d()(n,t);var e=Nu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.do,(function(){return t.doit()}))}}]),n}(xu);ju.__name__="ActionToolView";var Fu=function(t){d()(n,t);var e=Nu(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).button_view=Lu,r.do=new N.b(Du()(r),"do"),r}return n}(ku);Fu.__name__="ActionTool";function zu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Bu=function(t){d()(n,t);var e=zu(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){window.open(this.model.redirect)}}]),n}(ju);Bu.__name__="HelpToolView";var Uu=function(t){d()(n,t);var e=zu(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Help",r.icon="bk-tool-icon-help",r}return u()(n,[{key:"tooltip",get:function(){return this.help_tooltip}}],[{key:"init_HelpTool",value:function(){this.prototype.default_view=Bu,this.define({help_tooltip:[b.nb,"Click the question mark to learn more about Bokeh plot tools."],redirect:[b.nb,"https://docs.bokeh.org/en/latest/docs/user_guide/tools.html"]}),this.register_alias("help",(function(){return new n}))}}]),n}(Fu);Uu.__name__="HelpTool",Uu.init_HelpTool();var Gu=n(118);function Vu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Hu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Wu=function(t){d()(n,t);var e=qu(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"visible",get:function(){return!this.autohide||null!=this._visible&&this._visible}}],[{key:"init_ToolbarViewModel",value:function(){this.define({_visible:[b.e,null],autohide:[b.i,!1]})}}]),n}(G.a);Wu.__name__="ToolbarViewModel",Wu.init_ToolbarViewModel();var Yu=function(t){d()(i,t);var e,n,r=qu(i);function i(){return s()(this,i),r.apply(this,arguments)}return u()(i,[{key:"initialize",value:function(){f()(m()(i.prototype),"initialize",this).call(this),this._tool_button_views=new Map,this._toolbar_view_model=new Wu({autohide:this.model.autohide})}},{key:"lazy_initialize",value:(n=Me()(Ie.a.mark((function t(){return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._build_tool_button_views();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"connect_signals",value:function(){var t=this;f()(m()(i.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.tools.change,Me()(Ie.a.mark((function e(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._build_tool_button_views();case 2:t.render();case 3:case"end":return e.stop()}}),e)})))),this.connect(this.model.properties.autohide.change,(function(){t._toolbar_view_model.autohide=t.model.autohide,t._on_visible_change()})),this.connect(this._toolbar_view_model.properties._visible.change,(function(){return t._on_visible_change()}))}},{key:"styles",value:function(){return[].concat(U()(f()(m()(i.prototype),"styles",this).call(this)),[_u,Gu.a])}},{key:"remove",value:function(){Object(Pe.c)(this._tool_button_views),f()(m()(i.prototype),"remove",this).call(this)}},{key:"_build_tool_button_views",value:(e=Me()(Ie.a.mark((function t(){var e;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!=this.model._proxied_tools?this.model._proxied_tools:this.model.tools,t.next=3,Object(Pe.b)(this._tool_button_views,e,{parent:this},(function(t){return t.button_view}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"set_visibility",value:function(t){t!=this._toolbar_view_model._visible&&(this._toolbar_view_model._visible=t)}},{key:"_on_visible_change",value:function(){var t=this._toolbar_view_model.visible;this.el.classList.contains("bk-toolbar-hidden")&&t?this.el.classList.remove("bk-toolbar-hidden"):t||this.el.classList.add("bk-toolbar-hidden")}},{key:"render",value:function(){var t=this;if(Object(te.l)(this.el),this.el.classList.add("bk-toolbar"),this.el.classList.add(Object(je.h)(this.model.toolbar_location)),this._toolbar_view_model.autohide=this.model.autohide,this._on_visible_change(),null!=this.model.logo){var e="grey"===this.model.logo?"bk-grey":null,n=Object(te.b)({href:"https://bokeh.org/",target:"_blank",class:["bk-logo","bk-logo-small",e]});this.el.appendChild(n)}var r,i=Vu(this._tool_button_views);try{for(i.s();!(r=i.n()).done;){o()(r.value,2)[1].render()}}catch(t){i.e(t)}finally{i.f()}var a=[],s=function(e){return t._tool_button_views.get(e).el},l=this.model.gestures;for(var u in l)a.push(l[u].tools.map(s));a.push(this.model.actions.map(s)),a.push(this.model.inspectors.filter((function(t){return t.toggleable})).map(s));for(var c=0,f=a;c<f.length;c++){var h=f[c];if(0!==h.length){var d=Object(te.k)({class:"bk-button-bar"},h);this.el.appendChild(d)}}}},{key:"update_layout",value:function(){}},{key:"update_position",value:function(){}},{key:"after_layout",value:function(){this._has_finished=!0}}]),i}(xr.a);function Xu(){return{pan:{tools:[],active:null},scroll:{tools:[],active:null},pinch:{tools:[],active:null},tap:{tools:[],active:null},doubletap:{tools:[],active:null},press:{tools:[],active:null},pressup:{tools:[],active:null},rotate:{tools:[],active:null},move:{tools:[],active:null},multi:{tools:[],active:null}}}Yu.__name__="ToolbarBaseView";var $u=function(t){d()(n,t);var e=qu(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._init_tools()}},{key:"_init_tools",value:function(){var t=this,e=function(t,e){if(t.length!=e.length)return!0;var n=new Set(e.map((function(t){return t.id})));return Object(q.v)(t,(function(t){return!n.has(t.id)}))},n=this.tools.filter((function(t){return t instanceof Tu}));e(this.inspectors,n)&&(this.inspectors=n);var r=this.tools.filter((function(t){return t instanceof Uu}));e(this.help,r)&&(this.help=r);var i=this.tools.filter((function(t){return t instanceof Fu}));e(this.actions,i)&&(this.actions=i);var o,a=function(e,n){e in t.gestures||he.a.warn("Toolbar: unknown event type '".concat(e,"' for tool: ").concat(n))},s={pan:{tools:[],active:null},scroll:{tools:[],active:null},pinch:{tools:[],active:null},tap:{tools:[],active:null},doubletap:{tools:[],active:null},press:{tools:[],active:null},pressup:{tools:[],active:null},rotate:{tools:[],active:null},move:{tools:[],active:null},multi:{tools:[],active:null}},l=Vu(this.tools);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u instanceof Mu&&u.event_type)if(Object(ct.j)(u.event_type))s[u.event_type].tools.push(u),a(u.event_type,u);else{s.multi.tools.push(u);var c,f=Vu(u.event_type);try{for(f.s();!(c=f.n()).done;){a(c.value,u)}}catch(t){f.e(t)}finally{f.f()}}}}catch(t){l.e(t)}finally{l.f()}for(var h=function(){var n=p[d],r=t.gestures[n];e(r.tools,s[n].tools)&&(r.tools=s[n].tools),r.active&&Object(q.g)(r.tools,(function(t){return t.id!=r.active.id}))&&(r.active=null)},d=0,p=Object.keys(s);d<p.length;d++)h()}},{key:"_active_change",value:function(t){var e=t.event_type;if(null!=e){var n,r=Vu(Object(ct.j)(e)?[e]:e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.active){var o=this.gestures[i].active;null!=o&&t!=o&&(he.a.debug("Toolbar: deactivating tool: ".concat(o," for event type '").concat(i,"'")),o.active=!1),this.gestures[i].active=t,he.a.debug("Toolbar: activating tool: ".concat(t," for event type '").concat(i,"'"))}else this.gestures[i].active=null}}catch(t){r.e(t)}finally{r.f()}}}},{key:"horizontal",get:function(){return"above"===this.toolbar_location||"below"===this.toolbar_location}},{key:"vertical",get:function(){return"left"===this.toolbar_location||"right"===this.toolbar_location}}],[{key:"init_ToolbarBase",value:function(){this.prototype.default_view=Yu,this.define({tools:[b.g,[]],logo:[b.O,"normal"],autohide:[b.i,!1]}),this.internal({gestures:[b.e,Xu],actions:[b.g,[]],inspectors:[b.g,[]],help:[b.g,[]],toolbar_location:[b.N,"right"]})}}]),n}(G.a);function Ju(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ku(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ku(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}$u.__name__="ToolbarBase",$u.init_ToolbarBase();var Zu=function(t){switch(t){case"tap":return"active_tap";case"pan":return"active_drag";case"pinch":case"scroll":return"active_scroll";case"multi":return"active_multi"}return null},tc=function(t){return"tap"==t||"pan"==t},ec=function(t){d()(n,t);var e=Qu(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this);var e=this.properties,r=e.tools,i=e.active_drag,o=e.active_inspect,a=e.active_scroll,s=e.active_tap,l=e.active_multi;this.on_change([r,i,o,a,s,l],(function(){return t._init_tools()}))}},{key:"_init_tools",value:function(){var t=this;if(f()(m()(n.prototype),"_init_tools",this).call(this),"auto"==this.active_inspect);else if(this.active_inspect instanceof Tu){var e,r=!1,i=Ju(this.inspectors);try{for(i.s();!(e=i.n()).done;){var o=e.value;o!=this.active_inspect?o.active=!1:r=!0}}catch(t){i.e(t)}finally{i.f()}r||(this.active_inspect=null)}else if(Object(ct.a)(this.active_inspect)){var a=Object(q.l)(this.active_inspect,this.inspectors);a.length!=this.active_inspect.length&&(this.active_inspect=a);var s,l=Ju(this.inspectors);try{for(l.s();!(s=l.n()).done;){var u=s.value;Object(q.k)(this.active_inspect,u)||(u.active=!1)}}catch(t){l.e(t)}finally{l.f()}}else if(null==this.active_inspect){var c,h=Ju(this.inspectors);try{for(h.s();!(c=h.n()).done;){c.value.active=!1}}catch(t){h.e(t)}finally{h.f()}}var d=function(e){e.active?t._active_change(e):e.active=!0};for(var p in this.gestures){var v=this.gestures[p];v.tools=Object(q.w)(v.tools,(function(t){return t.default_order}));var g,y=Ju(v.tools);try{var _=function(){var e=g.value;t.connect(e.properties.active.change,(function(){return t._active_change(e)}))};for(y.s();!(g=y.n()).done;)_()}catch(t){y.e(t)}finally{y.f()}}for(var b in this.gestures){var A=Zu(b);if(A){var w=this[A];if("auto"==w){var x=this.gestures[b];0!=x.tools.length&&tc(b)&&d(x.tools[0])}else null!=w&&(Object(q.k)(this.tools,w)?d(w):this[A]=null)}}}}],[{key:"init_Toolbar",value:function(){this.prototype.default_view=Yu,this.define({active_drag:[b.e,"auto"],active_inspect:[b.e,"auto"],active_scroll:[b.e,"auto"],active_tap:[b.e,"auto"],active_multi:[b.e,null]})}}]),n}($u);ec.__name__="Toolbar",ec.init_Toolbar();var nc=n(33);
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */function rc(t){var e=getComputedStyle(t).fontSize;return null!=e?parseInt(e,10):null}function ic(t){var e,n=-t.deltaY;if(t.target instanceof HTMLElement)switch(t.deltaMode){case t.DOM_DELTA_LINE:n*=rc((e=t.target).offsetParent||document.body)||rc(e)||16;break;case t.DOM_DELTA_PAGE:n*=function(t){return t.clientHeight}(t.target)}return n}function oc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ac(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ac(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sc=function(){function t(e,n,r){var i=this;s()(this,t),this.plot_view=e,this.toolbar=n,this.hit_area=r,this.pan_start=new N.a(this,"pan:start"),this.pan=new N.a(this,"pan"),this.pan_end=new N.a(this,"pan:end"),this.pinch_start=new N.a(this,"pinch:start"),this.pinch=new N.a(this,"pinch"),this.pinch_end=new N.a(this,"pinch:end"),this.rotate_start=new N.a(this,"rotate:start"),this.rotate=new N.a(this,"rotate"),this.rotate_end=new N.a(this,"rotate:end"),this.tap=new N.a(this,"tap"),this.doubletap=new N.a(this,"doubletap"),this.press=new N.a(this,"press"),this.pressup=new N.a(this,"pressup"),this.move_enter=new N.a(this,"move:enter"),this.move=new N.a(this,"move"),this.move_exit=new N.a(this,"move:exit"),this.scroll=new N.a(this,"scroll"),this.keydown=new N.a(this,"keydown"),this.keyup=new N.a(this,"keyup"),this.hammer=new vu.a(this.hit_area,{touchAction:"auto",inputClass:vu.a.TouchMouseInput}),this._configure_hammerjs(),this.hit_area.addEventListener("mousemove",(function(t){return i._mouse_move(t)})),this.hit_area.addEventListener("mouseenter",(function(t){return i._mouse_enter(t)})),this.hit_area.addEventListener("mouseleave",(function(t){return i._mouse_exit(t)})),this.hit_area.addEventListener("contextmenu",(function(t){return i._context_menu(t)})),this.hit_area.addEventListener("wheel",(function(t){return i._mouse_wheel(t)})),document.addEventListener("keydown",this),document.addEventListener("keyup",this),this.menu=new bu([],{prevent_hide:function(t){return 2==t.button&&t.target==i.hit_area}}),this.hit_area.appendChild(this.menu.el)}return u()(t,[{key:"destroy",value:function(){this.menu.remove(),this.hammer.destroy(),document.removeEventListener("keydown",this),document.removeEventListener("keyup",this)}},{key:"handleEvent",value:function(t){"keydown"==t.type?this._key_down(t):"keyup"==t.type&&this._key_up(t)}},{key:"_configure_hammerjs",value:function(){var t=this;this.hammer.get("doubletap").recognizeWith("tap"),this.hammer.get("tap").requireFailure("doubletap"),this.hammer.get("doubletap").dropRequireFailure("tap"),this.hammer.on("doubletap",(function(e){return t._doubletap(e)})),this.hammer.on("tap",(function(e){return t._tap(e)})),this.hammer.on("press",(function(e){return t._press(e)})),this.hammer.on("pressup",(function(e){return t._pressup(e)})),this.hammer.get("pan").set({direction:vu.a.DIRECTION_ALL}),this.hammer.on("panstart",(function(e){return t._pan_start(e)})),this.hammer.on("pan",(function(e){return t._pan(e)})),this.hammer.on("panend",(function(e){return t._pan_end(e)})),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("pinchstart",(function(e){return t._pinch_start(e)})),this.hammer.on("pinch",(function(e){return t._pinch(e)})),this.hammer.on("pinchend",(function(e){return t._pinch_end(e)})),this.hammer.get("rotate").set({enable:!0}),this.hammer.on("rotatestart",(function(e){return t._rotate_start(e)})),this.hammer.on("rotate",(function(e){return t._rotate(e)})),this.hammer.on("rotateend",(function(e){return t._rotate_end(e)}))}},{key:"register_tool",value:function(t){var e=this,n=t.model.event_type;null!=n&&(Object(ct.j)(n)?this._register_tool(t,n):n.forEach((function(n,r){return e._register_tool(t,n,r<1)})))}},{key:"_register_tool",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t,i=r.model.id,o=function(t){return function(e){e.id==i&&t(e.e)}},a=function(t){return function(e){t(e.e)}};switch(e){case"pan":null!=r._pan_start&&r.connect(this.pan_start,o(r._pan_start.bind(r))),null!=r._pan&&r.connect(this.pan,o(r._pan.bind(r))),null!=r._pan_end&&r.connect(this.pan_end,o(r._pan_end.bind(r)));break;case"pinch":null!=r._pinch_start&&r.connect(this.pinch_start,o(r._pinch_start.bind(r))),null!=r._pinch&&r.connect(this.pinch,o(r._pinch.bind(r))),null!=r._pinch_end&&r.connect(this.pinch_end,o(r._pinch_end.bind(r)));break;case"rotate":null!=r._rotate_start&&r.connect(this.rotate_start,o(r._rotate_start.bind(r))),null!=r._rotate&&r.connect(this.rotate,o(r._rotate.bind(r))),null!=r._rotate_end&&r.connect(this.rotate_end,o(r._rotate_end.bind(r)));break;case"move":null!=r._move_enter&&r.connect(this.move_enter,o(r._move_enter.bind(r))),null!=r._move&&r.connect(this.move,o(r._move.bind(r))),null!=r._move_exit&&r.connect(this.move_exit,o(r._move_exit.bind(r)));break;case"tap":null!=r._tap&&r.connect(this.tap,o(r._tap.bind(r)));break;case"press":null!=r._press&&r.connect(this.press,o(r._press.bind(r))),null!=r._pressup&&r.connect(this.pressup,o(r._pressup.bind(r)));break;case"scroll":null!=r._scroll&&r.connect(this.scroll,o(r._scroll.bind(r)));break;default:throw new Error("unsupported event_type: ".concat(e))}n&&(null!=r._doubletap&&r.connect(this.doubletap,a(r._doubletap.bind(r))),null!=r._keydown&&r.connect(this.keydown,a(r._keydown.bind(r))),null!=r._keyup&&r.connect(this.keyup,a(r._keyup.bind(r))),ht.c&&null!=r._scroll&&"pinch"==e&&(he.a.debug("Registering scroll on touch screen"),r.connect(this.scroll,o(r._scroll.bind(r)))))}},{key:"_hit_test_renderers",value:function(t,e){var n,r=this.plot_view.get_renderer_views(),i=oc(Object(q.u)(r));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.model.level;if(("annotation"==a||"overlay"==a)&&null!=o.interactive_hit&&o.interactive_hit(t,e))return o}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"_hit_test_frame",value:function(t,e){return this.plot_view.frame.bbox.contains(t,e)}},{key:"_hit_test_canvas",value:function(t,e){return this.plot_view.layout.bbox.contains(t,e)}},{key:"_trigger",value:function(t,e,n){var r=this,i=this.toolbar.gestures,o=t.name.split(":")[0],a=this._hit_test_renderers(e.sx,e.sy),s=this._hit_test_canvas(e.sx,e.sy);switch(o){case"move":var l=i[o].active;null!=l&&this.trigger(t,e,l.id);var u=this.toolbar.inspectors.filter((function(t){return t.active})),c="default";null!=a?(c=a.cursor(e.sx,e.sy)||c,Object(q.m)(u)||(t=this.move_exit)):this._hit_test_frame(e.sx,e.sy)&&(Object(q.m)(u)||(c="crosshair")),this.plot_view.set_cursor(c),this.plot_view.set_toolbar_visibility(s),u.map((function(n){return r.trigger(t,e,n.id)}));break;case"tap":var f=n.target;if(null!=f&&f!=this.hit_area)return;null!=a&&null!=a.on_hit&&a.on_hit(e.sx,e.sy);var h=i[o].active;null!=h&&this.trigger(t,e,h.id);break;case"scroll":var d=i[ht.c?"pinch":"scroll"].active;null!=d&&(n.preventDefault(),n.stopPropagation(),this.trigger(t,e,d.id));break;case"pan":var p=i[o].active;null!=p&&(n.preventDefault(),this.trigger(t,e,p.id));break;default:var v=i[o].active;null!=v&&this.trigger(t,e,v.id)}this._trigger_bokeh_event(e)}},{key:"trigger",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.emit({id:n,e:e})}},{key:"_trigger_bokeh_event",value:function(t){var e=this,n=function(){var n=e.plot_view.frame.xscales.default,r=e.plot_view.frame.yscales.default,i=t.sx,o=t.sy,a=n.invert(i),s=r.invert(o);switch(t.type){case"wheel":return new nc.i(i,o,a,s,t.delta);case"mousemove":return new nc.h(i,o,a,s);case"mouseenter":return new nc.f(i,o,a,s);case"mouseleave":return new nc.g(i,o,a,s);case"tap":return new nc.w(i,o,a,s);case"doubletap":return new nc.b(i,o,a,s);case"press":return new nc.p(i,o,a,s);case"pressup":return new nc.q(i,o,a,s);case"pan":return new nc.j(i,o,a,s,t.deltaX,t.deltaY);case"panstart":return new nc.l(i,o,a,s);case"panend":return new nc.k(i,o,a,s);case"pinch":return new nc.m(i,o,a,s,t.scale);case"pinchstart":return new nc.o(i,o,a,s);case"pinchend":return new nc.n(i,o,a,s);case"rotate":return new nc.s(i,o,a,s,t.rotation);case"rotatestart":return new nc.u(i,o,a,s);case"rotateend":return new nc.t(i,o,a,s);default:return}}();null!=n&&this.plot_view.model.trigger_event(n)}},{key:"_get_sxy",value:function(t){var e=function(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}(t)?(0!=t.touches.length?t.touches:t.changedTouches)[0]:t,n=e.pageX,r=e.pageY,i=Object(te.s)(this.hit_area);return{sx:n-i.left,sy:r-i.top}}},{key:"_pan_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t.srcEvent)),{deltaX:t.deltaX,deltaY:t.deltaY,shiftKey:t.srcEvent.shiftKey,ctrlKey:t.srcEvent.ctrlKey})}},{key:"_pinch_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t.srcEvent)),{scale:t.scale,shiftKey:t.srcEvent.shiftKey,ctrlKey:t.srcEvent.ctrlKey})}},{key:"_rotate_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t.srcEvent)),{rotation:t.rotation,shiftKey:t.srcEvent.shiftKey,ctrlKey:t.srcEvent.ctrlKey})}},{key:"_tap_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t.srcEvent)),{shiftKey:t.srcEvent.shiftKey,ctrlKey:t.srcEvent.ctrlKey})}},{key:"_move_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t)),{shiftKey:t.shiftKey,ctrlKey:t.ctrlKey})}},{key:"_scroll_event",value:function(t){return Object.assign(Object.assign({type:t.type},this._get_sxy(t)),{delta:ic(t),shiftKey:t.shiftKey,ctrlKey:t.ctrlKey})}},{key:"_key_event",value:function(t){return{type:t.type,keyCode:t.keyCode}}},{key:"_pan_start",value:function(t){var e=this._pan_event(t);e.sx-=t.deltaX,e.sy-=t.deltaY,this._trigger(this.pan_start,e,t.srcEvent)}},{key:"_pan",value:function(t){this._trigger(this.pan,this._pan_event(t),t.srcEvent)}},{key:"_pan_end",value:function(t){this._trigger(this.pan_end,this._pan_event(t),t.srcEvent)}},{key:"_pinch_start",value:function(t){this._trigger(this.pinch_start,this._pinch_event(t),t.srcEvent)}},{key:"_pinch",value:function(t){this._trigger(this.pinch,this._pinch_event(t),t.srcEvent)}},{key:"_pinch_end",value:function(t){this._trigger(this.pinch_end,this._pinch_event(t),t.srcEvent)}},{key:"_rotate_start",value:function(t){this._trigger(this.rotate_start,this._rotate_event(t),t.srcEvent)}},{key:"_rotate",value:function(t){this._trigger(this.rotate,this._rotate_event(t),t.srcEvent)}},{key:"_rotate_end",value:function(t){this._trigger(this.rotate_end,this._rotate_event(t),t.srcEvent)}},{key:"_tap",value:function(t){this._trigger(this.tap,this._tap_event(t),t.srcEvent)}},{key:"_doubletap",value:function(t){var e=this._tap_event(t);this._trigger_bokeh_event(e),this.trigger(this.doubletap,e)}},{key:"_press",value:function(t){this._trigger(this.press,this._tap_event(t),t.srcEvent)}},{key:"_pressup",value:function(t){this._trigger(this.pressup,this._tap_event(t),t.srcEvent)}},{key:"_mouse_enter",value:function(t){this._trigger(this.move_enter,this._move_event(t),t)}},{key:"_mouse_move",value:function(t){this._trigger(this.move,this._move_event(t),t)}},{key:"_mouse_exit",value:function(t){this._trigger(this.move_exit,this._move_event(t),t)}},{key:"_mouse_wheel",value:function(t){this._trigger(this.scroll,this._scroll_event(t),t)}},{key:"_context_menu",value:function(t){!this.menu.is_open&&this.menu.can_open&&t.preventDefault();var e=this._get_sxy(t),n=e.sx,r=e.sy;this.menu.toggle({left:n,top:r})}},{key:"_key_down",value:function(t){this.trigger(this.keydown,this._key_event(t))}},{key:"_key_up",value:function(t){this.trigger(this.keyup,this._key_event(t))}}]),t}();sc.__name__="UIEvents";var lc=("undefined"!=typeof window?window.requestAnimationFrame:void 0)||("undefined"!=typeof window?window.webkitRequestAnimationFrame:void 0)||("undefined"!=typeof window?window.mozRequestAnimationFrame:void 0)||("undefined"!=typeof window?window.msRequestAnimationFrame:void 0)||function(t){return t(Date.now()),-1};var uc=n(74),cc=n(57),fc=n(53);function hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var dc=Math.PI/2,pc="left",vc="center",gc={above:{parallel:0,normal:-dc,horizontal:0,vertical:-dc},below:{parallel:0,normal:dc,horizontal:0,vertical:dc},left:{parallel:-dc,normal:0,horizontal:0,vertical:-dc},right:{parallel:dc,normal:0,horizontal:0,vertical:dc}},mc={above:{justified:"top",parallel:"alphabetic",normal:"middle",horizontal:"alphabetic",vertical:"middle"},below:{justified:"bottom",parallel:"hanging",normal:"middle",horizontal:"hanging",vertical:"middle"},left:{justified:"top",parallel:"alphabetic",normal:"middle",horizontal:"middle",vertical:"alphabetic"},right:{justified:"top",parallel:"alphabetic",normal:"middle",horizontal:"middle",vertical:"alphabetic"}},yc={above:{justified:vc,parallel:vc,normal:pc,horizontal:vc,vertical:pc},below:{justified:vc,parallel:vc,normal:pc,horizontal:vc,vertical:pc},left:{justified:vc,parallel:vc,normal:"right",horizontal:"right",vertical:vc},right:{justified:vc,parallel:vc,normal:pc,horizontal:pc,vertical:vc}},_c={above:"right",below:pc,left:"right",right:pc},bc={above:pc,below:"right",left:"right",right:pc},Ac=function(t){d()(n,t);var e=hc(n);function n(t,r){var i;switch(s()(this,n),(i=e.call(this)).side=t,i.obj=r,i.side){case"above":i._dim=0,i._normals=[0,-1];break;case"below":i._dim=0,i._normals=[0,1];break;case"left":i._dim=1,i._normals=[-1,0];break;case"right":i._dim=1,i._normals=[1,0]}return i.is_horizontal?i.set_sizing({width_policy:"max",height_policy:"fixed"}):i.set_sizing({width_policy:"fixed",height_policy:"max"}),i}return u()(n,[{key:"_content_size",value:function(){return new cc.a(this.get_oriented_size())}},{key:"get_oriented_size",value:function(){var t=this.obj.get_size(),e=t.width,n=t.height;return!this.obj.rotate||this.is_horizontal?{width:e,height:n}:{width:n,height:e}}},{key:"has_size_changed",value:function(){var t=this.get_oriented_size(),e=t.width,n=t.height;return this.is_horizontal?this.bbox.height!=n:this.bbox.width!=e}},{key:"apply_label_text_heuristics",value:function(t,e){var n,r,i=this.side;Object(ct.j)(e)?(n=mc[i][e],r=yc[i][e]):e<0?(n="middle",r=_c[i]):(n="middle",r=bc[i]),t.textBaseline=n,t.textAlign=r}},{key:"get_label_angle_heuristic",value:function(t){return gc[this.side][t]}},{key:"dimension",get:function(){return this._dim}},{key:"normals",get:function(){return this._normals}},{key:"is_horizontal",get:function(){return 0==this._dim}},{key:"is_vertical",get:function(){return 1==this._dim}}]),n}(fc.a);function wc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ac.__name__="SidePanel";var Cc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ec=function(t){d()(n,t);var e=kc(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).min_border={left:0,top:0,right:0,bottom:0},t}return u()(n,[{key:"_measure",value:function(t){var e=this;t=new Kr.e(t).bounded_to(this.sizing.size);var n,r,i,o=this.left_panel.measure({width:0,height:t.height}),a=Math.max(o.width,this.min_border.left),s=this.right_panel.measure({width:0,height:t.height}),l=Math.max(s.width,this.min_border.right),u=this.top_panel.measure({width:t.width,height:0}),c=Math.max(u.height,this.min_border.top),f=this.bottom_panel.measure({width:t.width,height:0}),h=Math.max(f.height,this.min_border.bottom),d=new Kr.e(t).shrink_by({left:a,right:l,top:c,bottom:h}),p=this.center_panel.measure(d);return{width:a+p.width+l,height:c+p.height+h,inner:{left:a,right:l,top:c,bottom:h},align:(n=e.center_panel.sizing,r=n.width_policy,i=n.height_policy,"fixed"!=r&&"fixed"!=i)}}},{key:"_set_geometry",value:function(t,e){f()(m()(n.prototype),"_set_geometry",this).call(this,t,e),this.center_panel.set_geometry(e);var r=this.left_panel.measure({width:0,height:t.height}),i=this.right_panel.measure({width:0,height:t.height}),o=this.top_panel.measure({width:t.width,height:0}),a=this.bottom_panel.measure({width:t.width,height:0}),s=e.left,l=e.top,u=e.right,c=e.bottom;this.top_panel.set_geometry(new L.a({left:s,right:u,bottom:l,height:o.height})),this.bottom_panel.set_geometry(new L.a({left:s,right:u,top:c,height:a.height})),this.left_panel.set_geometry(new L.a({top:l,bottom:c,right:s,width:r.width})),this.right_panel.set_geometry(new L.a({top:l,bottom:c,left:u,width:i.width}))}}]),n}(Kr.d);Ec.__name__="PlotLayout";var Sc=function(t){d()(a,t);var e,n,r,i=kc(a);function a(){var t;return s()(this,a),(t=i.apply(this,arguments))._outer_bbox=new L.a,t._inner_bbox=new L.a,t._needs_paint=!0,t._needs_layout=!1,t._invalidated_painters=new Set,t._invalidate_all=!0,t}return u()(a,[{key:"pause",value:function(){null==this._is_paused?this._is_paused=1:this._is_paused+=1}},{key:"unpause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==this._is_paused)throw new Error("wasn't paused");this._is_paused-=1,0!=this._is_paused||t||this.request_paint()}},{key:"request_render",value:function(){this.request_paint()}},{key:"request_paint",value:function(t){if(null!=t?this._invalidated_painters.add(t):this._invalidate_all=!0,!this.is_paused){var e=this.throttled_paint();this._ready=this._ready.then((function(){return e}))}}},{key:"request_layout",value:function(){this._needs_layout=!0,this.request_paint()}},{key:"reset",value:function(){"standard"==this.model.reset_policy&&(this.clear_state(),this.reset_range(),this.reset_selection()),this.model.trigger_event(new nc.r)}},{key:"remove",value:function(){this.ui_event_bus.destroy(),Object(Pe.c)(this.renderer_views),Object(Pe.c)(this.tool_views),this.canvas_view.remove(),f()(m()(a.prototype),"remove",this).call(this)}},{key:"render",value:function(){f()(m()(a.prototype),"render",this).call(this),this.el.appendChild(this.canvas_view.el),this.canvas_view.render()}},{key:"initialize",value:function(){var t=this;this.pause(),f()(m()(a.prototype),"initialize",this).call(this),this.state_changed=new N.b(this,"state_changed"),this.lod_started=!1,this.visuals=new y.b(this.model),this._initial_state_info={selection:new Map,dimensions:{width:0,height:0}},this.visibility_callbacks=[],this.state={history:[],index:-1};var e,n,r,i,o,s=this.model,l=s.hidpi,u=s.output_backend;this.canvas=new Ur({hidpi:l,output_backend:u}),this.frame=new Zr(this.model.x_scale,this.model.y_scale,this.model.x_range,this.model.y_range,this.model.extra_x_ranges,this.model.extra_y_ranges),this.throttled_paint=(e=function(){return t.repaint()},n=1e3/60,r=null,i=0,o=!1,function(){return new Promise((function(t,a){var s=function(){i=Date.now(),r=null,o=!1;try{e(),t()}catch(t){a(t)}},l=Date.now(),u=n-(l-i);u<=0&&!o?(null!=r&&clearTimeout(r),o=!0,lc(s)):r||o?t():r=setTimeout((function(){return lc(s)}),u)}))});var c=this.model,h=c.title_location,d=c.title;null!=h&&null!=d&&(this._title=d instanceof Re?d:new Re({text:d}));var p=this.model,v=p.toolbar_location,g=p.toolbar;null!=v&&null!=g&&(this._toolbar=new Le({toolbar:g}),g.toolbar_location=v),this.renderer_views=new Map,this.tool_views=new Map}},{key:"lazy_initialize",value:(r=Me()(Ie.a.mark((function t(){return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Pe.a)(this.canvas,{parent:this});case 2:return this.canvas_view=t.sent,this.ui_event_bus=new sc(this,this.model.toolbar,this.canvas_view.events_el),t.next=6,this.build_renderer_views();case 6:return t.next=8,this.build_tool_views();case 8:this.update_dataranges(),this.unpause(!0),he.a.debug("PlotView initialized");case 11:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_width_policy",value:function(){return null==this.model.frame_width?f()(m()(a.prototype),"_width_policy",this).call(this):"min"}},{key:"_height_policy",value:function(){return null==this.model.frame_height?f()(m()(a.prototype),"_height_policy",this).call(this):"min"}},{key:"_update_layout",value:function(){var t=this;this.layout=new Ec,this.layout.set_sizing(this.box_sizing());var e=this.model,n=e.frame_width,r=e.frame_height;this.layout.center_panel=this.frame,this.layout.center_panel.set_sizing(Object.assign(Object.assign({},null!=n?{width_policy:"fixed",width:n}:{width_policy:"fit"}),null!=r?{height_policy:"fixed",height:r}:{height_policy:"fit"}));var i=Object(q.d)(this.model.above),o=Object(q.d)(this.model.below),a=Object(q.d)(this.model.left),s=Object(q.d)(this.model.right),l=function(t){switch(t){case"above":return i;case"below":return o;case"left":return a;case"right":return s}},u=this.model,c=u.title_location,f=u.title;null!=c&&null!=f&&l(c).push(this._title);var h=this.model,d=h.toolbar_location,p=h.toolbar;if(null!=d&&null!=p){var v=l(d),g=!0;if(this.model.toolbar_sticky)for(var m=0;m<v.length;m++){var y=v[m];if(y instanceof Re){v[m]="above"==d||"below"==d?[y,this._toolbar]:[this._toolbar,y],g=!1;break}}g&&v.push(this._toolbar)}var _=function(e,n){var r=t.renderer_views.get(n);return r.layout=new Ac(e,r)},b=function(t,e){var n,r="above"==t||"below"==t,i=[],o=wc(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(Object(ct.a)(a)){var s=a.map((function(e){var n=_(t,e);if(e instanceof Le){var i=r?"width_policy":"height_policy";n.set_sizing(Object.assign(Object.assign({},n.sizing),du()({},i,"min")))}return n})),l=void 0;r?(l=new hs.c(s)).set_sizing({width_policy:"max",height_policy:"min"}):(l=new hs.a(s)).set_sizing({width_policy:"min",height_policy:"max"}),l.absolute=!0,i.push(l)}else i.push(_(t,a))}}catch(t){o.e(t)}finally{o.f()}return i},A=null!=this.model.min_border?this.model.min_border:0;this.layout.min_border={left:null!=this.model.min_border_left?this.model.min_border_left:A,top:null!=this.model.min_border_top?this.model.min_border_top:A,right:null!=this.model.min_border_right?this.model.min_border_right:A,bottom:null!=this.model.min_border_bottom?this.model.min_border_bottom:A};var w=new uc.b,x=new uc.b,k=new uc.a,C=new uc.a;w.children=Object(q.u)(b("above",i)),x.children=b("below",o),k.children=Object(q.u)(b("left",a)),C.children=b("right",s),w.set_sizing({width_policy:"fit",height_policy:"min"}),x.set_sizing({width_policy:"fit",height_policy:"min"}),k.set_sizing({width_policy:"min",height_policy:"fit"}),C.set_sizing({width_policy:"min",height_policy:"fit"}),this.layout.top_panel=w,this.layout.bottom_panel=x,this.layout.left_panel=k,this.layout.right_panel=C}},{key:"set_cursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.canvas_view.el.style.cursor=t}},{key:"set_toolbar_visibility",value:function(t){var e,n=wc(this.visibility_callbacks);try{for(n.s();!(e=n.n()).done;){(0,e.value)(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"update_dataranges",value:function(){var t,e=new Map,n=new Map,r=!1,i=wc(Object(xt.i)(this.frame.x_ranges).concat(Object(xt.i)(this.frame.y_ranges)));try{for(i.s();!(t=i.n()).done;){var a=t.value;a instanceof Jr&&"log"==a.scale_hint&&(r=!0)}}catch(t){i.e(t)}finally{i.f()}var s,l=wc(this.renderer_views);try{for(l.s();!(s=l.n()).done;){var u=o()(s.value,2),c=u[0],f=u[1];if(f instanceof Wr.b){var h=f.glyph.bounds();if(null!=h&&e.set(c,h),r){var d=f.glyph.log_bounds();null!=d&&n.set(c,d)}}}}catch(t){l.e(t)}finally{l.f()}var p,v=!1,g=!1,m=this.frame.bbox,y=m.width,_=m.height;!1!==this.model.match_aspect&&0!=y&&0!=_&&(p=1/this.model.aspect_scale*(y/_));var b,A=wc(Object(xt.i)(this.frame.x_ranges));try{for(A.s();!(b=A.n()).done;){var w=b.value;if(w instanceof Jr){var x="log"==w.scale_hint?n:e;w.update(x,0,this.model,p),w.follow&&(v=!0)}null!=w.bounds&&(g=!0)}}catch(t){A.e(t)}finally{A.f()}var k,C=wc(Object(xt.i)(this.frame.y_ranges));try{for(C.s();!(k=C.n()).done;){var E=k.value;if(E instanceof Jr){var S="log"==E.scale_hint?n:e;E.update(S,1,this.model,p),E.follow&&(v=!0)}null!=E.bounds&&(g=!0)}}catch(t){C.e(t)}finally{C.f()}if(v&&g){he.a.warn("Follow enabled so bounds are unset.");var R,T=wc(Object(xt.i)(this.frame.x_ranges));try{for(T.s();!(R=T.n()).done;){R.value.bounds=null}}catch(t){T.e(t)}finally{T.f()}var I,O=wc(Object(xt.i)(this.frame.y_ranges));try{for(O.s();!(I=O.n()).done;){I.value.bounds=null}}catch(t){O.e(t)}finally{O.f()}}this.range_update_timestamp=Date.now()}},{key:"map_to_screen",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";return this.frame.map_to_screen(t,e,n,r)}},{key:"push_state",value:function(t,e){var n=this.state,r=n.history,i=n.index,o=null!=r[i]?r[i].info:{},a=Object.assign(Object.assign(Object.assign({},this._initial_state_info),o),e);this.state.history=this.state.history.slice(0,this.state.index+1),this.state.history.push({type:t,info:a}),this.state.index=this.state.history.length-1,this.state_changed.emit()}},{key:"clear_state",value:function(){this.state={history:[],index:-1},this.state_changed.emit()}},{key:"can_undo",value:function(){return this.state.index>=0}},{key:"can_redo",value:function(){return this.state.index<this.state.history.length-1}},{key:"undo",value:function(){this.can_undo()&&(this.state.index-=1,this._do_state_change(this.state.index),this.state_changed.emit())}},{key:"redo",value:function(){this.can_redo()&&(this.state.index+=1,this._do_state_change(this.state.index),this.state_changed.emit())}},{key:"_do_state_change",value:function(t){var e=null!=this.state.history[t]?this.state.history[t].info:this._initial_state_info;null!=e.range&&this.update_range(e.range),null!=e.selection&&this.update_selection(e.selection)}},{key:"get_selection",value:function(){var t,e=new Map,n=wc(this.model.renderers);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof Wr.a){var i=r.data_source.selected;e.set(r,i)}}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"update_selection",value:function(t){var e,n=wc(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof Wr.a){var i=r.data_source;if(null!=t){var o=t.get(r);null!=o&&i.selected.update(o,!0)}else i.selection_manager.clear()}}}catch(t){n.e(t)}finally{n.f()}}},{key:"reset_selection",value:function(){this.update_selection(null)}},{key:"_update_ranges_together",value:function(t){var e,n=1,r=wc(t);try{for(r.s();!(e=r.n()).done;){var i=o()(e.value,2),a=i[0],s=i[1];n=Math.min(n,this._get_weight_to_constrain_interval(a,s))}}catch(t){r.e(t)}finally{r.f()}if(n<1){var l,u=wc(t);try{for(u.s();!(l=u.n()).done;){var c=o()(l.value,2),f=c[0],h=c[1];h.start=n*h.start+(1-n)*f.start,h.end=n*h.end+(1-n)*f.end}}catch(t){u.e(t)}finally{u.f()}}}},{key:"_update_ranges_individually",value:function(t,e,n,r){var i,a=!1,s=wc(t);try{for(s.s();!(i=s.n()).done;){var l=o()(i.value,2),u=l[0],c=l[1];if(!n){var f=this._get_weight_to_constrain_interval(u,c);f<1&&(c.start=f*c.start+(1-f)*u.start,c.end=f*c.end+(1-f)*u.end)}if(null!=u.bounds&&"auto"!=u.bounds){var h=o()(u.bounds,2),d=h[0],p=h[1],v=Math.abs(c.end-c.start);u.is_reversed?(null!=d&&d>=c.end&&(a=!0,c.end=d,(e||n)&&(c.start=d+v)),null!=p&&p<=c.start&&(a=!0,c.start=p,(e||n)&&(c.end=p-v))):(null!=d&&d>=c.start&&(a=!0,c.start=d,(e||n)&&(c.end=d+v)),null!=p&&p<=c.end&&(a=!0,c.end=p,(e||n)&&(c.start=p-v)))}}}catch(t){s.e(t)}finally{s.f()}if(!(n&&a&&r)){var g,m=wc(t);try{for(m.s();!(g=m.n()).done;){var y=o()(g.value,2),_=y[0],b=y[1];_.have_updated_interactively=!0,_.start==b.start&&_.end==b.end||_.setv(b)}}catch(t){m.e(t)}finally{m.f()}}}},{key:"_get_weight_to_constrain_interval",value:function(t,e){var n=t.min_interval,r=t.max_interval;if(null!=t.bounds&&"auto"!=t.bounds){var i=o()(t.bounds,2),a=i[0],s=i[1];if(null!=a&&null!=s){var l=Math.abs(s-a);r=null!=r?Math.min(r,l):l}}var u=1;if(null!=n||null!=r){var c=Math.abs(t.end-t.start),f=Math.abs(e.end-e.start);n>0&&f<n&&(u=(c-n)/(c-f)),r>0&&f>r&&(u=(r-c)/(f-c)),u=Math.max(0,Math.min(1,u))}return u}},{key:"update_range",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.pause();var i=this.frame,o=i.x_ranges,a=i.y_ranges;if(null==t){for(var s in o){var l=o[s];l.reset()}for(var u in a){var c=a[u];c.reset()}this.update_dataranges()}else{var f=[];for(var h in o){var d=o[h];f.push([d,t.xrs[h]])}for(var p in a){var v=a[p];f.push([v,t.yrs[p]])}n&&this._update_ranges_together(f),this._update_ranges_individually(f,e,n,r)}this.unpause()}},{key:"reset_range",value:function(){this.update_range(null)}},{key:"_invalidate_layout",value:function(){var t=this;(function(){var e,n=wc(t.model.side_panels);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.renderer_views.get(r).layout.has_size_changed())return!0}}catch(t){n.e(t)}finally{n.f()}return!1})()&&this.root.compute_layout()}},{key:"get_renderer_views",value:function(){var t=this;return this.computed_renderers.map((function(e){return t.renderer_views.get(e)}))}},{key:"build_renderer_views",value:(n=Me()(Ie.a.mark((function t(){var e,n,r,i,o,a,s,l,u,c,f,h;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.computed_renderers=[],n=this.model,r=n.above,i=n.below,o=n.left,a=n.right,s=n.center,l=n.renderers,(e=this.computed_renderers).push.apply(e,U()(r).concat(U()(i),U()(o),U()(a),U()(s),U()(l))),null!=this._title&&this.computed_renderers.push(this._title),null!=this._toolbar&&this.computed_renderers.push(this._toolbar),u=wc(this.model.toolbar.tools);try{for(u.s();!(c=u.n()).done;)null!=(h=c.value).overlay&&this.computed_renderers.push(h.overlay),(f=this.computed_renderers).push.apply(f,U()(h.synthetic_renderers))}catch(t){u.e(t)}finally{u.f()}return t.next=9,Object(Pe.b)(this.renderer_views,this.computed_renderers,{parent:this});case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"build_tool_views",value:(e=Me()(Ie.a.mark((function t(){var e,n=this;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.model.toolbar.tools,t.next=3,Object(Pe.b)(this.tool_views,e,{parent:this});case 3:t.sent.map((function(t){return n.ui_event_bus.register_tool(t)}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"connect_signals",value:function(){var t=this;f()(m()(a.prototype),"connect_signals",this).call(this);var e=this.frame,n=e.x_ranges,r=e.y_ranges;for(var i in n){var o=n[i];this.connect(o.change,(function(){t._needs_layout=!0,t.request_paint()}))}for(var s in r){var l=r[s];this.connect(l.change,(function(){t._needs_layout=!0,t.request_paint()}))}var u=this.model.properties,c=u.plot_width,h=u.plot_height;this.on_change([c,h],(function(){return t.invalidate_layout()}));var d=this.model.properties,p=d.above,v=d.below,g=d.left,y=d.right,_=d.center,b=d.renderers;this.on_change([p,v,g,y,_,b],Me()(Ie.a.mark((function e(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build_renderer_views();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),this.connect(this.model.toolbar.properties.tools.change,Me()(Ie.a.mark((function e(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build_renderer_views();case 2:return e.next=4,t.build_tool_views();case 4:case"end":return e.stop()}}),e)})))),this.connect(this.model.change,(function(){return t.request_paint()})),this.connect(this.model.reset,(function(){return t.reset()}))}},{key:"set_initial_range",value:function(){var t=!0,e=this.frame,n=e.x_ranges,r=e.y_ranges,i={},o={};for(var a in n){var s=n[a],l=s.start,u=s.end;if(null==l||null==u||isNaN(l+u)){t=!1;break}i[a]={start:l,end:u}}if(t)for(var c in r){var f=r[c],h=f.start,d=f.end;if(null==h||null==d||isNaN(h+d)){t=!1;break}o[c]={start:h,end:d}}t?(this._initial_state_info.range={xrs:i,yrs:o},he.a.debug("initial ranges set")):he.a.warn("could not set initial ranges")}},{key:"has_finished",value:function(){if(!f()(m()(a.prototype),"has_finished",this).call(this))return!1;var t,e=wc(this.renderer_views);try{for(e.s();!(t=e.n()).done;){if(!o()(t.value,2)[1].has_finished())return!1}}catch(t){e.e(t)}finally{e.f()}return!0}},{key:"after_layout",value:function(){if(f()(m()(a.prototype),"after_layout",this).call(this),this._needs_layout=!1,this.model.setv({inner_width:Math.round(this.frame._width.value),inner_height:Math.round(this.frame._height.value),outer_width:Math.round(this.layout._width.value),outer_height:Math.round(this.layout._height.value)},{no_change:!0}),!1!==this.model.match_aspect&&(this.pause(),this.update_dataranges(),this.unpause(!0)),!this._outer_bbox.equals(this.layout.bbox)){var t=this.layout.bbox,e=t.width,n=t.height;this.canvas_view.resize(e,n),this._outer_bbox=this.layout.bbox,this._invalidate_all=!0,this._needs_paint=!0}this._inner_bbox.equals(this.frame.inner_bbox)||(this._inner_bbox=this.layout.inner_bbox,this._needs_paint=!0),this._needs_paint&&(this._needs_paint=!1,this.paint())}},{key:"repaint",value:function(){this._needs_layout&&this._invalidate_layout(),this.paint()}},{key:"paint",value:function(){var t=this;if(!this.is_paused){he.a.trace("PlotView.paint() for ".concat(this.model.id));var e=this.model.document;if(null!=e){var n=e.interactive_duration();n>=0&&n<this.model.lod_interval?setTimeout((function(){e.interactive_duration()>t.model.lod_timeout&&e.interactive_stop(t.model),t.request_paint()}),this.model.lod_timeout):e.interactive_stop(this.model)}var r,i=wc(this.renderer_views);try{for(i.s();!(r=i.n()).done;){var a=o()(r.value,2)[1];if(null==this.range_update_timestamp||a instanceof Wr.b&&a.set_data_timestamp>this.range_update_timestamp){this.update_dataranges();break}}}catch(t){i.e(t)}finally{i.f()}var s=!1,l=!1;if(this._invalidate_all)s=!0,l=!0;else{var u,c=wc(this._invalidated_painters);try{for(c.s();!(u=c.n()).done;){if("overlay"!=u.value.model.level?s=!0:l=!0,s&&l)break}}catch(t){c.e(t)}finally{c.f()}}this._invalidated_painters.clear(),this._invalidate_all=!1;var f=[this.frame._left.value,this.frame._top.value,this.frame._width.value,this.frame._height.value],h=this.canvas_view,d=h.primary,p=h.overlays;s&&(d.prepare(),this.canvas_view.prepare_webgl(f),this.canvas_view.clear_webgl(),this._map_hook(d.ctx,f),this._paint_empty(d.ctx,f),this._paint_outline(d.ctx,f),this._paint_levels(d.ctx,"image",f,!0),this._paint_levels(d.ctx,"underlay",f,!0),this._paint_levels(d.ctx,"glyph",f,!0),this._paint_levels(d.ctx,"guide",f,!1),this._paint_levels(d.ctx,"annotation",f,!1),d.finish()),l&&(p.prepare(),this._paint_levels(p.ctx,"overlay",f,!1),p.finish()),null==this._initial_state_info.range&&this.set_initial_range()}}},{key:"_paint_levels",value:function(t,e,n,r){var i,o=wc(this.computed_renderers);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.level==e){var s=this.renderer_views.get(a);t.save(),(r||s.needs_clip)&&(t.beginPath(),t.rect.apply(t,U()(n)),t.clip()),s.render(),t.restore(),s.has_webgl&&(this.canvas_view.blit_webgl(t),this.canvas_view.clear_webgl())}}}catch(t){o.e(t)}finally{o.f()}}},{key:"_map_hook",value:function(t,e){}},{key:"_paint_empty",value:function(t,e){var n=[0,0,this.layout._width.value,this.layout._height.value],r=n[0],i=n[1],a=n[2],s=n[3],l=o()(e,4),u=l[0],c=l[1],f=l[2],h=l[3];this.visuals.border_fill.doit&&(this.visuals.border_fill.set_value(t),t.fillRect(r,i,a,s),t.clearRect(u,c,f,h)),this.visuals.background_fill.doit&&(this.visuals.background_fill.set_value(t),t.fillRect(u,c,f,h))}},{key:"_paint_outline",value:function(t,e){if(this.visuals.outline_line.doit){t.save(),this.visuals.outline_line.set_value(t);var n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3];r+a==this.layout._width.value&&(a-=1),i+s==this.layout._height.value&&(s-=1),t.strokeRect(r,i,a,s),t.restore()}}},{key:"save",value:function(t){this.canvas_view.save(t)}},{key:"serializable_state",value:function(){var t=f()(m()(a.prototype),"serializable_state",this).call(this),e=t.children,n=Cc(t,["children"]),r=this.get_renderer_views().map((function(t){return t.serializable_state()})).filter((function(t){return"bbox"in t}));return Object.assign(Object.assign({},n),{children:[].concat(U()(e),U()(r))})}},{key:"is_paused",get:function(){return null!=this._is_paused&&0!==this._is_paused}},{key:"child_models",get:function(){return[]}},{key:"axis_views",get:function(){var t,e=[],n=wc(this.renderer_views);try{for(n.s();!(t=n.n()).done;){var r=o()(t.value,2)[1];r instanceof tn&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}return e}}]),a}(ls.b);function Rc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Tc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ic(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Sc.__name__="PlotView";var Oc=function(t){d()(n,t);var e=Ic(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_doc_attached",value:function(){f()(m()(n.prototype),"_doc_attached",this).call(this),this._push_changes([[this.properties.inner_height,null,this.inner_height],[this.properties.inner_width,null,this.inner_width]])}},{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.reset=new N.b(this,"reset");var t,e=Rc(Object(xt.i)(this.extra_x_ranges).concat(this.x_range));try{for(e.s();!(t=e.n()).done;){var r=t.value,i=r.plots;Object(ct.a)(i)&&(i=i.concat(this),r.setv({plots:i},{silent:!0}))}}catch(t){e.e(t)}finally{e.f()}var o,a=Rc(Object(xt.i)(this.extra_y_ranges).concat(this.y_range));try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.plots;Object(ct.a)(l)&&(l=l.concat(this),s.setv({plots:l},{silent:!0}))}}catch(t){a.e(t)}finally{a.f()}}},{key:"add_layout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=this.properties[e].get_value();this.setv(du()({},e,[].concat(U()(n),[t])))}},{key:"remove_layout",value:function(t){var e=function(e){Object(q.s)(e,(function(e){return e==t}))};e(this.left),e(this.right),e(this.above),e(this.below),e(this.center)}},{key:"add_renderers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.renderers=this.renderers.concat(e)}},{key:"add_glyph",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new S.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign(Object.assign({},n),{data_source:e,glyph:t}),i=new Wr.a(r);return this.add_renderers(i),i}},{key:"add_tools",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.toolbar.tools=this.toolbar.tools.concat(e)}},{key:"width",get:function(){var t=this.properties.width.get_value();return null!=t?t:this.plot_width},set:function(t){this.setv({width:t,plot_width:t})}},{key:"height",get:function(){var t=this.properties.height.get_value();return null!=t?t:this.plot_height},set:function(t){this.setv({height:t,plot_height:t})}},{key:"panels",get:function(){return[].concat(U()(this.side_panels),U()(this.center))}},{key:"side_panels",get:function(){var t=this.above,e=this.below,n=this.left,r=this.right;return Object(q.b)([t,e,n,r])}}],[{key:"init_Plot",value:function(){this.prototype.default_view=Sc,this.mixins([["outline_",_.e],["background_",_.a],["border_",_.a]]),this.define({toolbar:[b.F,function(){return new ec}],toolbar_location:[b.N,"right"],toolbar_sticky:[b.i,!0],plot_width:[b.V,600],plot_height:[b.V,600],frame_width:[b.V,null],frame_height:[b.V,null],title:[b.e,function(){return new Re({text:""})}],title_location:[b.N,"above"],above:[b.g,[]],below:[b.g,[]],left:[b.g,[]],right:[b.g,[]],center:[b.g,[]],renderers:[b.g,[]],x_range:[b.F,function(){return new Jr}],extra_x_ranges:[b.e,{}],y_range:[b.F,function(){return new Jr}],extra_y_ranges:[b.e,{}],x_scale:[b.F,function(){return new Vt}],y_scale:[b.F,function(){return new Vt}],lod_factor:[b.V,10],lod_interval:[b.V,300],lod_threshold:[b.V,2e3],lod_timeout:[b.V,500],hidpi:[b.i,!0],output_backend:[b.Z,"canvas"],min_border:[b.V,5],min_border_top:[b.V,null],min_border_left:[b.V,null],min_border_bottom:[b.V,null],min_border_right:[b.V,null],inner_width:[b.V],inner_height:[b.V],outer_width:[b.V],outer_height:[b.V],match_aspect:[b.i,!1],aspect_scale:[b.V,1],reset_policy:[b.gb,"standard"]}),this.override({outline_line_color:"#e5e5e5",border_fill_color:"#ffffff",background_fill_color:"#ffffff"})}}]),n}(ls.a);function Mc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Oc.__name__="Plot",Oc.init_Plot();var Pc=new N.b({},"gmaps_ready"),Dc=function(t){d()(n,t);var e=Mc(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){var t=this;this.pause(),f()(m()(n.prototype),"initialize",this).call(this),this._tiles_loaded=!1,this.zoom_count=0;var e=this.model.map_options,r=e.zoom,i=e.lat,o=e.lng;if(this.initial_zoom=r,this.initial_lat=i,this.initial_lng=o,"undefined"==typeof google||null==google.maps){if(void 0===window._bokeh_gmaps_callback)!function(t){window._bokeh_gmaps_callback=function(){return Pc.emit()};var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?v=3.36&key=".concat(t,"&callback=_bokeh_gmaps_callback"),document.body.appendChild(e)}(atob(this.model.api_key));Pc.connect((function(){return t.request_render()}))}this.unpause()}},{key:"remove",value:function(){Object(te.z)(this.map_el),f()(m()(n.prototype),"remove",this).call(this)}},{key:"update_range",value:function(t){if(null==t)this.map.setCenter({lat:this.initial_lat,lng:this.initial_lng}),this.map.setOptions({zoom:this.initial_zoom}),f()(m()(n.prototype),"update_range",this).call(this,null);else if(null!=t.sdx||null!=t.sdy)this.map.panBy(t.sdx||0,t.sdy||0),f()(m()(n.prototype),"update_range",this).call(this,t);else if(null!=t.factor){if(10!==this.zoom_count)return void(this.zoom_count+=1);this.zoom_count=0,this.pause(),f()(m()(n.prototype),"update_range",this).call(this,t);var e=t.factor<0?-1:1,r=this.map.getZoom(),i=r+e;if(i>=2){this.map.setZoom(i);var a=this._get_projected_bounds(),s=o()(a,3),l=s[0];s[1]-l<0&&this.map.setZoom(r)}this.unpause()}this._set_bokeh_ranges()}},{key:"_build_map",value:function(){var t=this,e=google.maps;this.map_types={satellite:e.MapTypeId.SATELLITE,terrain:e.MapTypeId.TERRAIN,roadmap:e.MapTypeId.ROADMAP,hybrid:e.MapTypeId.HYBRID};var n=this.model.map_options,r={center:new e.LatLng(n.lat,n.lng),zoom:n.zoom,disableDefaultUI:!0,mapTypeId:this.map_types[n.map_type],scaleControl:n.scale_control,tilt:n.tilt};null!=n.styles&&(r.styles=JSON.parse(n.styles)),this.map_el=Object(te.k)({style:{position:"absolute"}}),this.canvas_view.add_underlay(this.map_el),this.map=new e.Map(this.map_el,r),e.event.addListener(this.map,"idle",(function(){return t._set_bokeh_ranges()})),e.event.addListener(this.map,"bounds_changed",(function(){return t._set_bokeh_ranges()})),e.event.addListenerOnce(this.map,"tilesloaded",(function(){return t._render_finished()})),this.connect(this.model.properties.map_options.change,(function(){return t._update_options()})),this.connect(this.model.map_options.properties.styles.change,(function(){return t._update_styles()})),this.connect(this.model.map_options.properties.lat.change,(function(){return t._update_center("lat")})),this.connect(this.model.map_options.properties.lng.change,(function(){return t._update_center("lng")})),this.connect(this.model.map_options.properties.zoom.change,(function(){return t._update_zoom()})),this.connect(this.model.map_options.properties.map_type.change,(function(){return t._update_map_type()})),this.connect(this.model.map_options.properties.scale_control.change,(function(){return t._update_scale_control()})),this.connect(this.model.map_options.properties.tilt.change,(function(){return t._update_tilt()}))}},{key:"_render_finished",value:function(){this._tiles_loaded=!0,this.notify_finished()}},{key:"has_finished",value:function(){return f()(m()(n.prototype),"has_finished",this).call(this)&&!0===this._tiles_loaded}},{key:"_get_latlon_bounds",value:function(){var t=this.map.getBounds(),e=t.getNorthEast(),n=t.getSouthWest();return[n.lng(),e.lng(),n.lat(),e.lat()]}},{key:"_get_projected_bounds",value:function(){var t=this._get_latlon_bounds(),e=o()(t,4),n=e[0],r=e[1],i=e[2],a=e[3],s=ir.e.forward([n,i]),l=o()(s,2),u=l[0],c=l[1],f=ir.e.forward([r,a]),h=o()(f,2);return[u,h[0],c,h[1]]}},{key:"_set_bokeh_ranges",value:function(){var t=this._get_projected_bounds(),e=o()(t,4),n=e[0],r=e[1],i=e[2],a=e[3];this.frame.x_range.setv({start:n,end:r}),this.frame.y_range.setv({start:i,end:a})}},{key:"_update_center",value:function(t){var e=this.map.getCenter().toJSON();e[t]=this.model.map_options[t],this.map.setCenter(e),this._set_bokeh_ranges()}},{key:"_update_map_type",value:function(){this.map.setOptions({mapTypeId:this.map_types[this.model.map_options.map_type]})}},{key:"_update_scale_control",value:function(){this.map.setOptions({scaleControl:this.model.map_options.scale_control})}},{key:"_update_tilt",value:function(){this.map.setOptions({tilt:this.model.map_options.tilt})}},{key:"_update_options",value:function(){this._update_styles(),this._update_center("lat"),this._update_center("lng"),this._update_zoom(),this._update_map_type()}},{key:"_update_styles",value:function(){this.map.setOptions({styles:JSON.parse(this.model.map_options.styles)})}},{key:"_update_zoom",value:function(){this.map.setOptions({zoom:this.model.map_options.zoom}),this._set_bokeh_ranges()}},{key:"_map_hook",value:function(t,e){if(null==this.map&&"undefined"!=typeof google&&null!=google.maps&&this._build_map(),null!=this.map_el){var n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3];this.map_el.style.top="".concat(i,"px"),this.map_el.style.left="".concat(r,"px"),this.map_el.style.width="".concat(a,"px"),this.map_el.style.height="".concat(s,"px")}}},{key:"_paint_empty",value:function(t,e){var n=this.layout._width.value,r=this.layout._height.value,i=o()(e,4),a=i[0],s=i[1],l=i[2],u=i[3];t.clearRect(0,0,n,r),t.beginPath(),t.moveTo(0,0),t.lineTo(0,r),t.lineTo(n,r),t.lineTo(n,0),t.lineTo(0,0),t.moveTo(a,s),t.lineTo(a+l,s),t.lineTo(a+l,s+u),t.lineTo(a,s+u),t.lineTo(a,s),t.closePath(),null!=this.model.border_fill_color&&(t.fillStyle=this.model.border_fill_color,t.fill())}}]),n}(Sc);function Nc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Dc.__name__="GMapPlotView";var Lc=function(t){d()(n,t);var e=Nc(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_MapOptions",value:function(){this.define({lat:[b.V],lng:[b.V],zoom:[b.V,12]})}}]),n}(G.a);Lc.__name__="MapOptions",Lc.init_MapOptions();var jc=function(t){d()(n,t);var e=Nc(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_GMapOptions",value:function(){this.define({map_type:[b.nb,"roadmap"],scale_control:[b.i,!1],styles:[b.nb],tilt:[b.G,45]})}}]),n}(Lc);jc.__name__="GMapOptions",jc.init_GMapOptions();var Fc=function(t){d()(n,t);var e=Nc(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.use_map=!0,this.api_key||he.a.error("api_key is required. See https://developers.google.com/maps/documentation/javascript/get-api-key for more information on how to obtain your own.")}}],[{key:"init_GMapPlot",value:function(){this.prototype.default_view=Dc,this.define({map_options:[b.F],api_key:[b.nb]}),this.override({x_range:function(){return new Xt},y_range:function(){return new Xt}})}}]),n}(Oc);Fc.__name__="GMapPlot",Fc.init_GMapPlot();var zc=n(70),Bc=n(113);function Uc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Hc=function(t){d()(n,t);var e=Vc(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_column",value:function(t){var e=this.data[t];return null!=e?e:[]}},{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.setup()}},{key:"load_data",value:function(t,e,n){var r,i=this.adapter;switch(r=null!=i?i.execute(this,{response:t}):t,e){case"replace":this.data=r;break;case"append":var o,a=this.data,s=Uc(this.columns());try{for(s.s();!(o=s.n()).done;){var l=o.value,u=Array.from(a[l]),c=Array.from(r[l]);r[l]=u.concat(c).slice(-n)}}catch(t){s.e(t)}finally{s.f()}this.data=r}}}],[{key:"init_WebDataSource",value:function(){this.define({mode:[b.wb,"replace"],max_size:[b.V],adapter:[b.e,null],data_url:[b.nb]})}}]),n}(S.a);function qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Hc.__name__="WebDataSource",Hc.init_WebDataSource();var Wc=function(t){d()(n,t);var e=qc(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).initialized=!1,r}return u()(n,[{key:"destroy",value:function(){f()(m()(n.prototype),"destroy",this).call(this)}},{key:"setup",value:function(){var t=this;this.initialized||(this.initialized=!0,new EventSource(this.data_url).onmessage=function(e){t.load_data(JSON.parse(e.data),t.mode,t.max_size)})}}]),n}(Hc);function Yc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Wc.__name__="ServerSentDataSource";var Xc=function(t){d()(n,t);var e=Yc(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).initialized=!1,r}return u()(n,[{key:"destroy",value:function(){null!=this.interval&&clearInterval(this.interval),f()(m()(n.prototype),"destroy",this).call(this)}},{key:"setup",value:function(){var t=this;if(!this.initialized&&(this.initialized=!0,this.get_data(this.mode),this.polling_interval)){this.interval=setInterval((function(){return t.get_data(t.mode,t.max_size,t.if_modified)}),this.polling_interval)}}},{key:"get_data",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.prepare_request();r.addEventListener("load",(function(){return e.do_load(r,t,n)})),r.addEventListener("error",(function(){return e.do_error(r)})),r.send()}},{key:"prepare_request",value:function(){var t=new XMLHttpRequest;t.open(this.method,this.data_url,!0),t.withCredentials=!1,t.setRequestHeader("Content-Type",this.content_type);var e=this.http_headers;for(var n in e){var r=e[n];t.setRequestHeader(n,r)}return t}},{key:"do_load",value:function(t,e,n){if(200===t.status){var r=JSON.parse(t.responseText);this.load_data(r,e,n)}}},{key:"do_error",value:function(t){he.a.error("Failed to fetch JSON from ".concat(this.data_url," with code ").concat(t.status))}}],[{key:"init_AjaxDataSource",value:function(){this.define({polling_interval:[b.V],content_type:[b.nb,"application/json"],http_headers:[b.e,{}],method:[b.B,"POST"],if_modified:[b.i,!1]})}}]),n}(Hc);Xc.__name__="AjaxDataSource",Xc.init_AjaxDataSource();var $c=n(89),Jc=n(109);function Kc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function tf(t){return null!=t?t:NaN}var ef=function(t){d()(n,t);var e=Zc(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._update_data()}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.properties.geojson.change,(function(){return t._update_data()}))}},{key:"_update_data",value:function(){this.data=this.geojson_to_column_data()}},{key:"_get_new_list_array",value:function(t){return Object(q.q)(0,t).map((function(t){return[]}))}},{key:"_get_new_nan_array",value:function(t){return Object(q.q)(0,t).map((function(t){return NaN}))}},{key:"_add_properties",value:function(t,e,n,r){var i=t.properties||{};for(var o in i)e.hasOwnProperty(o)||(e[o]=this._get_new_nan_array(r)),e[o][n]=tf(i[o])}},{key:"_add_geometry",value:function(t,e,n){function r(t,e){return t.concat([[NaN,NaN,NaN]]).concat(e)}switch(t.type){case"Point":var i=o()(t.coordinates,3),a=i[0],s=i[1],l=i[2];e.x[n]=a,e.y[n]=s,e.z[n]=tf(l);break;case"LineString":for(var u=t.coordinates,c=0;c<u.length;c++){var f=o()(u[c],3),h=f[0],d=f[1],p=f[2];e.xs[n][c]=h,e.ys[n][c]=d,e.zs[n][c]=tf(p)}break;case"Polygon":t.coordinates.length>1&&he.a.warn("Bokeh does not support Polygons with holes in, only exterior ring used.");for(var v=t.coordinates[0],g=0;g<v.length;g++){var m=o()(v[g],3),y=m[0],_=m[1],b=m[2];e.xs[n][g]=y,e.ys[n][g]=_,e.zs[n][g]=tf(b)}break;case"MultiPoint":he.a.warn("MultiPoint not supported in Bokeh");break;case"MultiLineString":for(var A=t.coordinates.reduce(r),w=0;w<A.length;w++){var x=o()(A[w],3),k=x[0],C=x[1],E=x[2];e.xs[n][w]=k,e.ys[n][w]=C,e.zs[n][w]=tf(E)}break;case"MultiPolygon":var S,R=[],T=Kc(t.coordinates);try{for(T.s();!(S=T.n()).done;){var I=S.value;I.length>1&&he.a.warn("Bokeh does not support Polygons with holes in, only exterior ring used."),R.push(I[0])}}catch(t){T.e(t)}finally{T.f()}for(var O=R.reduce(r),M=0;M<O.length;M++){var P=o()(O[M],3),D=P[0],N=P[1],L=P[2];e.xs[n][M]=D,e.ys[n][M]=N,e.zs[n][M]=tf(L)}break;default:throw new Error("Invalid GeoJSON geometry type: ".concat(t.type))}}},{key:"geojson_to_column_data",value:function(){var t,e=JSON.parse(this.geojson);switch(e.type){case"GeometryCollection":if(null==e.geometries)throw new Error("No geometries found in GeometryCollection");if(0===e.geometries.length)throw new Error("geojson.geometries must have one or more items");t=e.geometries;break;case"FeatureCollection":if(null==e.features)throw new Error("No features found in FeaturesCollection");if(0==e.features.length)throw new Error("geojson.features must have one or more items");t=e.features;break;default:throw new Error("Bokeh only supports type GeometryCollection and FeatureCollection at top level")}var n,r=0,i=Kc(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a="Feature"===o.type?o.geometry:o;"GeometryCollection"==a.type?r+=a.geometries.length:r+=1}}catch(t){i.e(t)}finally{i.f()}var s,l={x:this._get_new_nan_array(r),y:this._get_new_nan_array(r),z:this._get_new_nan_array(r),xs:this._get_new_list_array(r),ys:this._get_new_list_array(r),zs:this._get_new_list_array(r)},u=0,c=Kc(t);try{for(c.s();!(s=c.n()).done;){var f=s.value,h="Feature"==f.type?f.geometry:f;if("GeometryCollection"==h.type){var d,p=Kc(h.geometries);try{for(p.s();!(d=p.n()).done;){var v=d.value;this._add_geometry(v,l,u),"Feature"===f.type&&this._add_properties(f,l,u,r),u+=1}}catch(t){p.e(t)}finally{p.f()}}else this._add_geometry(h,l,u),"Feature"===f.type&&this._add_properties(f,l,u,r),u+=1}}catch(t){c.e(t)}finally{c.f()}return l}}],[{key:"init_GeoJSONDataSource",value:function(){this.define({geojson:[b.e]}),this.internal({data:[b.e,{}]})}}]),n}(fe.a);function nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ef.__name__="GeoJSONDataSource",ef.init_GeoJSONDataSource();var rf=function(t){d()(n,t);var e=nf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).min_interval=0,r.max_interval=0,r}return u()(n,[{key:"get_ticks_no_defaults",value:function(t,e,n,r){return{major:this.ticks,minor:this.minor_ticks}}},{key:"get_interval",value:function(t,e,n){return 0}}],[{key:"init_FixedTicker",value:function(){this.define({ticks:[b.g,[]],minor_ticks:[b.g,[]]})}}]),n}($);function of(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return af(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function af(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}rf.__name__="FixedTicker",rf.init_FixedTicker();var lf=function(t){d()(n,t);var e=sf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.tiles=new Map,this._normalize_case()}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.change,(function(){return t._clear_cache()}))}},{key:"string_lookup_replace",value:function(t,e){var n,r=t,i=of(Object(xt.b)(e));try{for(i.s();!(n=i.n()).done;){var a=o()(n.value,2),s=a[0],l=a[1];r=r.replace("{".concat(s,"}"),l)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"_normalize_case",value:function(){var t=this.url.replace("{x}","{X}").replace("{y}","{Y}").replace("{z}","{Z}").replace("{q}","{Q}").replace("{xmin}","{XMIN}").replace("{ymin}","{YMIN}").replace("{xmax}","{XMAX}").replace("{ymax}","{YMAX}");this.url=t}},{key:"_clear_cache",value:function(){this.tiles=new Map}},{key:"tile_xyz_to_key",value:function(t,e,n){return"".concat(t,":").concat(e,":").concat(n)}},{key:"key_to_tile_xyz",value:function(t){var e=t.split(":").map((function(t){return parseInt(t)})),n=o()(e,3);return[n[0],n[1],n[2]]}},{key:"sort_tiles_from_center",value:function(t,e){var n=o()(e,4),r=n[0],i=n[1],a=n[2],s=n[3],l=(a-r)/2+r,u=(s-i)/2+i;t.sort((function(t,e){return Math.sqrt(Math.pow(l-t[0],2)+Math.pow(u-t[1],2))-Math.sqrt(Math.pow(l-e[0],2)+Math.pow(u-e[1],2))}))}},{key:"get_image_url",value:function(t,e,n){return this.string_lookup_replace(this.url,this.extra_url_vars).replace("{X}",t.toString()).replace("{Y}",e.toString()).replace("{Z}",n.toString())}}],[{key:"init_TileSource",value:function(){this.define({url:[b.nb,""],tile_size:[b.V,256],max_zoom:[b.V,30],min_zoom:[b.V,0],extra_url_vars:[b.e,{}],attribution:[b.nb,""],x_origin_offset:[b.V],y_origin_offset:[b.V],initial_resolution:[b.V]})}}]),n}(G.a);function uf(t,e){return ir.e.inverse([t,e])}function cf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ff(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ff(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ff(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}lf.__name__="TileSource",lf.init_TileSource();var df=function(t){d()(n,t);var e=hf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){var t=this;f()(m()(n.prototype),"initialize",this).call(this),this._resolutions=Object(q.q)(this.min_zoom,this.max_zoom+1).map((function(e){return t.get_resolution(e)}))}},{key:"_computed_initial_resolution",value:function(){return null!=this.initial_resolution?this.initial_resolution:2*Math.PI*6378137/this.tile_size}},{key:"is_valid_tile",value:function(t,e,n){return!(!this.wrap_around&&(t<0||t>=Math.pow(2,n)))&&!(e<0||e>=Math.pow(2,n))}},{key:"parent_by_tile_xyz",value:function(t,e,n){var r=this.tile_xyz_to_quadkey(t,e,n),i=r.substring(0,r.length-1);return this.quadkey_to_tile_xyz(i)}},{key:"get_resolution",value:function(t){return this._computed_initial_resolution()/Math.pow(2,t)}},{key:"get_resolution_by_extent",value:function(t,e,n){return[(t[2]-t[0])/n,(t[3]-t[1])/e]}},{key:"get_level_by_extent",value:function(t,e,n){var r,i=(t[2]-t[0])/n,o=(t[3]-t[1])/e,a=Math.max(i,o),s=0,l=cf(this._resolutions);try{for(l.s();!(r=l.n()).done;){if(a>r.value){if(0==s)return 0;if(s>0)return s-1}s+=1}}catch(t){l.e(t)}finally{l.f()}return s-1}},{key:"get_closest_level_by_extent",value:function(t,e,n){var r=(t[2]-t[0])/n,i=(t[3]-t[1])/e,o=Math.max(r,i),a=this._resolutions.reduce((function(t,e){return Math.abs(e-o)<Math.abs(t-o)?e:t}));return this._resolutions.indexOf(a)}},{key:"snap_to_zoom_level",value:function(t,e,n,r){var i=o()(t,4),a=i[0],s=i[1],l=i[2],u=i[3],c=this._resolutions[r],f=n*c,h=e*c;if(!this.snap_to_zoom){var d=(l-a)/f,p=(u-s)/h;d>p?(f=l-a,h*=d):(f*=p,h=u-s)}var v=(f-(l-a))/2,g=(h-(u-s))/2;return[a-v,s-g,l+v,u+g]}},{key:"tms_to_wmts",value:function(t,e,n){return[t,Math.pow(2,n)-1-e,n]}},{key:"wmts_to_tms",value:function(t,e,n){return[t,Math.pow(2,n)-1-e,n]}},{key:"pixels_to_meters",value:function(t,e,n){var r=this.get_resolution(n);return[t*r-this.x_origin_offset,e*r-this.y_origin_offset]}},{key:"meters_to_pixels",value:function(t,e,n){var r=this.get_resolution(n);return[(t+this.x_origin_offset)/r,(e+this.y_origin_offset)/r]}},{key:"pixels_to_tile",value:function(t,e){var n=Math.ceil(t/this.tile_size);return[n=0===n?n:n-1,Math.max(Math.ceil(e/this.tile_size)-1,0)]}},{key:"pixels_to_raster",value:function(t,e,n){return[t,(this.tile_size<<n)-e]}},{key:"meters_to_tile",value:function(t,e,n){var r=this.meters_to_pixels(t,e,n),i=o()(r,2),a=i[0],s=i[1];return this.pixels_to_tile(a,s)}},{key:"get_tile_meter_bounds",value:function(t,e,n){var r=this.pixels_to_meters(t*this.tile_size,e*this.tile_size,n),i=o()(r,2),a=i[0],s=i[1],l=this.pixels_to_meters((t+1)*this.tile_size,(e+1)*this.tile_size,n),u=o()(l,2);return[a,s,u[0],u[1]]}},{key:"get_tile_geographic_bounds",value:function(t,e,n){var r,i,a,s,l,u,c,f,h,d,p,v,g=this.get_tile_meter_bounds(t,e,n),m=(r=g,i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3],c=uf(a,s),f=o()(c,2),h=f[0],d=f[1],p=uf(l,u),v=o()(p,2),[h,d,v[0],v[1]]),y=o()(m,4);return[y[0],y[1],y[2],y[3]]}},{key:"get_tiles_by_extent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=o()(t,4),i=r[0],a=r[1],s=r[2],l=r[3],u=this.meters_to_tile(i,a,e),c=o()(u,2),f=c[0],h=c[1],d=this.meters_to_tile(s,l,e),p=o()(d,2),v=p[0],g=p[1];f-=n,h-=n,v+=n;for(var m=[],y=g+=n;y>=h;y--)for(var _=f;_<=v;_++)this.is_valid_tile(_,y,e)&&m.push([_,y,e,this.get_tile_meter_bounds(_,y,e)]);return this.sort_tiles_from_center(m,[f,h,v,g]),m}},{key:"quadkey_to_tile_xyz",value:function(t){for(var e=0,n=0,r=t.length,i=r;i>0;i--){var o=1<<i-1;switch(t.charAt(r-i)){case"0":continue;case"1":e|=o;break;case"2":n|=o;break;case"3":e|=o,n|=o;break;default:throw new TypeError("Invalid Quadkey: ".concat(t))}}return[e,n,r]}},{key:"tile_xyz_to_quadkey",value:function(t,e,n){for(var r="",i=n;i>0;i--){var o=1<<i-1,a=0;0!=(t&o)&&(a+=1),0!=(e&o)&&(a+=2),r+=a.toString()}return r}},{key:"children_by_tile_xyz",value:function(t,e,n){for(var r=this.tile_xyz_to_quadkey(t,e,n),i=[],a=0;a<=3;a++){var s=this.quadkey_to_tile_xyz(r+a.toString()),l=o()(s,3),u=l[0],c=l[1],f=l[2],h=this.get_tile_meter_bounds(u,c,f);i.push([u,c,f,h])}return i}},{key:"get_closest_parent_by_tile_xyz",value:function(t,e,n){var r=this.calculate_world_x_by_tile_xyz(t,e,n),i=this.normalize_xyz(t,e,n),a=o()(i,3);t=a[0],e=a[1],n=a[2];for(var s=this.tile_xyz_to_quadkey(t,e,n);s.length>0;){s=s.substring(0,s.length-1);var l=this.quadkey_to_tile_xyz(s),u=o()(l,3);t=u[0],e=u[1],n=u[2];var c=this.denormalize_xyz(t,e,n,r),f=o()(c,3);if(t=f[0],e=f[1],n=f[2],this.tiles.has(this.tile_xyz_to_key(t,e,n)))return[t,e,n]}return[0,0,0]}},{key:"normalize_xyz",value:function(t,e,n){if(this.wrap_around){var r=Math.pow(2,n);return[(t%r+r)%r,e,n]}return[t,e,n]}},{key:"denormalize_xyz",value:function(t,e,n,r){return[t+r*Math.pow(2,n),e,n]}},{key:"denormalize_meters",value:function(t,e,n,r){return[t+2*r*Math.PI*6378137,e]}},{key:"calculate_world_x_by_tile_xyz",value:function(t,e,n){return Math.floor(t/Math.pow(2,n))}}],[{key:"init_MercatorTileSource",value:function(){this.define({snap_to_zoom:[b.i,!1],wrap_around:[b.i,!0]}),this.override({x_origin_offset:20037508.34,y_origin_offset:20037508.34,initial_resolution:156543.03392804097})}}]),n}(lf);function pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}df.__name__="MercatorTileSource",df.init_MercatorTileSource();var vf=function(t){d()(n,t);var e=pf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_image_url",value:function(t,e,n){var r,i,a,s,l=this.string_lookup_replace(this.url,this.extra_url_vars);if(this.use_latlon){var u=this.get_tile_geographic_bounds(t,e,n),c=o()(u,4);i=c[0],s=c[1],r=c[2],a=c[3]}else{var f=this.get_tile_meter_bounds(t,e,n),h=o()(f,4);i=h[0],s=h[1],r=h[2],a=h[3]}return l.replace("{XMIN}",i.toString()).replace("{YMIN}",s.toString()).replace("{XMAX}",r.toString()).replace("{YMAX}",a.toString())}}],[{key:"init_BBoxTileSource",value:function(){this.define({use_latlon:[b.i,!1]})}}]),n}(df);function gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vf.__name__="BBoxTileSource",vf.init_BBoxTileSource();var mf=function(t){d()(n,t);var e=gf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_image_url",value:function(t,e,n){var r=this.string_lookup_replace(this.url,this.extra_url_vars),i=this.tms_to_wmts(t,e,n),a=o()(i,3),s=a[0],l=a[1],u=a[2],c=this.tile_xyz_to_quadkey(s,l,u);return r.replace("{Q}",c)}}]),n}(df);function yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}mf.__name__="QUADKEYTileSource";var _f=function(t){d()(n,t);var e=yf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_image_url",value:function(t,e,n){var r=this.string_lookup_replace(this.url,this.extra_url_vars),i=this.tms_to_wmts(t,e,n),a=o()(i,3),s=a[0],l=a[1],u=a[2];return r.replace("{X}",s.toString()).replace("{Y}",l.toString()).replace("{Z}",u.toString())}}]),n}(df);_f.__name__="WMTSTileSource";var bf=n(77),Af=n(116);function wf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Cf=function(t){d()(n,t);var e=kf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){this._tiles=[],f()(m()(n.prototype),"initialize",this).call(this)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.request_render()})),this.connect(this.model.tile_source.change,(function(){return t.request_render()}))}},{key:"styles",value:function(){return[].concat(U()(f()(m()(n.prototype),"styles",this).call(this)),["\n.bk-root .bk-tile-attribution a {\n  color: black;\n}\n"])}},{key:"get_extent",value:function(){return[this.x_range.start,this.y_range.start,this.x_range.end,this.y_range.end]}},{key:"_set_data",value:function(){this.extent=this.get_extent(),this._last_height=void 0,this._last_width=void 0}},{key:"_update_attribution",value:function(){null!=this.attribution_el&&Object(te.A)(this.attribution_el);var t=this.model.tile_source.attribution;if(Object(ct.j)(t)&&t.length>0){var e=this.plot_view,n=e.layout,r=e.frame,i=n._width.value-r._right.value,o=n._height.value-r._bottom.value,a=r._width.value;this.attribution_el=Object(te.k)({class:"bk-tile-attribution",style:{position:"absolute",right:"".concat(i,"px"),bottom:"".concat(o,"px"),"max-width":"".concat(a-4,"px"),padding:"2px","background-color":"rgba(255,255,255,0.5)","font-size":"9px","line-height":"1.05","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}),this.plot_view.canvas_view.add_event(this.attribution_el),this.attribution_el.innerHTML=t,this.attribution_el.title=this.attribution_el.textContent.replace(/\s*\n\s*/g," ")}}},{key:"_map_data",value:function(){this.initial_extent=this.get_extent();var t=this.model.tile_source.get_level_by_extent(this.initial_extent,this.map_frame._height.value,this.map_frame._width.value),e=this.model.tile_source.snap_to_zoom_level(this.initial_extent,this.map_frame._height.value,this.map_frame._width.value,t);this.x_range.start=e[0],this.y_range.start=e[1],this.x_range.end=e[2],this.y_range.end=e[3],this.x_range instanceof Xt&&(this.x_range.reset_start=e[0],this.x_range.reset_end=e[2]),this.y_range instanceof Xt&&(this.y_range.reset_start=e[1],this.y_range.reset_end=e[3]),this._update_attribution()}},{key:"_create_tile",value:function(t,e,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.model.tile_source.normalize_xyz(t,e,n),l=o()(s,3),u=l[0],c=l[1],f=l[2],h={img:void 0,tile_coords:[t,e,n],normalized_coords:[u,c,f],quadkey:this.model.tile_source.tile_xyz_to_quadkey(t,e,n),cache_key:this.model.tile_source.tile_xyz_to_key(t,e,n),bounds:r,loaded:!1,finished:!1,x_coord:r[0],y_coord:r[3]},d=this.model.tile_source.get_image_url(u,c,f);new jo(d,{loaded:function(t){Object.assign(h,{img:t,loaded:!0}),a?(h.finished=!0,i.notify_finished()):i.request_render()},failed:function(){h.finished=!0}}),this.model.tile_source.tiles.set(h.cache_key,h),this._tiles.push(h)}},{key:"_enforce_aspect_ratio",value:function(){if(this._last_height!==this.map_frame._height.value||this._last_width!==this.map_frame._width.value){var t=this.get_extent(),e=this.model.tile_source.get_level_by_extent(t,this.map_frame._height.value,this.map_frame._width.value),n=this.model.tile_source.snap_to_zoom_level(t,this.map_frame._height.value,this.map_frame._width.value,e);this.x_range.setv({start:n[0],end:n[2]}),this.y_range.setv({start:n[1],end:n[3]}),this.extent=n,this._last_height=this.map_frame._height.value,this._last_width=this.map_frame._width.value}}},{key:"has_finished",value:function(){if(!f()(m()(n.prototype),"has_finished",this).call(this))return!1;if(0===this._tiles.length)return!1;var t,e=wf(this._tiles);try{for(e.s();!(t=e.n()).done;){if(!t.value.finished)return!1}}catch(t){e.e(t)}finally{e.f()}return!0}},{key:"render",value:function(){null==this.map_initialized&&(this._set_data(),this._map_data(),this.map_initialized=!0),this._enforce_aspect_ratio(),this._update(),null!=this.prefetch_timer&&clearTimeout(this.prefetch_timer),this.prefetch_timer=setTimeout(this._prefetch_tiles.bind(this),500),this.has_finished()&&this.notify_finished()}},{key:"_draw_tile",value:function(t){var e=this.model.tile_source.tiles.get(t);if(null!=e&&e.loaded){var n=this.plot_view.map_to_screen([e.bounds[0]],[e.bounds[3]]),r=o()(n,2),i=o()(r[0],1)[0],a=o()(r[1],1)[0],s=this.plot_view.map_to_screen([e.bounds[2]],[e.bounds[1]]),l=o()(s,2),u=o()(l[0],1)[0]-i,c=o()(l[1],1)[0]-a,f=i,h=a,d=this.map_canvas.getImageSmoothingEnabled();this.map_canvas.setImageSmoothingEnabled(this.model.smoothing),this.map_canvas.drawImage(e.img,f,h,u,c),this.map_canvas.setImageSmoothingEnabled(d),e.finished=!0}}},{key:"_set_rect",value:function(){var t=this.plot_model.properties.outline_line_width.value(),e=this.map_frame._left.value+t/2,n=this.map_frame._top.value+t/2,r=this.map_frame._width.value-t,i=this.map_frame._height.value-t;this.map_canvas.rect(e,n,r,i),this.map_canvas.clip()}},{key:"_render_tiles",value:function(t){this.map_canvas.save(),this._set_rect(),this.map_canvas.globalAlpha=this.model.alpha;var e,n=wf(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._draw_tile(r)}}catch(t){n.e(t)}finally{n.f()}this.map_canvas.restore()}},{key:"_prefetch_tiles",value:function(){for(var t=this.model.tile_source,e=this.get_extent(),n=this.map_frame._height.value,r=this.map_frame._width.value,i=this.model.tile_source.get_level_by_extent(e,n,r),a=this.model.tile_source.get_tiles_by_extent(e,i),s=0,l=Math.min(10,a.length);s<l;s++){var u,c=o()(a[s],3),f=c[0],h=c[1],d=c[2],p=wf(this.model.tile_source.children_by_tile_xyz(f,h,d));try{for(p.s();!(u=p.n()).done;){var v=u.value,g=o()(v,4),m=g[0],y=g[1],_=g[2],b=g[3];t.tiles.has(t.tile_xyz_to_key(m,y,_))||this._create_tile(m,y,_,b,!0)}}catch(t){p.e(t)}finally{p.f()}}}},{key:"_fetch_tiles",value:function(t){var e,n=wf(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=o()(r,4),a=i[0],s=i[1],l=i[2],u=i[3];this._create_tile(a,s,l,u)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_update",value:function(){var t=this,e=this.model.tile_source,n=e.min_zoom,r=e.max_zoom,i=this.get_extent(),a=this.extent[2]-this.extent[0]<i[2]-i[0],s=this.map_frame._height.value,l=this.map_frame._width.value,u=e.get_level_by_extent(i,s,l),c=!1;u<n?(i=this.extent,u=n,c=!0):u>r&&(i=this.extent,u=r,c=!0),c&&(this.x_range.setv({x_range:{start:i[0],end:i[2]}}),this.y_range.setv({start:i[1],end:i[3]})),this.extent=i;var f,h=e.get_tiles_by_extent(i,u),d=[],p=[],v=[],g=[],m=wf(h);try{for(m.s();!(f=m.n()).done;){var y=f.value,_=o()(y,3),b=_[0],A=_[1],w=_[2],x=e.tile_xyz_to_key(b,A,w),k=e.tiles.get(x);if(null!=k&&k.loaded)p.push(x);else if(this.model.render_parents){var C=e.get_closest_parent_by_tile_xyz(b,A,w),E=o()(C,3),S=E[0],R=E[1],T=E[2],I=e.tile_xyz_to_key(S,R,T),O=e.tiles.get(I);if(null!=O&&O.loaded&&!Object(q.k)(v,I)&&v.push(I),a){var M,P=wf(e.children_by_tile_xyz(b,A,w));try{for(P.s();!(M=P.n()).done;){var D=o()(M.value,3),N=D[0],L=D[1],j=D[2],F=e.tile_xyz_to_key(N,L,j);e.tiles.has(F)&&g.push(F)}}catch(t){P.e(t)}finally{P.f()}}}null==k&&d.push(y)}}catch(t){m.e(t)}finally{m.f()}this._render_tiles(v),this._render_tiles(g),this._render_tiles(p),null!=this.render_timer&&clearTimeout(this.render_timer),this.render_timer=setTimeout((function(){return t._fetch_tiles(d)}),65)}},{key:"map_plot",get:function(){return this.plot_model}},{key:"map_canvas",get:function(){return this.layer.ctx}},{key:"map_frame",get:function(){return this.plot_view.frame}},{key:"x_range",get:function(){return this.map_plot.x_range}},{key:"y_range",get:function(){return this.map_plot.y_range}}]),n}(bf.b);Cf.__name__="TileRendererView";var Ef=function(t){d()(n,t);var e=kf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t))._selection_manager=new Af.a({source:new S.a}),r}return u()(n,[{key:"get_selection_manager",value:function(){return this._selection_manager}}],[{key:"init_TileRenderer",value:function(){this.prototype.default_view=Cf,this.define({alpha:[b.V,1],smoothing:[b.i,!0],tile_source:[b.F,function(){return new _f}],render_parents:[b.i,!0]})}}]),n}(bf.a);function Sf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ef.__name__="TileRenderer",Ef.init_TileRenderer();var Rf=function(t){d()(n,t);var e=Sf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_image_url",value:function(t,e,n){return this.string_lookup_replace(this.url,this.extra_url_vars).replace("{X}",t.toString()).replace("{Y}",e.toString()).replace("{Z}",n.toString())}}]),n}(df);function Tf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Rf.__name__="TMSTileSource";var If=function(t){d()(n,t);var e=Tf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"onload",value:function(t){t()}}],[{key:"init_Texture",value:function(){this.define({repetition:[b.ub,"repeat"]})}}]),n}(G.a);function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}If.__name__="Texture",If.init_Texture();var Mf=function(t){d()(n,t);var e=Of(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"get_pattern",value:function(t,e,n){var r=this;return function(i){var o=document.createElement("canvas");o.width=e,o.height=e;var a=o.getContext("2d");return r.func.call(r,a,t,e,n),i.createPattern(o,r.repetition)}}},{key:"func",get:function(){var t=Object(kt.e)(this.code);return new Function("ctx","color","scale","weight",t)}}],[{key:"init_CanvasTexture",value:function(){this.define({code:[b.nb]})}}]),n}(If);function Pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Mf.__name__="CanvasTexture",Mf.init_CanvasTexture();var Df=function(t){d()(n,t);var e=Pf(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._loader=new jo(this.url)}},{key:"get_pattern",value:function(t,e,n){var r=this;return function(t){return r._loader.finished?t.createPattern(r._loader.image,r.repetition):null}}},{key:"onload",value:function(t){this._loader.promise.then((function(){return t()}))}}],[{key:"init_ImageURLTexture",value:function(){this.define({url:[b.nb]})}}]),n}(If);function Nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Df.__name__="ImageURLTexture",Df.init_ImageURLTexture();var Lf=function(t){d()(n,t);var e=Nf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"css_classes",value:function(){return f()(m()(n.prototype),"css_classes",this).call(this).concat("bk-toolbar-button-custom-action")}}]),n}(Lu);Lf.__name__="CustomActionButtonView";var jf=function(t){d()(n,t);var e=Nf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){null!=this.model.callback&&this.model.callback.execute(this.model)}}]),n}(ju);jf.__name__="CustomActionView";var Ff=function(t){d()(n,t);var e=Nf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Custom Action",r.button_view=Lf,r}return u()(n,[{key:"tooltip",get:function(){return this.action_tooltip}}],[{key:"init_CustomAction",value:function(){this.prototype.default_view=jf,this.define({action_tooltip:[b.nb,"Perform a Custom Action"],callback:[b.e],icon:[b.nb]})}}]),n}(Fu);function zf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ff.__name__="CustomAction",Ff.init_CustomAction();var Bf=function(t){d()(n,t);var e=zf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.plot_view.state_changed,(function(){return t.model.disabled=!t.plot_view.can_redo()}))}},{key:"doit",value:function(){this.plot_view.redo()}}]),n}(ju);Bf.__name__="RedoToolView";var Uf=function(t){d()(n,t);var e=zf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Redo",r.icon="bk-tool-icon-redo",r}return u()(n,null,[{key:"init_RedoTool",value:function(){this.prototype.default_view=Bf,this.override({disabled:!0}),this.register_alias("redo",(function(){return new n}))}}]),n}(Fu);function Gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Uf.__name__="RedoTool",Uf.init_RedoTool();var Vf=function(t){d()(n,t);var e=Gf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){this.plot_view.reset()}}]),n}(ju);Vf.__name__="ResetToolView";var Hf=function(t){d()(n,t);var e=Gf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Reset",r.icon="bk-tool-icon-reset",r}return u()(n,null,[{key:"init_ResetTool",value:function(){this.prototype.default_view=Vf,this.register_alias("reset",(function(){return new n}))}}]),n}(Fu);function qf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Hf.__name__="ResetTool",Hf.init_ResetTool();var Wf=function(t){d()(n,t);var e=qf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){this.plot_view.save("bokeh_plot")}}]),n}(ju);Wf.__name__="SaveToolView";var Yf=function(t){d()(n,t);var e=qf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Save",r.icon="bk-tool-icon-save",r}return u()(n,null,[{key:"init_SaveTool",value:function(){this.prototype.default_view=Wf,this.register_alias("save",(function(){return new n}))}}]),n}(Fu);function Xf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Yf.__name__="SaveTool",Yf.init_SaveTool();var $f=function(t){d()(n,t);var e=Xf(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.plot_view.state_changed,(function(){return t.model.disabled=!t.plot_view.can_undo()}))}},{key:"doit",value:function(){this.plot_view.undo()}}]),n}(ju);$f.__name__="UndoToolView";var Jf=function(t){d()(n,t);var e=Xf(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Undo",r.icon="bk-tool-icon-undo",r}return u()(n,null,[{key:"init_UndoTool",value:function(){this.prototype.default_view=$f,this.override({disabled:!0}),this.register_alias("undo",(function(){return new n}))}}]),n}(Fu);function Kf(t,e,n){var r=[t.start,t.end],i=r[0],o=r[1],a=null!=n?n:(o+i)/2;return[i-(i-a)*e,o-(o-a)*e]}function Qf(t,e){var n=o()(e,2),r=n[0],i=n[1],a={};for(var s in t){var l=t[s].r_invert(r,i),u=o()(l,2),c=u[0],f=u[1];a[s]={start:c,end:f}}return a}function Zf(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;e=Object(R.c)(e,-.9,.9);var a=n?e:0,s=Kf(t.bbox.h_range,a,null!=i?i.x:void 0),l=o()(s,2),u=l[0],c=l[1],f=Qf(t.xscales,[u,c]),h=r?e:0,d=Kf(t.bbox.v_range,h,null!=i?i.y:void 0),p=o()(d,2),v=p[0],g=p[1],m=Qf(t.yscales,[v,g]);return{xrs:f,yrs:m,factor:e}}function th(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Jf.__name__="UndoTool",Jf.init_UndoTool();var eh=function(t){d()(n,t);var e=th(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){var t=this.plot_view.frame,e=this.model.dimensions,n="width"==e||"both"==e,r="height"==e||"both"==e,i=Zf(t,this.model.factor,n,r);this.plot_view.push_state("zoom_out",{range:i}),this.plot_view.update_range(i,!1,!0),this.model.document&&this.model.document.interactive_start(this.plot_model)}}]),n}(ju);eh.__name__="ZoomInToolView";var nh=function(t){d()(n,t);var e=th(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Zoom In",r.icon="bk-tool-icon-zoom-in",r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_ZoomInTool",value:function(){this.prototype.default_view=eh,this.define({factor:[b.bb,.1],dimensions:[b.r,"both"]}),this.register_alias("zoom_in",(function(){return new n({dimensions:"both"})})),this.register_alias("xzoom_in",(function(){return new n({dimensions:"width"})})),this.register_alias("yzoom_in",(function(){return new n({dimensions:"height"})}))}}]),n}(Fu);function rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}nh.__name__="ZoomInTool",nh.init_ZoomInTool();var ih=function(t){d()(n,t);var e=rh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"doit",value:function(){var t=this.plot_view.frame,e=this.model.dimensions,n="width"==e||"both"==e,r="height"==e||"both"==e,i=Zf(t,-this.model.factor,n,r);this.plot_view.push_state("zoom_out",{range:i}),this.plot_view.update_range(i,!1,!0),this.model.document&&this.model.document.interactive_start(this.plot_model)}}]),n}(ju);ih.__name__="ZoomOutToolView";var oh=function(t){d()(n,t);var e=rh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Zoom Out",r.icon="bk-tool-icon-zoom-out",r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_ZoomOutTool",value:function(){this.prototype.default_view=ih,this.define({factor:[b.bb,.1],dimensions:[b.r,"both"]}),this.register_alias("zoom_out",(function(){return new n({dimensions:"both"})})),this.register_alias("xzoom_out",(function(){return new n({dimensions:"width"})})),this.register_alias("yzoom_out",(function(){return new n({dimensions:"height"})}))}}]),n}(Fu);function ah(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}oh.__name__="ZoomOutTool",oh.init_ZoomOutTool();var uh=function(t){d()(n,t);var e=lh(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments))._mouse_in_frame=!0,t}return u()(n,[{key:"_select_mode",value:function(t){var e=t.shiftKey,n=t.ctrlKey;return e||n?e&&!n?"append":!e&&n?"intersect":e&&n?"subtract":void Object(Jt.b)():"replace"}},{key:"_move_enter",value:function(t){this._mouse_in_frame=!0}},{key:"_move_exit",value:function(t){this._mouse_in_frame=!1}},{key:"_map_drag",value:function(t,e,n){var r=this.plot_view.frame;return r.bbox.contains(t,e)?[r.xscales[n.x_range_name].invert(t),r.yscales[n.y_range_name].invert(e)]:null}},{key:"_delete_selected",value:function(t){var e=t.data_source,n=e.selected.indices;n.sort();var r,i=ah(e.columns());try{for(i.s();!(r=i.n()).done;)for(var o=r.value,a=e.get_array(o),s=0;s<n.length;s++){var l=n[s];a.splice(l-s,1)}}catch(t){i.e(t)}finally{i.f()}this._emit_cds_changes(e)}},{key:"_pop_glyphs",value:function(t,e){var n=t.columns();if(e&&n.length){var r,i=ah(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t.get_array(o),s=a.length-e+1;s<1||(Object(ct.a)(a)||(a=Array.from(a),t.data[o]=a),a.splice(0,s))}}catch(t){i.e(t)}finally{i.f()}}}},{key:"_emit_cds_changes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n&&t.selection_manager.clear(),e&&t.change.emit(),r&&(t.data=t.data,t.properties.data.change.emit())}},{key:"_drag_points",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(null!=this._basepoint){var r,i=o()(this._basepoint,2),a=i[0],s=i[1],l=ah(e);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=this._map_drag(a,s,u),f=this._map_drag(t.sx,t.sy,u);if(null!=f&&null!=c){var h,d=o()(f,2),p=d[0],v=d[1],g=o()(c,2),m=g[0],y=g[1],_=p-m,b=v-y,A=u.glyph,w=u.data_source,x=[A.x.field,A.y.field],k=x[0],C=x[1],E=ah(w.selected.indices);try{for(E.s();!(h=E.n()).done;){var S=h.value;!k||"width"!=n&&"both"!=n||(w.data[k][S]+=_),!C||"height"!=n&&"both"!=n||(w.data[C][S]+=b)}}catch(t){E.e(t)}finally{E.f()}w.change.emit()}}}catch(t){l.e(t)}finally{l.f()}this._basepoint=[t.sx,t.sy]}}},{key:"_pad_empty_columns",value:function(t,e){var n,r=ah(t.columns());try{for(r.s();!(n=r.n()).done;){var i=n.value;Object(q.k)(e,i)||t.get_array(i).push(this.model.empty_value)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_select_event",value:function(t,e,n){var r=this.plot_view.frame,i=t.sx,o=t.sy;if(!r.bbox.contains(i,o))return[];var a,s={type:"point",sx:i,sy:o},l=[],u=ah(n);try{for(u.s();!(a=u.n()).done;){var c=a.value,f=c.get_selection_manager(),h=c.data_source,d=[this.plot_view.renderer_views.get(c)];f.select(d,s,!0,e)&&l.push(c),h.properties.selected.change.emit()}}catch(t){u.e(t)}finally{u.f()}return l}}]),n}(Ou);uh.__name__="EditToolView";var ch=function(t){d()(n,t);var e=lh(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"tooltip",get:function(){return this.custom_tooltip||this.tool_name}},{key:"computed_icon",get:function(){return this.custom_icon||this.icon}}],[{key:"init_EditTool",value:function(){this.define({custom_icon:[b.nb],custom_tooltip:[b.nb],empty_value:[b.e],renderers:[b.g,[]]})}}]),n}(Mu);function fh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}ch.__name__="EditTool",ch.init_EditTool();var ph=function(t){d()(n,t);var e=dh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_tap",value:function(t){null==this._draw_basepoint&&null==this._basepoint&&this._select_event(t,this._select_mode(t),this.model.renderers)}},{key:"_keyup",value:function(t){if(this.model.active&&this._mouse_in_frame){var e,n=fh(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.keyCode===te.a.Backspace)this._delete_selected(r);else if(t.keyCode==te.a.Esc){r.data_source.selection_manager.clear()}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_set_extent",value:function(t,e,n){var r=o()(t,2),i=r[0],a=r[1],s=o()(e,2),l=s[0],u=s[1],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=this.model.renderers[0],h=this.plot_view.frame,d=f.glyph,p=f.data_source,v=h.xscales[f.x_range_name],g=h.yscales[f.y_range_name],m=v.r_invert(i,a),y=o()(m,2),_=y[0],b=y[1],A=g.r_invert(l,u),w=o()(A,2),x=w[0],k=w[1],C=(_+b)/2,E=(x+k)/2,S=b-_,R=k-x,T=[d.x.field,d.y.field],I=T[0],O=T[1],M=[d.width.field,d.height.field],P=M[0],D=M[1];if(n)this._pop_glyphs(p,this.model.num_objects),I&&p.get_array(I).push(C),O&&p.get_array(O).push(E),P&&p.get_array(P).push(S),D&&p.get_array(D).push(R),this._pad_empty_columns(p,[I,O,P,D]);else{var N=p.data[I].length-1;I&&(p.data[I][N]=C),O&&(p.data[O][N]=E),P&&(p.data[P][N]=S),D&&(p.data[D][N]=R)}this._emit_cds_changes(p,!0,!1,c)}},{key:"_update_box",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!=this._draw_basepoint){var r=[t.sx,t.sy],i=this.plot_view.frame,a=this.model.dimensions,s=this.model._get_dim_limits(this._draw_basepoint,r,i,a);if(null!=s){var l=o()(s,2),u=l[0],c=l[1];this._set_extent(u,c,e,n)}}}},{key:"_doubletap",value:function(t){this.model.active&&(null!=this._draw_basepoint?(this._update_box(t,!1,!0),this._draw_basepoint=null):(this._draw_basepoint=[t.sx,t.sy],this._select_event(t,"append",this.model.renderers),this._update_box(t,!0,!1)))}},{key:"_move",value:function(t){this._update_box(t,!1,!1)}},{key:"_pan_start",value:function(t){if(t.shiftKey){if(null!=this._draw_basepoint)return;this._draw_basepoint=[t.sx,t.sy],this._update_box(t,!0,!1)}else{if(null!=this._basepoint)return;this._select_event(t,"append",this.model.renderers),this._basepoint=[t.sx,t.sy]}}},{key:"_pan",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.shiftKey){if(null==this._draw_basepoint)return;this._update_box(t,e,n)}else{if(null==this._basepoint)return;this._drag_points(t,this.model.renderers)}}},{key:"_pan_end",value:function(t){if(this._pan(t,!1,!0),t.shiftKey)this._draw_basepoint=null;else{this._basepoint=null;var e,n=fh(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._emit_cds_changes(r.data_source,!1,!0,!0)}}catch(t){n.e(t)}finally{n.f()}}}}]),n}(uh);ph.__name__="BoxEditToolView";var vh=function(t){d()(n,t);var e=dh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Box Edit Tool",r.icon="bk-tool-icon-box-edit",r.event_type=["tap","pan","move"],r.default_order=1,r}return u()(n,null,[{key:"init_BoxEditTool",value:function(){this.prototype.default_view=ph,this.define({dimensions:[b.r,"both"],num_objects:[b.G,0]})}}]),n}(ch);function gh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}vh.__name__="BoxEditTool",vh.init_BoxEditTool();var _h=function(t){d()(n,t);var e=yh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_draw",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.model.active){var r=this.model.renderers[0],i=this._map_drag(t.sx,t.sy,r);if(null!=i){var a=o()(i,2),s=a[0],l=a[1],u=r.data_source,c=r.glyph,f=[c.xs.field,c.ys.field],h=f[0],d=f[1];if("new"==e)this._pop_glyphs(u,this.model.num_objects),h&&u.get_array(h).push([s]),d&&u.get_array(d).push([l]),this._pad_empty_columns(u,[h,d]);else if("add"==e){if(h){var p=u.data[h].length-1,v=u.get_array(h)[p];Object(ct.a)(v)||(v=Array.from(v),u.data[h][p]=v),v.push(s)}if(d){var g=u.data[d].length-1,m=u.get_array(d)[g];Object(ct.a)(m)||(m=Array.from(m),u.data[d][g]=m),m.push(l)}}this._emit_cds_changes(u,!0,!0,n)}}}},{key:"_pan_start",value:function(t){this._draw(t,"new")}},{key:"_pan",value:function(t){this._draw(t,"add")}},{key:"_pan_end",value:function(t){this._draw(t,"add",!0)}},{key:"_tap",value:function(t){this._select_event(t,this._select_mode(t),this.model.renderers)}},{key:"_keyup",value:function(t){if(this.model.active&&this._mouse_in_frame){var e,n=gh(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.keyCode===te.a.Esc?r.data_source.selection_manager.clear():t.keyCode===te.a.Backspace&&this._delete_selected(r)}}catch(t){n.e(t)}finally{n.f()}}}}]),n}(uh);_h.__name__="FreehandDrawToolView";var bh=function(t){d()(n,t);var e=yh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Freehand Draw Tool",r.icon="bk-tool-icon-freehand-draw",r.event_type=["pan","tap"],r.default_order=3,r}return u()(n,null,[{key:"init_FreehandDrawTool",value:function(){this.prototype.default_view=_h,this.define({num_objects:[b.G,0]})}}]),n}(ch);function Ah(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return wh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}bh.__name__="FreehandDrawTool",bh.init_FreehandDrawTool();var kh=function(t){d()(n,t);var e=xh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_tap",value:function(t){if(!this._select_event(t,this._select_mode(t),this.model.renderers).length&&this.model.add){var e=this.model.renderers[0],n=this._map_drag(t.sx,t.sy,e);if(null!=n){var r=e.glyph,i=e.data_source,a=[r.x.field,r.y.field],s=a[0],l=a[1],u=o()(n,2),c=u[0],f=u[1];this._pop_glyphs(i,this.model.num_objects),s&&i.get_array(s).push(c),l&&i.get_array(l).push(f),this._pad_empty_columns(i,[s,l]),i.change.emit(),i.data=i.data,i.properties.data.change.emit()}}}},{key:"_keyup",value:function(t){if(this.model.active&&this._mouse_in_frame){var e,n=Ah(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.keyCode===te.a.Backspace?this._delete_selected(r):t.keyCode==te.a.Esc&&r.data_source.selection_manager.clear()}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_pan_start",value:function(t){this.model.drag&&(this._select_event(t,"append",this.model.renderers),this._basepoint=[t.sx,t.sy])}},{key:"_pan",value:function(t){this.model.drag&&null!=this._basepoint&&this._drag_points(t,this.model.renderers)}},{key:"_pan_end",value:function(t){if(this.model.drag){this._pan(t);var e,n=Ah(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._emit_cds_changes(r.data_source,!1,!0,!0)}}catch(t){n.e(t)}finally{n.f()}this._basepoint=null}}}]),n}(uh);kh.__name__="PointDrawToolView";var Ch=function(t){d()(n,t);var e=xh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Point Draw Tool",r.icon="bk-tool-icon-point-draw",r.event_type=["tap","pan","move"],r.default_order=2,r}return u()(n,null,[{key:"init_PointDrawTool",value:function(){this.prototype.default_view=kh,this.define({add:[b.i,!0],drag:[b.i,!0],num_objects:[b.G,0]})}}]),n}(ch);function Eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ch.__name__="PointDrawTool",Ch.init_PointDrawTool();var Sh=function(t){d()(n,t);var e=Eh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_set_vertices",value:function(t,e){var n=this.model.vertex_renderer.glyph,r=this.model.vertex_renderer.data_source,i=[n.x.field,n.y.field],o=i[0],a=i[1];o&&(Object(ct.a)(t)?r.data[o]=t:n.x={value:t}),a&&(Object(ct.a)(e)?r.data[a]=e:n.y={value:e}),this._emit_cds_changes(r,!0,!0,!1)}},{key:"_hide_vertices",value:function(){this._set_vertices([],[])}},{key:"_snap_to_vertex",value:function(t,e,n){if(this.model.vertex_renderer){var r=this._select_event(t,"replace",[this.model.vertex_renderer]),i=this.model.vertex_renderer.data_source,o=this.model.vertex_renderer.glyph,a=[o.x.field,o.y.field],s=a[0],l=a[1];if(r.length){var u=i.selected.indices[0];s&&(e=i.data[s][u]),l&&(n=i.data[l][u]),i.selection_manager.clear()}}return[e,n]}}]),n}(uh);Sh.__name__="PolyToolView";var Rh=function(t){d()(n,t);var e=Eh(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_PolyTool",value:function(){this.prototype.default_view=Sh,this.define({vertex_renderer:[b.F]})}}]),n}(ch);function Th(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ih(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ih(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Rh.__name__="PolyTool",Rh.init_PolyTool();var Mh=function(t){d()(n,t);var e=Oh(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments))._drawing=!1,t._initialized=!1,t}return u()(n,[{key:"_tap",value:function(t){this._drawing?this._draw(t,"add",!0):this._select_event(t,this._select_mode(t),this.model.renderers)}},{key:"_draw",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.model.renderers[0],i=this._map_drag(t.sx,t.sy,r);if(this._initialized||this.activate(),null!=i){var a=this._snap_to_vertex.apply(this,[t].concat(U()(i))),s=o()(a,2),l=s[0],u=s[1],c=r.data_source,f=r.glyph,h=[f.xs.field,f.ys.field],d=h[0],p=h[1];if("new"==e)this._pop_glyphs(c,this.model.num_objects),d&&c.get_array(d).push([l,l]),p&&c.get_array(p).push([u,u]),this._pad_empty_columns(c,[d,p]);else if("edit"==e){if(d){var v=c.data[d][c.data[d].length-1];v[v.length-1]=l}if(p){var g=c.data[p][c.data[p].length-1];g[g.length-1]=u}}else if("add"==e){if(d){var m=c.data[d].length-1,y=c.get_array(d)[m],_=y[y.length-1];y[y.length-1]=l,Object(ct.a)(y)||(y=Array.from(y),c.data[d][m]=y),y.push(_)}if(p){var b=c.data[p].length-1,A=c.get_array(p)[b],w=A[A.length-1];A[A.length-1]=u,Object(ct.a)(A)||(A=Array.from(A),c.data[p][b]=A),A.push(w)}}this._emit_cds_changes(c,!0,!1,n)}}},{key:"_show_vertices",value:function(){if(this.model.active){for(var t=[],e=[],n=0;n<this.model.renderers.length;n++){var r=this.model.renderers[n],i=r.data_source,o=r.glyph,a=[o.xs.field,o.ys.field],s=a[0],l=a[1];if(s){var u,c=Th(i.get_array(s));try{for(c.s();!(u=c.n()).done;){var f=u.value;Array.prototype.push.apply(t,f)}}catch(t){c.e(t)}finally{c.f()}}if(l){var h,d=Th(i.get_array(l));try{for(d.s();!(h=d.n()).done;){var p=h.value;Array.prototype.push.apply(e,p)}}catch(t){d.e(t)}finally{d.f()}}this._drawing&&n==this.model.renderers.length-1&&(t.splice(t.length-1,1),e.splice(e.length-1,1))}this._set_vertices(t,e)}}},{key:"_doubletap",value:function(t){this.model.active&&(this._drawing?(this._drawing=!1,this._draw(t,"edit",!0)):(this._drawing=!0,this._draw(t,"new",!0)))}},{key:"_move",value:function(t){this._drawing&&this._draw(t,"edit")}},{key:"_remove",value:function(){var t=this.model.renderers[0],e=t.data_source,n=t.glyph,r=[n.xs.field,n.ys.field],i=r[0],o=r[1];if(i){var a=e.data[i].length-1,s=e.get_array(i)[a];s.splice(s.length-1,1)}if(o){var l=e.data[o].length-1,u=e.get_array(o)[l];u.splice(u.length-1,1)}this._emit_cds_changes(e)}},{key:"_keyup",value:function(t){if(this.model.active&&this._mouse_in_frame){var e,n=Th(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.keyCode===te.a.Backspace?this._delete_selected(r):t.keyCode==te.a.Esc&&(this._drawing&&(this._remove(),this._drawing=!1),r.data_source.selection_manager.clear())}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_pan_start",value:function(t){this.model.drag&&(this._select_event(t,"append",this.model.renderers),this._basepoint=[t.sx,t.sy])}},{key:"_pan",value:function(t){if(null!=this._basepoint&&this.model.drag){var e,n=o()(this._basepoint,2),r=n[0],i=n[1],a=Th(this.model.renderers);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=this._map_drag(r,i,s),u=this._map_drag(t.sx,t.sy,s);if(null!=u&&null!=l){var c=s.data_source,f=s.glyph,h=[f.xs.field,f.ys.field],d=h[0],p=h[1];if(d||p){var v,g=o()(u,2),m=g[0],y=g[1],_=o()(l,2),b=_[0],A=_[1],w=m-b,x=y-A,k=Th(c.selected.indices);try{for(k.s();!(v=k.n()).done;){var C=v.value,E=void 0,S=void 0,R=void 0;d&&(S=c.data[d][C]),E=p?(R=c.data[p][C]).length:S.length;for(var T=0;T<E;T++)S&&(S[T]+=w),R&&(R[T]+=x)}}catch(t){k.e(t)}finally{k.f()}c.change.emit()}}}}catch(t){a.e(t)}finally{a.f()}this._basepoint=[t.sx,t.sy]}}},{key:"_pan_end",value:function(t){if(this.model.drag){this._pan(t);var e,n=Th(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._emit_cds_changes(r.data_source)}}catch(t){n.e(t)}finally{n.f()}this._basepoint=null}}},{key:"activate",value:function(){var t=this;if(this.model.vertex_renderer&&this.model.active){if(this._show_vertices(),!this._initialized){var e,n=Th(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value.data_source;r.connect(r.properties.data.change,(function(){return t._show_vertices()}))}}catch(t){n.e(t)}finally{n.f()}}this._initialized=!0}}},{key:"deactivate",value:function(){this._drawing&&(this._remove(),this._drawing=!1),this.model.vertex_renderer&&this._hide_vertices()}}]),n}(Sh);Mh.__name__="PolyDrawToolView";var Ph=function(t){d()(n,t);var e=Oh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Polygon Draw Tool",r.icon="bk-tool-icon-poly-draw",r.event_type=["pan","tap","move"],r.default_order=3,r}return u()(n,null,[{key:"init_PolyDrawTool",value:function(){this.prototype.default_view=Mh,this.define({drag:[b.i,!0],num_objects:[b.G,0]})}}]),n}(Rh);function Dh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Ph.__name__="PolyDrawTool",Ph.init_PolyDrawTool();var jh=function(t){d()(n,t);var e=Lh(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments))._drawing=!1,t}return u()(n,[{key:"_doubletap",value:function(t){if(this.model.active){var e=this._map_drag(t.sx,t.sy,this.model.vertex_renderer);if(null!=e){var n=o()(e,2),r=n[0],i=n[1],a=this._select_event(t,"replace",[this.model.vertex_renderer]),s=this.model.vertex_renderer.data_source,l=this.model.vertex_renderer.glyph,u=[l.x.field,l.y.field],c=u[0],f=u[1];if(a.length&&null!=this._selected_renderer){var h=s.selected.indices[0];this._drawing?(this._drawing=!1,s.selection_manager.clear()):(s.selected.indices=[h+1],c&&s.get_array(c).splice(h+1,0,r),f&&s.get_array(f).splice(h+1,0,i),this._drawing=!0),s.change.emit(),this._emit_cds_changes(this._selected_renderer.data_source)}else this._show_vertices(t)}}}},{key:"_show_vertices",value:function(t){if(this.model.active){var e=this._select_event(t,"replace",this.model.renderers);if(!e.length)return this._set_vertices([],[]),this._selected_renderer=null,void(this._drawing=!1);var n,r,i=e[0],o=i.glyph,a=i.data_source,s=a.selected.indices[0],l=[o.xs.field,o.ys.field],u=l[0],c=l[1];u?(n=a.data[u][s],Object(ct.a)(n)||(a.data[u][s]=n=Array.from(n))):n=o.xs.value,c?(r=a.data[c][s],Object(ct.a)(r)||(a.data[c][s]=r=Array.from(r))):r=o.ys.value,this._selected_renderer=i,this._set_vertices(n,r)}}},{key:"_move",value:function(t){if(this._drawing&&null!=this._selected_renderer){var e=this.model.vertex_renderer,n=e.data_source,r=e.glyph,i=this._map_drag(t.sx,t.sy,e);if(null==i)return;var a=o()(i,2),s=a[0],l=a[1],u=n.selected.indices,c=this._snap_to_vertex(t,s,l),f=o()(c,2);s=f[0],l=f[1],n.selected.indices=u;var h=[r.x.field,r.y.field],d=h[0],p=h[1],v=u[0];d&&(n.data[d][v]=s),p&&(n.data[p][v]=l),n.change.emit(),this._selected_renderer.data_source.change.emit()}}},{key:"_tap",value:function(t){var e=this.model.vertex_renderer,n=this._map_drag(t.sx,t.sy,e);if(null!=n){if(this._drawing&&this._selected_renderer){var r=o()(n,2),i=r[0],a=r[1],s=e.data_source,l=e.glyph,u=[l.x.field,l.y.field],c=u[0],f=u[1],h=s.selected.indices,d=this._snap_to_vertex(t,i,a),p=o()(d,2);i=p[0],a=p[1];var v=h[0];if(s.selected.indices=[v+1],c){var g=s.get_array(c),m=g[v];g[v]=i,g.splice(v+1,0,m)}if(f){var y=s.get_array(f),_=y[v];y[v]=a,y.splice(v+1,0,_)}return s.change.emit(),void this._emit_cds_changes(this._selected_renderer.data_source,!0,!1,!0)}var b=this._select_mode(t);this._select_event(t,b,[e]),this._select_event(t,b,this.model.renderers)}}},{key:"_remove_vertex",value:function(){if(this._drawing&&this._selected_renderer){var t=this.model.vertex_renderer,e=t.data_source,n=t.glyph,r=e.selected.indices[0],i=[n.x.field,n.y.field],o=i[0],a=i[1];o&&e.get_array(o).splice(r,1),a&&e.get_array(a).splice(r,1),e.change.emit(),this._emit_cds_changes(this._selected_renderer.data_source)}}},{key:"_pan_start",value:function(t){this._select_event(t,"append",[this.model.vertex_renderer]),this._basepoint=[t.sx,t.sy]}},{key:"_pan",value:function(t){null!=this._basepoint&&(this._drag_points(t,[this.model.vertex_renderer]),this._selected_renderer&&this._selected_renderer.data_source.change.emit())}},{key:"_pan_end",value:function(t){null!=this._basepoint&&(this._drag_points(t,[this.model.vertex_renderer]),this._emit_cds_changes(this.model.vertex_renderer.data_source,!1,!0,!0),this._selected_renderer&&this._emit_cds_changes(this._selected_renderer.data_source),this._basepoint=null)}},{key:"_keyup",value:function(t){if(this.model.active&&this._mouse_in_frame){var e,n=Dh(this._selected_renderer?[this.model.vertex_renderer]:this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.keyCode===te.a.Backspace?(this._delete_selected(r),this._selected_renderer&&this._emit_cds_changes(this._selected_renderer.data_source)):t.keyCode==te.a.Esc&&(this._drawing?(this._remove_vertex(),this._drawing=!1):this._selected_renderer&&this._hide_vertices(),r.data_source.selection_manager.clear())}}catch(t){n.e(t)}finally{n.f()}}}},{key:"deactivate",value:function(){this._selected_renderer&&(this._drawing&&(this._remove_vertex(),this._drawing=!1),this._hide_vertices())}}]),n}(Sh);jh.__name__="PolyEditToolView";var Fh=function(t){d()(n,t);var e=Lh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Poly Edit Tool",r.icon="bk-tool-icon-poly-edit",r.event_type=["tap","pan","move"],r.default_order=4,r}return u()(n,null,[{key:"init_PolyEditTool",value:function(){this.prototype.default_view=jh}}]),n}(Rh);function zh(t,e,n){if(null==t)return[];var r="auto"==t?e:t;return n.length>0&&(r=r.filter((function(t){return Object(q.k)(n,t.name)}))),r}function Bh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Uh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Fh.__name__="PolyEditTool",Fh.init_PolyEditTool();var Vh=function(t){d()(n,t);var e=Gh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.model.clear.connect((function(){return t._clear()}))}},{key:"_computed_renderers_by_data_source",value:function(){var t,e,n=new Map,r=Bh(this.computed_renderers);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=void 0;if(i instanceof Wr.a)o=i.data_source;else{if(!(i instanceof zc.a))continue;o=i.node_renderer.data_source}var a=null!==(t=n.get(o))&&void 0!==t?t:[];n.set(o,[].concat(U()(a),[i]))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"_select_mode",value:function(t){var e=t.shiftKey,n=t.ctrlKey;return e||n?e&&!n?"append":!e&&n?"intersect":e&&n?"subtract":void Object(Jt.b)():this.model.mode}},{key:"_keyup",value:function(t){t.keyCode==te.a.Esc&&this._clear()}},{key:"_clear",value:function(){var t,e=Bh(this.computed_renderers);try{for(e.s();!(t=e.n()).done;){t.value.get_selection_manager().clear()}}catch(t){e.e(t)}finally{e.f()}this.plot_view.request_render()}},{key:"_select",value:function(t,e,n){var r,i=Bh(this._computed_renderers_by_data_source());try{for(i.s();!(r=i.n()).done;){var a,s=o()(r.value,2)[1],l=s[0].get_selection_manager(),u=[],c=Bh(s);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=this.plot_view.renderer_views.get(f);null!=h&&u.push(h)}}catch(t){c.e(t)}finally{c.f()}l.select(u,t,e,n)}}catch(t){i.e(t)}finally{i.f()}null!=this.model.callback&&this._emit_callback(t),this._emit_selection_event(t,e)}},{key:"_emit_selection_event",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.plot_view.frame,i=r.xscales.default,a=r.yscales.default;switch(t.type){case"point":var s=t.sx,l=t.sy,u=i.invert(s),c=a.invert(l);e=Object.assign(Object.assign({},t),{x:u,y:c});break;case"span":var f=t.sx,h=t.sy,d=i.invert(f),p=a.invert(h);e=Object.assign(Object.assign({},t),{x:d,y:p});break;case"rect":var v=t.sx0,g=t.sx1,m=t.sy0,y=t.sy1,_=i.r_invert(v,g),b=o()(_,2),A=b[0],w=b[1],x=a.r_invert(m,y),k=o()(x,2),C=k[0],E=k[1];e=Object.assign(Object.assign({},t),{x0:A,y0:C,x1:w,y1:E});break;case"poly":var S=t.sx,R=t.sy,T=i.v_invert(S),I=a.v_invert(R);e=Object.assign(Object.assign({},t),{x:T,y:I})}this.plot_model.trigger_event(new nc.v(e,n))}},{key:"computed_renderers",get:function(){return zh(this.model.renderers,this.plot_model.renderers,this.model.names)}}]),n}(Ou);Vh.__name__="SelectToolView";var Hh=function(t){d()(n,t);var e=Gh(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.clear=new N.b(this,"clear")}},{key:"menu",get:function(){var t=this;return[{icon:"bk-tool-icon-replace-mode",tooltip:"Replace the current selection",active:function(){return"replace"==t.mode},handler:function(){t.mode="replace",t.active=!0}},{icon:"bk-tool-icon-append-mode",tooltip:"Append to the current selection (Shift)",active:function(){return"append"==t.mode},handler:function(){t.mode="append",t.active=!0}},{icon:"bk-tool-icon-intersect-mode",tooltip:"Intersect with the current selection (Ctrl)",active:function(){return"intersect"==t.mode},handler:function(){t.mode="intersect",t.active=!0}},{icon:"bk-tool-icon-subtract-mode",tooltip:"Subtract from the current selection (Shift+Ctrl)",active:function(){return"subtract"==t.mode},handler:function(){t.mode="subtract",t.active=!0}},null,{icon:"bk-tool-icon-clear-selection",tooltip:"Clear the current selection (Esc)",handler:function(){t.clear.emit()}}]}}],[{key:"init_SelectTool",value:function(){this.define({renderers:[b.e,"auto"],names:[b.g,[]],mode:[b.e,"replace"]})}}]),n}(Mu);function qh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Hh.__name__="SelectTool",Hh.init_SelectTool();var Wh=function(t){d()(n,t);var e=qh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_compute_limits",value:function(t){var e=this.plot_view.frame,n=this.model.dimensions,r=this._base_point;if("center"==this.model.origin){var i=r,a=o()(i,2),s=a[0],l=a[1],u=o()(t,2);r=[s-(u[0]-s),l-(u[1]-l)]}return this.model._get_dim_limits(r,t,e,n)}},{key:"_pan_start",value:function(t){var e=t.sx,n=t.sy;this._base_point=[e,n]}},{key:"_pan",value:function(t){var e=[t.sx,t.sy],n=this._compute_limits(e),r=o()(n,2),i=r[0],a=r[1];this.model.overlay.update({left:i[0],right:i[1],top:a[0],bottom:a[1]}),this.model.select_every_mousemove&&this._do_select(i,a,!1,this._select_mode(t))}},{key:"_pan_end",value:function(t){var e=[t.sx,t.sy],n=this._compute_limits(e),r=o()(n,2),i=r[0],a=r[1];this._do_select(i,a,!0,this._select_mode(t)),this.model.overlay.update({left:null,right:null,top:null,bottom:null}),this._base_point=null,this.plot_view.push_state("box_select",{selection:this.plot_view.get_selection()})}},{key:"_do_select",value:function(t,e,n){var r=o()(t,2),i=r[0],a=r[1],s=o()(e,2),l=s[0],u=s[1],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",f={type:"rect",sx0:i,sx1:a,sy0:l,sy1:u};this._select(f,n,c)}}]),n}(Vh);Wh.__name__="BoxSelectToolView";var Yh=function(){return new z({level:"overlay",top_units:"screen",left_units:"screen",bottom_units:"screen",right_units:"screen",fill_color:"lightgrey",fill_alpha:.5,line_color:"black",line_alpha:1,line_width:2,line_dash:[4,4]})},Xh=function(t){d()(n,t);var e=qh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Box Select",r.icon="bk-tool-icon-box-select",r.event_type="pan",r.default_order=30,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_BoxSelectTool",value:function(){this.prototype.default_view=Wh,this.define({dimensions:[b.r,"both"],select_every_mousemove:[b.i,!1],overlay:[b.F,Yh],origin:[b.j,"corner"]}),this.register_alias("box_select",(function(){return new n})),this.register_alias("xbox_select",(function(){return new n({dimensions:"width"})})),this.register_alias("ybox_select",(function(){return new n({dimensions:"height"})}))}}]),n}(Hh);function $h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Xh.__name__="BoxSelectTool",Xh.init_BoxSelectTool();var Jh=function(t){d()(n,t);var e=$h(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_match_aspect",value:function(t,e,n){var r,i,a,s,l=n.bbox.aspect,u=n.bbox.h_range.end,c=n.bbox.h_range.start,f=n.bbox.v_range.end,h=n.bbox.v_range.start,d=Math.abs(t[0]-e[0]),p=Math.abs(t[1]-e[1]),v=0==p?0:d/p,g=v>=l?[1,v/l]:[l/v,1],m=o()(g,1)[0];return t[0]<=e[0]?(r=t[0],(i=t[0]+d*m)>u&&(i=u)):(i=t[0],(r=t[0]-d*m)<c&&(r=c)),d=Math.abs(i-r),t[1]<=e[1]?(s=t[1],(a=t[1]+d/l)>f&&(a=f)):(a=t[1],(s=t[1]-d/l)<h&&(s=h)),p=Math.abs(a-s),t[0]<=e[0]?i=t[0]+l*p:r=t[0]-l*p,[[r,i],[s,a]]}},{key:"_compute_limits",value:function(t){var e,n,r=this.plot_view.frame,i=this.model.dimensions,a=this._base_point;if("center"==this.model.origin){var s=a,l=o()(s,2),u=l[0],c=l[1],f=o()(t,2);a=[u-(f[0]-u),c-(f[1]-c)]}if(this.model.match_aspect&&"both"==i){var h=this._match_aspect(a,t,r),d=o()(h,2);e=d[0],n=d[1]}else{var p=this.model._get_dim_limits(a,t,r,i),v=o()(p,2);e=v[0],n=v[1]}return[e,n]}},{key:"_pan_start",value:function(t){this._base_point=[t.sx,t.sy]}},{key:"_pan",value:function(t){var e=[t.sx,t.sy],n=this._compute_limits(e),r=o()(n,2),i=r[0],a=r[1];this.model.overlay.update({left:i[0],right:i[1],top:a[0],bottom:a[1]})}},{key:"_pan_end",value:function(t){var e=[t.sx,t.sy],n=this._compute_limits(e),r=o()(n,2),i=r[0],a=r[1];this._update(i,a),this.model.overlay.update({left:null,right:null,top:null,bottom:null}),this._base_point=null}},{key:"_update",value:function(t,e){var n=o()(t,2),r=n[0],i=n[1],a=o()(e,2),s=a[0],l=a[1];if(!(Math.abs(i-r)<=5||Math.abs(l-s)<=5)){var u=this.plot_view.frame,c=u.xscales,f=u.yscales,h={};for(var d in c){var p=c[d].r_invert(r,i),v=o()(p,2),g=v[0],m=v[1];h[d]={start:g,end:m}}var y={};for(var _ in f){var b=f[_].r_invert(s,l),A=o()(b,2),w=A[0],x=A[1];y[_]={start:w,end:x}}var k={xrs:h,yrs:y};this.plot_view.push_state("box_zoom",{range:k}),this.plot_view.update_range(k)}}}]),n}(Ou);Jh.__name__="BoxZoomToolView";var Kh=function(){return new z({level:"overlay",top_units:"screen",left_units:"screen",bottom_units:"screen",right_units:"screen",fill_color:"lightgrey",fill_alpha:.5,line_color:"black",line_alpha:1,line_width:2,line_dash:[4,4]})},Qh=function(t){d()(n,t);var e=$h(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Box Zoom",r.icon="bk-tool-icon-box-zoom",r.event_type="pan",r.default_order=20,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_BoxZoomTool",value:function(){this.prototype.default_view=Jh,this.define({dimensions:[b.r,"both"],overlay:[b.F,Kh],match_aspect:[b.i,!1],origin:[b.j,"corner"]}),this.register_alias("box_zoom",(function(){return new n({dimensions:"both"})})),this.register_alias("xbox_zoom",(function(){return new n({dimensions:"width"})})),this.register_alias("ybox_zoom",(function(){return new n({dimensions:"height"})}))}}]),n}(Mu);function Zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Qh.__name__="BoxZoomTool",Qh.init_BoxZoomTool();var td=function(t){d()(n,t);var e=Zh(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.data=null}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.active.change,(function(){return t._active_change()}))}},{key:"_active_change",value:function(){this.model.active||this._clear_overlay()}},{key:"_keyup",value:function(t){t.keyCode==te.a.Enter&&this._clear_overlay()}},{key:"_pan_start",value:function(t){var e=t.sx,n=t.sy;this.data={sx:[e],sy:[n]}}},{key:"_pan",value:function(t){var e=t.sx,n=t.sy,r=this.plot_view.frame.bbox.clip(e,n),i=o()(r,2),a=i[0],s=i[1];this.data.sx.push(a),this.data.sy.push(s),this.model.overlay.update({xs:this.data.sx,ys:this.data.sy}),this.model.select_every_mousemove&&this._do_select(this.data.sx,this.data.sy,!1,this._select_mode(t))}},{key:"_pan_end",value:function(t){this._clear_overlay(),this._do_select(this.data.sx,this.data.sy,!0,this._select_mode(t)),this.plot_view.push_state("lasso_select",{selection:this.plot_view.get_selection()})}},{key:"_clear_overlay",value:function(){this.model.overlay.update({xs:[],ys:[]})}},{key:"_do_select",value:function(t,e,n,r){var i={type:"poly",sx:t,sy:e};this._select(i,n,r)}}]),n}(Vh);td.__name__="LassoSelectToolView";var ed=function(){return new _e({level:"overlay",xs_units:"screen",ys_units:"screen",fill_color:"lightgrey",fill_alpha:.5,line_color:"black",line_alpha:1,line_width:2,line_dash:[4,4]})},nd=function(t){d()(n,t);var e=Zh(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Lasso Select",r.icon="bk-tool-icon-lasso-select",r.event_type="pan",r.default_order=12,r}return u()(n,null,[{key:"init_LassoSelectTool",value:function(){this.prototype.default_view=td,this.define({select_every_mousemove:[b.i,!0],overlay:[b.F,ed]}),this.register_alias("lasso_select",(function(){return new n}))}}]),n}(Hh);function rd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}nd.__name__="LassoSelectTool",nd.init_LassoSelectTool();var id=function(t){d()(n,t);var e=rd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_set_intersection",value:function(t,e){var n=this.model.intersection_renderer.glyph,r=this.model.intersection_renderer.data_source,i=[n.x.field,n.y.field],o=i[0],a=i[1];o&&(Object(ct.a)(t)?r.data[o]=t:n.x={value:t}),a&&(Object(ct.a)(e)?r.data[a]=e:n.y={value:e}),this._emit_cds_changes(r,!0,!0,!1)}},{key:"_hide_intersections",value:function(){this._set_intersection([],[])}}]),n}(uh);id.__name__="LineToolView";var od=function(t){d()(n,t);var e=rd(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_LineTool",value:function(){this.prototype.default_view=id,this.define({intersection_renderer:[b.F]})}}]),n}(ch);function ad(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}od.__name__="LineTool",od.init_LineTool();var ud=function(t){d()(n,t);var e=ld(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments))._drawing=!1,t}return u()(n,[{key:"_doubletap",value:function(t){if(this.model.active){var e,n=ad(this.model.renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value;1==this._select_event(t,"replace",[r]).length&&(this._selected_renderer=r)}}catch(t){n.e(t)}finally{n.f()}this._show_intersections(),this._update_line_cds()}}},{key:"_show_intersections",value:function(){if(this.model.active&&null!=this._selected_renderer){if(!this.model.renderers.length)return this._set_intersection([],[]),this._selected_renderer=null,void(this._drawing=!1);var t=this._selected_renderer.data_source,e=this._selected_renderer.glyph,n=[e.x.field,e.y.field],r=n[0],i=n[1],o=t.get_array(r),a=t.get_array(i);this._set_intersection(o,a)}}},{key:"_tap",value:function(t){var e=this.model.intersection_renderer;if(null!=this._map_drag(t.sx,t.sy,e)){if(this._drawing&&this._selected_renderer){var n=this._select_mode(t);if(0==this._select_event(t,n,[e]).length)return}var r=this._select_mode(t);this._select_event(t,r,[e]),this._select_event(t,r,this.model.renderers)}}},{key:"_update_line_cds",value:function(){if(null!=this._selected_renderer){var t=this.model.intersection_renderer.glyph,e=this.model.intersection_renderer.data_source,n=[t.x.field,t.y.field],r=n[0],i=n[1];if(r&&i){var o=e.data[r],a=e.data[i];this._selected_renderer.data_source.data[r]=o,this._selected_renderer.data_source.data[i]=a}this._emit_cds_changes(this._selected_renderer.data_source,!0,!0,!1)}}},{key:"_pan_start",value:function(t){this._select_event(t,"append",[this.model.intersection_renderer]),this._basepoint=[t.sx,t.sy]}},{key:"_pan",value:function(t){null!=this._basepoint&&(this._drag_points(t,[this.model.intersection_renderer],this.model.dimensions),this._selected_renderer&&this._selected_renderer.data_source.change.emit())}},{key:"_pan_end",value:function(t){null!=this._basepoint&&(this._drag_points(t,[this.model.intersection_renderer]),this._emit_cds_changes(this.model.intersection_renderer.data_source,!1,!0,!0),this._selected_renderer&&this._emit_cds_changes(this._selected_renderer.data_source),this._basepoint=null)}},{key:"activate",value:function(){this._drawing=!0}},{key:"deactivate",value:function(){this._selected_renderer&&(this._drawing&&(this._drawing=!1),this._hide_intersections())}}]),n}(id);ud.__name__="LineEditToolView";var cd=function(t){d()(n,t);var e=ld(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Line Edit Tool",r.icon="bk-tool-icon-line-edit",r.event_type=["tap","pan","move"],r.default_order=4,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_LineEditTool",value:function(){this.prototype.default_view=ud,this.define({dimensions:[b.r,"both"]})}}]),n}(od);function fd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}cd.__name__="LineEditTool",cd.init_LineEditTool();var hd=function(t){d()(n,t);var e=fd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_pan_start",value:function(t){this.last_dx=0,this.last_dy=0;var e=t.sx,n=t.sy,r=this.plot_view.frame.bbox;if(!r.contains(e,n)){var i=r.h_range,o=r.v_range;(e<i.start||e>i.end)&&(this.v_axis_only=!0),(n<o.start||n>o.end)&&(this.h_axis_only=!0)}null!=this.model.document&&this.model.document.interactive_start(this.plot_model)}},{key:"_pan",value:function(t){this._update(t.deltaX,t.deltaY),null!=this.model.document&&this.model.document.interactive_start(this.plot_model)}},{key:"_pan_end",value:function(t){this.h_axis_only=!1,this.v_axis_only=!1,null!=this.pan_info&&this.plot_view.push_state("pan",{range:this.pan_info})}},{key:"_update",value:function(t,e){var n,r,i,a,s,l,u=this.plot_view.frame,c=t-this.last_dx,f=e-this.last_dy,h=u.bbox.h_range,d=h.start-c,p=h.end-c,v=u.bbox.v_range,g=v.start-f,m=v.end-f,y=this.model.dimensions;"width"!=y&&"both"!=y||this.v_axis_only?(n=h.start,r=h.end,i=0):(n=d,r=p,i=-c),"height"!=y&&"both"!=y||this.h_axis_only?(a=v.start,s=v.end,l=0):(a=g,s=m,l=-f),this.last_dx=t,this.last_dy=e;var _=u.xscales,b=u.yscales,A={};for(var w in _){var x=_[w].r_invert(n,r),k=o()(x,2),C=k[0],E=k[1];A[w]={start:C,end:E}}var S={};for(var R in b){var T=b[R].r_invert(a,s),I=o()(T,2),O=I[0],M=I[1];S[R]={start:O,end:M}}this.pan_info={xrs:A,yrs:S,sdx:i,sdy:l},this.plot_view.update_range(this.pan_info,!0)}}]),n}(Ou);hd.__name__="PanToolView";var dd=function(t){d()(n,t);var e=fd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Pan",r.event_type="pan",r.default_order=10,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip("Pan",this.dimensions)}},{key:"icon",get:function(){switch(this.dimensions){case"both":return"bk-tool-icon-pan";case"width":return"bk-tool-icon-xpan";case"height":return"bk-tool-icon-ypan"}}}],[{key:"init_PanTool",value:function(){this.prototype.default_view=hd,this.define({dimensions:[b.r,"both"]}),this.register_alias("pan",(function(){return new n({dimensions:"both"})})),this.register_alias("xpan",(function(){return new n({dimensions:"width"})})),this.register_alias("ypan",(function(){return new n({dimensions:"height"})}))}}]),n}(Mu);function pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}dd.__name__="PanTool",dd.init_PanTool();var vd=function(t){d()(n,t);var e=pd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.data={sx:[],sy:[]}}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.active.change,(function(){return t._active_change()}))}},{key:"_active_change",value:function(){this.model.active||this._clear_data()}},{key:"_keyup",value:function(t){t.keyCode==te.a.Enter&&this._clear_data()}},{key:"_doubletap",value:function(t){this._do_select(this.data.sx,this.data.sy,!0,this._select_mode(t)),this.plot_view.push_state("poly_select",{selection:this.plot_view.get_selection()}),this._clear_data()}},{key:"_clear_data",value:function(){this.data={sx:[],sy:[]},this.model.overlay.update({xs:[],ys:[]})}},{key:"_tap",value:function(t){var e=t.sx,n=t.sy;this.plot_view.frame.bbox.contains(e,n)&&(this.data.sx.push(e),this.data.sy.push(n),this.model.overlay.update({xs:Object(q.d)(this.data.sx),ys:Object(q.d)(this.data.sy)}))}},{key:"_do_select",value:function(t,e,n,r){var i={type:"poly",sx:t,sy:e};this._select(i,n,r)}}]),n}(Vh);vd.__name__="PolySelectToolView";var gd=function(){return new _e({level:"overlay",xs_units:"screen",ys_units:"screen",fill_color:"lightgrey",fill_alpha:.5,line_color:"black",line_alpha:1,line_width:2,line_dash:[4,4]})},md=function(t){d()(n,t);var e=pd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Poly Select",r.icon="bk-tool-icon-polygon-select",r.event_type="tap",r.default_order=11,r}return u()(n,null,[{key:"init_PolySelectTool",value:function(){this.prototype.default_view=vd,this.define({overlay:[b.F,gd]}),this.register_alias("poly_select",(function(){return new n}))}}]),n}(Hh);function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function _d(t){switch(t){case 1:return 2;case 2:return 1;case 4:return 5;case 5:return 4;default:return t}}function bd(t,e,n,r){if(null==e)return!1;var i=n.compute(e);return Math.abs(t-i)<r}function Ad(t,e,n,r,i){var o=!0;if(null!=i.left&&null!=i.right){var a=n.invert(t);(a<i.left||a>i.right)&&(o=!1)}if(null!=i.bottom&&null!=i.top){var s=r.invert(e);(s<i.bottom||s>i.top)&&(o=!1)}return o}function wd(t,e,n){var r=0;return t>=n.start&&t<=n.end&&(r+=1),e>=n.start&&e<=n.end&&(r+=1),r}function xd(t,e,n,r){var i=e.compute(t),o=e.invert(i+n);return o>=r.start&&o<=r.end?o:t}function kd(t,e,n){return t>e.start?(e.end=t,n):(e.end=e.start,e.start=t,_d(n))}function Cd(t,e,n){return t<e.end?(e.start=t,n):(e.start=e.end,e.end=t,_d(n))}function Ed(t,e,n,r){var i=e.r_compute(t.start,t.end),a=o()(i,2),s=a[0],l=a[1],u=e.r_invert(s+n,l+n),c=o()(u,2),f=c[0],h=c[1],d=wd(t.start,t.end,r);wd(f,h,r)>=d&&(t.start=f,t.end=h)}md.__name__="PolySelectTool",md.init_PolySelectTool();var Sd=function(t){d()(n,t);var e=yd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.side=0,this.model.update_overlay_from_ranges()}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),null!=this.model.x_range&&this.connect(this.model.x_range.change,(function(){return t.model.update_overlay_from_ranges()})),null!=this.model.y_range&&this.connect(this.model.y_range.change,(function(){return t.model.update_overlay_from_ranges()}))}},{key:"_pan_start",value:function(t){this.last_dx=0,this.last_dy=0;var e=this.model.x_range,n=this.model.y_range,r=this.plot_view.frame,i=r.xscales.default,o=r.yscales.default,a=this.model.overlay,s=a.left,l=a.right,u=a.top,c=a.bottom,f=this.model.overlay.properties.line_width.value()+2.5;null!=e&&this.model.x_interaction&&(bd(t.sx,s,i,f)?this.side=1:bd(t.sx,l,i,f)?this.side=2:Ad(t.sx,t.sy,i,o,a)&&(this.side=3)),null!=n&&this.model.y_interaction&&(0==this.side&&bd(t.sy,c,o,f)&&(this.side=4),0==this.side&&bd(t.sy,u,o,f)?this.side=5:Ad(t.sx,t.sy,i,o,this.model.overlay)&&(3==this.side?this.side=7:this.side=6))}},{key:"_pan",value:function(t){var e=this.plot_view.frame,n=t.deltaX-this.last_dx,r=t.deltaY-this.last_dy,i=this.model.x_range,o=this.model.y_range,a=e.xscales.default,s=e.yscales.default;if(null!=i)if(3==this.side||7==this.side)Ed(i,a,n,e.x_range);else if(1==this.side){var l=xd(i.start,a,n,e.x_range);this.side=Cd(l,i,this.side)}else if(2==this.side){var u=xd(i.end,a,n,e.x_range);this.side=kd(u,i,this.side)}if(null!=o)if(6==this.side||7==this.side)Ed(o,s,r,e.y_range);else if(4==this.side){var c=xd(o.start,s,r,e.y_range);this.side=Cd(c,o,this.side)}else if(5==this.side){var f=xd(o.end,s,r,e.y_range);this.side=kd(f,o,this.side)}this.last_dx=t.deltaX,this.last_dy=t.deltaY}},{key:"_pan_end",value:function(t){this.side=0}}]),n}(Ou);Sd.__name__="RangeToolView";var Rd=function(){return new z({level:"overlay",fill_color:"lightgrey",fill_alpha:.5,line_color:"black",line_alpha:1,line_width:.5,line_dash:[2,2]})},Td=function(t){d()(n,t);var e=yd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Range Tool",r.icon="bk-tool-icon-range",r.event_type="pan",r.default_order=1,r}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.overlay.in_cursor="grab",this.overlay.ew_cursor=null!=this.x_range&&this.x_interaction?"ew-resize":null,this.overlay.ns_cursor=null!=this.y_range&&this.y_interaction?"ns-resize":null}},{key:"update_overlay_from_ranges",value:function(){null==this.x_range&&null==this.y_range&&(this.overlay.left=null,this.overlay.right=null,this.overlay.bottom=null,this.overlay.top=null,he.a.warn("RangeTool not configured with any Ranges.")),null==this.x_range?(this.overlay.left=null,this.overlay.right=null):(this.overlay.left=this.x_range.start,this.overlay.right=this.x_range.end),null==this.y_range?(this.overlay.bottom=null,this.overlay.top=null):(this.overlay.bottom=this.y_range.start,this.overlay.top=this.y_range.end)}}],[{key:"init_RangeTool",value:function(){this.prototype.default_view=Sd,this.define({x_range:[b.F,null],x_interaction:[b.i,!0],y_range:[b.F,null],y_interaction:[b.i,!0],overlay:[b.F,Rd]})}}]),n}(Mu);function Id(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Od(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Od(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Od(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Md(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Td.__name__="RangeTool",Td.init_RangeTool();var Pd=function(t){d()(n,t);var e=Md(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_tap",value:function(t){var e={type:"point",sx:t.sx,sy:t.sy};this._select(e,!0,this._select_mode(t))}},{key:"_select",value:function(t,e,n){var r=this,i=this.model.callback;if("select"==this.model.behavior){var a,s=Id(this._computed_renderers_by_data_source());try{for(s.s();!(a=s.n()).done;){var l=o()(a.value,2)[1],u=l[0].get_selection_manager(),c=l.map((function(t){return r.plot_view.renderer_views.get(t)}));if(u.select(c,t,e,n)&&null!=i){var f=this.plot_view.frame,h=f.xscales[l[0].x_range_name],d=f.yscales[l[0].y_range_name],p=h.invert(t.sx),v=d.invert(t.sy),g={geometries:Object.assign(Object.assign({},t),{x:p,y:v}),source:u.source};i.execute(this.model,g)}}}catch(t){s.e(t)}finally{s.f()}this._emit_selection_event(t),this.plot_view.push_state("tap",{selection:this.plot_view.get_selection()})}else{var m,y=Id(this.computed_renderers);try{for(y.s();!(m=y.n()).done;){var _=m.value,b=_.get_selection_manager();if(b.inspect(this.plot_view.renderer_views.get(_),t)&&null!=i){var A=this.plot_view.frame,w=A.xscales[_.x_range_name],x=A.yscales[_.y_range_name],k=w.invert(t.sx),C=x.invert(t.sy),E={geometries:Object.assign(Object.assign({},t),{x:k,y:C}),source:b.source};i.execute(this.model,E)}}}catch(t){y.e(t)}finally{y.f()}}}}]),n}(Vh);Pd.__name__="TapToolView";var Dd=function(t){d()(n,t);var e=Md(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Tap",r.icon="bk-tool-icon-tap-select",r.event_type="tap",r.default_order=10,r}return u()(n,null,[{key:"init_TapTool",value:function(){this.prototype.default_view=Pd,this.define({behavior:[b.pb,"select"],callback:[b.e]}),this.register_alias("click",(function(){return new n({behavior:"inspect"})})),this.register_alias("tap",(function(){return new n}))}}]),n}(Hh);function Nd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Dd.__name__="TapTool",Dd.init_TapTool();var Ld=function(t){d()(n,t);var e=Nd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_scroll",value:function(t){var e=this.model.speed*t.delta;e>.9?e=.9:e<-.9&&(e=-.9),this._update_ranges(e)}},{key:"_update_ranges",value:function(t){var e,n,r,i,a=this.plot_view.frame,s=a.bbox.h_range,l=a.bbox.v_range,u=[s.start,s.end],c=u[0],f=u[1],h=[l.start,l.end],d=h[0],p=h[1];switch(this.model.dimension){case"height":var v=Math.abs(p-d);e=c,n=f,r=d-v*t,i=p-v*t;break;case"width":var g=Math.abs(f-c);e=c-g*t,n=f-g*t,r=d,i=p;break;default:throw new Error("this shouldn't have happened")}var m=a.xscales,y=a.yscales,_={};for(var b in m){var A=m[b].r_invert(e,n),w=o()(A,2),x=w[0],k=w[1];_[b]={start:x,end:k}}var C={};for(var E in y){var S=y[E].r_invert(r,i),R=o()(S,2),T=R[0],I=R[1];C[E]={start:T,end:I}}var O={xrs:_,yrs:C,factor:t};this.plot_view.push_state("wheel_pan",{range:O}),this.plot_view.update_range(O,!1,!0),null!=this.model.document&&this.model.document.interactive_start(this.plot_model)}}]),n}(Ou);Ld.__name__="WheelPanToolView";var jd=function(t){d()(n,t);var e=Nd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Wheel Pan",r.icon="bk-tool-icon-wheel-pan",r.event_type="scroll",r.default_order=12,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimension)}}],[{key:"init_WheelPanTool",value:function(){this.prototype.default_view=Ld,this.define({dimension:[b.q,"width"]}),this.internal({speed:[b.V,.001]}),this.register_alias("xwheel_pan",(function(){return new n({dimension:"width"})})),this.register_alias("ywheel_pan",(function(){return new n({dimension:"height"})}))}}]),n}(Mu);function Fd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}jd.__name__="WheelPanTool",jd.init_WheelPanTool();var zd=function(t){d()(n,t);var e=Fd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_pinch",value:function(t){var e,n=t.sx,r=t.sy,i=t.scale,o=t.ctrlKey,a=t.shiftKey;e=i>=1?20*(i-1):-20/i,this._scroll({type:"wheel",sx:n,sy:r,delta:e,ctrlKey:o,shiftKey:a})}},{key:"_scroll",value:function(t){var e=this.plot_view.frame,n=e.bbox.h_range,r=e.bbox.v_range,i=t.sx,o=t.sy,a=this.model.dimensions,s=("width"==a||"both"==a)&&n.start<i&&i<n.end,l=("height"==a||"both"==a)&&r.start<o&&o<r.end;if(s&&l||this.model.zoom_on_axis){var u=Zf(e,this.model.speed*t.delta,s,l,{x:i,y:o});this.plot_view.push_state("wheel_zoom",{range:u}),this.plot_view.update_range(u,!1,!0,this.model.maintain_focus),null!=this.model.document&&this.model.document.interactive_start(this.plot_model)}}}]),n}(Ou);zd.__name__="WheelZoomToolView";var Bd=function(t){d()(n,t);var e=Fd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Wheel Zoom",r.icon="bk-tool-icon-wheel-zoom",r.event_type=ht.c?"pinch":"scroll",r.default_order=10,r}return u()(n,[{key:"tooltip",get:function(){return this._get_dim_tooltip(this.tool_name,this.dimensions)}}],[{key:"init_WheelZoomTool",value:function(){this.prototype.default_view=zd,this.define({dimensions:[b.r,"both"],maintain_focus:[b.i,!0],zoom_on_axis:[b.i,!0],speed:[b.V,1/600]}),this.register_alias("wheel_zoom",(function(){return new n({dimensions:"both"})})),this.register_alias("xwheel_zoom",(function(){return new n({dimensions:"width"})})),this.register_alias("ywheel_zoom",(function(){return new n({dimensions:"height"})}))}}]),n}(Mu);function Ud(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Bd.__name__="WheelZoomTool",Bd.init_WheelZoomTool();var Gd=function(t){d()(n,t);var e=Ud(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"_move",value:function(t){if(this.model.active){var e=t.sx,n=t.sy;this.plot_view.frame.bbox.contains(e,n)?this._update_spans(e,n):this._update_spans(null,null)}}},{key:"_move_exit",value:function(t){this._update_spans(null,null)}},{key:"_update_spans",value:function(t,e){var n=this.model.dimensions;"width"!=n&&"both"!=n||(this.model.spans.width.location=e),"height"!=n&&"both"!=n||(this.model.spans.height.location=t)}}]),n}(Ru);Gd.__name__="CrosshairToolView";var Vd=function(t){d()(n,t);var e=Ud(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Crosshair",r.icon="bk-tool-icon-crosshair",r}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.spans={width:new Ce({for_hover:!0,dimension:"width",location_units:"screen",level:"overlay",line_color:this.line_color,line_width:this.line_width,line_alpha:this.line_alpha}),height:new Ce({for_hover:!0,dimension:"height",location_units:"screen",level:"overlay",line_color:this.line_color,line_width:this.line_width,line_alpha:this.line_alpha})}}},{key:"tooltip",get:function(){return this._get_dim_tooltip("Crosshair",this.dimensions)}},{key:"synthetic_renderers",get:function(){return Object(xt.i)(this.spans)}}],[{key:"init_CrosshairTool",value:function(){this.prototype.default_view=Gd,this.define({dimensions:[b.r,"both"],line_color:[b.m,"black"],line_width:[b.V,1],line_alpha:[b.V,1]}),this.internal({spans:[b.e]}),this.register_alias("crosshair",(function(){return new n}))}}]),n}(Tu);function Hd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}Vd.__name__="CrosshairTool",Vd.init_CrosshairTool();var qd=function(t){d()(n,t);var e=Hd(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"_make_code",value:function(t,e,n,r){return wt()(Function,U()(Object(xt.e)(this.args)).concat([t,e,n,Object(kt.e)(r)]))}},{key:"format",value:function(t,e,n){return this._make_code("value","format","special_vars",this.code).apply(void 0,U()(this.values).concat([t,e,n]))}},{key:"values",get:function(){return Object(xt.i)(this.args)}}],[{key:"init_CustomJSHover",value:function(){this.define({args:[b.e,{}],code:[b.nb,""]})}}]),n}(G.a);function Wd(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Yd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function $d(t,e,n,r,i,o){var a,s,l={x:i[t],y:o[t]},u={x:i[t+1],y:o[t+1]};if("span"==e.type)"h"==e.direction?(a=Math.abs(l.x-n),s=Math.abs(u.x-n)):(a=Math.abs(l.y-r),s=Math.abs(u.y-r));else{var c={x:n,y:r};a=eo.b(l,c),s=eo.b(u,c)}return a<s?[[l.x,l.y],t]:[[u.x,u.y],t+1]}function Jd(t,e,n){return[[t[n],e[n]],n]}qd.__name__="CustomJSHover",qd.init_CustomJSHover();var Kd=function(t){d()(n,t);var e=Xd(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._ttmodels=null,this._ttviews=new Map}},{key:"remove",value:function(){Object(Pe.c)(this._ttviews),f()(m()(n.prototype),"remove",this).call(this)}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this);var e,r=Wd(this.computed_renderers);try{for(r.s();!(e=r.n()).done;){var i=e.value;i instanceof Wr.a?this.connect(i.data_source.inspect,this._update):i instanceof zc.a&&(this.connect(i.node_renderer.data_source.inspect,this._update),this.connect(i.edge_renderer.data_source.inspect,this._update))}}catch(t){r.e(t)}finally{r.f()}this.connect(this.model.properties.renderers.change,(function(){return t._computed_renderers=t._ttmodels=null})),this.connect(this.model.properties.names.change,(function(){return t._computed_renderers=t._ttmodels=null})),this.connect(this.model.properties.tooltips.change,(function(){return t._ttmodels=null}))}},{key:"_compute_ttmodels",value:function(){var t=new Map,e=this.model.tooltips;if(null!=e){var n,r=Wd(this.computed_renderers);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=new Ge({custom:Object(ct.j)(e)||Object(ct.e)(e),attachment:this.model.attachment,show_arrow:this.model.show_arrow});i instanceof Wr.a?t.set(i,o):i instanceof zc.a&&(t.set(i.node_renderer,o),t.set(i.edge_renderer,o))}}catch(t){r.e(t)}finally{r.f()}}return Object(Pe.b)(this._ttviews,U()(t.values()),{parent:this.plot_view}),t}},{key:"_clear",value:function(){this._inspect(1/0,1/0);var t,e=Wd(this.ttmodels);try{for(e.s();!(t=e.n()).done;){o()(t.value,2)[1].clear()}}catch(t){e.e(t)}finally{e.f()}}},{key:"_move",value:function(t){if(this.model.active){var e=t.sx,n=t.sy;this.plot_view.frame.bbox.contains(e,n)?this._inspect(e,n):this._clear()}}},{key:"_move_exit",value:function(){this._clear()}},{key:"_inspect",value:function(t,e){var n;"mouse"==this.model.mode?n={type:"point",sx:t,sy:e}:n={type:"span",direction:"vline"==this.model.mode?"h":"v",sx:t,sy:e};var r,i=Wd(this.computed_renderers);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.get_selection_manager().inspect(this.plot_view.renderer_views.get(o),n)}}catch(t){i.e(t)}finally{i.f()}null!=this.model.callback&&this._emit_callback(n)}},{key:"_update",value:function(t){var e=o()(t,2),n=e[0],r=e[1].geometry;if(this.model.active&&n instanceof Wr.b){var i=n.model;if(!("ignore"==this.model.muted_policy&&i instanceof Wr.a&&i.muted)){var a=this.ttmodels.get(i);if(null!=a){a.clear();var s=i.get_selection_manager(),l=s.inspectors.get(i);if(i instanceof Wr.a&&(l=i.view.convert_selection_to_subset(l)),!l.is_empty()){var u,c=s.source,f=this.plot_view.frame,h=r.sx,d=r.sy,p=f.xscales[i.x_range_name],v=f.yscales[i.y_range_name],g=p.invert(h),m=v.invert(d),y=n.glyph,_=Wd(l.line_indices);try{for(_.s();!(u=_.n()).done;){var b=u.value,A=y._x[b+1],w=y._y[b+1],x=b,k=void 0,C=void 0;switch(this.model.line_policy){case"interp":var E=y.get_interpolation_hit(b,r),S=o()(E,2);A=S[0],w=S[1],k=p.compute(A),C=v.compute(w);break;case"prev":var R=Jd(y.sx,y.sy,b),T=o()(R,2),I=o()(T[0],2);k=I[0],C=I[1],x=T[1];break;case"next":var O=Jd(y.sx,y.sy,b+1),M=o()(O,2),P=o()(M[0],2);k=P[0],C=P[1],x=M[1];break;case"nearest":var D=$d(b,r,h,d,y.sx,y.sy),N=o()(D,2),L=o()(N[0],2);k=L[0],C=L[1],x=N[1],A=y._x[x],w=y._y[x];break;default:k=h,C=d}var j={index:x,x:g,y:m,sx:h,sy:d,data_x:A,data_y:w,rx:k,ry:C,indices:l.line_indices,name:n.model.name};a.add(k,C,this._render_tooltips(c,x,j))}}catch(t){_.e(t)}finally{_.f()}var F,z=Wd(l.image_indices);try{for(z.s();!(F=z.n()).done;){var B=F.value,U={index:B.index,x:g,y:m,sx:h,sy:d},G=this._render_tooltips(c,B,U);a.add(h,d,G)}}catch(t){z.e(t)}finally{z.f()}var V,H=Wd(l.indices);try{for(H.s();!(V=H.n()).done;){var q=V.value;if(Object(xt.d)(l.multiline_indices)){var W=null!=y._x?y._x[q]:void 0,Y=null!=y._y?y._y[q]:void 0,X=void 0,$=void 0;if("snap_to_data"==this.model.point_policy){var J=y.get_anchor_point(this.model.anchor,q,[h,d]);null==J&&(J=y.get_anchor_point("center",q,[h,d])),X=J.x,$=J.y}else X=h,$=d;var K=void 0,Q={index:K=i instanceof Wr.a?i.view.convert_indices_from_subset([q])[0]:q,x:g,y:m,sx:h,sy:d,data_x:W,data_y:Y,indices:l.indices,name:n.model.name};a.add(X,$,this._render_tooltips(c,K,Q))}else{var Z,tt=Wd(l.multiline_indices[q.toString()]);try{for(tt.s();!(Z=tt.n()).done;){var et=Z.value,nt=y._xs[q][et],rt=y._ys[q][et],it=et,ot=void 0,at=void 0;switch(this.model.line_policy){case"interp":var st=y.get_interpolation_hit(q,et,r),lt=o()(st,2);nt=lt[0],rt=lt[1],ot=p.compute(nt),at=v.compute(rt);break;case"prev":var ut=Jd(y.sxs[q],y.sys[q],et),ct=o()(ut,2),ft=o()(ct[0],2);ot=ft[0],at=ft[1],it=ct[1];break;case"next":var ht=Jd(y.sxs[q],y.sys[q],et+1),dt=o()(ht,2),pt=o()(dt[0],2);ot=pt[0],at=pt[1],it=dt[1];break;case"nearest":var vt=$d(et,r,h,d,y.sxs[q],y.sys[q]),gt=o()(vt,2),mt=o()(gt[0],2);ot=mt[0],at=mt[1],it=gt[1],nt=y._xs[q][it],rt=y._ys[q][it];break;default:throw new Error("should't have happened")}var yt=void 0,_t={index:yt=i instanceof Wr.a?i.view.convert_indices_from_subset([q])[0]:q,x:g,y:m,sx:h,sy:d,data_x:nt,data_y:rt,segment_index:it,indices:l.multiline_indices,name:n.model.name};a.add(ot,at,this._render_tooltips(c,yt,_t))}}catch(t){tt.e(t)}finally{tt.f()}}}}catch(t){H.e(t)}finally{H.f()}}}}}}},{key:"_emit_callback",value:function(t){var e,n=Wd(this.computed_renderers);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.data_source.inspected,o=this.plot_view.frame,a=o.xscales[r.x_range_name],s=o.yscales[r.y_range_name],l=a.invert(t.sx),u=s.invert(t.sy),c=Object.assign({x:l,y:u},t);this.model.callback.execute(this.model,{index:i,geometry:c,renderer:r})}}catch(t){n.e(t)}finally{n.f()}}},{key:"_render_tooltips",value:function(t,e,n){var r=this.model.tooltips;if(Object(ct.j)(r)){var i=Object(te.k)();return i.innerHTML=Object(An.a)(r,t,e,this.model.formatters,n),i}if(Object(ct.e)(r))return r(t,n);var a,s=Object(te.k)({style:{display:"table",borderSpacing:"2px"}}),l=Wd(r);try{for(l.s();!(a=l.n()).done;){var u=o()(a.value,2),c=u[0],f=u[1],h=Object(te.k)({style:{display:"table-row"}});s.appendChild(h);var d=void 0;if(d=Object(te.k)({style:{display:"table-cell"},class:"bk-tooltip-row-label"},0!=c.length?"".concat(c,": "):""),h.appendChild(d),d=Object(te.k)({style:{display:"table-cell"},class:"bk-tooltip-row-value"}),h.appendChild(d),f.indexOf("$color")>=0){var p=f.match(/\$color(\[.*\])?:(\w*)/),v=o()(p,3),g=v[1],m=void 0===g?"":g,y=v[2],_=t.get_column(y);if(null==_){var b=Object(te.H)({},"".concat(y," unknown"));d.appendChild(b);continue}var A=m.indexOf("hex")>=0,w=m.indexOf("swatch")>=0,x=Object(ct.g)(e)?_[e]:null;if(null==x){var k=Object(te.H)({},"(null)");d.appendChild(k);continue}A&&(x=Object(ft.b)(x));var C=Object(te.H)({},x);d.appendChild(C),w&&(C=Object(te.H)({class:"bk-tooltip-color-block",style:{backgroundColor:x}}," "),d.appendChild(C))}else{var E=Object(te.H)();E.innerHTML=Object(An.a)(f.replace("$~","$data_"),t,e,this.model.formatters,n),d.appendChild(E)}}}catch(t){l.e(t)}finally{l.f()}return s}},{key:"computed_renderers",get:function(){if(null==this._computed_renderers){var t=this.model.renderers,e=this.plot_model.renderers,n=this.model.names;this._computed_renderers=zh(t,e,n)}return this._computed_renderers}},{key:"ttmodels",get:function(){return null==this._ttmodels&&(this._ttmodels=this._compute_ttmodels()),this._ttmodels}}]),n}(Ru);Kd.__name__="HoverToolView";var Qd=function(t){d()(n,t);var e=Xd(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).tool_name="Hover",r.icon="bk-tool-icon-hover",r}return u()(n,null,[{key:"init_HoverTool",value:function(){this.prototype.default_view=Kd,this.define({tooltips:[b.e,[["index","$index"],["data (x, y)","($x, $y)"],["screen (x, y)","($sx, $sy)"]]],formatters:[b.e,{}],renderers:[b.e,"auto"],names:[b.g,[]],mode:[b.E,"mouse"],muted_policy:[b.R,"show"],point_policy:[b.cb,"snap_to_data"],line_policy:[b.M,"nearest"],show_arrow:[b.i,!0],anchor:[b.a,"center"],attachment:[b.vb,"horizontal"],callback:[b.e]}),this.register_alias("hover",(function(){return new n}))}}]),n}(Tu);Qd.__name__="HoverTool",Qd.init_HoverTool();var Zd=n(119);function tp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ep(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ep(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ep(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var rp=function(t){d()(n,t);var e=np(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this.do=new N.b(this,"do")}},{key:"connect_signals",value:function(){var t=this;f()(m()(n.prototype),"connect_signals",this).call(this),this.connect(this.do,(function(){return t.doit()})),this.connect(this.properties.active.change,(function(){return t.set_active()}));var e,r=tp(this.tools);try{var i=function(){var n=e.value;t.connect(n.properties.active.change,(function(){t.active=n.active}))};for(r.s();!(e=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}},{key:"doit",value:function(){var t,e=tp(this.tools);try{for(e.s();!(t=e.n()).done;){t.value.do.emit()}}catch(t){e.e(t)}finally{e.f()}}},{key:"set_active",value:function(){var t,e=tp(this.tools);try{for(e.s();!(t=e.n()).done;){t.value.active=this.active}}catch(t){e.e(t)}finally{e.f()}}},{key:"button_view",get:function(){return this.tools[0].button_view}},{key:"event_type",get:function(){return this.tools[0].event_type}},{key:"tooltip",get:function(){return this.tools[0].tooltip}},{key:"tool_name",get:function(){return this.tools[0].tool_name}},{key:"icon",get:function(){return this.tools[0].computed_icon}},{key:"computed_icon",get:function(){return this.icon}},{key:"toggleable",get:function(){var t=this.tools[0];return t instanceof Tu&&t.toggleable}},{key:"menu",get:function(){var t=this,e=this.tools[0].menu;if(null==e)return null;var n,r=[],i=tp(Object(Zd.a)(e));try{var a=function(){var e=o()(n.value,2),i=e[0],a=e[1];if(null==i)r.push(null);else{r.push(Object.assign(Object.assign({},i),{handler:function(){var e,n,r,i=tp(t.tools);try{for(i.s();!(r=i.n()).done;){null===(n=null===(e=r.value.menu)||void 0===e?void 0:e[a])||void 0===n||n.handler()}}catch(t){i.e(t)}finally{i.f()}}}))}};for(i.s();!(n=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}return r}}],[{key:"init_ToolProxy",value:function(){this.define({tools:[b.g,[]],active:[b.i,!1],disabled:[b.i,!1]})}}]),n}(G.a);function ip(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return op(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function op(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ap(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}rp.__name__="ToolProxy",rp.init_ToolProxy();var sp=function(t){d()(n,t);var e=ap(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,[{key:"initialize",value:function(){f()(m()(n.prototype),"initialize",this).call(this),this._merge_tools()}},{key:"_merge_tools",value:function(){var t,e=this;this._proxied_tools=[];var n,r={},i={},o={},a=[],s=[],l=ip(this.help);try{for(l.s();!(n=l.n()).done;){var u=n.value;Object(q.k)(s,u.redirect)||(a.push(u),s.push(u.redirect))}}catch(t){l.e(t)}finally{l.f()}for(var c in(t=this._proxied_tools).push.apply(t,a),this.help=a,this.gestures){var f=this.gestures[c];c in o||(o[c]={});var h,d=ip(f.tools);try{for(d.s();!(h=d.n()).done;){var p=h.value;p.type in o[c]||(o[c][p.type]=[]),o[c][p.type].push(p)}}catch(t){d.e(t)}finally{d.f()}}var v,g=ip(this.inspectors);try{for(g.s();!(v=g.n()).done;){var m=v.value;m.type in r||(r[m.type]=[]),r[m.type].push(m)}}catch(t){g.e(t)}finally{g.f()}var y,_=ip(this.actions);try{for(_.s();!(y=_.n()).done;){var b=y.value;b.type in i||(i[b.type]=[]),i[b.type].push(b)}}catch(t){_.e(t)}finally{_.f()}var A=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new rp({tools:t,active:n});return e._proxied_tools.push(r),r};for(var w in o){var x=this.gestures[w];for(var k in x.tools=[],o[w]){var C=o[w][k];if(C.length>0)if("multi"==w){var E,S=ip(C);try{var R=function(){var t=E.value,n=A([t]);x.tools.push(n),e.connect(n.properties.active.change,(function(){return e._active_change(n)}))};for(S.s();!(E=S.n()).done;)R()}catch(t){S.e(t)}finally{S.f()}}else!function(){var t=A(C);x.tools.push(t),e.connect(t.properties.active.change,(function(){return e._active_change(t)}))}()}}for(var T in this.actions=[],i){var I=i[T];if("CustomAction"==T){var O,M=ip(I);try{for(M.s();!(O=M.n()).done;){var P=O.value;this.actions.push(A([P]))}}catch(t){M.e(t)}finally{M.f()}}else I.length>0&&this.actions.push(A(I))}for(var D in this.inspectors=[],r){var N=r[D];N.length>0&&this.inspectors.push(A(N,!0))}for(var L in this.gestures){var j=this.gestures[L];0!=j.tools.length&&(j.tools=Object(q.w)(j.tools,(function(t){return t.default_order})),"pinch"!=L&&"scroll"!=L&&"multi"!=L&&(j.tools[0].active=!0))}}}],[{key:"init_ProxyToolbar",value:function(){this.define({toolbars:[b.g,[]]})}}]),n}($u);sp.__name__="ProxyToolbar",sp.init_ProxyToolbar();var lp=function(t){d()(n,t);var e=ap(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"initialize",value:function(){this.model.toolbar.toolbar_location=this.model.toolbar_location,f()(m()(n.prototype),"initialize",this).call(this)}},{key:"_update_layout",value:function(){this.layout=new Kr.a(this.child_views[0].el),this.model.toolbar.horizontal?this.layout.set_sizing({width_policy:"fit",min_width:100,height_policy:"fixed"}):this.layout.set_sizing({width_policy:"fixed",height_policy:"fit",min_height:100})}},{key:"child_models",get:function(){return[this.model.toolbar]}}]),n}(ls.b);lp.__name__="ToolbarBoxView";var up=function(t){d()(n,t);var e=ap(n);function n(t){return s()(this,n),e.call(this,t)}return u()(n,null,[{key:"init_ToolbarBox",value:function(){this.prototype.default_view=lp,this.define({toolbar:[b.F],toolbar_location:[b.N,"right"]})}}]),n}(ls.a);up.__name__="ToolbarBox",up.init_ToolbarBox()},function(t,e,n){"use strict";n.d(e,"h",(function(){return g})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"g",(function(){return b})),n.d(e,"d",(function(){return A})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"i",(function(){return k}));var r=n(2),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(66),h=n.n(f),d=n(10);n(37);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=Symbol("__ndarray__"),g=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="uint8",o.shape=null!=r?r:[o.length],o}return n}(h()(Uint8Array));g.__name__="Uint8NDArray";var m=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="int8",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Int8Array));m.__name__="Int8NDArray";var y=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="uint16",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Uint16Array));y.__name__="Uint16NDArray";var _=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="int16",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Int16Array));_.__name__="Int16NDArray";var b=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="uint32",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Uint32Array));b.__name__="Uint32NDArray";var A=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="int32",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Int32Array));A.__name__="Int32NDArray";var w=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="float32",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Float32Array));w.__name__="Float32NDArray";var x=function(t){a()(n,t);var e=p(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,t)).__ndarray__=v,o.dtype="float64",o.shape=null!=r?r:k(t)?t.shape:[o.length],o}return n}(h()(Float64Array));function k(t){return Object(d.h)(t)&&t.__ndarray__==v}x.__name__="Float64NDArray"},function(t,e,n){var r=n(168);r.__exportStar(n(67),t.exports),r.__exportStar(n(169),t.exports),r.__exportStar(n(172),t.exports),r.__exportStar(n(173),t.exports),r.__exportStar(n(174),t.exports),r.__exportStar(n(175),t.exports),r.__exportStar(n(176),t.exports)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=Math.min,l=Math.max,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,t),this.width=null!=e.width?e.width:0,this.height=null!=e.height?e.height:0}return a()(t,[{key:"bounded_to",value:function(e){var n=e.width,r=e.height;return new t({width:this.width==1/0&&null!=n?n:this.width,height:this.height==1/0&&null!=r?r:this.height})}},{key:"expanded_to",value:function(e){var n=e.width,r=e.height;return new t({width:n!=1/0?l(this.width,n):this.width,height:r!=1/0?l(this.height,r):this.height})}},{key:"expand_to",value:function(t){var e=t.width,n=t.height;this.width=l(this.width,e),this.height=l(this.height,n)}},{key:"narrowed_to",value:function(e){var n=e.width,r=e.height;return new t({width:s(this.width,n),height:s(this.height,r)})}},{key:"narrow_to",value:function(t){var e=t.width,n=t.height;this.width=s(this.width,e),this.height=s(this.height,n)}},{key:"grow_by",value:function(e){var n=e.left,r=e.right,i=e.top,o=e.bottom;return new t({width:this.width+n+r,height:this.height+i+o})}},{key:"shrink_by",value:function(e){var n=e.left,r=e.right,i=e.top,o=e.bottom;return new t({width:l(this.width-n-r,0),height:l(this.height-i-o,0)})}},{key:"map",value:function(e,n){return new t({width:e(this.width),height:(null!=n?n:e)(this.height)})}}]),t}();u.__name__="Sizeable"},function(t,e,n){(function(t){var r,i,o,a=n(20);o=function(){function t(t,e,n){var r,i=e.day[1];do{r=new Date(Date.UTC(n,e.month,Math.abs(i++)))}while(e.day[0]<7&&r.getUTCDay()!=e.day[0]);return(r={clock:e.clock,sort:r.getTime(),rule:e,save:6e4*e.save,offset:t.offset})[r.clock]=r.sort+6e4*e.time,r.posix?r.wallclock=r[r.clock]+(t.offset+e.saved):r.posix=r[r.clock]-(t.offset+e.saved),r}function e(e,n,r){var i,o,a,s,l,u,c,f=e[e.zone],h=[],d=new Date(r).getUTCFullYear(),p=1;for(i=1,o=f.length;i<o&&!(f[i][n]<=r);i++);if((a=f[i]).rules){for(u=e[a.rules],c=d+1;c>=d-p;--c)for(i=0,o=u.length;i<o;i++)u[i].from<=c&&c<=u[i].to?h.push(t(a,u[i],c)):u[i].to<c&&1==p&&(p=c-u[i].to);for(h.sort((function(t,e){return t.sort-e.sort})),i=0,o=h.length;i<o;i++)r>=h[i][n]&&h[i][h[i].clock]>a[h[i].clock]&&(s=h[i])}return s&&((l=/^(.*)\/(.*)$/.exec(a.format))?s.abbrev=l[s.save?2:1]:s.abbrev=a.format.replace(/%s/,s.rule.letter)),s||a}function n(t,n){return"UTC"==t.zone?n:(t.entry=e(t,"posix",n),n+t.entry.offset+t.entry.save)}function r(t,n){return"UTC"==t.zone?n:(t.entry=r=e(t,"wallclock",n),0<(i=n-r.wallclock)&&i<r.save?null:n-r.offset-r.save);var r,i}function i(t,e,i){var o,a=+(i[1]+1),l=i[2]*a,c=s.indexOf(i[3].toLowerCase());if(c>9)e+=l*u[c-10];else{if(o=new Date(n(t,e)),c<7)for(;l;)o.setUTCDate(o.getUTCDate()+a),o.getUTCDay()==c&&(l-=a);else 7==c?o.setUTCFullYear(o.getUTCFullYear()+l):8==c?o.setUTCMonth(o.getUTCMonth()+l):o.setUTCDate(o.getUTCDate()+l);null==(e=r(t,o.getTime()))&&(e=r(t,o.getTime()+864e5*a)-864e5*a)}return e}var o={clock:function(){return+new Date},zone:"UTC",entry:{abbrev:"UTC",offset:0,save:0},UTC:1,z:function(t,e,n,r){var i,o,a=this.entry.offset+this.entry.save,s=Math.abs(a/1e3),l=[],u=3600;for(i=0;i<3;i++)l.push(("0"+Math.floor(s/u)).slice(-2)),s%=u,u/=60;return"^"!=n||a?("^"==n&&(r=3),3==r?(o=l.join(":"),o=o.replace(/:00$/,""),"^"!=n&&(o=o.replace(/:00$/,""))):r?(o=l.slice(0,r+1).join(":"),"^"==n&&(o=o.replace(/:00$/,""))):o=l.slice(0,2).join(""),o=(a<0?"-":"+")+o,o=o.replace(/([-+])(0)/,{_:" $1","-":"$1"}[n]||"$1$2"),o):"Z"},"%":function(t){return"%"},n:function(t){return"\n"},t:function(t){return"\t"},U:function(t){return c(t,0)},W:function(t){return c(t,1)},V:function(t){return f(t)[0]},G:function(t){return f(t)[1]},g:function(t){return f(t)[1]%100},j:function(t){return Math.floor((t.getTime()-Date.UTC(t.getUTCFullYear(),0))/864e5)+1},s:function(t){return Math.floor(t.getTime()/1e3)},C:function(t){return Math.floor(t.getUTCFullYear()/100)},N:function(t){return t.getTime()%1e3*1e6},m:function(t){return t.getUTCMonth()+1},Y:function(t){return t.getUTCFullYear()},y:function(t){return t.getUTCFullYear()%100},H:function(t){return t.getUTCHours()},M:function(t){return t.getUTCMinutes()},S:function(t){return t.getUTCSeconds()},e:function(t){return t.getUTCDate()},d:function(t){return t.getUTCDate()},u:function(t){return t.getUTCDay()||7},w:function(t){return t.getUTCDay()},l:function(t){return t.getUTCHours()%12||12},I:function(t){return t.getUTCHours()%12||12},k:function(t){return t.getUTCHours()},Z:function(t){return this.entry.abbrev},a:function(t){return this[this.locale].day.abbrev[t.getUTCDay()]},A:function(t){return this[this.locale].day.full[t.getUTCDay()]},h:function(t){return this[this.locale].month.abbrev[t.getUTCMonth()]},b:function(t){return this[this.locale].month.abbrev[t.getUTCMonth()]},B:function(t){return this[this.locale].month.full[t.getUTCMonth()]},P:function(t){return this[this.locale].meridiem[Math.floor(t.getUTCHours()/12)].toLowerCase()},p:function(t){return this[this.locale].meridiem[Math.floor(t.getUTCHours()/12)]},R:function(t,e){return this.convert([e,"%H:%M"])},T:function(t,e){return this.convert([e,"%H:%M:%S"])},D:function(t,e){return this.convert([e,"%m/%d/%y"])},F:function(t,e){return this.convert([e,"%Y-%m-%d"])},x:function(t,e){return this.convert([e,this[this.locale].date])},r:function(t,e){return this.convert([e,this[this.locale].time12||"%I:%M:%S"])},X:function(t,e){return this.convert([e,this[this.locale].time24])},c:function(t,e){return this.convert([e,this[this.locale].dateTime])},convert:function(t){if(!t.length)return"1.0.23";var e,o,s,u,c,f=Object.create(this),h=[];for(e=0;e<t.length;e++)if(u=t[e],Array.isArray(u))e||isNaN(u[1])?u.splice.apply(t,[e--,1].concat(u)):c=u;else if(isNaN(u)){if("string"==(s=a(u)))~u.indexOf("%")?f.format=u:e||"*"!=u?!e&&(s=/^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|(([+-])(\d{2}(:\d{2}){0,2})))?)?$/.exec(u))?((c=[]).push.apply(c,s.slice(1,8)),s[9]?(c.push(s[10]+1),c.push.apply(c,s[11].split(/:/))):s[8]&&c.push(1)):/^\w{2,3}_\w{2}$/.test(u)?f.locale=u:(s=l.exec(u))?h.push(s):f.zone=u:c=u;else if("function"==s){if(s=u.call(f))return s}else if(/^\w{2,3}_\w{2}$/.test(u.name))f[u.name]=u;else if(u.zones){for(s in u.zones)f[s]=u.zones[s];for(s in u.rules)f[s]=u.rules[s]}}else e||(c=u);if(f[f.locale]||delete f.locale,f[f.zone]||delete f.zone,null!=c){if("*"==c)c=f.clock();else if(Array.isArray(c)){for(s=[],o=!c[7],e=0;e<11;e++)s[e]=+(c[e]||0);--s[1],c=Date.UTC.apply(Date.UTC,s)+-s[7]*(36e5*s[8]+6e4*s[9]+1e3*s[10])}else c=Math.floor(c);if(!isNaN(c)){if(o&&(c=r(f,c)),null==c)return c;for(e=0,o=h.length;e<o;e++)c=i(f,c,h[e]);return f.format?(s=new Date(n(f,c)),f.format.replace(/%([-0_^]?)(:{0,3})(\d*)(.)/g,(function(t,e,n,r,i){var o,a,l="0";if(o=f[i]){for(t=String(o.call(f,s,c,e,n.length)),"_"==(e||o.style)&&(l=" "),a="-"==e?0:o.pad||0;t.length<a;)t=l+t;for(a="-"==e?0:r||o.pad;t.length<a;)t=l+t;"N"==i&&a<t.length&&(t=t.slice(0,a)),"^"==e&&(t=t.toUpperCase())}return t}))):c}}return function(){return f.convert(arguments)}},locale:"en_US",en_US:{date:"%m/%d/%Y",time24:"%I:%M:%S %p",time12:"%I:%M:%S %p",dateTime:"%a %d %b %Y %I:%M:%S %p %Z",meridiem:["AM","PM"],month:{abbrev:"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),full:"January|February|March|April|May|June|July|August|September|October|November|December".split("|")},day:{abbrev:"Sun|Mon|Tue|Wed|Thu|Fri|Sat".split("|"),full:"Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|")}}},s="Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|year|month|day|hour|minute|second|millisecond",l=new RegExp("^\\s*([+-])(\\d+)\\s+("+s+")s?\\s*$","i"),u=[36e5,6e4,1e3,1];function c(t,e){var n,r,i;return r=new Date(Date.UTC(t.getUTCFullYear(),0)),n=Math.floor((t.getTime()-r.getTime())/864e5),r.getUTCDay()==e?i=0:8==(i=7-r.getUTCDay()+e)&&(i=1),n>=i?Math.floor((n-i)/7)+1:0}function f(t){var e,n,r;return n=t.getUTCFullYear(),e=new Date(Date.UTC(n,0)).getUTCDay(),(r=c(t,1)+(e>1&&e<=4?1:0))?53!=r||4==e||3==e&&29==new Date(n,1,29).getDate()?[r,t.getUTCFullYear()]:[1,t.getUTCFullYear()+1]:(n=t.getUTCFullYear()-1,[r=4==(e=new Date(Date.UTC(n,0)).getUTCDay())||3==e&&29==new Date(n,1,29).getDate()?53:52,t.getUTCFullYear()-1])}return s=s.toLowerCase().split("|"),"delmHMSUWVgCIky".replace(/./g,(function(t){o[t].pad=2})),o.N.pad=9,o.j.pad=3,o.k.style="_",o.l.style="_",o.e.style="_",function(){return o.convert(arguments)}},"object"==a(t)&&t.exports?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}).call(this,n(107)(t))},function(t,e,n){"use strict";n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return A})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"h",(function(){return k})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return E}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(0),c=n.n(u),f=n(2),h=n.n(f),d=n(44);function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=function t(e){h()(this,t),this.document=e};m.__name__="DocumentEvent";var y=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).events=r,o.setter_id=i,o}return n}(m);y.__name__="DocumentEventBatch";var _=function(t){a()(n,t);var e=g(n);function n(){return h()(this,n),e.apply(this,arguments)}return n}(m);_.__name__="DocumentChangedEvent";var b=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).msg_type=r,o.msg_data=i,o}return i()(n,[{key:"json",value:function(t){var e=this.msg_data,n=d.a._value_to_json(e),r=new Set;return d.a._value_record_references(e,r,{recursive:!0}),{kind:"MessageSent",msg_type:this.msg_type,msg_data:n}}}]),n}(_);b.__name__="MessageSentEvent";var A=function(t){a()(n,t);var e=g(n);function n(t,r,i,o,a,s,l){var u;return h()(this,n),(u=e.call(this,t)).model=r,u.attr=i,u.old=o,u.new_=a,u.setter_id=s,u.hint=l,u}return i()(n,[{key:"json",value:function(t){if("id"===this.attr)throw new Error("'id' field should never change, whatever code just set it is wrong");if(null!=this.hint)return this.hint.json(t);var e=this.new_,n=d.a._value_to_json(e),r=new Set;d.a._value_record_references(e,r,{recursive:!0}),r.has(this.model)&&this.model!==e&&r.delete(this.model);var i,o=p(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.add(a)}}catch(t){o.e(t)}finally{o.f()}return{kind:"ModelChanged",model:this.model.ref(),attr:this.attr,new:n}}}]),n}(_);A.__name__="ModelChangedEvent";var w=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).column_source=r,o.patches=i,o}return i()(n,[{key:"json",value:function(t){return{kind:"ColumnsPatched",column_source:this.column_source,patches:this.patches}}}]),n}(_);w.__name__="ColumnsPatchedEvent";var x=function(t){a()(n,t);var e=g(n);function n(t,r,i,o){var a;return h()(this,n),(a=e.call(this,t)).column_source=r,a.data=i,a.rollover=o,a}return i()(n,[{key:"json",value:function(t){return{kind:"ColumnsStreamed",column_source:this.column_source,data:this.data,rollover:this.rollover}}}]),n}(_);x.__name__="ColumnsStreamedEvent";var k=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).title=r,o.setter_id=i,o}return i()(n,[{key:"json",value:function(t){return{kind:"TitleChanged",title:this.title}}}]),n}(_);k.__name__="TitleChangedEvent";var C=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).model=r,o.setter_id=i,o}return i()(n,[{key:"json",value:function(t){return d.a._value_record_references(this.model,t,{recursive:!0}),{kind:"RootAdded",model:this.model.ref()}}}]),n}(_);C.__name__="RootAddedEvent";var E=function(t){a()(n,t);var e=g(n);function n(t,r,i){var o;return h()(this,n),(o=e.call(this,t)).model=r,o.setter_id=i,o}return i()(n,[{key:"json",value:function(t){return{kind:"RootRemoved",model:this.model.ref()}}}]),n}(_);E.__name__="RootRemovedEvent"},function(t,e,n){t.exports="undefined"!=typeof $?$:n(167)},function(t,e,n){var r=n(121),i=n(162);function o(e,n,a){return i()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(7),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(109),g=n(22),m=n(15),y=n(116),_=n(1),b=n(10),A=n(9),w=n(16),x=n(18),k=n(113);function C(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var R=function(t){c()(n,t);var e=S(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"get_array",value:function(t){var e=this.data[t];return null==e?this.data[t]=e=[]:Object(b.a)(e)||(this.data[t]=e=Array.from(e)),e}},{key:"initialize",value:function(){l()(p()(n.prototype),"initialize",this).call(this),this._select=new g.b(this,"select"),this.inspect=new g.a(this,"inspect"),this.streaming=new g.b(this,"streaming"),this.patching=new g.a(this,"patching")}},{key:"get_column",value:function(t){var e=this.data[t];return null!=e?e:null}},{key:"columns",value:function(){return Object(w.e)(this.data)}},{key:"get_length",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=Object(A.B)(Object(w.i)(this.data).map((function(t){return t.length})));switch(e.length){case 0:return null;case 1:return e[0];default:var n="data source has columns of inconsistent lengths";if(t)return m.a.warn(n),e.sort()[0];throw new Error(n)}}},{key:"get_indices",value:function(){var t=this.get_length();return Object(A.q)(0,null!=t?t:1)}},{key:"clear",value:function(){var t,e={},n=C(this.columns());try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r]=new this.data[r].constructor(0)}}catch(t){n.e(t)}finally{n.f()}this.data=e}}],[{key:"init_ColumnarDataSource",value:function(){this.define({selection_policy:[_.F,function(){return new k.c}]}),this.internal({selection_manager:[_.F,function(t){return new y.a({source:t})}],inspected:[_.F,function(){return new x.a}]})}}]),n}(v.a);R.__name__="ColumnarDataSource",R.init_ColumnarDataSource()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a}));var r,i=(r="undefined"!=typeof navigator?navigator.userAgent:"").indexOf("MSIE")>=0||r.indexOf("Trident")>0||r.indexOf("Edge")>0,o="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0),a=function(){var t=new ArrayBuffer(4),e=new Uint8Array(t);new Uint32Array(t)[1]=168496141;var n=!0;return 10==e[4]&&11==e[5]&&12==e[6]&&13==e[7]&&(n=!1),n}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return A}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(7),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(46),g=n(69),m=n(1),y=n(19);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var b=function(t){c()(n,t);var e=_(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"initialize",value:function(){l()(p()(n.prototype),"initialize",this).call(this),this.visuals=new g.b(this.model),this._has_finished=!0}},{key:"request_render",value:function(){this.plot_view.request_render()}},{key:"map_to_screen",value:function(t,e){return this.plot_view.map_to_screen(t,e,this.model.x_range_name,this.model.y_range_name)}},{key:"notify_finished",value:function(){this.plot_view.notify_finished()}},{key:"plot_view",get:function(){return this.parent}},{key:"plot_model",get:function(){return this.parent.model}},{key:"layer",get:function(){var t=this.plot_view.canvas_view;return"overlay"==this.model.level?t.overlays:t.primary}},{key:"needs_clip",get:function(){return!1}},{key:"has_webgl",get:function(){return!1}}]),n}(v.a);b.__name__="RendererView";var A=function(t){c()(n,t);var e=_(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_Renderer",value:function(){this.define({level:[m.eb],visible:[m.i,!0]})}}]),n}(y.a);A.__name__="Renderer",A.init_Renderer()},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r="bk-menu",i="bk-caret",o="bk-divider"},function(t,e,n){var r=n(0),i=n(121),o=n(161),a=n(61);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},function(t,e,n){var r=n(60);function i(){var t=!1,e=!1;this.stopPropagation=function(){t=!0},this.isPropagationStopped=function(){return t},this.stopImmediatePropagation=function(){e=!0},this.isImmediatePropagationStopped=function(){return e}}function o(){this.__nonDataRow=!0}function a(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function s(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function l(){var t=null;this.isActive=function(e){return e?t===e:null!==t},this.activate=function(e){if(e!==t){if(null!==t)throw new Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!e.commitCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!e.cancelCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");t=e}},this.deactivate=function(e){if(t!==e)throw new Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");t=null},this.commitCurrentEdit=function(){return!t||t.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!t||t.cancelCurrentEdit()}}a.prototype=new o,a.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title},s.prototype=new o,t.exports={Event:function(){var t=[];this.subscribe=function(e){t.push(e)},this.unsubscribe=function(e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},this.notify=function(e,n,r){var o;n=n||new i,r=r||this;for(var a=0;a<t.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();a++)o=t[a].call(r,n,e);return o}},EventData:i,EventHandler:function(){var t=[];this.subscribe=function(e,n){return t.push({event:e,handler:n}),e.subscribe(n),this},this.unsubscribe=function(e,n){for(var r=t.length;r--;)if(t[r].event===e&&t[r].handler===n)return t.splice(r,1),void e.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var e=t.length;e--;)t[e].event.unsubscribe(t[e].handler);return t=[],this}},Range:function(t,e,n,r){void 0===n&&void 0===r&&(n=t,r=e),this.fromRow=Math.min(t,n),this.fromCell=Math.min(e,r),this.toRow=Math.max(t,n),this.toCell=Math.max(e,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:o,Group:a,GroupTotals:s,EditorLock:l,GlobalEditorLock:new l,TreeColumns:function(t){var e={};function n(t,e){return t.filter((function(t){var r=e.call(t);return r&&t.columns&&(t.columns=n(t.columns,e)),r&&(!t.columns||t.columns.length)}))}function i(t){return void 0===t?-1:t}function o(t){var e=[];if(t.hasOwnProperty("length"))for(var n=0;n<t.length;n++)e=e.concat(o(t[n]));else{if(!t.hasOwnProperty("columns"))return t;e=e.concat(o(t.columns))}return e}function a(){return r.extend(!0,[],t)}!function t(n){n.forEach((function(n){e[n.id]=n,n.columns&&t(n.columns)}))}(t),this.hasDepth=function(){for(var e in t)if(t[e].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return t},this.extractColumns=function(){return this.hasDepth()?o(t):t},this.getDepth=function(){return function t(e){if(!e.length)return e.columns?1+t(e.columns):1;for(var n in e)return t(e[n])}(t)},this.getColumnsInDepth=function(e){return function t(e,n,r){var i=[];if(n==(r=r||0))return e.length&&e.forEach((function(t){t.columns&&(t.extractColumns=function(){return o(t)})})),e;for(var a in e)e[a].columns&&(i=i.concat(t(e[a].columns,n,r+1)));return i}(t,e)},this.getColumnsInGroup=function(t){return o(t)},this.visibleColumns=function(){return n(a(),(function(){return this.visible}))},this.filter=function(t){return n(a(),t)},this.reOrder=function(e){return function t(e,n){e.sort((function(t,e){return i(n.getColumnIndex(t.id))-i(n.getColumnIndex(e.id))})).forEach((function(e){e.columns&&t(e.columns,n)}))}(t,e)},this.getById=function(t){return e[t]},this.getInIds=function(t){return t.map((function(t){return e[t]}))}},keyCode:{SPACE:8,BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,ESC:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,A:65,C:67,V:86},preClickClassName:"slick-edit-preclick",GridAutosizeColsMode:{None:"NOA",LegacyOff:"LOF",LegacyForceFit:"LFF",IgnoreViewport:"IGV",FitColsToViewport:"FCV",FitViewportToCols:"FVC"},ColAutosizeMode:{Locked:"LCK",Guide:"GUI",Content:"CON",ContentIntelligent:"CTI"},RowSelectionMode:{FirstRow:"FS1",FirstNRows:"FSN",AllRows:"ALL",LastRow:"LS1"},ValueFilterMode:{None:"NONE",DeDuplicate:"DEDP",GetGreatestAndSub:"GR8T",GetLongestTextAndSub:"LNSB",GetLongestText:"LNSC"},WidthEvalMode:{CanvasTextSize:"CANV",HTML:"HTML"}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return P}));var r=n(6),i=n.n(r),o=n(7),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(2),p=n.n(d),v=n(4),g=n.n(v),m=n(12),y=n(1),_=n(52),b=n(17);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e,n){t.moveTo(0,n+.5),t.lineTo(e,n+.5),t.stroke()}function C(t,e,n){t.moveTo(n+.5,0),t.lineTo(n+.5,e),t.stroke()}function E(t,e){t.moveTo(0,e),t.lineTo(e,0),t.stroke(),t.moveTo(0,0),t.lineTo(e,e),t.stroke()}function S(t,e,n,r){var i=n,o=i/2,a=o/2,s=function(t){var e=document.createElement("canvas");return e.width=t,e.height=t,e}(n),l=s.getContext("2d");switch(l.strokeStyle=e,l.lineCap="square",l.fillStyle=e,l.lineWidth=r,t){case" ":case"blank":break;case".":case"dot":l.arc(o,o,o/2,0,2*Math.PI,!0),l.fill();break;case"o":case"ring":l.arc(o,o,o/2,0,2*Math.PI,!0),l.stroke();break;case"-":case"horizontal_line":k(l,i,o);break;case"|":case"vertical_line":C(l,i,o);break;case"+":case"cross":k(l,i,o),C(l,i,o);break;case'"':case"horizontal_dash":k(l,o,o);break;case":":case"vertical_dash":C(l,o,o);break;case"@":case"spiral":var u=i/30;l.moveTo(o,o);for(var c=0;c<360;c++){var f=.1*c,h=o+u*f*Math.cos(f),d=o+u*f*Math.sin(f);l.lineTo(h,d)}l.stroke();break;case"/":case"right_diagonal_line":l.moveTo(.5-a,i),l.lineTo(a+.5,0),l.stroke(),l.moveTo(a+.5,i),l.lineTo(3*a+.5,0),l.stroke(),l.moveTo(3*a+.5,i),l.lineTo(5*a+.5,0),l.stroke(),l.stroke();break;case"\\":case"left_diagonal_line":l.moveTo(a+.5,i),l.lineTo(.5-a,0),l.stroke(),l.moveTo(3*a+.5,i),l.lineTo(a+.5,0),l.stroke(),l.moveTo(5*a+.5,i),l.lineTo(3*a+.5,0),l.stroke(),l.stroke();break;case"x":case"diagonal_cross":E(l,i);break;case",":case"right_diagonal_dash":l.moveTo(a+.5,3*a+.5),l.lineTo(3*a+.5,a+.5),l.stroke();break;case"`":case"left_diagonal_dash":l.moveTo(a+.5,a+.5),l.lineTo(3*a+.5,3*a+.5),l.stroke();break;case"v":case"horizontal_wave":l.moveTo(0,a),l.lineTo(o,3*a),l.lineTo(i,a),l.stroke();break;case">":case"vertical_wave":l.moveTo(a,0),l.lineTo(3*a,o),l.lineTo(a,i),l.stroke();break;case"*":case"criss_cross":E(l,i),k(l,i,o),C(l,i,o)}return s}var R=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p()(this,t),this.obj=e,this.prefix=n,this.cache={};var r,i=w(this.attrs);try{for(i.s();!(r=i.n()).done;){var o=r.value;this[o]=e.properties[n+o]}}catch(t){i.e(t)}finally{i.f()}}return g()(t,[{key:"warm_cache",value:function(t){var e,n=w(this.attrs);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.obj.properties[this.prefix+r];if(void 0!==i.spec.value)this.cache[r]=i.spec.value;else{if(!(null!=t&&i instanceof y.xb))throw new Error("source is required with a vectorized visual property");this.cache[r+"_array"]=i.array(t)}}}catch(t){n.e(t)}finally{n.f()}}},{key:"cache_select",value:function(t,e){var n,r=this.obj.properties[this.prefix+t];return void 0!==r.spec.value?this.cache[t]=n=r.spec.value:this.cache[t]=n=this.cache[t+"_array"][e],n}},{key:"get_array",value:function(t){var e=this.cache[t+"_array"];return null!=this.all_indices?Object(b.j)(this.all_indices,(function(t){return e[t]})):e}},{key:"set_vectorize",value:function(t,e){null!=this.all_indices?this._set_vectorize(t,this.all_indices[e]):this._set_vectorize(t,e)}}]),t}();R.__name__="ContextProperties";var T=function(t){l()(n,t);var e=A(n);function n(){return p()(this,n),e.apply(this,arguments)}return g()(n,[{key:"set_value",value:function(t){t.strokeStyle=this.line_color.value(),t.globalAlpha=this.line_alpha.value(),t.lineWidth=this.line_width.value(),t.lineJoin=this.line_join.value(),t.lineCap=this.line_cap.value(),t.setLineDash(this.line_dash.value()),t.setLineDashOffset(this.line_dash_offset.value())}},{key:"_set_vectorize",value:function(t,e){this.cache_select("line_color",e),t.strokeStyle=this.cache.line_color,this.cache_select("line_alpha",e),t.globalAlpha=this.cache.line_alpha,this.cache_select("line_width",e),t.lineWidth=this.cache.line_width,this.cache_select("line_join",e),t.lineJoin=this.cache.line_join,this.cache_select("line_cap",e),t.lineCap=this.cache.line_cap,this.cache_select("line_dash",e),t.setLineDash(this.cache.line_dash),this.cache_select("line_dash_offset",e),t.setLineDashOffset(this.cache.line_dash_offset)}},{key:"color_value",value:function(){return Object(_.a)(this.line_color.value(),this.line_alpha.value())}},{key:"doit",get:function(){return!(null===this.line_color.spec.value||0==this.line_alpha.spec.value||0==this.line_width.spec.value)}}]),n}(R);T.__name__="Line",T.prototype.attrs=Object.keys(m.f);var I=function(t){l()(n,t);var e=A(n);function n(){return p()(this,n),e.apply(this,arguments)}return g()(n,[{key:"set_value",value:function(t){t.fillStyle=this.fill_color.value(),t.globalAlpha=this.fill_alpha.value()}},{key:"_set_vectorize",value:function(t,e){this.cache_select("fill_color",e),t.fillStyle=this.cache.fill_color,this.cache_select("fill_alpha",e),t.globalAlpha=this.cache.fill_alpha}},{key:"color_value",value:function(){return Object(_.a)(this.fill_color.value(),this.fill_alpha.value())}},{key:"doit",get:function(){return!(null===this.fill_color.spec.value||0==this.fill_alpha.spec.value)}}]),n}(R);I.__name__="Fill",I.prototype.attrs=Object.keys(m.b);var O=function(t){l()(n,t);var e=A(n);function n(){return p()(this,n),e.apply(this,arguments)}return g()(n,[{key:"cache_select",value:function(t,e){var r;if("pattern"==t){this.cache_select("hatch_color",e),this.cache_select("hatch_scale",e),this.cache_select("hatch_pattern",e),this.cache_select("hatch_weight",e);var i=this.cache,o=i.hatch_color,s=i.hatch_scale,l=i.hatch_pattern,u=i.hatch_weight,c=i.hatch_extra;if(null!=c&&c.hasOwnProperty(l)){var f=c[l];this.cache.pattern=f.get_pattern(o,s,u)}else this.cache.pattern=function(t){var e=S(l,o,s,u);return t.createPattern(e,"repeat")}}else r=a()(h()(n.prototype),"cache_select",this).call(this,t,e);return r}},{key:"_try_defer",value:function(t){var e=this.cache,n=e.hatch_pattern,r=e.hatch_extra;null!=r&&r.hasOwnProperty(n)&&r[n].onload(t)}},{key:"doit2",value:function(t,e,n,r){this.doit&&(this.cache_select("pattern",e),null==this.cache.pattern(t)?this._try_defer(r):(this.set_vectorize(t,e),n()))}},{key:"_set_vectorize",value:function(t,e){this.cache_select("pattern",e),t.fillStyle=this.cache.pattern(t),this.cache_select("hatch_alpha",e),t.globalAlpha=this.cache.hatch_alpha}},{key:"color_value",value:function(){return Object(_.a)(this.hatch_color.value(),this.hatch_alpha.value())}},{key:"doit",get:function(){return!(null===this.hatch_color.spec.value||0==this.hatch_alpha.spec.value||" "==this.hatch_pattern.spec.value||"blank"==this.hatch_pattern.spec.value||null===this.hatch_pattern.spec.value)}}]),n}(R);O.__name__="Hatch",O.prototype.attrs=Object.keys(m.d);var M=function(t){l()(n,t);var e=A(n);function n(){return p()(this,n),e.apply(this,arguments)}return g()(n,[{key:"color_value",value:function(){return Object(_.a)(this.text_color.value(),this.text_alpha.value())}},{key:"font_value",value:function(){var t=this.text_font.value(),e=this.text_font_size.value(),n=this.text_font_style.value();return"".concat(n," ").concat(e," ").concat(t)}},{key:"v_font_value",value:function(t){a()(h()(n.prototype),"cache_select",this).call(this,"text_font_style",t),a()(h()(n.prototype),"cache_select",this).call(this,"text_font_size",t),a()(h()(n.prototype),"cache_select",this).call(this,"text_font",t);var e=this.cache,r=e.text_font_style,i=e.text_font_size,o=e.text_font;return"".concat(r," ").concat(i," ").concat(o)}},{key:"cache_select",value:function(t,e){var r;return"font"==t?this.cache.font=r=this.v_font_value(e):r=a()(h()(n.prototype),"cache_select",this).call(this,t,e),r}},{key:"set_value",value:function(t){t.font=this.font_value(),t.fillStyle=this.text_color.value(),t.globalAlpha=this.text_alpha.value(),t.textAlign=this.text_align.value(),t.textBaseline=this.text_baseline.value()}},{key:"_set_vectorize",value:function(t,e){this.cache_select("font",e),t.font=this.cache.font,this.cache_select("text_color",e),t.fillStyle=this.cache.text_color,this.cache_select("text_alpha",e),t.globalAlpha=this.cache.text_alpha,this.cache_select("text_align",e),t.textAlign=this.cache.text_align,this.cache_select("text_baseline",e),t.textBaseline=this.cache.text_baseline}},{key:"doit",get:function(){return!(null===this.text_color.spec.value||0==this.text_alpha.spec.value)}}]),n}(R);M.__name__="Text",M.prototype.attrs=Object.keys(m.h);var P=function(){function t(e){p()(this,t);var n,r=w(e._mixins);try{for(r.s();!(n=r.n()).done;){var o=n.value.split(":"),a=i()(o,2),s=a[0],l=a[1],u=void 0===l?"":l,c=void 0;switch(s){case"line":c=T;break;case"fill":c=I;break;case"hatch":c=O;break;case"text":c=M;break;default:throw new Error("unknown visual: ".concat(s))}this[u+s]=new c(e,u)}}catch(t){r.e(t)}finally{r.f()}}return g()(t,[{key:"warm_cache",value:function(t){for(var e in this)if(this.hasOwnProperty(e)){var n=this[e];n instanceof R&&n.warm_cache(t)}}},{key:"set_all_indices",value:function(t){for(var e in this)if(this.hasOwnProperty(e)){var n=this[e];n instanceof R&&(n.all_indices=t)}}}]),t}();P.__name__="Visuals"},function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return S}));var r=n(14),i=n.n(r),o=n(6),a=n.n(o),s=n(21),l=n.n(s),u=n(2),c=n.n(u),f=n(4),h=n.n(f),d=n(7),p=n.n(d),v=n(3),g=n.n(v),m=n(5),y=n.n(m),_=n(0),b=n.n(_),A=n(77),w=n(100),x=n(1),k=n(39);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var E=function(t){g()(r,t);var e,n=C(r);function r(){return c()(this,r),n.apply(this,arguments)}return h()(r,[{key:"initialize",value:function(){p()(b()(r.prototype),"initialize",this).call(this),this.xscale=this.plot_view.frame.xscales.default,this.yscale=this.plot_view.frame.yscales.default,this._renderer_views=new Map}},{key:"lazy_initialize",value:(e=l()(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.b)(this._renderer_views,[this.model.node_renderer,this.model.edge_renderer],{parent:this.parent});case 2:e=t.sent,n=a()(e,2),this.node_view=n[0],this.edge_view=n[1],this.set_data();case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"remove",value:function(){Object(k.c)(this._renderer_views),p()(b()(r.prototype),"remove",this).call(this)}},{key:"connect_signals",value:function(){var t=this;p()(b()(r.prototype),"connect_signals",this).call(this),this.connect(this.model.layout_provider.change,(function(){return t.set_data()})),this.connect(this.model.node_renderer.data_source._select,(function(){return t.set_data()})),this.connect(this.model.node_renderer.data_source.inspect,(function(){return t.set_data()})),this.connect(this.model.node_renderer.data_source.change,(function(){return t.set_data()})),this.connect(this.model.edge_renderer.data_source._select,(function(){return t.set_data()})),this.connect(this.model.edge_renderer.data_source.inspect,(function(){return t.set_data()})),this.connect(this.model.edge_renderer.data_source.change,(function(){return t.set_data()}));var e=this.plot_view.frame,n=e.x_ranges,i=e.y_ranges;for(var o in n){var a=n[o];this.connect(a.change,(function(){return t.set_data()}))}for(var s in i){var l=i[s];this.connect(l.change,(function(){return t.set_data()}))}}},{key:"set_data",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node_view.glyph.model.setv({x_range_name:this.model.x_range_name,y_range_name:this.model.y_range_name},{silent:!0}),this.edge_view.glyph.model.setv({x_range_name:this.model.x_range_name,y_range_name:this.model.y_range_name},{silent:!0});var e=this.node_view.glyph,n=this.model.layout_provider.get_node_coordinates(this.model.node_renderer.data_source),r=a()(n,2);e._x=r[0],e._y=r[1];var i=this.edge_view.glyph,o=this.model.layout_provider.get_edge_coordinates(this.model.edge_renderer.data_source),s=a()(o,2);i._xs=s[0],i._ys=s[1],e.index_data(),i.index_data(),t&&this.request_render()}},{key:"render",value:function(){this.edge_view.render(),this.node_view.render()}}]),r}(A.b);E.__name__="GraphRendererView";var S=function(t){g()(n,t);var e=C(n);function n(t){return c()(this,n),e.call(this,t)}return h()(n,[{key:"get_selection_manager",value:function(){return this.node_renderer.data_source.selection_manager}}],[{key:"init_GraphRenderer",value:function(){this.prototype.default_view=E,this.define({layout_provider:[x.F],node_renderer:[x.F],edge_renderer:[x.F],selection_policy:[x.F,function(){return new w.d}],inspection_policy:[x.F,function(){return new w.d}]})}}]),n}(A.a);S.__name__="GraphRenderer",S.init_GraphRenderer()},function(t,e,n){
/*!
 * numbro.js
 * version : 1.6.2
 * author : FÃ¶retagsplatsen AB
 * license : MIT
 * http://www.foretagsplatsen.se
 */
var r,i={},o=i,a="en-US",s=null,l="0,0";t.exports;function u(t){this._value=t}function c(t){var e,n="";for(e=0;e<t;e++)n+="0";return n}function f(t,e,n,r){var i,o,a=Math.pow(10,e);return o=t.toFixed(0).search("e")>-1?function(t,e){var n,r,i,o;return n=(o=t.toString()).split("e")[0],i=o.split("e")[1],o=n.split(".")[0]+(r=n.split(".")[1]||"")+c(i-r.length),e>0&&(o+="."+c(e)),o}(t,e):(n(t*a)/a).toFixed(e),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function h(t,e,n){return e.indexOf("$")>-1?function(t,e,n){var r,o,s=e,l=s.indexOf("$"),u=s.indexOf("("),c=s.indexOf("+"),f=s.indexOf("-"),h="",p="";-1===s.indexOf("$")?"infix"===i[a].currency.position?(p=i[a].currency.symbol,i[a].currency.spaceSeparated&&(p=" "+p+" ")):i[a].currency.spaceSeparated&&(h=" "):s.indexOf(" $")>-1?(h=" ",s=s.replace(" $","")):s.indexOf("$ ")>-1?(h=" ",s=s.replace("$ ","")):s=s.replace("$","");if(o=d(t,s,n,p),-1===e.indexOf("$"))switch(i[a].currency.position){case"postfix":o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,h+i[a].currency.symbol),o=o.join("")):o=o+h+i[a].currency.symbol;break;case"infix":break;case"prefix":o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),r=Math.max(u,f)+1,o.splice(r,0,i[a].currency.symbol+h),o=o.join("")):o=i[a].currency.symbol+h+o;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else l<=1?o.indexOf("(")>-1||o.indexOf("+")>-1||o.indexOf("-")>-1?(o=o.split(""),r=1,(l<u||l<c||l<f)&&(r=0),o.splice(r,0,i[a].currency.symbol+h),o=o.join("")):o=i[a].currency.symbol+h+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,h+i[a].currency.symbol),o=o.join("")):o=o+h+i[a].currency.symbol;return o}(t,e,n):e.indexOf("%")>-1?function(t,e,n){var r,i="";t*=100,e.indexOf(" %")>-1?(i=" ",e=e.replace(" %","")):e=e.replace("%","");(r=d(t,e,n)).indexOf(")")>-1?((r=r.split("")).splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%";return r}(t,e,n):e.indexOf(":")>-1?function(t){var e=Math.floor(t/60/60),n=Math.floor((t-60*e*60)/60),r=Math.round(t-60*e*60-60*n);return e+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}(t):d(t,e,n)}function d(t,e,n,r){var o,l,u,c,h,d,p,v,g,m,y,_,b,A,w,x,k,C=!1,E=!1,S=!1,R="",T=!1,I=!1,O=!1,M=!1,P=!1,D="",N="",L=Math.abs(t),j=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],F=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],z="",B=!1,U=!1;if(0===t&&null!==s)return s;if(!isFinite(t))return""+t;if(0===e.indexOf("{")){var G=e.indexOf("}");if(-1===G)throw Error('Format should also contain a "}"');_=e.slice(1,G),e=e.slice(G+1)}else _="";if(e.indexOf("}")===e.length-1){var V=e.indexOf("{");if(-1===V)throw Error('Format should also contain a "{"');b=e.slice(V+1,-1),e=e.slice(0,V+1)}else b="";if(x=null===(k=-1===e.indexOf(".")?e.match(/([0-9]+).*/):e.match(/([0-9]+)\..*/))?-1:k[1].length,-1!==e.indexOf("-")&&(B=!0),e.indexOf("(")>-1?(C=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(E=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1){if(m=e.split(".")[0].match(/[0-9]+/g)||["0"],m=parseInt(m[0],10),T=e.indexOf("aK")>=0,I=e.indexOf("aM")>=0,O=e.indexOf("aB")>=0,M=e.indexOf("aT")>=0,P=T||I||O||M,e.indexOf(" a")>-1?(R=" ",e=e.replace(" a","")):e=e.replace("a",""),p=0===(p=(h=Math.floor(Math.log(L)/Math.LN10)+1)%3)?3:p,m&&0!==L&&(d=Math.floor(Math.log(L)/Math.LN10)+1-m,v=3*~~((Math.min(m,h)-p)/3),L/=Math.pow(10,v),-1===e.indexOf(".")&&m>3))for(e+="[.]",w=(w=0===d?0:3*~~(d/3)-d)<0?w+3:w,o=0;o<w;o++)e+="0";Math.floor(Math.log(Math.abs(t))/Math.LN10)+1!==m&&(L>=Math.pow(10,12)&&!P||M?(R+=i[a].abbreviations.trillion,t/=Math.pow(10,12)):L<Math.pow(10,12)&&L>=Math.pow(10,9)&&!P||O?(R+=i[a].abbreviations.billion,t/=Math.pow(10,9)):L<Math.pow(10,9)&&L>=Math.pow(10,6)&&!P||I?(R+=i[a].abbreviations.million,t/=Math.pow(10,6)):(L<Math.pow(10,6)&&L>=Math.pow(10,3)&&!P||T)&&(R+=i[a].abbreviations.thousand,t/=Math.pow(10,3)))}if(e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(D=" ",e=e.replace(" b","")):e=e.replace("b",""),c=0;c<=j.length;c++)if(l=Math.pow(1024,c),u=Math.pow(1024,c+1),t>=l&&t<u){D+=j[c],l>0&&(t/=l);break}if(e.indexOf("d")>-1)for(e.indexOf(" d")>-1?(D=" ",e=e.replace(" d","")):e=e.replace("d",""),c=0;c<=F.length;c++)if(l=Math.pow(1e3,c),u=Math.pow(1e3,c+1),t>=l&&t<u){D+=F[c],l>0&&(t/=l);break}if(e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(N=" ",e=e.replace(" o","")):e=e.replace("o",""),i[a].ordinal&&(N+=i[a].ordinal(t))),e.indexOf("[.]")>-1&&(S=!0,e=e.replace("[.]",".")),g=t.toString().split(".")[0],y=e.split(".")[1],A=e.indexOf(","),y){if(g=(z=-1!==y.indexOf("*")?f(t,t.toString().split(".")[1].length,n):y.indexOf("[")>-1?f(t,(y=(y=y.replace("]","")).split("["))[0].length+y[1].length,n,y[1].length):f(t,y.length,n)).split(".")[0],z.split(".")[1].length)z=(r?R+r:i[a].delimiters.decimal)+z.split(".")[1];else z="";S&&0===Number(z.slice(1))&&(z="")}else g=f(t,null,n);return g.indexOf("-")>-1&&(g=g.slice(1),U=!0),g.length<x&&(g=new Array(x-g.length+1).join("0")+g),A>-1&&(g=g.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i[a].delimiters.thousands)),0===e.indexOf(".")&&(g=""),_+(e.indexOf("(")<e.indexOf("-")?(C&&U?"(":"")+(B&&U||!C&&U?"-":""):(B&&U||!C&&U?"-":"")+(C&&U?"(":""))+(!U&&E&&0!==t?"+":"")+g+z+(N||"")+(R&&!r?R:"")+(D||"")+(C&&U?")":"")+b}function p(t,e){i[t]=e}function v(t){a=t;var e=i[t].defaults;e&&e.format&&r.defaultFormat(e.format),e&&e.currencyFormat&&r.defaultCurrencyFormat(e.currencyFormat)}(r=function(t){return r.isNumbro(t)?t=t.value():0===t||void 0===t?t=0:Number(t)||(t=r.fn.unformat(t)),new u(Number(t))}).version="1.6.2",r.isNumbro=function(t){return t instanceof u},r.setLanguage=function(t,e){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var n=t,r=t.split("-")[0],i=null;o[n]||(Object.keys(o).forEach((function(t){i||t.split("-")[0]!==r||(i=t)})),n=i||e||"en-US"),v(n)},r.setCulture=function(t,e){var n=t,r=t.split("-")[1],o=null;i[n]||(r&&Object.keys(i).forEach((function(t){o||t.split("-")[1]!==r||(o=t)})),n=o||e||"en-US"),v(n)},r.language=function(t,e){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!t)return a;if(t&&!e){if(!o[t])throw new Error("Unknown language : "+t);v(t)}return!e&&o[t]||p(t,e),r},r.culture=function(t,e){if(!t)return a;if(t&&!e){if(!i[t])throw new Error("Unknown culture : "+t);v(t)}return!e&&i[t]||p(t,e),r},r.languageData=function(t){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!t)return o[a];if(!o[t])throw new Error("Unknown language : "+t);return o[t]},r.cultureData=function(t){if(!t)return i[a];if(!i[t])throw new Error("Unknown culture : "+t);return i[t]},r.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),r.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),o},r.cultures=function(){return i},r.zeroFormat=function(t){s="string"==typeof t?t:null},r.defaultFormat=function(t){l="string"==typeof t?t:"0.0"},r.defaultCurrencyFormat=function(t){"string"==typeof t?t:"0$"},r.validate=function(t,e){var n,i,o,a,s,l,u,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=r.cultureData(e)}catch(t){u=r.cultureData(r.culture())}return o=u.currency.symbol,s=u.abbreviations,n=u.delimiters.decimal,i="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,(null===(c=t.match(/^[^\d]+/))||(t=t.substr(1),c[0]===o))&&((null===(c=t.match(/[^\d]+$/))||(t=t.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&(!((a=t.split(n)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/)))))},t.exports={format:function(t,e,n,i){return null!=n&&n!==r.culture()&&r.setCulture(n),h(Number(t),null!=e?e:l,null==i?Math.round:i)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(20),i=n.n(r),o=n(35),a=n(93),s=n(94),l=Object(o.a)((function(t){return!!Object(a.a)(t)||!!t&&("object"===i()(t)&&(!Object(s.a)(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),u=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var c=n(82),f=n(24),h=Object(f.a)((function(t,e){return Object(c.a)(t.length,(function(){return t.apply(e,arguments)}))}));function d(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function p(t,e,n,r){return t["@@transducer/result"](n[r](h(t["@@transducer/step"],t),e))}var v="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function g(t,e,n){if("function"==typeof t&&(t=function(t){return new u(t)}(t)),l(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return p(t,e,n,"fantasy-land/reduce");if(null!=n[v])return d(t,e,n[v]());if("function"==typeof n.next)return d(t,e,n);if("function"==typeof n.reduce)return p(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(8),i=new Map;function o(t){var e=i.get(t);if(null!=e)return e;var n=Object(r.H)({style:{font:t}},"Hg"),o=Object(r.k)({style:{display:"inline-block",width:"1px",height:"0px"}}),a=Object(r.k)({},n,o);document.body.appendChild(a);try{o.style.verticalAlign="baseline";var s=Object(r.s)(o).top-Object(r.s)(n).top;o.style.verticalAlign="bottom";var l=Object(r.s)(o).top-Object(r.s)(n).top,u={height:l,ascent:s,descent:l-s};return i.set(t,u),u}finally{document.body.removeChild(a)}}new Map},function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return w}));var r=n(4),i=n.n(r),o=n(7),a=n.n(o),s=n(2),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(53),g=n(23);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var b=function(t){c()(n,t);var e=_(n);function n(){var t;return l()(this,n),(t=e.apply(this,arguments)).children=[],t}return n}(v.c);b.__name__="Stack";var A=function(t){c()(n,t);var e=_(n);function n(){return l()(this,n),e.apply(this,arguments)}return i()(n,[{key:"_measure",value:function(t){var e,n=0,r=0,i=m(this.children);try{for(i.s();!(e=i.n()).done;){var o=e.value.measure({width:0,height:0});n+=o.width,r=Math.max(r,o.height)}}catch(t){i.e(t)}finally{i.f()}return{width:n,height:r}}},{key:"_set_geometry",value:function(t,e){a()(p()(n.prototype),"_set_geometry",this).call(this,t,e);var r,i=t.top,o=t.bottom,s=t.left,l=m(this.children);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=u.measure({width:0,height:0}).width;u.set_geometry(new g.a({left:s,width:c,top:i,bottom:o})),s+=c}}catch(t){l.e(t)}finally{l.f()}}}]),n}(b);A.__name__="HStack";var w=function(t){c()(n,t);var e=_(n);function n(){return l()(this,n),e.apply(this,arguments)}return i()(n,[{key:"_measure",value:function(t){var e,n=0,r=0,i=m(this.children);try{for(i.s();!(e=i.n()).done;){var o=e.value.measure({width:0,height:0});n=Math.max(n,o.width),r+=o.height}}catch(t){i.e(t)}finally{i.f()}return{width:n,height:r}}},{key:"_set_geometry",value:function(t,e){a()(p()(n.prototype),"_set_geometry",this).call(this,t,e);var r,i=t.left,o=t.right,s=t.top,l=m(this.children);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=u.measure({width:0,height:0}).height;u.set_geometry(new g.a({top:s,height:c,left:i,right:o})),s+=c}}catch(t){l.e(t)}finally{l.f()}}}]),n}(b);w.__name__="VStack",(function(t){c()(n,t);var e=_(n);function n(){var t;return l()(this,n),(t=e.apply(this,arguments)).children=[],t}return i()(n,[{key:"_measure",value:function(t){var e,n=0,r=0,i=m(this.children);try{for(i.s();!(e=i.n()).done;){var o=e.value.layout.measure(t);n=Math.max(n,o.width),r=Math.max(r,o.height)}}catch(t){i.e(t)}finally{i.f()}return{width:n,height:r}}},{key:"_set_geometry",value:function(t,e){a()(p()(n.prototype),"_set_geometry",this).call(this,t,e);var r,i=m(this.children);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.layout,l=o.anchor,u=o.margin,c=t.left,f=t.right,h=t.top,d=t.bottom,v=t.hcenter,y=t.vcenter,_=s.measure(t),b=_.width,A=_.height,w=void 0;switch(l){case"top_left":w=new g.a({left:c+u,top:h+u,width:b,height:A});break;case"top_center":w=new g.a({hcenter:v,top:h+u,width:b,height:A});break;case"top_right":w=new g.a({right:f-u,top:h+u,width:b,height:A});break;case"bottom_right":w=new g.a({right:f-u,bottom:d-u,width:b,height:A});break;case"bottom_center":w=new g.a({hcenter:v,bottom:d-u,width:b,height:A});break;case"bottom_left":w=new g.a({left:c+u,bottom:d-u,width:b,height:A});break;case"center_left":w=new g.a({left:c+u,vcenter:y,width:b,height:A});break;case"center":w=new g.a({hcenter:v,vcenter:y,width:b,height:A});break;case"center_right":w=new g.a({right:f-u,vcenter:y,width:b,height:A})}s.set_geometry(w)}}catch(t){i.e(t)}finally{i.f()}}}]),n}(v.c)).__name__="AnchorLayout"},function(t,e,n){"use strict";n.d(e,"b",(function(){return A})),n.d(e,"a",(function(){return w}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(25),p=n(29),v=n(12),g=n(27),m=n(18);function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var A=function(t){l()(n,t);var e=b(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_render",value:function(t,e,n){var r=n.sx,i=n.sy,o=!1,a=null;this.visuals.line.set_value(t);var s,l=y(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(o){if(!isFinite(r[u]+i[u])){t.stroke(),t.beginPath(),o=!1,a=u;continue}null!=a&&u-a>1&&(t.stroke(),o=!1)}o?t.lineTo(r[u],i[u]):(t.beginPath(),t.moveTo(r[u],i[u]),o=!0),a=u}}catch(t){l.e(t)}finally{l.f()}o&&t.stroke()}},{key:"_hit_point",value:function(t){for(var e=this,n=new m.a,r={x:t.sx,y:t.sy},i=9999,o=Math.max(2,this.visuals.line.line_width.value()/2),a=0,s=this.sx.length-1;a<s;a++){var l={x:this.sx[a],y:this.sy[a]},u={x:this.sx[a+1],y:this.sy[a+1]},c=g.c(r,l,u);c<o&&c<i&&(i=c,n.add_to_selected_glyphs(this.model),n.get_view=function(){return e},n.line_indices=[a])}return n}},{key:"_hit_span",value:function(t){var e,n,r=this,i=t.sx,o=t.sy,a=new m.a;"v"==t.direction?(e=this.renderer.yscale.invert(o),n=this._y):(e=this.renderer.xscale.invert(i),n=this._x);for(var s=0,l=n.length-1;s<l;s++)(n[s]<=e&&e<=n[s+1]||n[s+1]<=e&&e<=n[s])&&(a.add_to_selected_glyphs(this.model),a.get_view=function(){return r},a.line_indices.push(s));return a}},{key:"get_interpolation_hit",value:function(t,e){var n=[this._x[t],this._y[t],this._x[t+1],this._y[t+1]],r=n[0],i=n[1],o=n[2],a=n[3];return Object(p.c)(this.renderer,e,r,i,o,a)}},{key:"draw_legend_for_index",value:function(t,e,n){Object(p.b)(this.visuals,t,e,n)}}]),n}(d.b);A.__name__="LineView";var w=function(t){l()(n,t);var e=b(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_Line",value:function(){this.prototype.default_view=A,this.mixins(v.e)}}]),n}(d.a);w.__name__="Line",w.init_Line()},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(e,t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m}));var r=n(4),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(64),p=n(1);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var g=function(t){l()(n,t);var e=v(n);function n(){return a()(this,n),e.apply(this,arguments)}return n}(d.b);g.__name__="DataRendererView";var m=function(t){l()(n,t);var e=v(n);function n(t){return a()(this,n),e.call(this,t)}return i()(n,null,[{key:"init_DataRenderer",value:function(){this.define({x_range_name:[p.nb,"default"],y_range_name:[p.nb,"default"]}),this.override({level:"glyph"})}}]),n}(d.a);m.__name__="DataRenderer",m.init_DataRenderer()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var r=n(10),i=n(44),o=n(54),a={},s=new Map,l=function(t){var e=a[t]||s.get(t);if(null==e)throw new Error("Model '".concat(t,"' does not exist. This could be due to a widget or a custom model not being registered before first usage."));return e};function u(t){return Object(r.h)(t)&&t.prototype instanceof i.a}l.register=function(t,e){a[t]=e},l.unregister=function(t){delete a[t]},l.register_models=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null!=t)for(var r in t){var i=t[r];if(u(i)){var o=i.__qualified__;e||!s.has(o)?s.set(o,i):null!=n?n(o):console.warn("Model '".concat(o,"' was already registered"))}}};var c=l.register_models;l.registered_names=function(){return Array.from(s.keys())},c(o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(20),i=n.n(r),o=n(10),a=Object.prototype.toString;function s(t,e){return function t(e,n,r,s){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;var l=a.call(e);if(l!==a.call(n))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var u="[object Array]"===l;if(!u){if("object"!=i()(e)||"object"!=i()(n))return!1;var c=e.constructor,f=n.constructor;if(c!==f&&!(Object(o.e)(c)&&c instanceof c&&Object(o.e)(f)&&f instanceof f)&&"constructor"in e&&"constructor"in n)return!1}s=s||[];for(var h=(r=r||[]).length;h--;)if(r[h]===e)return s[h]===n;if(r.push(e),s.push(n),u){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],r,s))return!1}else{var d,p=Object.keys(e);if(h=p.length,Object.keys(n).length!==h)return!1;for(;h--;)if(d=p[h],!n.hasOwnProperty(d)||!t(e[d],n[d],r,s))return!1}return r.pop(),s.pop(),!0}(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(19),p=n(1);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var g=function(t){l()(n,t);var e=v(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).have_updated_interactively=!1,r}return a()(n,[{key:"is_reversed",get:function(){return this.start>this.end}}],[{key:"init_Range",value:function(){this.define({bounds:[p.e],min_interval:[p.e],max_interval:[p.e]}),this.internal({plots:[p.g,[]]})}}]),n}(d.a);g.__name__="Range",g.init_Range()},function(t,e,n){"use strict";e.a="\n.bk-root .bk-menu-icon {\n  width: 28px;\n  height: 28px;\n  background-size: 60%;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.bk-root .bk-context-menu {\n  position: absolute;\n  display: inline-flex;\n  display: -webkit-inline-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  width: auto;\n  height: auto;\n  z-index: 100;\n  cursor: pointer;\n  font-size: 12px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n.bk-root .bk-context-menu.bk-horizontal {\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-context-menu.bk-vertical {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.bk-root .bk-context-menu > .bk-divider {\n  cursor: default;\n  overflow: hidden;\n  background-color: #e5e5e5;\n}\n.bk-root .bk-context-menu.bk-horizontal > .bk-divider {\n  width: 1px;\n  margin: 5px 0;\n}\n.bk-root .bk-context-menu.bk-vertical > .bk-divider {\n  height: 1px;\n  margin: 0 5px;\n}\n.bk-root .bk-context-menu > :not(.bk-divider) {\n  border: 1px solid transparent;\n}\n.bk-root .bk-context-menu > :not(.bk-divider).bk-active {\n  border-color: #26aae1;\n}\n.bk-root .bk-context-menu > :not(.bk-divider):hover {\n  background-color: #f9f9f9;\n}\n.bk-root .bk-context-menu.bk-horizontal > :not(.bk-divider):first-child {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.bk-root .bk-context-menu.bk-horizontal > :not(.bk-divider):last-child {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.bk-root .bk-context-menu.bk-vertical > :not(.bk-divider):first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n.bk-root .bk-context-menu.bk-vertical > :not(.bk-divider):last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.bk-root .bk-menu {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  z-index: 100;\n  cursor: pointer;\n  font-size: 12px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n.bk-root .bk-menu.bk-above {\n  bottom: 100%;\n}\n.bk-root .bk-menu.bk-below {\n  top: 100%;\n}\n.bk-root .bk-menu > .bk-divider {\n  height: 1px;\n  margin: 7.5px 0;\n  overflow: hidden;\n  background-color: #e5e5e5;\n}\n.bk-root .bk-menu > :not(.bk-divider) {\n  padding: 6px 12px;\n}\n.bk-root .bk-menu > :not(.bk-divider):hover,\n.bk-root .bk-menu > :not(.bk-divider).bk-active {\n  background-color: #e6e6e6;\n}\n.bk-root .bk-caret {\n  display: inline-block;\n  vertical-align: middle;\n  width: 0;\n  height: 0;\n  margin: 0 5px;\n}\n.bk-root .bk-caret.bk-down {\n  border-top: 4px solid;\n}\n.bk-root .bk-caret.bk-up {\n  border-bottom: 4px solid;\n}\n.bk-root .bk-caret.bk-down,\n.bk-root .bk-caret.bk-up {\n  border-right: 4px solid transparent;\n  border-left: 4px solid transparent;\n}\n.bk-root .bk-caret.bk-left {\n  border-right: 4px solid;\n}\n.bk-root .bk-caret.bk-right {\n  border-left: 4px solid;\n}\n.bk-root .bk-caret.bk-left,\n.bk-root .bk-caret.bk-right {\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n}\n"},function(t,e,n){"use strict";function r(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,l){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,l,u){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,l,u,c){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";var r=n(82),i=n(35),o=n(24),a=n(34);var s=Object(o.a)((function(t,e){return 1===t?Object(i.a)(e):Object(r.a)(t,function t(e,n,i){return function(){for(var o=[],s=0,l=e,u=0;u<n.length||s<arguments.length;){var c;u<n.length&&(!Object(a.a)(n[u])||s>=arguments.length)?c=n[u]:(c=arguments[s],s+=1),o[u]=c,Object(a.a)(c)||(l-=1),u+=1}return l<=0?i.apply(this,o):Object(r.a)(l,t(e,o,i))}}(t,[],e))}));e.a=s},function(t,e,n){"use strict";var r=n(35),i=n(76),o=Object.prototype.toString,a=function(){return"[object Arguments]"===o.call(arguments)?function(t){return"[object Arguments]"===o.call(t)}:function(t){return Object(i.a)("callee",t)}}(),s=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],u=function(){return arguments.propertyIsEnumerable("length")}(),c=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},f="function"!=typeof Object.keys||u?Object(r.a)((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=u&&a(t);for(e in t)!Object(i.a)(e,t)||o&&"length"===e||(r[r.length]=e);if(s)for(n=l.length-1;n>=0;)e=l[n],Object(i.a)(e,t)&&!c(r,e)&&(r[r.length]=e),n-=1;return r})):Object(r.a)((function(t){return Object(t)!==t?[]:Object.keys(t)}));e.a=f},function(t,e,n){var r,i=n(20);
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,a,s,l){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],f=a.createElement("div"),h=Math.round,d=Math.abs,p=Date.now;function v(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var _=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=y((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function A(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return"function"==i(t)?t.apply(e&&e[0]||void 0,e):t}function k(t,e){return void 0===t?e:t}function C(t,e,n){m(T(e),(function(e){t.addEventListener(e,n,!1)}))}function E(t,e,n){m(T(e),(function(e){t.removeEventListener(e,n,!1)}))}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function R(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];I(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}}var D=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var L="ontouchstart"in o,j=void 0!==P(o,"PointerEvent"),F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z=["x","y"],B=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function G(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=V(e));i>1&&!n.firstMultiple?n.firstMultiple=V(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=e.center=H(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=X(s,l),e.distance=Y(s,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var u=q(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,e.scale=a?(c=a.pointers,f=r,Y(f[0],f[1],B)/Y(c[0],c[1],B)):1,e.rotation=a?function(t,e){return X(e[1],e[0],B)+X(t[1],t[0],B)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=q(s,l,u);r=c.x,i=c.y,n=d(c.x)>d(c.y)?c.x:c.y,o=W(l,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var c,f;var h=t.element;S(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function V(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function q(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function X(t,e,n){n||(n=z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4};function J(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}A(J,U,{handler:function(t){var e=$[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",tt="pointermove pointerup pointercancel";function et(){this.evEl=Z,this.evWin=tt,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Z="MSPointerDown",tt="MSPointerMove MSPointerUp MSPointerCancel"),A(et,U,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=K[r],o=Q[t.pointerType]||t.pointerType,a="touch"==o,s=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var nt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function it(t,e){var n=O(t.touches),r=O(t.changedTouches);return 12&e&&(n=M(n.concat(r),"identifier",!0)),[n,r]}A(rt,U,{handler:function(t){var e=nt[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function st(t,e){var n=O(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(t.changedTouches),s=[],l=this.target;if(o=n.filter((function(t){return S(t.target,l)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}A(at,U,{handler:function(t){var e=ot[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function lt(){U.apply(this,arguments);var t=w(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new J(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ft(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}A(lt,U,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ut.call(this,e,n);else if(i&&ft.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=P(f.style,"touchAction"),dt=void 0!==ht,pt=function(){if(!dt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}();function vt(t,e){this.manager=t,this.set(e)}vt.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(R(t,"none"))return"none";var e=R(t,"pan-x"),n=R(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(R(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=R(r,"none")&&!pt.none,o=R(r,"pan-y")&&!pt["pan-y"],a=R(r,"pan-x")&&!pt["pan-x"];if(i){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function _t(t,e){var n=e.manager;return n?n.get(t):t}function bt(){gt.apply(this,arguments)}function At(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function xt(){gt.apply(this,arguments),this._timer=null,this._input=null}function kt(){bt.apply(this,arguments)}function Ct(){bt.apply(this,arguments)}function Et(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function St(t,e){return(e=e||{}).recognizers=k(e.recognizers,St.defaults.preset),new Rt(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=_t(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=_t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},A(bt,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),A(At,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),A(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),A(xt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=v((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),A(kt,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),A(Ct,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return At.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),A(Et,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=v((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),St.VERSION="2.0.7",St.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[wt,{enable:!1},["rotate"]],[Ct,{direction:6}],[At,{direction:6},["swipe"]],[Et],[Et,{event:"doubletap",taps:2},["tap"]],[xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Rt(t,e){var n;this.options=u({},St.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(j?et:F?at:L?lt:J))(n,G),this.touchAction=new vt(this,this.options.touchAction),Tt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Tt(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Rt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(T(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(T(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(St,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Rt,Input:U,TouchAction:vt,TouchInput:at,MouseInput:J,PointerEventInput:et,TouchMouseInput:lt,SingleTouchInput:rt,Recognizer:gt,AttrRecognizer:bt,Tap:Et,Pan:At,Swipe:Ct,Pinch:wt,Rotate:kt,Press:xt,on:C,off:E,each:m,merge:b,extend:_,assign:u,inherit:A,bindFn:w,prefixed:P}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=St,void 0===(r=function(){return St}.call(e,n,e,t))||(t.exports=r)}(window,document)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=function(){function t(){i()(this,t),this._dev=!1}return a()(t,[{key:"dev",set:function(t){this._dev=t},get:function(){return this._dev}}]),t}();s.__name__="Settings";var l=new s},function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(7),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(19),g=n(1),m=n(18),y=n(9),_=n(62);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var A=function(t){c()(n,t);var e=b(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"initialize",value:function(){l()(p()(n.prototype),"initialize",this).call(this),this.compute_indices()}},{key:"connect_signals",value:function(){var t=this;l()(p()(n.prototype),"connect_signals",this).call(this),this.connect(this.properties.filters.change,(function(){t.compute_indices(),t.change.emit()}));var e=function(){var e=function(){return t.compute_indices()};null!=t.source&&(t.connect(t.source.change,e),t.source instanceof _.a&&(t.connect(t.source.streaming,e),t.connect(t.source.patching,e)))},r=null!=this.source;r?e():this.connect(this.properties.source.change,(function(){r||(e(),r=!0)}))}},{key:"compute_indices",value:function(){var t=this,e=this.filters.map((function(e){return e.compute_indices(t.source)})).filter((function(t){return null!=t}));e.length>0?this.indices=y.l.apply(this,e):this.source instanceof _.a&&(this.indices=this.source.get_indices()),this.indices_map_to_subset()}},{key:"indices_map_to_subset",value:function(){this.indices_map={};for(var t=0;t<this.indices.length;t++)this.indices_map[this.indices[t]]=t}},{key:"convert_selection_from_subset",value:function(t){var e=this,n=new m.a;n.update_through_union(t);var r=t.indices.map((function(t){return e.indices[t]}));return n.indices=r,n.image_indices=t.image_indices,n}},{key:"convert_selection_to_subset",value:function(t){var e=this,n=new m.a;n.update_through_union(t);var r=t.indices.map((function(t){return e.indices_map[t]}));return n.indices=r,n.image_indices=t.image_indices,n}},{key:"convert_indices_from_subset",value:function(t){var e=this;return t.map((function(t){return e.indices[t]}))}}],[{key:"init_CDSView",value:function(){this.define({filters:[g.g,[]],source:[g.F]}),this.internal({indices:[g.g,[]],indices_map:[g.e,{}]})}}]),n}(v.a);A.__name__="CDSView",A.init_CDSView()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="2.1.1"},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(14),i=n.n(r),o=n(21),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(22),h=n(10);function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=function(){function t(e){if(l()(this,t),this.removed=new f.b(this,"removed"),this._ready=Promise.resolve(void 0),null==e.model)throw new Error("model of a view wasn't configured");this.model=e.model,this._parent=e.parent}var e;return c()(t,[{key:"connect",value:function(t,e){var n=this;return t.connect((function(t,r){var i=Promise.resolve(e.call(n,t,r));n._ready=n._ready.then((function(){return i}))}),this)}},{key:"disconnect",value:function(t,e){return t.disconnect(e,this)}},{key:"initialize",value:function(){}},{key:"lazy_initialize",value:(e=a()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"remove",value:function(){this._parent=void 0,this.disconnect_signals(),this.removed.emit()}},{key:"toString",value:function(){return"".concat(this.model.type,"View(").concat(this.model.id,")")}},{key:"serializable_state",value:function(){return{type:this.model.type}}},{key:"assert_root",value:function(){if(!this.is_root)throw new Error("".concat(this.toString()," is not a root layout"))}},{key:"connect_signals",value:function(){}},{key:"disconnect_signals",value:function(){f.a.disconnectReceiver(this)}},{key:"on_change",value:function(t,e){var n,r=d(Object(h.a)(t)?t:[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.connect(i.change,e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"ready",get:function(){return this._ready}},{key:"parent",get:function(){if(void 0!==this._parent)return this._parent;throw new Error("parent of a view wasn't configured")}},{key:"is_root",get:function(){return null===this.parent}},{key:"root",get:function(){return this.is_root?this:this.parent.root}}]),t}();v.__name__="View"},function(t,e,n){"use strict";e.a="\n.bk-root .bk-btn {\n  height: 100%;\n  display: inline-block;\n  text-align: center;\n  vertical-align: middle;\n  white-space: nowrap;\n  cursor: pointer;\n  padding: 6px 12px;\n  font-size: 12px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  outline: 0;\n  user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n.bk-root .bk-btn:hover,\n.bk-root .bk-btn:focus {\n  text-decoration: none;\n}\n.bk-root .bk-btn:active,\n.bk-root .bk-btn.bk-active {\n  background-image: none;\n  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n}\n.bk-root .bk-btn[disabled] {\n  cursor: not-allowed;\n  pointer-events: none;\n  opacity: 0.65;\n  box-shadow: none;\n}\n.bk-root .bk-btn-default {\n  color: #333;\n  background-color: #fff;\n  border-color: #ccc;\n}\n.bk-root .bk-btn-default:hover {\n  background-color: #f5f5f5;\n  border-color: #b8b8b8;\n}\n.bk-root .bk-btn-default.bk-active {\n  background-color: #ebebeb;\n  border-color: #adadad;\n}\n.bk-root .bk-btn-default[disabled],\n.bk-root .bk-btn-default[disabled]:hover,\n.bk-root .bk-btn-default[disabled]:focus,\n.bk-root .bk-btn-default[disabled]:active,\n.bk-root .bk-btn-default[disabled].bk-active {\n  background-color: #e6e6e6;\n  border-color: #ccc;\n}\n.bk-root .bk-btn-primary {\n  color: #fff;\n  background-color: #428bca;\n  border-color: #357ebd;\n}\n.bk-root .bk-btn-primary:hover {\n  background-color: #3681c1;\n  border-color: #2c699e;\n}\n.bk-root .bk-btn-primary.bk-active {\n  background-color: #3276b1;\n  border-color: #285e8e;\n}\n.bk-root .bk-btn-primary[disabled],\n.bk-root .bk-btn-primary[disabled]:hover,\n.bk-root .bk-btn-primary[disabled]:focus,\n.bk-root .bk-btn-primary[disabled]:active,\n.bk-root .bk-btn-primary[disabled].bk-active {\n  background-color: #506f89;\n  border-color: #357ebd;\n}\n.bk-root .bk-btn-success {\n  color: #fff;\n  background-color: #5cb85c;\n  border-color: #4cae4c;\n}\n.bk-root .bk-btn-success:hover {\n  background-color: #4eb24e;\n  border-color: #409240;\n}\n.bk-root .bk-btn-success.bk-active {\n  background-color: #47a447;\n  border-color: #398439;\n}\n.bk-root .bk-btn-success[disabled],\n.bk-root .bk-btn-success[disabled]:hover,\n.bk-root .bk-btn-success[disabled]:focus,\n.bk-root .bk-btn-success[disabled]:active,\n.bk-root .bk-btn-success[disabled].bk-active {\n  background-color: #667b66;\n  border-color: #4cae4c;\n}\n.bk-root .bk-btn-warning {\n  color: #fff;\n  background-color: #f0ad4e;\n  border-color: #eea236;\n}\n.bk-root .bk-btn-warning:hover {\n  background-color: #eea43b;\n  border-color: #e89014;\n}\n.bk-root .bk-btn-warning.bk-active {\n  background-color: #ed9c28;\n  border-color: #d58512;\n}\n.bk-root .bk-btn-warning[disabled],\n.bk-root .bk-btn-warning[disabled]:hover,\n.bk-root .bk-btn-warning[disabled]:focus,\n.bk-root .bk-btn-warning[disabled]:active,\n.bk-root .bk-btn-warning[disabled].bk-active {\n  background-color: #c89143;\n  border-color: #eea236;\n}\n.bk-root .bk-btn-danger {\n  color: #fff;\n  background-color: #d9534f;\n  border-color: #d43f3a;\n}\n.bk-root .bk-btn-danger:hover {\n  background-color: #d5433e;\n  border-color: #bd2d29;\n}\n.bk-root .bk-btn-danger.bk-active {\n  background-color: #d2322d;\n  border-color: #ac2925;\n}\n.bk-root .bk-btn-danger[disabled],\n.bk-root .bk-btn-danger[disabled]:hover,\n.bk-root .bk-btn-danger[disabled]:focus,\n.bk-root .bk-btn-danger[disabled]:active,\n.bk-root .bk-btn-danger[disabled].bk-active {\n  background-color: #a55350;\n  border-color: #d43f3a;\n}\n.bk-root .bk-btn-group {\n  height: 100%;\n  display: flex;\n  display: -webkit-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  align-items: center;\n  -webkit-align-items: center;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-btn-group > .bk-btn {\n  flex-grow: 1;\n  -webkit-flex-grow: 1;\n}\n.bk-root .bk-btn-group > .bk-btn + .bk-btn {\n  margin-left: -1px;\n}\n.bk-root .bk-btn-group > .bk-btn:first-child:not(:last-child) {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n}\n.bk-root .bk-btn-group > .bk-btn:not(:first-child):last-child {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n}\n.bk-root .bk-btn-group > .bk-btn:not(:first-child):not(:last-child) {\n  border-radius: 0;\n}\n.bk-root .bk-btn-group .bk-dropdown-toggle {\n  flex: 0 0 0;\n  -webkit-flex: 0 0 0;\n  padding: 6px 6px;\n}\n"},function(t,e,n){"use strict";e.a=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t){return"[object String]"===Object.prototype.toString.call(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return y}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(31),p=n(29),v=n(12);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var m=function(t){l()(n,t);var e=g(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"draw_legend_for_index",value:function(t,e,n){Object(p.a)(this.visuals,t,e,n)}}]),n}(d.b);m.__name__="AreaView";var y=function(t){l()(n,t);var e=g(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_Area",value:function(){this.mixins([v.a,v.d])}}]),n}(d.a);y.__name__="Area",y.init_Area()},function(t,e,n){"use strict";function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(){for(var t=new Set,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var s,l=a[o],u=r(l);try{for(u.s();!(s=u.n()).done;){var c=s.value;t.add(c)}}catch(t){u.e(t)}finally{u.f()}}return t}function a(t){for(var e=new Set(t),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s,l=r(o.apply(void 0,i));try{for(l.s();!(s=l.n()).done;){var u=s.value;e.delete(u)}}catch(t){l.e(t)}finally{l.f()}return e}n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";e.a={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],l=e.base?o[0]+e.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var f=s(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:c,updater:g(h,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,f=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,v=0;function g(t,e){var n,r,i;if(e.singleton){var o=v++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(t,e),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return A}));var r=n(7),i=n.n(r),o=n(2),a=n.n(o),s=n(4),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(53),g=n(57),m=n(8);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var _=function(t){c()(n,t);var e=y(n);function n(t){var r;return a()(this,n),(r=e.call(this)).content_size=Object(m.N)(t,(function(){return new g.a(Object(m.F)(t))})),r}return l()(n,[{key:"_content_size",value:function(){return this.content_size}}]),n}(v.a);_.__name__="ContentBox";var b=function(t){c()(n,t);var e=y(n);function n(t){var r;return a()(this,n),(r=e.call(this)).el=t,r}return l()(n,[{key:"_measure",value:function(t){var e=this,n=new g.a(t).bounded_to(this.sizing.size);return Object(m.G)(this.el,n,(function(){var t=new g.a(Object(m.h)(e.el)),n=Object(m.m)(e.el),r=n.border,i=n.padding;return t.grow_by(r).grow_by(i).map(Math.ceil)}))}}]),n}(v.c);b.__name__="VariadicBox";var A=function(t){c()(n,t);var e=y(n);function n(t){var r;return a()(this,n),(r=e.call(this,t))._cache=new Map,r}return l()(n,[{key:"_measure",value:function(t){var e=t.width,r=t.height,o="".concat(e,",").concat(r),a=this._cache.get(o);return null==a&&(a=i()(p()(n.prototype),"_measure",this).call(this,t),this._cache.set(o,a)),a}},{key:"invalidate_cache",value:function(){this._cache.clear()}}]),n}(b);A.__name__="CachedVariadicBox"},function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"d",(function(){return A})),n.d(e,"c",(function(){return w})),n.d(e,"a",(function(){return x}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(19),p=n(17),v=n(9),g=n(18);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var b=function(t){l()(n,t);var e=_(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"_hit_test_nodes",value:function(t,e){if(!e.model.visible)return null;var n=e.node_view.glyph.hit_test(t);return null==n?null:e.node_view.model.view.convert_selection_from_subset(n)}},{key:"_hit_test_edges",value:function(t,e){if(!e.model.visible)return null;var n=e.edge_view.glyph.hit_test(t);return null==n?null:e.edge_view.model.view.convert_selection_from_subset(n)}}]),n}(d.a);b.__name__="GraphHitTestPolicy";var A=function(t){l()(n,t);var e=_(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"hit_test",value:function(t,e){return this._hit_test_nodes(t,e)}},{key:"do_selection",value:function(t,e,n,r){if(null==t)return!1;var i=e.node_renderer.data_source.selected;return i.update(t,n,r),e.node_renderer.data_source._select.emit(),!i.is_empty()}},{key:"do_inspection",value:function(t,e,n,r,i){if(null==t)return!1;var o=n.model.get_selection_manager().get_or_create_inspector(n.node_view.model);return o.update(t,r,i),n.node_view.model.data_source.setv({inspected:o},{silent:!0}),n.node_view.model.data_source.inspect.emit([n.node_view,{geometry:e}]),!o.is_empty()}}]),n}(b);A.__name__="NodesOnly";var w=function(t){l()(n,t);var e=_(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"hit_test",value:function(t,e){return this._hit_test_nodes(t,e)}},{key:"get_linked_edges",value:function(t,e,n){var r=[];"selection"==n?r=t.selected.indices.map((function(e){return t.data.index[e]})):"inspection"==n&&(r=t.inspected.indices.map((function(e){return t.data.index[e]})));for(var i=[],o=0;o<e.data.start.length;o++)(Object(v.c)(r,e.data.start[o])||Object(v.c)(r,e.data.end[o]))&&i.push(o);for(var a=new g.a,s=0,l=i;s<l.length;s++){var u=l[s];a.multiline_indices[u]=[0]}return a.indices=i,a}},{key:"do_selection",value:function(t,e,n,r){if(null==t)return!1;var i=e.node_renderer.data_source.selected;i.update(t,n,r);var o=e.edge_renderer.data_source.selected,a=this.get_linked_edges(e.node_renderer.data_source,e.edge_renderer.data_source,"selection");return o.update(a,n,r),e.node_renderer.data_source._select.emit(),!i.is_empty()}},{key:"do_inspection",value:function(t,e,n,r,i){if(null==t)return!1;var o=n.node_view.model.data_source.selection_manager.get_or_create_inspector(n.node_view.model);o.update(t,r,i),n.node_view.model.data_source.setv({inspected:o},{silent:!0});var a=n.edge_view.model.data_source.selection_manager.get_or_create_inspector(n.edge_view.model),s=this.get_linked_edges(n.node_view.model.data_source,n.edge_view.model.data_source,"inspection");return a.update(s,r,i),n.edge_view.model.data_source.setv({inspected:a},{silent:!0}),n.node_view.model.data_source.inspect.emit([n.node_view,{geometry:e}]),!o.is_empty()}}]),n}(b);w.__name__="NodesAndLinkedEdges";var x=function(t){l()(n,t);var e=_(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"hit_test",value:function(t,e){return this._hit_test_edges(t,e)}},{key:"get_linked_nodes",value:function(t,e,n){var r=[];"selection"==n?r=e.selected.indices:"inspection"==n&&(r=e.inspected.indices);var i,o=[],a=m(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;o.push(e.data.start[s]),o.push(e.data.end[s])}}catch(t){a.e(t)}finally{a.f()}var l=Object(v.B)(o).map((function(e){return Object(p.g)(t.data.index,e)}));return new g.a({indices:l})}},{key:"do_selection",value:function(t,e,n,r){if(null==t)return!1;var i=e.edge_renderer.data_source.selected;i.update(t,n,r);var o=e.node_renderer.data_source.selected,a=this.get_linked_nodes(e.node_renderer.data_source,e.edge_renderer.data_source,"selection");return o.update(a,n,r),e.edge_renderer.data_source._select.emit(),!i.is_empty()}},{key:"do_inspection",value:function(t,e,n,r,i){if(null==t)return!1;var o=n.edge_view.model.data_source.selection_manager.get_or_create_inspector(n.edge_view.model);o.update(t,r,i),n.edge_view.model.data_source.setv({inspected:o},{silent:!0});var a=n.node_view.model.data_source.selection_manager.get_or_create_inspector(n.node_view.model),s=this.get_linked_nodes(n.node_view.model.data_source,n.edge_view.model.data_source,"inspection");return a.update(s,r,i),n.node_view.model.data_source.setv({inspected:a},{silent:!0}),n.edge_view.model.data_source.inspect.emit([n.edge_view,{geometry:e}]),!o.is_empty()}}]),n}(b);x.__name__="EdgesAndLinkedNodes"},function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var r=n(6),i=n.n(r),o=n(13),a=n.n(o),s=n(2),l=n.n(s),u=n(4),c=n.n(u),f=n(7),h=n.n(f),d=n(3),p=n.n(d),v=n(5),g=n.n(v),m=n(0),y=n.n(m),_=n(26),b=n(12),A=n(1),w=n(22),x=n(73),k=n(23),C=n(9),E=n(10),S=n(37);function R(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var O=function(t){p()(n,t);var e=I(n);function n(){return l()(this,n),e.apply(this,arguments)}return c()(n,[{key:"cursor",value:function(t,e){return"none"==this.model.click_policy?null:"pointer"}},{key:"connect_signals",value:function(){var t=this;h()(y()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.plot_view.request_render()})),this.connect(this.model.item_change,(function(){return t.plot_view.request_render()}))}},{key:"compute_legend_bbox",value:function(){var t=this.model.get_legend_names(),e=this.model,n=e.glyph_height,r=e.glyph_width,o=this.model,s=o.label_height,l=o.label_width;this.max_label_height=Object(C.n)([Object(x.a)(this.visuals.label_text.font_value()).height,s,n]);var u=this.layer.ctx;u.save(),this.visuals.label_text.set_value(u),this.text_widths=new Map;var c,f=R(t);try{for(f.s();!(c=f.n()).done;){var h=c.value;this.text_widths.set(h,Object(C.n)([u.measureText(h).width,l]))}}catch(t){f.e(t)}finally{f.f()}this.visuals.title_text.set_value(u),this.title_height=this.model.title?Object(x.a)(this.visuals.title_text.font_value()).height+this.model.title_standoff:0,this.title_width=this.model.title?u.measureText(this.model.title).width:0,u.restore();var d,p,v=Math.max(Object(C.n)(a()(this.text_widths.values())),0),g=this.model.margin,m=this.legend_padding,y=this.model.spacing,_=this.model.label_standoff;if("vertical"==this.model.orientation)d=t.length*this.max_label_height+Math.max(t.length-1,0)*y+2*m+this.title_height,p=Object(C.n)([v+r+_+2*m,this.title_width+2*m]);else{var b,A=2*m+Math.max(t.length-1,0)*y,w=R(this.text_widths);try{for(w.s();!(b=w.n()).done;){var T=i()(b.value,2)[1];A+=Object(C.n)([T,l])+r+_}}catch(t){w.e(t)}finally{w.f()}p=Object(C.n)([this.title_width+2*m,A]),d=this.max_label_height+this.title_height+2*m}var I,O,M=null!=this.panel?this.panel:this.plot_view.frame,P=i()(M.bbox.ranges,2),D=P[0],N=P[1],L=this.model.location;if(Object(E.j)(L))switch(L){case"top_left":I=D.start+g,O=N.start+g;break;case"top_center":I=(D.end+D.start)/2-p/2,O=N.start+g;break;case"top_right":I=D.end-g-p,O=N.start+g;break;case"bottom_right":I=D.end-g-p,O=N.end-g-d;break;case"bottom_center":I=(D.end+D.start)/2-p/2,O=N.end-g-d;break;case"bottom_left":I=D.start+g,O=N.end-g-d;break;case"center_left":I=D.start+g,O=(N.end+N.start)/2-d/2;break;case"center":I=(D.end+D.start)/2-p/2,O=(N.end+N.start)/2-d/2;break;case"center_right":I=D.end-g-p,O=(N.end+N.start)/2-d/2}else if(Object(E.a)(L)&&2==L.length){var j=i()(L,2),F=j[0],z=j[1];I=M.xview.compute(F),O=M.yview.compute(z)-d}else Object(S.b)();return new k.a({left:I,top:O,width:p,height:d})}},{key:"interactive_bbox",value:function(){return this.compute_legend_bbox()}},{key:"interactive_hit",value:function(t,e){return this.interactive_bbox().contains(t,e)}},{key:"on_hit",value:function(t,e){var n,r,i=this.model.glyph_width,o=this.legend_padding,a=this.model.spacing,s=this.model.label_standoff,l=n=o,u=this.compute_legend_bbox(),c="vertical"==this.model.orientation,f=R(this.model.items);try{for(f.s();!(r=f.n()).done;){var h,d=r.value,p=R(d.get_labels_list_from_label_prop());try{for(p.s();!(h=p.n()).done;){var v=h.value,g=u.x+l,m=u.y+n+this.title_height,y=void 0,_=void 0;if(c){var b=[u.width-2*o,this.max_label_height];y=b[0],_=b[1]}else{var A=[this.text_widths.get(v)+i+s,this.max_label_height];y=A[0],_=A[1]}if(new k.a({left:g,top:m,width:y,height:_}).contains(t,e)){switch(this.model.click_policy){case"hide":var w,x=R(d.renderers);try{for(x.s();!(w=x.n()).done;){var C=w.value;C.visible=!C.visible}}catch(t){x.e(t)}finally{x.f()}break;case"mute":var E,S=R(d.renderers);try{for(S.s();!(E=S.n()).done;){var T=E.value;T.muted=!T.muted}}catch(t){S.e(t)}finally{S.f()}}return!0}c?n+=this.max_label_height+a:l+=this.text_widths.get(v)+i+s+a}}catch(t){p.e(t)}finally{p.f()}}}catch(t){f.e(t)}finally{f.f()}return!1}},{key:"render",value:function(){if(this.model.visible&&0!=this.model.items.length){var t,e=R(this.model.items);try{for(e.s();!(t=e.n()).done;){t.value.legend=this.model}}catch(t){e.e(t)}finally{e.f()}var n=this.layer.ctx,r=this.compute_legend_bbox();n.save(),this._draw_legend_box(n,r),this._draw_legend_items(n,r),this.model.title&&this._draw_title(n,r),n.restore()}}},{key:"_draw_legend_box",value:function(t,e){t.beginPath(),t.rect(e.x,e.y,e.width,e.height),this.visuals.background_fill.set_value(t),t.fill(),this.visuals.border_line.doit&&(this.visuals.border_line.set_value(t),t.stroke())}},{key:"_draw_legend_items",value:function(t,e){var n,r=this,i=this.model,o=i.glyph_width,a=i.glyph_height,s=this.legend_padding,l=this.model.spacing,u=this.model.label_standoff,c=s,f=s,h="vertical"==this.model.orientation,d=R(this.model.items);try{var p=function(){var i=n.value,d=i.get_labels_list_from_label_prop(),p=i.get_field_from_label_prop();if(0==d.length)return"continue";var v,g=function(){switch(r.model.click_policy){case"none":return!0;case"hide":return Object(C.g)(i.renderers,(function(t){return t.visible}));case"mute":return Object(C.g)(i.renderers,(function(t){return!t.muted}))}}(),m=R(d);try{for(m.s();!(v=m.n()).done;){var y=v.value,_=e.x+c,b=e.y+f+r.title_height,A=_+o,w=b+a;h?f+=r.max_label_height+l:c+=r.text_widths.get(y)+o+u+l,r.visuals.label_text.set_value(t),t.fillText(y,A+u,b+r.max_label_height/2);var x,k=R(i.renderers);try{for(k.s();!(x=k.n()).done;){var E=x.value;r.plot_view.renderer_views.get(E).draw_legend(t,_,A,b,w,p,y,i.index)}}catch(t){k.e(t)}finally{k.f()}if(!g){var S=void 0,T=void 0;if(h){var I=[e.width-2*s,r.max_label_height];S=I[0],T=I[1]}else{var O=[r.text_widths.get(y)+o+u,r.max_label_height];S=O[0],T=O[1]}t.beginPath(),t.rect(_,b,S,T),r.visuals.inactive_fill.set_value(t),t.fill()}}}catch(t){m.e(t)}finally{m.f()}};for(d.s();!(n=d.n()).done;)p()}catch(t){d.e(t)}finally{d.f()}}},{key:"_draw_title",value:function(t,e){this.visuals.title_text.doit&&(t.save(),t.translate(e.x0,e.y0+this.title_height),this.visuals.title_text.set_value(t),t.fillText(this.model.title,this.legend_padding,this.legend_padding-this.model.title_standoff),t.restore())}},{key:"_get_size",value:function(){var t=this.compute_legend_bbox(),e=t.width,n=t.height;return{width:e+2*this.model.margin,height:n+2*this.model.margin}}},{key:"legend_padding",get:function(){return null!=this.visuals.border_line.line_color.value()?this.model.padding:0}}]),n}(_.b);O.__name__="LegendView";var M=function(t){p()(n,t);var e=I(n);function n(t){return l()(this,n),e.call(this,t)}return c()(n,[{key:"initialize",value:function(){h()(y()(n.prototype),"initialize",this).call(this),this.item_change=new w.b(this,"item_change")}},{key:"get_legend_names",value:function(){var t,e=[],n=R(this.items);try{for(n.s();!(t=n.n()).done;){var r=t.value.get_labels_list_from_label_prop();e.push.apply(e,a()(r))}}catch(t){n.e(t)}finally{n.f()}return e}}],[{key:"init_Legend",value:function(){this.prototype.default_view=O,this.mixins([["label_",b.g],["title_",b.g],["inactive_",b.a],["border_",b.e],["background_",b.a]]),this.define({orientation:[A.Y,"vertical"],location:[A.e,"top_right"],title:[A.nb],title_standoff:[A.V,5],label_standoff:[A.V,5],glyph_height:[A.V,20],glyph_width:[A.V,20],label_height:[A.V,20],label_width:[A.V,20],margin:[A.V,10],padding:[A.V,10],spacing:[A.V,3],items:[A.g,[]],click_policy:[A.e,"none"]}),this.override({border_line_color:"#e5e5e5",border_line_alpha:.5,border_line_width:1,background_fill_color:"#ffffff",background_fill_alpha:.95,inactive_fill_color:"white",inactive_fill_alpha:.7,label_text_font_size:"13px",label_text_baseline:"middle",title_text_font_size:"13px",title_text_font_style:"italic"})}}]),n}(_.a);M.__name__="Legend",M.init_Legend()},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(38),p=n(45);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var g=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_update_layout",value:function(){this.layout=new p.a(this.el),this.layout.set_sizing(this.box_sizing())}},{key:"child_models",get:function(){return[]}}]),n}(d.b);g.__name__="HTMLBoxView";var m=function(t){l()(n,t);var e=v(n);function n(t){return i()(this,n),e.call(this,t)}return n}(d.a);m.__name__="HTMLBox"},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r="function"==typeof requestAnimationFrame?requestAnimationFrame:t;function i(t){return new Promise((function(e){r((function(){return e(t())}))}))}}).call(this,n(164).setImmediate)},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));var r=n(10),i=n(63),o=n(55);var a=i.b?"little":"big";function s(t){return Object(r.i)(t)&&("__buffer__"in t||"__ndarray__"in t)}function l(t,e){var n,r=t.shape,i=t.dtype,s=t.order;if("__buffer__"in t){var l=e.get(t.__buffer__);if(null==l)throw new Error("buffer for ".concat(t.__buffer__," not found"));n=l}else n=function(t){for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0,o=n;i<o;i++)r[i]=e.charCodeAt(i);return r.buffer}(t.__ndarray__);var u=function(){switch(i){case"uint8":return new o.h(n,r);case"int8":return new o.e(n,r);case"uint16":return new o.f(n,r);case"int16":return new o.c(n,r);case"uint32":return new o.g(n,r);case"int32":return new o.d(n,r);case"float32":return new o.a(n,r);case"float64":return new o.b(n,r)}}();if(s!==a)switch(u.BYTES_PER_ELEMENT){case 2:!function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,2*t.length),n=0,r=e.length;n<r;n+=2){var i=e[n];e[n]=e[n+1],e[n+1]=i}}(u);break;case 4:!function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,4*t.length),n=0,r=e.length;n<r;n+=4){var i=e[n];e[n]=e[n+3],e[n+3]=i,i=e[n+1],e[n+1]=e[n+2],e[n+2]=i}}(u);break;case 8:!function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,8*t.length),n=0,r=e.length;n<r;n+=8){var i=e[n];e[n]=e[n+7],e[n+7]=i,i=e[n+1],e[n+1]=e[n+6],e[n+6]=i,i=e[n+2],e[n+2]=e[n+5],e[n+5]=i,i=e[n+3],e[n+3]=e[n+4],e[n+4]=i}}(u)}return u}function u(t,e){var n={order:a,dtype:t.dtype,shape:t.shape};if(null!=e){var r="".concat(e.size);return e.set(r,t.buffer),Object.assign({__buffer__:r},n)}var i,o,s,l=(i=t.buffer,o=new Uint8Array(i),s=Array.from(o).map((function(t){return String.fromCharCode(t)})),btoa(s.join("")));return Object.assign({__ndarray__:l},n)}},function(t,e,n){"use strict";var r=n(24),i=n(120);var o=n(72),a=n(97),s=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.a.init,t.prototype["@@transducer/result"]=a.a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),l=Object(r.a)((function(t,e){return new s(t,e)})),u=n(84),c=n(85),f=Object(r.a)(Object(i.a)(["fantasy-land/map","map"],l,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return Object(u.a)(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return Object(o.a)((function(n,r){return n[r]=t(e[r]),n}),{},Object(c.a)(e));default:return function(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}(t,e)}})));e.a=f},function(t,e,n){var r,i=n(20);r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(144)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(19),p=n(18),v=n(1);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var m=function(t){l()(n,t);var e=g(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_DataSource",value:function(){this.define({selected:[v.F,function(){return new p.a}]})}}]),n}(d.a);m.__name__="DataSource",m.init_DataSource()},function(t,e,n){"use strict";n.d(e,"b",(function(){return A})),n.d(e,"a",(function(){return w}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(25),p=n(29),v=n(27),g=n(12),m=n(18);function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var A=function(t){l()(n,t);var e=b(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_inner_loop",value:function(t,e,n,r,i){var o,a=y(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;0!=s?isNaN(n[s]+r[s])?(t.closePath(),i.apply(t),t.beginPath()):t.lineTo(n[s],r[s]):(t.beginPath(),t.moveTo(n[s],r[s]))}}catch(t){a.e(t)}finally{a.f()}t.closePath(),i.call(t)}},{key:"_render",value:function(t,e,n){var r=this,i=n.sx,o=n.sy;this.visuals.fill.doit&&(this.visuals.fill.set_value(t),this._inner_loop(t,e,i,o,t.fill)),this.visuals.hatch.doit2(t,0,(function(){return r._inner_loop(t,e,i,o,t.fill)}),(function(){return r.renderer.request_render()})),this.visuals.line.doit&&(this.visuals.line.set_value(t),this._inner_loop(t,e,i,o,t.stroke))}},{key:"draw_legend_for_index",value:function(t,e,n){Object(p.a)(this.visuals,t,e,n)}},{key:"_hit_point",value:function(t){var e=this,n=new m.a;return v.f(t.sx,t.sy,this.sx,this.sy)&&(n.add_to_selected_glyphs(this.model),n.get_view=function(){return e}),n}}]),n}(d.b);A.__name__="PatchView";var w=function(t){l()(n,t);var e=b(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_Patch",value:function(){this.prototype.default_view=A,this.mixins([g.e,g.a,g.c])}}]),n}(d.a);w.__name__="Patch",w.init_Patch()},function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return b}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(95),p=n(36),v=n(27),g=n(1),m=n(18);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var _=function(t){l()(n,t);var e=y(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x1.length;e<n;e++){var r=this._x1[e],i=this._x2[e],o=this._y[e];!isNaN(r+i+o)&&isFinite(r+i+o)&&t.push({x0:Math.min(r,i),y0:o,x1:Math.max(r,i),y1:o,i:e})}return new p.a(t)}},{key:"_inner",value:function(t,e,n,r,i){t.beginPath();for(var o=0,a=e.length;o<a;o++)t.lineTo(e[o],r[o]);for(var s=n.length-1;s>=0;s--)t.lineTo(n[s],r[s]);t.closePath(),i.call(t)}},{key:"_render",value:function(t,e,n){var r=this,i=n.sx1,o=n.sx2,a=n.sy;this.visuals.fill.doit&&(this.visuals.fill.set_value(t),this._inner(t,i,o,a,t.fill)),this.visuals.hatch.doit2(t,0,(function(){return r._inner(t,i,o,a,t.fill)}),(function(){return r.renderer.request_render()}))}},{key:"_hit_point",value:function(t){for(var e=this,n=this.sy.length,r=new Float64Array(2*n),i=new Float64Array(2*n),o=0,a=n;o<a;o++)r[o]=this.sx1[o],i[o]=this.sy[o],r[n+o]=this.sx2[n-o-1],i[n+o]=this.sy[n-o-1];var s=new m.a;return v.f(t.sx,t.sy,r,i)&&(s.add_to_selected_glyphs(this.model),s.get_view=function(){return e}),s}},{key:"scenterx",value:function(t){return(this.sx1[t]+this.sx2[t])/2}},{key:"scentery",value:function(t){return this.sy[t]}},{key:"_map_data",value:function(){this.sx1=this.renderer.xscale.v_compute(this._x1),this.sx2=this.renderer.xscale.v_compute(this._x2),this.sy=this.renderer.yscale.v_compute(this._y)}}]),n}(d.b);_.__name__="HAreaView";var b=function(t){l()(n,t);var e=y(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_HArea",value:function(){this.prototype.default_view=_,this.define({x1:[g.p],x2:[g.p],y:[g.p]})}}]),n}(d.a);b.__name__="HArea",b.init_HArea()},function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return b}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(95),p=n(36),v=n(27),g=n(1),m=n(18);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var _=function(t){l()(n,t);var e=y(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"_index_data",value:function(){for(var t=[],e=0,n=this._x.length;e<n;e++){var r=this._x[e],i=this._y1[e],o=this._y2[e];!isNaN(r+i+o)&&isFinite(r+i+o)&&t.push({x0:r,y0:Math.min(i,o),x1:r,y1:Math.max(i,o),i:e})}return new p.a(t)}},{key:"_inner",value:function(t,e,n,r,i){t.beginPath();for(var o=0,a=n.length;o<a;o++)t.lineTo(e[o],n[o]);for(var s=r.length-1;s>=0;s--)t.lineTo(e[s],r[s]);t.closePath(),i.call(t)}},{key:"_render",value:function(t,e,n){var r=this,i=n.sx,o=n.sy1,a=n.sy2;this.visuals.fill.doit&&(this.visuals.fill.set_value(t),this._inner(t,i,o,a,t.fill)),this.visuals.hatch.doit2(t,0,(function(){return r._inner(t,i,o,a,t.fill)}),(function(){return r.renderer.request_render()}))}},{key:"scenterx",value:function(t){return this.sx[t]}},{key:"scentery",value:function(t){return(this.sy1[t]+this.sy2[t])/2}},{key:"_hit_point",value:function(t){for(var e=this,n=this.sx.length,r=new Float64Array(2*n),i=new Float64Array(2*n),o=0,a=n;o<a;o++)r[o]=this.sx[o],i[o]=this.sy1[o],r[n+o]=this.sx[n-o-1],i[n+o]=this.sy2[n-o-1];var s=new m.a;return v.f(t.sx,t.sy,r,i)&&(s.add_to_selected_glyphs(this.model),s.get_view=function(){return e}),s}},{key:"_map_data",value:function(){this.sx=this.renderer.xscale.v_compute(this._x),this.sy1=this.renderer.yscale.v_compute(this._y1),this.sy2=this.renderer.yscale.v_compute(this._y2)}}]),n}(d.b);_.__name__="VAreaView";var b=function(t){l()(n,t);var e=y(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,null,[{key:"init_VArea",value:function(){this.prototype.default_view=_,this.define({x:[g.p],y1:[g.p],y2:[g.p]})}}]),n}(d.a);b.__name__="VArea",b.init_VArea()},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return y}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f);function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var g=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"do_selection",value:function(t,e,n,r){return null!==t&&(e.selected.update(t,n,r),e._select.emit(),!e.selected.is_empty())}}]),n}(n(19).a);g.__name__="SelectionPolicy";var m=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"hit_test",value:function(t,e){var n,r=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.hit_test(t);null!==o&&r.push(o)}}catch(t){i.e(t)}finally{i.f()}if(r.length>0){var a,s=r[0],l=d(r);try{for(l.s();!(a=l.n()).done;){var u=a.value;s.update_through_intersection(u)}}catch(t){l.e(t)}finally{l.f()}return s}return null}}]),n}(g);m.__name__="IntersectRenderers";var y=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"hit_test",value:function(t,e){var n,r=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.hit_test(t);null!==o&&r.push(o)}}catch(t){i.e(t)}finally{i.f()}if(r.length>0){var a,s=r[0],l=d(r);try{for(l.s();!(a=l.n()).done;){var u=a.value;s.update_through_union(u)}}catch(t){l.e(t)}finally{l.f()}return s}return null}}]),n}(g);y.__name__="UnionRenderers"},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10),i=n(16);function o(t){if(Object(r.i)(t)){var e=Object(i.e)(t);return 1==e.length&&"id"==e[0]}return!1}},function(t,e,n){"use strict";e.a="\n.bk-root {\n  position: relative;\n  width: auto;\n  height: auto;\n  z-index: 0;\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n}\n.bk-root .bk,\n.bk-root .bk:before,\n.bk-root .bk:after {\n  box-sizing: inherit;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  background-image: none;\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1.42857143;\n}\n.bk-root pre.bk {\n  font-family: Courier, monospace;\n}\n"},function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n.n(u),f=n(0),h=n.n(f),d=n(44),p=n(18),v=n(40),g=n(70),m=n(1);function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var A=function(t){l()(n,t);var e=b(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).inspectors=new Map,r}return a()(n,[{key:"select",value:function(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",o=[],a=[],s=y(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;l instanceof v.b?o.push(l):l instanceof g.b&&a.push(l)}}catch(t){s.e(t)}finally{s.f()}for(var u=!1,c=0,f=a;c<f.length;c++){var h=f[c],d=h.model.selection_policy.hit_test(e,h);u=u||h.model.selection_policy.do_selection(d,h.model,n,i)}if(o.length>0){var p=this.source.selection_policy.hit_test(e,o);u=u||this.source.selection_policy.do_selection(p,this.source,n,i)}return u}},{key:"inspect",value:function(t,e){var n=!1;if(t instanceof v.b){var r=t.hit_test(e);if(null!=r){n=!r.is_empty();var i=this.get_or_create_inspector(t.model);i.update(r,!0,"replace"),this.source.setv({inspected:i},{silent:!0}),this.source.inspect.emit([t,{geometry:e}])}}else if(t instanceof g.b){var o=t.model.inspection_policy.hit_test(e,t);n=n||t.model.inspection_policy.do_inspection(o,e,t,!1,"replace")}return n}},{key:"clear",value:function(t){this.source.selected.clear(),null!=t&&this.get_or_create_inspector(t.model).clear()}},{key:"get_or_create_inspector",value:function(t){var e=this.inspectors.get(t);return null==e&&(e=new p.a,this.inspectors.set(t,e)),e}}],[{key:"init_SelectionManager",value:function(){this.internal({source:[m.e]})}}]),n}(d.a);A.__name__="SelectionManager",A.init_SelectionManager()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="bk-root"},function(t,e,n){"use strict";e.a="\n.bk-root .bk-logo {\n  margin: 5px;\n  position: relative;\n  display: block;\n  background-repeat: no-repeat;\n}\n.bk-root .bk-logo.bk-grey {\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale\");\n  /* Firefox 10+, Firefox on Android */\n  filter: gray;\n  /* IE6-9 */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+, Safari 6+, Safari 6+ iOS */\n}\n.bk-root .bk-logo-small {\n  width: 20px;\n  height: 20px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);\n}\n.bk-root .bk-logo-notebook {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 5px;\n}\n"},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(14),i=n.n(r),o=(n(9),i.a.mark(l));function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e,n,r,s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=0,n=a(t),i.prev=2,n.s();case 4:if((r=n.n()).done){i.next=10;break}return s=r.value,i.next=8,[s,e++];case 8:i.next=4;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(2),n.e(i.t0);case 15:return i.prev=15,n.f(),i.finish(15);case 18:case"end":return i.stop()}}),o,null,[[2,12,15,18]])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(93);function i(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function o(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),a=o.pop();if(!Object(r.a)(a)){for(var s=0;s<t.length;){if("function"==typeof a[t[s]])return a[t[s]].apply(a,o);s+=1}if(i(a)){var l=e.apply(null,o);return l(a)}}return n.apply(this,arguments)}}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";t.exports=n(150)},function(t,e,n){"use strict";var r=n(122),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(e),v=l(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||v&&v[m]||s&&s[m])){var y=h(n,m);try{u(e,m,y)}catch(t){}}}}return e}},function(t,e,n){"use strict";(function(t,r){var i,o=n(132);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(106),n(151)(t))},function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return E}));var r=n(6),i=n.n(r),o=n(2),a=n.n(o),s=n(4),l=n.n(s),u=n(3),c=n.n(u),f=n(5),h=n.n(f),d=n(0),p=n.n(d),v=n(25),g=n(12),m=n(27),y=n(1),_=n(9),b=n(17),A=n(18);function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var C=function(t){c()(n,t);var e=k(n);function n(){return a()(this,n),e.apply(this,arguments)}return l()(n,[{key:"_map_data",value:function(){if(null!=this._radius)if("data"==this.model.properties.radius.units)switch(this.model.radius_dimension){case"x":this.sradius=this.sdist(this.renderer.xscale,this._x,this._radius);break;case"y":this.sradius=this.sdist(this.renderer.yscale,this._y,this._radius);break;case"max":var t=this.sdist(this.renderer.xscale,this._x,this._radius),e=this.sdist(this.renderer.yscale,this._y,this._radius);this.sradius=Object(b.j)(t,(function(t,n){return Math.max(t,e[n])}));break;case"min":var n=this.sdist(this.renderer.xscale,this._x,this._radius),r=this.sdist(this.renderer.yscale,this._y,this._radius);this.sradius=Object(b.j)(n,(function(t,e){return Math.min(t,r[e])}))}else this.sradius=this._radius,this.max_size=2*this.max_radius;else this.sradius=Object(b.j)(this._size,(function(t){return t/2}))}},{key:"_mask_data",value:function(){var t,e,n,r,o=i()(this.renderer.plot_view.frame.bbox.ranges,2),a=o[0],s=o[1];if(null!=this._radius&&"data"==this.model.properties.radius.units){var l=a.start,u=a.end,c=this.renderer.xscale.r_invert(l,u),f=i()(c,2);t=f[0],n=f[1],t-=this.max_radius,n+=this.max_radius;var h=s.start,d=s.end,p=this.renderer.yscale.r_invert(h,d),v=i()(p,2);e=v[0],r=v[1],e-=this.max_radius,r+=this.max_radius}else{var g=a.start-this.max_size,m=a.end+this.max_size,y=this.renderer.xscale.r_invert(g,m),_=i()(y,2);t=_[0],n=_[1];var b=s.start-this.max_size,A=s.end+this.max_size,w=this.renderer.yscale.r_invert(b,A),x=i()(w,2);e=x[0],r=x[1]}return this.index.indices({x0:t,x1:n,y0:e,y1:r})}},{key:"_render",value:function(t,e,n){var r,i=n.sx,o=n.sy,a=n.sradius,s=w(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;isNaN(i[l]+o[l]+a[l])||(t.beginPath(),t.arc(i[l],o[l],a[l],0,2*Math.PI,!1),this.visuals.fill.doit&&(this.visuals.fill.set_vectorize(t,l),t.fill()),this.visuals.line.doit&&(this.visuals.line.set_vectorize(t,l),t.stroke()))}}catch(t){s.e(t)}finally{s.f()}}},{key:"_hit_point",value:function(t){var e,n,r,o,a=t.sx,s=t.sy,l=this.renderer.xscale.invert(a),u=this.renderer.yscale.invert(s);if(null!=this._radius&&"data"==this.model.properties.radius.units)e=l-this.max_radius,n=l+this.max_radius,r=u-this.max_radius,o=u+this.max_radius;else{var c=a-this.max_size,f=a+this.max_size,h=this.renderer.xscale.r_invert(c,f),d=i()(h,2);e=d[0],n=d[1];var p=s-this.max_size,v=s+this.max_size,g=this.renderer.yscale.r_invert(p,v),m=i()(g,2);r=m[0],o=m[1]}var y=this.index.indices({x0:e,x1:n,y0:r,y1:o}),_=[];if(null!=this._radius&&"data"==this.model.properties.radius.units){var b,x=w(y);try{for(x.s();!(b=x.n()).done;){var k=b.value,C=Math.pow(this.sradius[k],2),E=this.renderer.xscale.r_compute(l,this._x[k]),S=i()(E,2),R=S[0],T=S[1],I=this.renderer.yscale.r_compute(u,this._y[k]),O=i()(I,2),M=O[0],P=O[1],D=Math.pow(R-T,2)+Math.pow(M-P,2);D<=C&&_.push([k,D])}}catch(t){x.e(t)}finally{x.f()}}else{var N,L=w(y);try{for(L.s();!(N=L.n()).done;){var j=N.value,F=Math.pow(this.sradius[j],2),z=Math.pow(this.sx[j]-a,2)+Math.pow(this.sy[j]-s,2);z<=F&&_.push([j,z])}}catch(t){L.e(t)}finally{L.f()}}return A.a.from_hits(_)}},{key:"_hit_span",value:function(t){var e,n,r,o,a,s,l,u,c=t.sx,f=t.sy,h=this.bounds();if("h"==t.direction)if(r=h.y0,o=h.y1,null!=this._radius&&"data"==this.model.properties.radius.units){a=c-this.max_radius,s=c+this.max_radius;var d=this.renderer.xscale.r_invert(a,s),p=i()(d,2);e=p[0],n=p[1]}else{var v=this.max_size/2;a=c-v,s=c+v;var g=this.renderer.xscale.r_invert(a,s),m=i()(g,2);e=m[0],n=m[1]}else if(e=h.x0,n=h.x1,null!=this._radius&&"data"==this.model.properties.radius.units){l=f-this.max_radius,u=f+this.max_radius;var y=this.renderer.yscale.r_invert(l,u),_=i()(y,2);r=_[0],o=_[1]}else{var b=this.max_size/2;l=f-b,u=f+b;var w=this.renderer.yscale.r_invert(l,u),x=i()(w,2);r=x[0],o=x[1]}var k=this.index.indices({x0:e,x1:n,y0:r,y1:o});return new A.a({indices:k})}},{key:"_hit_rect",value:function(t){var e=t.sx0,n=t.sx1,r=t.sy0,o=t.sy1,a=this.renderer.xscale.r_invert(e,n),s=i()(a,2),l=s[0],u=s[1],c=this.renderer.yscale.r_invert(r,o),f=i()(c,2),h=f[0],d=f[1],p=this.index.indices({x0:l,x1:u,y0:h,y1:d});return new A.a({indices:p})}},{key:"_hit_poly",value:function(t){for(var e=t.sx,n=t.sy,r=Object(_.q)(0,this.sx.length),i=[],o=0,a=r.length;o<a;o++){var s=r[o];m.f(this.sx[o],this.sy[o],e,n)&&i.push(s)}return new A.a({indices:i})}},{key:"draw_legend_for_index",value:function(t,e,n){var r=e.x0,i=e.y0,o=e.x1,a=e.y1,s=n+1,l=new Array(s);l[n]=(r+o)/2;var u=new Array(s);u[n]=(i+a)/2;var c=new Array(s);c[n]=.2*Math.min(Math.abs(o-r),Math.abs(a-i)),this._render(t,[n],{sx:l,sy:u,sradius:c})}}]),n}(v.b);C.__name__="CircleView";var E=function(t){c()(n,t);var e=k(n);function n(t){return a()(this,n),e.call(this,t)}return l()(n,null,[{key:"init_Circle",value:function(){this.prototype.default_view=C,this.mixins([g.f,g.b]),this.define({angle:[y.c,0],size:[y.t,{units:"screen",value:4}],radius:[y.t,void 0,{optional:!0}],radius_dimension:[y.db,"x"]})}}]),n}(v.a);E.__name__="Circle",E.init_Circle()},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(t,e,n){var r=n(128);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){var r=n(20);t.exports=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(20),i=n(180),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},function(t,e,n){var r=n(130).Symbol;t.exports=r},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){var r,i=n(20);!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(t){return l(c(t),arguments)}function s(t,e){return a.apply(null,[t].concat(e||[]))}function l(t,e){var n,r,s,l,u,c,f,h,d,p=1,v=t.length,g="";for(r=0;r<v;r++)if("string"==typeof t[r])g+=t[r];else if("object"===i(t[r])){if((l=t[r]).keys)for(n=e[p],s=0;s<l.keys.length;s++){if(null==n)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',l.keys[s],l.keys[s-1]));n=n[l.keys[s]]}else n=l.param_no?e[l.param_no]:e[p++];if(o.not_type.test(l.type)&&o.not_primitive.test(l.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(l.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(a("[sprintf] expecting number but found %T",n));switch(o.number.test(l.type)&&(h=n>=0),l.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,l.width?parseInt(l.width):0);break;case"e":n=l.precision?parseFloat(n).toExponential(l.precision):parseFloat(n).toExponential();break;case"f":n=l.precision?parseFloat(n).toFixed(l.precision):parseFloat(n);break;case"g":n=l.precision?String(Number(n.toPrecision(l.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=l.precision?n.substring(0,l.precision):n;break;case"t":n=String(!!n),n=l.precision?n.substring(0,l.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=l.precision?n.substring(0,l.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=l.precision?n.substring(0,l.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(l.type)?g+=n:(!o.number.test(l.type)||h&&!l.sign?d="":(d=h?"+":"-",n=n.toString().replace(o.sign,"")),c=l.pad_char?"0"===l.pad_char?"0":l.pad_char.charAt(1):" ",f=l.width-(d+n).length,u=l.width&&f>0?c.repeat(f):"",g+=l.align?d+n+u:"0"===c?d+u+n:u+d+n)}return g}var u=Object.create(null);function c(t){if(u[t])return u[t];for(var e,n=t,r=[],i=0;n;){if(null!==(e=o.text.exec(n)))r.push(e[0]);else if(null!==(e=o.modulo.exec(n)))r.push("%");else{if(null===(e=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var a=[],s=e[2],l=[];if(null===(l=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(s=s.substring(l[0].length));)if(null!==(l=o.key_access.exec(s)))a.push(l[1]);else{if(null===(l=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}e[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return u[t]=r}e.sprintf=a,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=s,void 0===(r=function(){return{sprintf:a,vsprintf:s}}.call(e,n,e,t))||(t.exports=r))}()},function(t,e,n){var r,i,o,a=n(20);
/* flatpickr v4.6.6, @license MIT */
o=function(){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],_enable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"===("undefined"==typeof window?"undefined":a(window))&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(t,e){return void 0===e&&(e=2),("000"+t).slice(-1*e)},s=function(t){return!0===t?1:0};function l(t,e,n){var r;return void 0===n&&(n=!1),function(){var i=this,o=arguments;null!==r&&clearTimeout(r),r=window.setTimeout((function(){r=null,n||t.apply(i,o)}),e),n&&!r&&t.apply(i,o)}}var u=function(t){return t instanceof Array?t:[t]};function c(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function f(t,e,n){var r=window.document.createElement(t);return e=e||"",n=n||"",r.className=e,void 0!==n&&(r.textContent=n),r}function h(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function d(t,e){var n=f("div","numInputWrapper"),r=f("input","numInput "+t),i=f("span","arrowUp"),o=f("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==e)for(var a in e)r.setAttribute(a,e[a]);return n.appendChild(r),n.appendChild(i),n.appendChild(o),n}function p(t){try{return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}catch(e){return t.target}}var v=function(){},g=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},m={D:v,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*s(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var r=parseInt(e),i=new Date(t.getFullYear(),0,2+7*(r-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:v,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:v,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},y={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},_={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[_.w(t,e,n)]},F:function(t,e,n){return g(_.n(t,e,n)-1,!1,e)},G:function(t,e,n){return o(_.h(t,e,n))},H:function(t){return o(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[s(t.getHours()>11)]},M:function(t,e){return g(t.getMonth(),!0,e)},S:function(t){return o(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return o(t.getFullYear(),4)},d:function(t){return o(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return o(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return o(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},b=function(t){var e=t.config,n=void 0===e?r:e,o=t.l10n,a=void 0===o?i:o,s=t.isMobile,l=void 0!==s&&s;return function(t,e,r){var i=r||a;return void 0===n.formatDate||l?e.split("").map((function(e,r,o){return _[e]&&"\\"!==o[r-1]?_[e](t,i,n):"\\"!==e?e:""})).join(""):n.formatDate(t,e,i)}},A=function(t){var e=t.config,n=void 0===e?r:e,o=t.l10n,a=void 0===o?i:o;return function(t,e,i,o){if(0===t||t){var s,l=o||a,u=t;if(t instanceof Date)s=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)s=new Date(t);else if("string"==typeof t){var c=e||(n||r).dateFormat,f=String(t).trim();if("today"===f)s=new Date,i=!0;else if(/Z$/.test(f)||/GMT$/.test(f))s=new Date(t);else if(n&&n.parseDate)s=n.parseDate(t,c);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var h=void 0,d=[],p=0,v=0,g="";p<c.length;p++){var _=c[p],b="\\"===_,A="\\"===c[p-1]||b;if(y[_]&&!A){g+=y[_];var w=new RegExp(g).exec(t);w&&(h=!0)&&d["Y"!==_?"push":"unshift"]({fn:m[_],val:w[++v]})}else b||(g+=".");d.forEach((function(t){var e=t.fn,n=t.val;return s=e(s,n,l)||s}))}s=h?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===i&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+u))}}};function w(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var x=864e5;function k(v,m){var _={config:t(t({},r),E.defaultConfig),l10n:i};function k(t){return t.bind(_)}function C(){var t=_.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==_.calendarContainer&&(_.calendarContainer.style.visibility="hidden",_.calendarContainer.style.display="block"),void 0!==_.daysContainer){var e=(_.days.offsetWidth+1)*t.showMonths;_.daysContainer.style.width=e+"px",_.calendarContainer.style.width=e+(void 0!==_.weekWrapper?_.weekWrapper.offsetWidth:0)+"px",_.calendarContainer.style.removeProperty("visibility"),_.calendarContainer.style.removeProperty("display")}}))}function S(t){if(0===_.selectedDates.length){var e=void 0!==_.config.minDate?new Date(_.config.minDate.getTime()):new Date,n=I(),r=n.hours,i=n.minutes,a=n.seconds;e.setHours(r,i,a,0),_.setDate(e,!1)}void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,n=p(t),r=n;void 0!==_.amPM&&n===_.amPM&&(_.amPM.textContent=_.l10n.amPM[s(_.amPM.textContent===_.l10n.amPM[0])]);var i=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),l=parseFloat(r.getAttribute("step")),u=parseInt(r.value,10),c=t.delta||(e?38===t.which?1:-1:0),f=u+l*c;if(void 0!==r.value&&2===r.value.length){var h=r===_.hourElement,d=r===_.minuteElement;f<i?(f=a+f+s(!h)+(s(h)&&s(!_.amPM)),d&&j(void 0,-1,_.hourElement)):f>a&&(f=r===_.hourElement?f-a-s(!_.amPM):i,d&&j(void 0,1,_.hourElement)),_.amPM&&h&&(1===l?f+u===23:Math.abs(f-u)>l)&&(_.amPM.textContent=_.l10n.amPM[s(_.amPM.textContent===_.l10n.amPM[0])]),r.value=o(f)}}(t);var l=_._input.value;R(),bt(),_._input.value!==l&&_._debouncedChange()}function R(){if(void 0!==_.hourElement&&void 0!==_.minuteElement){var t,e,n=(parseInt(_.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(_.minuteElement.value,10)||0)%60,i=void 0!==_.secondElement?(parseInt(_.secondElement.value,10)||0)%60:0;void 0!==_.amPM&&(t=n,e=_.amPM.textContent,n=t%12+12*s(e===_.l10n.amPM[1]));var o=void 0!==_.config.minTime||_.config.minDate&&_.minDateHasTime&&_.latestSelectedDateObj&&0===w(_.latestSelectedDateObj,_.config.minDate,!0);if(void 0!==_.config.maxTime||_.config.maxDate&&_.maxDateHasTime&&_.latestSelectedDateObj&&0===w(_.latestSelectedDateObj,_.config.maxDate,!0)){var a=void 0!==_.config.maxTime?_.config.maxTime:_.config.maxDate;(n=Math.min(n,a.getHours()))===a.getHours()&&(r=Math.min(r,a.getMinutes())),r===a.getMinutes()&&(i=Math.min(i,a.getSeconds()))}if(o){var l=void 0!==_.config.minTime?_.config.minTime:_.config.minDate;(n=Math.max(n,l.getHours()))===l.getHours()&&(r=Math.max(r,l.getMinutes())),r===l.getMinutes()&&(i=Math.max(i,l.getSeconds()))}O(n,r,i)}}function T(t){var e=t||_.latestSelectedDateObj;e&&O(e.getHours(),e.getMinutes(),e.getSeconds())}function I(){var t=_.config.defaultHour,e=_.config.defaultMinute,n=_.config.defaultSeconds;if(void 0!==_.config.minDate){var r=_.config.minDate.getHours(),i=_.config.minDate.getMinutes();(t=Math.max(t,r))===r&&(e=Math.max(i,e)),t===r&&e===i&&(n=_.config.minDate.getSeconds())}if(void 0!==_.config.maxDate){var o=_.config.maxDate.getHours(),a=_.config.maxDate.getMinutes();(t=Math.min(t,o))===o&&(e=Math.min(a,e)),t===o&&e===a&&(n=_.config.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:n}}function O(t,e,n){void 0!==_.latestSelectedDateObj&&_.latestSelectedDateObj.setHours(t%24,e,n||0,0),_.hourElement&&_.minuteElement&&!_.isMobile&&(_.hourElement.value=o(_.config.time_24hr?t:(12+t)%12+12*s(t%12==0)),_.minuteElement.value=o(e),void 0!==_.amPM&&(_.amPM.textContent=_.l10n.amPM[s(t>=12)]),void 0!==_.secondElement&&(_.secondElement.value=o(n)))}function M(t){var e=p(t),n=parseInt(e.value)+(t.delta||0);(n/1e3>1||"Enter"===t.key&&!/[^\d]/.test(n.toString()))&&Q(n)}function P(t,e,n,r){return e instanceof Array?e.forEach((function(e){return P(t,e,n,r)})):t instanceof Array?t.forEach((function(t){return P(t,e,n,r)})):(t.addEventListener(e,n,r),void _._handlers.push({element:t,event:e,handler:n,options:r}))}function D(){vt("onChange")}function N(t,e){var n=void 0!==t?_.parseDate(t):_.latestSelectedDateObj||(_.config.minDate&&_.config.minDate>_.now?_.config.minDate:_.config.maxDate&&_.config.maxDate<_.now?_.config.maxDate:_.now),r=_.currentYear,i=_.currentMonth;try{void 0!==n&&(_.currentYear=n.getFullYear(),_.currentMonth=n.getMonth())}catch(t){t.message="Invalid date supplied: "+n,_.config.errorHandler(t)}e&&_.currentYear!==r&&(vt("onYearChange"),H()),!e||_.currentYear===r&&_.currentMonth===i||vt("onMonthChange"),_.redraw()}function L(t){var e=p(t);~e.className.indexOf("arrow")&&j(t,e.classList.contains("arrowUp")?1:-1)}function j(t,e,n){var r=t&&p(t),i=n||r&&r.parentNode&&r.parentNode.firstChild,o=gt("increment");o.delta=e,i&&i.dispatchEvent(o)}function F(t,e,n,r){var i=Z(e,!0),o=f("span","flatpickr-day "+t,e.getDate().toString());return o.dateObj=e,o.$i=r,o.setAttribute("aria-label",_.formatDate(e,_.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===w(e,_.now)&&(_.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),i?(o.tabIndex=-1,mt(e)&&(o.classList.add("selected"),_.selectedDateElem=o,"range"===_.config.mode&&(c(o,"startRange",_.selectedDates[0]&&0===w(e,_.selectedDates[0],!0)),c(o,"endRange",_.selectedDates[1]&&0===w(e,_.selectedDates[1],!0)),"nextMonthDay"===t&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===_.config.mode&&function(t){return!("range"!==_.config.mode||_.selectedDates.length<2)&&w(t,_.selectedDates[0])>=0&&w(t,_.selectedDates[1])<=0}(e)&&!mt(e)&&o.classList.add("inRange"),_.weekNumbers&&1===_.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&_.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+_.config.getWeek(e)+"</span>"),vt("onDayCreate",o),o}function z(t){t.focus(),"range"===_.config.mode&&rt(t)}function B(t){for(var e=t>0?0:_.config.showMonths-1,n=t>0?_.config.showMonths:-1,r=e;r!=n;r+=t)for(var i=_.daysContainer.children[r],o=t>0?0:i.children.length-1,a=t>0?i.children.length:-1,s=o;s!=a;s+=t){var l=i.children[s];if(-1===l.className.indexOf("hidden")&&Z(l.dateObj))return l}}function U(t,e){var n=tt(document.activeElement||document.body),r=void 0!==t?t:n?document.activeElement:void 0!==_.selectedDateElem&&tt(_.selectedDateElem)?_.selectedDateElem:void 0!==_.todayDateElem&&tt(_.todayDateElem)?_.todayDateElem:B(e>0?1:-1);void 0===r?_._input.focus():n?function(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():_.currentMonth,r=e>0?_.config.showMonths:-1,i=e>0?1:-1,o=n-_.currentMonth;o!=r;o+=i)for(var a=_.daysContainer.children[o],s=n-_.currentMonth===o?t.$i+e:e<0?a.children.length-1:0,l=a.children.length,u=s;u>=0&&u<l&&u!=(e>0?l:-1);u+=i){var c=a.children[u];if(-1===c.className.indexOf("hidden")&&Z(c.dateObj)&&Math.abs(t.$i-u)>=Math.abs(e))return z(c)}_.changeMonth(i),U(B(i),0)}(r,e):z(r)}function G(t,e){for(var n=(new Date(t,e,1).getDay()-_.l10n.firstDayOfWeek+7)%7,r=_.utils.getDaysInMonth((e-1+12)%12,t),i=_.utils.getDaysInMonth(e,t),o=window.document.createDocumentFragment(),a=_.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",l=a?"nextMonthDay hidden":"nextMonthDay",u=r+1-n,c=0;u<=r;u++,c++)o.appendChild(F(s,new Date(t,e-1,u),u,c));for(u=1;u<=i;u++,c++)o.appendChild(F("",new Date(t,e,u),u,c));for(var h=i+1;h<=42-n&&(1===_.config.showMonths||c%7!=0);h++,c++)o.appendChild(F(l,new Date(t,e+1,h%i),h,c));var d=f("div","dayContainer");return d.appendChild(o),d}function V(){if(void 0!==_.daysContainer){h(_.daysContainer),_.weekNumbers&&h(_.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<_.config.showMonths;e++){var n=new Date(_.currentYear,_.currentMonth,1);n.setMonth(_.currentMonth+e),t.appendChild(G(n.getFullYear(),n.getMonth()))}_.daysContainer.appendChild(t),_.days=_.daysContainer.firstChild,"range"===_.config.mode&&1===_.selectedDates.length&&rt()}}function H(){if(!(_.config.showMonths>1||"dropdown"!==_.config.monthSelectorType)){var t=function(t){return!(void 0!==_.config.minDate&&_.currentYear===_.config.minDate.getFullYear()&&t<_.config.minDate.getMonth()||void 0!==_.config.maxDate&&_.currentYear===_.config.maxDate.getFullYear()&&t>_.config.maxDate.getMonth())};_.monthsDropdownContainer.tabIndex=-1,_.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var n=f("option","flatpickr-monthDropdown-month");n.value=new Date(_.currentYear,e).getMonth().toString(),n.textContent=g(e,_.config.shorthandCurrentMonth,_.l10n),n.tabIndex=-1,_.currentMonth===e&&(n.selected=!0),_.monthsDropdownContainer.appendChild(n)}}}function q(){var t,e=f("div","flatpickr-month"),n=window.document.createDocumentFragment();_.config.showMonths>1||"static"===_.config.monthSelectorType?t=f("span","cur-month"):(_.monthsDropdownContainer=f("select","flatpickr-monthDropdown-months"),_.monthsDropdownContainer.setAttribute("aria-label",_.l10n.monthAriaLabel),P(_.monthsDropdownContainer,"change",(function(t){var e=p(t),n=parseInt(e.value,10);_.changeMonth(n-_.currentMonth),vt("onMonthChange")})),H(),t=_.monthsDropdownContainer);var r=d("cur-year",{tabindex:"-1"}),i=r.getElementsByTagName("input")[0];i.setAttribute("aria-label",_.l10n.yearAriaLabel),_.config.minDate&&i.setAttribute("min",_.config.minDate.getFullYear().toString()),_.config.maxDate&&(i.setAttribute("max",_.config.maxDate.getFullYear().toString()),i.disabled=!!_.config.minDate&&_.config.minDate.getFullYear()===_.config.maxDate.getFullYear());var o=f("div","flatpickr-current-month");return o.appendChild(t),o.appendChild(r),n.appendChild(o),e.appendChild(n),{container:e,yearElement:i,monthElement:t}}function W(){h(_.monthNav),_.monthNav.appendChild(_.prevMonthNav),_.config.showMonths&&(_.yearElements=[],_.monthElements=[]);for(var t=_.config.showMonths;t--;){var e=q();_.yearElements.push(e.yearElement),_.monthElements.push(e.monthElement),_.monthNav.appendChild(e.container)}_.monthNav.appendChild(_.nextMonthNav)}function Y(){_.weekdayContainer?h(_.weekdayContainer):_.weekdayContainer=f("div","flatpickr-weekdays");for(var t=_.config.showMonths;t--;){var e=f("div","flatpickr-weekdaycontainer");_.weekdayContainer.appendChild(e)}return X(),_.weekdayContainer}function X(){if(_.weekdayContainer){var t=_.l10n.firstDayOfWeek,n=e(_.l10n.weekdays.shorthand);t>0&&t<n.length&&(n=e(n.splice(t,n.length),n.splice(0,t)));for(var r=_.config.showMonths;r--;)_.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function $(t,e){void 0===e&&(e=!0);var n=e?t:t-_.currentMonth;n<0&&!0===_._hidePrevMonthArrow||n>0&&!0===_._hideNextMonthArrow||(_.currentMonth+=n,(_.currentMonth<0||_.currentMonth>11)&&(_.currentYear+=_.currentMonth>11?1:-1,_.currentMonth=(_.currentMonth+12)%12,vt("onYearChange"),H()),V(),vt("onMonthChange"),yt())}function J(t){return!(!_.config.appendTo||!_.config.appendTo.contains(t))||_.calendarContainer.contains(t)}function K(t){if(_.isOpen&&!_.config.inline){var e=p(t),n=J(e),r=e===_.input||e===_.altInput||_.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(_.input)||~t.path.indexOf(_.altInput)),i="blur"===t.type?r&&t.relatedTarget&&!J(t.relatedTarget):!r&&!n&&!J(t.relatedTarget),o=!_.config.ignoredFocusElements.some((function(t){return t.contains(e)}));i&&o&&(void 0!==_.timeContainer&&void 0!==_.minuteElement&&void 0!==_.hourElement&&""!==_.input.value&&void 0!==_.input.value&&S(),_.close(),_.config&&"range"===_.config.mode&&1===_.selectedDates.length&&(_.clear(!1),_.redraw()))}}function Q(t){if(!(!t||_.config.minDate&&t<_.config.minDate.getFullYear()||_.config.maxDate&&t>_.config.maxDate.getFullYear())){var e=t,n=_.currentYear!==e;_.currentYear=e||_.currentYear,_.config.maxDate&&_.currentYear===_.config.maxDate.getFullYear()?_.currentMonth=Math.min(_.config.maxDate.getMonth(),_.currentMonth):_.config.minDate&&_.currentYear===_.config.minDate.getFullYear()&&(_.currentMonth=Math.max(_.config.minDate.getMonth(),_.currentMonth)),n&&(_.redraw(),vt("onYearChange"),H())}}function Z(t,e){void 0===e&&(e=!0);var n=_.parseDate(t,void 0,e);if(_.config.minDate&&n&&w(n,_.config.minDate,void 0!==e?e:!_.minDateHasTime)<0||_.config.maxDate&&n&&w(n,_.config.maxDate,void 0!==e?e:!_.maxDateHasTime)>0)return!1;if(0===_.config.enable.length&&0===_.config.disable.length)return!0;if(void 0===n)return!1;for(var r=_.config.enable.length>0,i=r?_.config.enable:_.config.disable,o=0,s=void 0;o<i.length;o++){if("function"==typeof(s=i[o])&&s(n))return r;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return r;if("string"==typeof s&&void 0!==n){var l=_.parseDate(s,void 0,!0);return l&&l.getTime()===n.getTime()?r:!r}if("object"===a(s)&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return r}return!r}function tt(t){return void 0!==_.daysContainer&&-1===t.className.indexOf("hidden")&&-1===t.className.indexOf("flatpickr-disabled")&&_.daysContainer.contains(t)}function et(t){t.target!==_._input||t.relatedTarget&&J(t.relatedTarget)||_.setDate(_._input.value,!0,t.target===_.altInput?_.config.altFormat:_.config.dateFormat)}function nt(t){var e=p(t),n=_.config.wrap?v.contains(e):e===_._input,r=_.config.allowInput,i=_.isOpen&&(!r||!n),o=_.config.inline&&n&&!r;if(13===t.keyCode&&n){if(r)return _.setDate(_._input.value,!0,e===_.altInput?_.config.altFormat:_.config.dateFormat),e.blur();_.open()}else if(J(e)||i||o){var a=!!_.timeContainer&&_.timeContainer.contains(e);switch(t.keyCode){case 13:a?(t.preventDefault(),S(),ct()):ft(t);break;case 27:t.preventDefault(),ct();break;case 8:case 46:n&&!_.config.allowInput&&(t.preventDefault(),_.clear());break;case 37:case 39:if(a||n)_.hourElement&&_.hourElement.focus();else if(t.preventDefault(),void 0!==_.daysContainer&&(!1===r||document.activeElement&&tt(document.activeElement))){var s=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),$(s),U(B(1),0)):U(void 0,s)}break;case 38:case 40:t.preventDefault();var l=40===t.keyCode?1:-1;_.daysContainer&&void 0!==e.$i||e===_.input||e===_.altInput?t.ctrlKey?(t.stopPropagation(),Q(_.currentYear-l),U(B(1),0)):a||U(void 0,7*l):e===_.currentYearElement?Q(_.currentYear-l):_.config.enableTime&&(!a&&_.hourElement&&_.hourElement.focus(),S(t),_._debouncedChange());break;case 9:if(a){var u=[_.hourElement,_.minuteElement,_.secondElement,_.amPM].concat(_.pluginElements).filter((function(t){return t})),c=u.indexOf(e);if(-1!==c){var f=u[c+(t.shiftKey?-1:1)];t.preventDefault(),(f||_._input).focus()}}else!_.config.noCalendar&&_.daysContainer&&_.daysContainer.contains(e)&&t.shiftKey&&(t.preventDefault(),_._input.focus())}}if(void 0!==_.amPM&&e===_.amPM)switch(t.key){case _.l10n.amPM[0].charAt(0):case _.l10n.amPM[0].charAt(0).toLowerCase():_.amPM.textContent=_.l10n.amPM[0],R(),bt();break;case _.l10n.amPM[1].charAt(0):case _.l10n.amPM[1].charAt(0).toLowerCase():_.amPM.textContent=_.l10n.amPM[1],R(),bt()}(n||J(e))&&vt("onKeyDown",t)}function rt(t){if(1===_.selectedDates.length&&(!t||t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled"))){for(var e=t?t.dateObj.getTime():_.days.firstElementChild.dateObj.getTime(),n=_.parseDate(_.selectedDates[0],void 0,!0).getTime(),r=Math.min(e,_.selectedDates[0].getTime()),i=Math.max(e,_.selectedDates[0].getTime()),o=!1,a=0,s=0,l=r;l<i;l+=x)Z(new Date(l),!0)||(o=o||l>r&&l<i,l<n&&(!a||l>a)?a=l:l>n&&(!s||l<s)&&(s=l));for(var u=0;u<_.config.showMonths;u++)for(var c=_.daysContainer.children[u],f=function(r,i){var l,u,f,h=c.children[r],d=h.dateObj.getTime(),p=a>0&&d<a||s>0&&d>s;return p?(h.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(t){h.classList.remove(t)})),"continue"):o&&!p?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(t){h.classList.remove(t)})),void(void 0!==t&&(t.classList.add(e<=_.selectedDates[0].getTime()?"startRange":"endRange"),n<e&&d===n?h.classList.add("startRange"):n>e&&d===n&&h.classList.add("endRange"),d>=a&&(0===s||d<=s)&&(u=n,f=e,(l=d)>Math.min(u,f)&&l<Math.max(u,f))&&h.classList.add("inRange"))))},h=0,d=c.children.length;h<d;h++)f(h)}}function it(){!_.isOpen||_.config.static||_.config.inline||lt()}function ot(t){return function(e){var n=_.config["_"+t+"Date"]=_.parseDate(e,_.config.dateFormat),r=_.config["_"+("min"===t?"max":"min")+"Date"];void 0!==n&&(_["min"===t?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),_.selectedDates&&(_.selectedDates=_.selectedDates.filter((function(t){return Z(t)})),_.selectedDates.length||"min"!==t||T(n),bt()),_.daysContainer&&(ut(),void 0!==n?_.currentYearElement[t]=n.getFullYear().toString():_.currentYearElement.removeAttribute(t),_.currentYearElement.disabled=!!r&&void 0!==n&&r.getFullYear()===n.getFullYear())}}function at(){return _.config.wrap?v.querySelector("[data-input]"):v}function st(){"object"!==a(_.config.locale)&&void 0===E.l10ns[_.config.locale]&&_.config.errorHandler(new Error("flatpickr: invalid locale "+_.config.locale)),_.l10n=t(t({},E.l10ns.default),"object"===a(_.config.locale)?_.config.locale:"default"!==_.config.locale?E.l10ns[_.config.locale]:void 0),y.K="("+_.l10n.amPM[0]+"|"+_.l10n.amPM[1]+"|"+_.l10n.amPM[0].toLowerCase()+"|"+_.l10n.amPM[1].toLowerCase()+")",void 0===t(t({},m),JSON.parse(JSON.stringify(v.dataset||{}))).time_24hr&&void 0===E.defaultConfig.time_24hr&&(_.config.time_24hr=_.l10n.time_24hr),_.formatDate=b(_),_.parseDate=A({config:_.config,l10n:_.l10n})}function lt(t){if(void 0!==_.calendarContainer){vt("onPreCalendarPosition");var e=t||_._positionElement,n=Array.prototype.reduce.call(_.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=_.calendarContainer.offsetWidth,i=_.config.position.split(" "),o=i[0],a=i.length>1?i[1]:null,s=e.getBoundingClientRect(),l=window.innerHeight-s.bottom,u="above"===o||"below"!==o&&l<n&&s.top>n,f=window.pageYOffset+s.top+(u?-n-2:e.offsetHeight+2);if(c(_.calendarContainer,"arrowTop",!u),c(_.calendarContainer,"arrowBottom",u),!_.config.inline){var h=window.pageXOffset+s.left,d=!1,p=!1;"center"===a?(h-=(r-s.width)/2,d=!0):"right"===a&&(h-=r-s.width,p=!0),c(_.calendarContainer,"arrowLeft",!d&&!p),c(_.calendarContainer,"arrowCenter",d),c(_.calendarContainer,"arrowRight",p);var v=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=h+r>window.document.body.offsetWidth,m=v+r>window.document.body.offsetWidth;if(c(_.calendarContainer,"rightMost",g),!_.config.static)if(_.calendarContainer.style.top=f+"px",g)if(m){var y=function(){for(var t=null,e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];try{n.cssRules}catch(t){continue}t=n;break}return null!=t?t:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var b=window.document.body.offsetWidth,A=Math.max(0,b/2-r/2),w=y.cssRules.length,x="{left:"+s.left+"px;right:auto;}";c(_.calendarContainer,"rightMost",!1),c(_.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,w),_.calendarContainer.style.left=A+"px",_.calendarContainer.style.right="auto"}else _.calendarContainer.style.left="auto",_.calendarContainer.style.right=v+"px";else _.calendarContainer.style.left=h+"px",_.calendarContainer.style.right="auto"}}}function ut(){_.config.noCalendar||_.isMobile||(H(),yt(),V())}function ct(){_._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(_.close,0):_.close()}function ft(t){t.preventDefault(),t.stopPropagation();var e=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(p(t),(function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")}));if(void 0!==e){var n=e,r=_.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(r.getMonth()<_.currentMonth||r.getMonth()>_.currentMonth+_.config.showMonths-1)&&"range"!==_.config.mode;if(_.selectedDateElem=n,"single"===_.config.mode)_.selectedDates=[r];else if("multiple"===_.config.mode){var o=mt(r);o?_.selectedDates.splice(parseInt(o),1):_.selectedDates.push(r)}else"range"===_.config.mode&&(2===_.selectedDates.length&&_.clear(!1,!1),_.latestSelectedDateObj=r,_.selectedDates.push(r),0!==w(r,_.selectedDates[0],!0)&&_.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(R(),i){var a=_.currentYear!==r.getFullYear();_.currentYear=r.getFullYear(),_.currentMonth=r.getMonth(),a&&(vt("onYearChange"),H()),vt("onMonthChange")}if(yt(),V(),bt(),i||"range"===_.config.mode||1!==_.config.showMonths?void 0!==_.selectedDateElem&&void 0===_.hourElement&&_.selectedDateElem&&_.selectedDateElem.focus():z(n),void 0!==_.hourElement&&void 0!==_.hourElement&&_.hourElement.focus(),_.config.closeOnSelect){var s="single"===_.config.mode&&!_.config.enableTime,l="range"===_.config.mode&&2===_.selectedDates.length&&!_.config.enableTime;(s||l)&&ct()}D()}}_.parseDate=A({config:_.config,l10n:_.l10n}),_._handlers=[],_.pluginElements=[],_.loadedPlugins=[],_._bind=P,_._setHoursFromDate=T,_._positionCalendar=lt,_.changeMonth=$,_.changeYear=Q,_.clear=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!0),_.input.value="",void 0!==_.altInput&&(_.altInput.value=""),void 0!==_.mobileInput&&(_.mobileInput.value=""),_.selectedDates=[],_.latestSelectedDateObj=void 0,!0===e&&(_.currentYear=_._initialDate.getFullYear(),_.currentMonth=_._initialDate.getMonth()),!0===_.config.enableTime){var n=I(),r=n.hours,i=n.minutes,o=n.seconds;O(r,i,o)}_.redraw(),t&&vt("onChange")},_.close=function(){_.isOpen=!1,_.isMobile||(void 0!==_.calendarContainer&&_.calendarContainer.classList.remove("open"),void 0!==_._input&&_._input.classList.remove("active")),vt("onClose")},_._createElement=f,_.destroy=function(){void 0!==_.config&&vt("onDestroy");for(var t=_._handlers.length;t--;){var e=_._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(_._handlers=[],_.mobileInput)_.mobileInput.parentNode&&_.mobileInput.parentNode.removeChild(_.mobileInput),_.mobileInput=void 0;else if(_.calendarContainer&&_.calendarContainer.parentNode)if(_.config.static&&_.calendarContainer.parentNode){var n=_.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else _.calendarContainer.parentNode.removeChild(_.calendarContainer);_.altInput&&(_.input.type="text",_.altInput.parentNode&&_.altInput.parentNode.removeChild(_.altInput),delete _.altInput),_.input&&(_.input.type=_.input._type,_.input.classList.remove("flatpickr-input"),_.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete _[t]}catch(t){}}))},_.isEnabled=Z,_.jumpToDate=N,_.open=function(t,e){if(void 0===e&&(e=_._positionElement),!0===_.isMobile){if(t){t.preventDefault();var n=p(t);n&&n.blur()}return void 0!==_.mobileInput&&(_.mobileInput.focus(),_.mobileInput.click()),void vt("onOpen")}if(!_._input.disabled&&!_.config.inline){var r=_.isOpen;_.isOpen=!0,r||(_.calendarContainer.classList.add("open"),_._input.classList.add("active"),vt("onOpen"),lt(e)),!0===_.config.enableTime&&!0===_.config.noCalendar&&(!1!==_.config.allowInput||void 0!==t&&_.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return _.hourElement.select()}),50))}},_.redraw=ut,_.set=function(t,e){if(null!==t&&"object"===a(t))for(var r in Object.assign(_.config,t),t)void 0!==ht[r]&&ht[r].forEach((function(t){return t()}));else _.config[t]=e,void 0!==ht[t]?ht[t].forEach((function(t){return t()})):n.indexOf(t)>-1&&(_.config[t]=u(e));_.redraw(),bt(!0)},_.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=_.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return _.clear(e);dt(t,n),_.latestSelectedDateObj=_.selectedDates[_.selectedDates.length-1],_.redraw(),N(void 0,e),T(),0===_.selectedDates.length&&_.clear(!1),bt(e),e&&vt("onChange")},_.toggle=function(t){if(!0===_.isOpen)return _.close();_.open(t)};var ht={locale:[st,X],showMonths:[W,C,Y],minDate:[N],maxDate:[N]};function dt(t,e){var n=[];if(t instanceof Array)n=t.map((function(t){return _.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)n=[_.parseDate(t,e)];else if("string"==typeof t)switch(_.config.mode){case"single":case"time":n=[_.parseDate(t,e)];break;case"multiple":n=t.split(_.config.conjunction).map((function(t){return _.parseDate(t,e)}));break;case"range":n=t.split(_.l10n.rangeSeparator).map((function(t){return _.parseDate(t,e)}))}else _.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));_.selectedDates=_.config.allowInvalidPreload?n:n.filter((function(t){return t instanceof Date&&Z(t,!1)})),"range"===_.config.mode&&_.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function pt(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?_.parseDate(t,void 0,!0):t&&"object"===a(t)&&t.from&&t.to?{from:_.parseDate(t.from,void 0),to:_.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function vt(t,e){if(void 0!==_.config){var n=_.config[t];if(void 0!==n&&n.length>0)for(var r=0;n[r]&&r<n.length;r++)n[r](_.selectedDates,_.input.value,_,e);"onChange"===t&&(_.input.dispatchEvent(gt("change")),_.input.dispatchEvent(gt("input")))}}function gt(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function mt(t){for(var e=0;e<_.selectedDates.length;e++)if(0===w(_.selectedDates[e],t))return""+e;return!1}function yt(){_.config.noCalendar||_.isMobile||!_.monthNav||(_.yearElements.forEach((function(t,e){var n=new Date(_.currentYear,_.currentMonth,1);n.setMonth(_.currentMonth+e),_.config.showMonths>1||"static"===_.config.monthSelectorType?_.monthElements[e].textContent=g(n.getMonth(),_.config.shorthandCurrentMonth,_.l10n)+" ":_.monthsDropdownContainer.value=n.getMonth().toString(),t.value=n.getFullYear().toString()})),_._hidePrevMonthArrow=void 0!==_.config.minDate&&(_.currentYear===_.config.minDate.getFullYear()?_.currentMonth<=_.config.minDate.getMonth():_.currentYear<_.config.minDate.getFullYear()),_._hideNextMonthArrow=void 0!==_.config.maxDate&&(_.currentYear===_.config.maxDate.getFullYear()?_.currentMonth+1>_.config.maxDate.getMonth():_.currentYear>_.config.maxDate.getFullYear()))}function _t(t){return _.selectedDates.map((function(e){return _.formatDate(e,t)})).filter((function(t,e,n){return"range"!==_.config.mode||_.config.enableTime||n.indexOf(t)===e})).join("range"!==_.config.mode?_.config.conjunction:_.l10n.rangeSeparator)}function bt(t){void 0===t&&(t=!0),void 0!==_.mobileInput&&_.mobileFormatStr&&(_.mobileInput.value=void 0!==_.latestSelectedDateObj?_.formatDate(_.latestSelectedDateObj,_.mobileFormatStr):""),_.input.value=_t(_.config.dateFormat),void 0!==_.altInput&&(_.altInput.value=_t(_.config.altFormat)),!1!==t&&vt("onValueUpdate")}function At(t){var e=p(t),n=_.prevMonthNav.contains(e),r=_.nextMonthNav.contains(e);n||r?$(n?-1:1):_.yearElements.indexOf(e)>=0?e.select():e.classList.contains("arrowUp")?_.changeYear(_.currentYear+1):e.classList.contains("arrowDown")&&_.changeYear(_.currentYear-1)}return function(){_.element=_.input=v,_.isOpen=!1,function(){var e=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=t(t({},JSON.parse(JSON.stringify(v.dataset||{}))),m),o={};_.config.parseDate=i.parseDate,_.config.formatDate=i.formatDate,Object.defineProperty(_.config,"enable",{get:function(){return _.config._enable},set:function(t){_.config._enable=pt(t)}}),Object.defineProperty(_.config,"disable",{get:function(){return _.config._disable},set:function(t){_.config._disable=pt(t)}});var a="time"===i.mode;if(!i.dateFormat&&(i.enableTime||a)){var s=E.defaultConfig.dateFormat||r.dateFormat;o.dateFormat=i.noCalendar||a?"H:i"+(i.enableSeconds?":S":""):s+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||a)&&!i.altFormat){var l=E.defaultConfig.altFormat||r.altFormat;o.altFormat=i.noCalendar||a?"h:i"+(i.enableSeconds?":S K":" K"):l+" h:i"+(i.enableSeconds?":S":"")+" K"}Object.defineProperty(_.config,"minDate",{get:function(){return _.config._minDate},set:ot("min")}),Object.defineProperty(_.config,"maxDate",{get:function(){return _.config._maxDate},set:ot("max")});var c=function(t){return function(e){_.config["min"===t?"_minTime":"_maxTime"]=_.parseDate(e,"H:i:S")}};Object.defineProperty(_.config,"minTime",{get:function(){return _.config._minTime},set:c("min")}),Object.defineProperty(_.config,"maxTime",{get:function(){return _.config._maxTime},set:c("max")}),"time"===i.mode&&(_.config.noCalendar=!0,_.config.enableTime=!0),Object.assign(_.config,o,i);for(var f=0;f<e.length;f++)_.config[e[f]]=!0===_.config[e[f]]||"true"===_.config[e[f]];for(n.filter((function(t){return void 0!==_.config[t]})).forEach((function(t){_.config[t]=u(_.config[t]||[]).map(k)})),_.isMobile=!_.config.disableMobile&&!_.config.inline&&"single"===_.config.mode&&!_.config.disable.length&&!_.config.enable.length&&!_.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),f=0;f<_.config.plugins.length;f++){var h=_.config.plugins[f](_)||{};for(var d in h)n.indexOf(d)>-1?_.config[d]=u(h[d]).map(k).concat(_.config[d]):void 0===i[d]&&(_.config[d]=h[d])}i.altInputClass||(_.config.altInputClass=at().className+" "+_.config.altInputClass),vt("onParseConfig")}(),st(),_.input=at(),_.input?(_.input._type=_.input.type,_.input.type="text",_.input.classList.add("flatpickr-input"),_._input=_.input,_.config.altInput&&(_.altInput=f(_.input.nodeName,_.config.altInputClass),_._input=_.altInput,_.altInput.placeholder=_.input.placeholder,_.altInput.disabled=_.input.disabled,_.altInput.required=_.input.required,_.altInput.tabIndex=_.input.tabIndex,_.altInput.type="text",_.input.setAttribute("type","hidden"),!_.config.static&&_.input.parentNode&&_.input.parentNode.insertBefore(_.altInput,_.input.nextSibling)),_.config.allowInput||_._input.setAttribute("readonly","readonly"),_._positionElement=_.config.positionElement||_._input):_.config.errorHandler(new Error("Invalid input element specified")),function(){_.selectedDates=[],_.now=_.parseDate(_.config.now)||new Date;var t=_.config.defaultDate||("INPUT"!==_.input.nodeName&&"TEXTAREA"!==_.input.nodeName||!_.input.placeholder||_.input.value!==_.input.placeholder?_.input.value:null);t&&dt(t,_.config.dateFormat),_._initialDate=_.selectedDates.length>0?_.selectedDates[0]:_.config.minDate&&_.config.minDate.getTime()>_.now.getTime()?_.config.minDate:_.config.maxDate&&_.config.maxDate.getTime()<_.now.getTime()?_.config.maxDate:_.now,_.currentYear=_._initialDate.getFullYear(),_.currentMonth=_._initialDate.getMonth(),_.selectedDates.length>0&&(_.latestSelectedDateObj=_.selectedDates[0]),void 0!==_.config.minTime&&(_.config.minTime=_.parseDate(_.config.minTime,"H:i")),void 0!==_.config.maxTime&&(_.config.maxTime=_.parseDate(_.config.maxTime,"H:i")),_.minDateHasTime=!!_.config.minDate&&(_.config.minDate.getHours()>0||_.config.minDate.getMinutes()>0||_.config.minDate.getSeconds()>0),_.maxDateHasTime=!!_.config.maxDate&&(_.config.maxDate.getHours()>0||_.config.maxDate.getMinutes()>0||_.config.maxDate.getSeconds()>0)}(),_.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=_.currentMonth),void 0===e&&(e=_.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:_.l10n.daysInMonth[t]}},_.isMobile||function(){var t=window.document.createDocumentFragment();if(_.calendarContainer=f("div","flatpickr-calendar"),_.calendarContainer.tabIndex=-1,!_.config.noCalendar){if(t.appendChild((_.monthNav=f("div","flatpickr-months"),_.yearElements=[],_.monthElements=[],_.prevMonthNav=f("span","flatpickr-prev-month"),_.prevMonthNav.innerHTML=_.config.prevArrow,_.nextMonthNav=f("span","flatpickr-next-month"),_.nextMonthNav.innerHTML=_.config.nextArrow,W(),Object.defineProperty(_,"_hidePrevMonthArrow",{get:function(){return _.__hidePrevMonthArrow},set:function(t){_.__hidePrevMonthArrow!==t&&(c(_.prevMonthNav,"flatpickr-disabled",t),_.__hidePrevMonthArrow=t)}}),Object.defineProperty(_,"_hideNextMonthArrow",{get:function(){return _.__hideNextMonthArrow},set:function(t){_.__hideNextMonthArrow!==t&&(c(_.nextMonthNav,"flatpickr-disabled",t),_.__hideNextMonthArrow=t)}}),_.currentYearElement=_.yearElements[0],yt(),_.monthNav)),_.innerContainer=f("div","flatpickr-innerContainer"),_.config.weekNumbers){var e=function(){_.calendarContainer.classList.add("hasWeeks");var t=f("div","flatpickr-weekwrapper");t.appendChild(f("span","flatpickr-weekday",_.l10n.weekAbbreviation));var e=f("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),n=e.weekWrapper,r=e.weekNumbers;_.innerContainer.appendChild(n),_.weekNumbers=r,_.weekWrapper=n}_.rContainer=f("div","flatpickr-rContainer"),_.rContainer.appendChild(Y()),_.daysContainer||(_.daysContainer=f("div","flatpickr-days"),_.daysContainer.tabIndex=-1),V(),_.rContainer.appendChild(_.daysContainer),_.innerContainer.appendChild(_.rContainer),t.appendChild(_.innerContainer)}_.config.enableTime&&t.appendChild(function(){_.calendarContainer.classList.add("hasTime"),_.config.noCalendar&&_.calendarContainer.classList.add("noCalendar"),_.timeContainer=f("div","flatpickr-time"),_.timeContainer.tabIndex=-1;var t=f("span","flatpickr-time-separator",":"),e=d("flatpickr-hour",{"aria-label":_.l10n.hourAriaLabel});_.hourElement=e.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":_.l10n.minuteAriaLabel});if(_.minuteElement=n.getElementsByTagName("input")[0],_.hourElement.tabIndex=_.minuteElement.tabIndex=-1,_.hourElement.value=o(_.latestSelectedDateObj?_.latestSelectedDateObj.getHours():_.config.time_24hr?_.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(_.config.defaultHour)),_.minuteElement.value=o(_.latestSelectedDateObj?_.latestSelectedDateObj.getMinutes():_.config.defaultMinute),_.hourElement.setAttribute("step",_.config.hourIncrement.toString()),_.minuteElement.setAttribute("step",_.config.minuteIncrement.toString()),_.hourElement.setAttribute("min",_.config.time_24hr?"0":"1"),_.hourElement.setAttribute("max",_.config.time_24hr?"23":"12"),_.minuteElement.setAttribute("min","0"),_.minuteElement.setAttribute("max","59"),_.timeContainer.appendChild(e),_.timeContainer.appendChild(t),_.timeContainer.appendChild(n),_.config.time_24hr&&_.timeContainer.classList.add("time24hr"),_.config.enableSeconds){_.timeContainer.classList.add("hasSeconds");var r=d("flatpickr-second");_.secondElement=r.getElementsByTagName("input")[0],_.secondElement.value=o(_.latestSelectedDateObj?_.latestSelectedDateObj.getSeconds():_.config.defaultSeconds),_.secondElement.setAttribute("step",_.minuteElement.getAttribute("step")),_.secondElement.setAttribute("min","0"),_.secondElement.setAttribute("max","59"),_.timeContainer.appendChild(f("span","flatpickr-time-separator",":")),_.timeContainer.appendChild(r)}return _.config.time_24hr||(_.amPM=f("span","flatpickr-am-pm",_.l10n.amPM[s((_.latestSelectedDateObj?_.hourElement.value:_.config.defaultHour)>11)]),_.amPM.title=_.l10n.toggleTitle,_.amPM.tabIndex=-1,_.timeContainer.appendChild(_.amPM)),_.timeContainer}()),c(_.calendarContainer,"rangeMode","range"===_.config.mode),c(_.calendarContainer,"animate",!0===_.config.animate),c(_.calendarContainer,"multiMonth",_.config.showMonths>1),_.calendarContainer.appendChild(t);var i=void 0!==_.config.appendTo&&void 0!==_.config.appendTo.nodeType;if((_.config.inline||_.config.static)&&(_.calendarContainer.classList.add(_.config.inline?"inline":"static"),_.config.inline&&(!i&&_.element.parentNode?_.element.parentNode.insertBefore(_.calendarContainer,_._input.nextSibling):void 0!==_.config.appendTo&&_.config.appendTo.appendChild(_.calendarContainer)),_.config.static)){var a=f("div","flatpickr-wrapper");_.element.parentNode&&_.element.parentNode.insertBefore(a,_.element),a.appendChild(_.element),_.altInput&&a.appendChild(_.altInput),a.appendChild(_.calendarContainer)}_.config.static||_.config.inline||(void 0!==_.config.appendTo?_.config.appendTo:window.document.body).appendChild(_.calendarContainer)}(),function(){if(_.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(_.element.querySelectorAll("[data-"+t+"]"),(function(e){return P(e,"click",_[t])}))})),_.isMobile)!function(){var t=_.config.enableTime?_.config.noCalendar?"time":"datetime-local":"date";_.mobileInput=f("input",_.input.className+" flatpickr-mobile"),_.mobileInput.tabIndex=1,_.mobileInput.type=t,_.mobileInput.disabled=_.input.disabled,_.mobileInput.required=_.input.required,_.mobileInput.placeholder=_.input.placeholder,_.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",_.selectedDates.length>0&&(_.mobileInput.defaultValue=_.mobileInput.value=_.formatDate(_.selectedDates[0],_.mobileFormatStr)),_.config.minDate&&(_.mobileInput.min=_.formatDate(_.config.minDate,"Y-m-d")),_.config.maxDate&&(_.mobileInput.max=_.formatDate(_.config.maxDate,"Y-m-d")),_.input.getAttribute("step")&&(_.mobileInput.step=String(_.input.getAttribute("step"))),_.input.type="hidden",void 0!==_.altInput&&(_.altInput.type="hidden");try{_.input.parentNode&&_.input.parentNode.insertBefore(_.mobileInput,_.input.nextSibling)}catch(t){}P(_.mobileInput,"change",(function(t){_.setDate(p(t).value,!1,_.mobileFormatStr),vt("onChange"),vt("onClose")}))}();else{var t=l(it,50);_._debouncedChange=l(D,300),_.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(_.daysContainer,"mouseover",(function(t){"range"===_.config.mode&&rt(p(t))})),P(window.document.body,"keydown",nt),_.config.inline||_.config.static||P(window,"resize",t),void 0!==window.ontouchstart?P(window.document,"touchstart",K):P(window.document,"click",K),P(window.document,"focus",K,{capture:!0}),!0===_.config.clickOpens&&(P(_._input,"focus",_.open),P(_._input,"click",_.open)),void 0!==_.daysContainer&&(P(_.monthNav,"click",At),P(_.monthNav,["keyup","increment"],M),P(_.daysContainer,"click",ft)),void 0!==_.timeContainer&&void 0!==_.minuteElement&&void 0!==_.hourElement&&(P(_.timeContainer,["increment"],S),P(_.timeContainer,"blur",S,{capture:!0}),P(_.timeContainer,"click",L),P([_.hourElement,_.minuteElement],["focus","click"],(function(t){return p(t).select()})),void 0!==_.secondElement&&P(_.secondElement,"focus",(function(){return _.secondElement&&_.secondElement.select()})),void 0!==_.amPM&&P(_.amPM,"click",(function(t){S(t),D()}))),_.config.allowInput&&P(_._input,"blur",et)}}(),(_.selectedDates.length||_.config.noCalendar)&&(_.config.enableTime&&T(_.config.noCalendar?_.latestSelectedDateObj||_.config.minDate:void 0),bt(!1)),C();var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!_.isMobile&&e&&lt(),vt("onReady")}(),_}function C(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),r=[],i=0;i<n.length;i++){var o=n[i];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=k(o,e||{}),r.push(o._flatpickr)}catch(t){console.error(t)}}return 1===r.length?r[0]:r}"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var r=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},i=0,o=e;i<o.length;i++){var a=o[i];r(a)}return t}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return C(this,t)},HTMLElement.prototype.flatpickr=function(t){return C([this],t)});var E=function(t,e){return"string"==typeof t?C(window.document.querySelectorAll(t),e):t instanceof Node?C([t],e):C(t,e)};return E.defaultConfig={},E.l10ns={en:t({},i),default:t({},i)},E.localize=function(e){E.l10ns.default=t(t({},E.l10ns.default),e)},E.setDefaults=function(e){E.defaultConfig=t(t({},E.defaultConfig),e)},E.parseDate=A({}),E.formatDate=b({}),E.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return C(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=E),E},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){var r,i,o,a=n(20);i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t="14.6.1";function e(t){t.parentElement.removeChild(t)}function n(t){return null!=t}function r(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,n){n>0&&(c(t,e),setTimeout((function(){f(t,e)}),n))}function s(t){return Math.max(Math.min(t,100),0)}function l(t){return Array.isArray(t)?t:[t]}function u(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function f(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function p(t,e,n){return 100*e/(t[n+1]-t[n])}function v(t,e){for(var n=1;t>=e[n];)n+=1;return n}function g(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=v(n,t),i=t[r-1],o=t[r],a=e[r-1],s=e[r];return a+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([i,o],n)/d(a,s)}function m(t,e,n,r){if(100===r)return r;var i=v(r,t),o=t[i-1],a=t[i];return n?r-o>(a-o)/2?a:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}function y(t,e,n){var r;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'range' contains invalid value.");if(!i(r="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider (14.6.1): 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(e[0]),r?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1]),n.xHighestCompleteStep.push(0)}function _(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=p([n.xVal[t],n.xVal[t+1]],e,0)/d(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=o}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function b(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(r in t)t.hasOwnProperty(r)&&i.push([t[r],r]);for(i.length&&"object"===a(i[0][0])?i.sort((function(t,e){return t[0][0]-e[0][0]})):i.sort((function(t,e){return t[0]-e[0]})),r=0;r<i.length;r++)y(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)_(r,this.xNumSteps[r],this)}b.prototype.getDistance=function(t){var e,n=[];for(e=0;e<this.xNumSteps.length-1;e++){var r=this.xNumSteps[e];if(r&&t/r%1!=0)throw new Error("noUiSlider (14.6.1): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");n[e]=p(this.xVal,t,e)}return n},b.prototype.getAbsoluteDistance=function(t,e,n){var r,i=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[i+1];)i++;else t===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);n||t!==this.xPct[i+1]||i++;var o=1,a=e[i],s=0,l=0,u=0,c=0;for(r=n?(t-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-t)/(this.xPct[i+1]-this.xPct[i]);a>0;)s=this.xPct[i+1+c]-this.xPct[i+c],e[i+c]*o+100-100*r>100?(l=s*r,o=(a-100*r)/e[i+c],r=1):(l=e[i+c]*s/100*o,o=0),n?(u-=l,this.xPct.length+c>=1&&c--):(u+=l,this.xPct.length-c>=1&&c++),a=e[i+c]*o;return t+u},b.prototype.toStepping=function(t){return t=g(this.xVal,this.xPct,t)},b.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=v(n,e),i=t[r-1],o=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-a)*d(a,e[r]))}(this.xVal,this.xPct,t)},b.prototype.getStep=function(t){return t=m(this.xPct,this.xSteps,this.snap,t)},b.prototype.getDefaultStep=function(t,e,n){var r=v(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},b.prototype.getNearbySteps=function(t){var e=v(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},b.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(u);return Math.max.apply(null,t)},b.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var A={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},w={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function x(t){if(function(t){return"object"===a(t)&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.6.1): 'format' requires 'to' and 'from' methods.")}function k(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'step' is not numeric.");t.singleStep=e}function C(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function E(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function S(t,e){if("object"!==a(e)||Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.6.1): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.6.1): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new b(e,t.snap,t.singleStep)}function R(t,e){if(e=l(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.6.1): 'start' option is incorrect.");t.handles=e.length,t.start=e}function T(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'snap' option must be a boolean.")}function I(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'animate' option must be a boolean.")}function O(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.6.1): 'animationDuration' option must be a number.")}function M(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.6.1): 'connect' option doesn't match handle count.");r=e}t.connect=r}function P(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.6.1): 'orientation' option is invalid.")}}function D(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function N(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.6.1): 'limit' option is only supported on linear sliders with 2 or more handles.")}function L(t,e){var n;if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider (14.6.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],n=0;n<t.spectrum.xNumSteps.length-1;n++)if(t.padding[0][n]<0||t.padding[1][n]<0)throw new Error("noUiSlider (14.6.1): 'padding' option must be a positive number(s).");var r=e[0]+e[1],o=t.spectrum.xVal[0];if(r/(t.spectrum.xVal[t.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider (14.6.1): 'padding' option must not exceed 100% of the range.")}}function j(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.6.1): 'direction' option was not recognized.")}}function F(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.6.1): 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider (14.6.1): 'fixed' behaviour must be used with 2 handles");D(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider (14.6.1): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:a,unconstrained:s}}function z(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(!0)}else{if(t.tooltips=l(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.6.1): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!==a(t)||"function"!=typeof t.to))throw new Error("noUiSlider (14.6.1): 'tooltips' must be passed a formatter or 'false'.")}))}}function B(t,e){t.ariaFormat=e,x(e)}function U(t,e){t.format=e,x(e)}function G(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'keyboardSupport' option must be a boolean.")}function V(t,e){t.documentElement=e}function H(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.6.1): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function q(t,e){if("object"!==a(e))throw new Error("noUiSlider (14.6.1): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var n in t.cssClasses={},e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n]);else t.cssClasses=e}function W(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:A,format:A},r={step:{r:!1,t:k},keyboardPageMultiplier:{r:!1,t:C},keyboardDefaultStep:{r:!1,t:E},start:{r:!0,t:R},connect:{r:!0,t:M},direction:{r:!0,t:j},snap:{r:!1,t:T},animate:{r:!1,t:I},animationDuration:{r:!1,t:O},range:{r:!0,t:S},orientation:{r:!1,t:P},margin:{r:!1,t:D},limit:{r:!1,t:N},padding:{r:!1,t:L},behaviour:{r:!0,t:F},ariaFormat:{r:!1,t:B},format:{r:!1,t:U},tooltips:{r:!1,t:z},keyboardSupport:{r:!0,t:G},documentElement:{r:!1,t:V},cssPrefix:{r:!0,t:H},cssClasses:{r:!0,t:q}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:w,keyboardPageMultiplier:5,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach((function(o){if(!n(t[o])&&void 0===i[o]){if(r[o].r)throw new Error("noUiSlider (14.6.1): '"+o+"' is required.");return!0}r[o].t(e,n(t[o])?t[o]:i[o])})),e.pips=t.pips;var o=document.createElement("div"),a=void 0!==o.style.msTransform,s=void 0!==o.style.transform;return e.transformRule=s?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function Y(t,n,i){var a,u,d,p,v,g,m,y,_=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},b=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),A=t,w=n.spectrum,x=[],k=[],C=[],E=0,S={},R=t.ownerDocument,T=n.documentElement||R.documentElement,I=R.body,O="rtl"===R.dir||1===n.ort?0:100;function M(t,e){var n=R.createElement("div");return e&&c(n,e),t.appendChild(n),n}function P(t,e){var r=M(t,n.cssClasses.origin),i=M(r,n.cssClasses.handle);return M(i,n.cssClasses.touchArea),i.setAttribute("data-handle",e),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(t){return function(t,e){if(L()||j(e))return!1;var r=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],a=["Home","End"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&(i.reverse(),o.reverse());var s,l=t.key.replace("Arrow",""),u=l===o[0],c=l===o[1],f=l===i[0]||l===r[0]||u,h=l===i[1]||l===r[1]||c,d=l===a[0],p=l===a[1];if(!(f||h||d||p))return!0;if(t.preventDefault(),h||f){var v=n.keyboardPageMultiplier,g=f?0:1,m=ht(e)[g];if(null===m)return!1;!1===m&&(m=w.getDefaultStep(k[e],f,n.keyboardDefaultStep)),(c||u)&&(m*=v),m=Math.max(m,1e-7),m*=f?-1:1,s=x[e]+m}else s=p?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return st(e,w.toStepping(s),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?c(i,n.cssClasses.handleLower):e===n.handles-1&&c(i,n.cssClasses.handleUpper),r}function D(t,e){return!!e&&M(t,n.cssClasses.connect)}function N(t,e){return!!n.tooltips[e]&&M(t.firstChild,n.cssClasses.tooltip)}function L(){return A.hasAttribute("disabled")}function j(t){return u[t].hasAttribute("disabled")}function F(){v&&(tt("update.tooltips"),v.forEach((function(t){t&&e(t)})),v=null)}function z(){F(),v=u.map(N),Z("update.tooltips",(function(t,e,r){if(v[e]){var i=t[e];!0!==n.tooltips[e]&&(i=n.tooltips[e].to(r[e])),v[e].innerHTML=i}}))}function B(t,e,r){var i=R.createElement("div"),o=[];o[0]=n.cssClasses.valueNormal,o[1]=n.cssClasses.valueLarge,o[2]=n.cssClasses.valueSub;var a=[];a[0]=n.cssClasses.markerNormal,a[1]=n.cssClasses.markerLarge,a[2]=n.cssClasses.markerSub;var s=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],l=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function u(t,e){var r=e===n.cssClasses.value,i=r?o:a;return e+" "+(r?s:l)[n.ort]+" "+i[t]}return c(i,n.cssClasses.pips),c(i,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(o){!function(t,o,a){if(-1!==(a=e?e(o,a):a)){var s=M(i,!1);s.className=u(a,n.cssClasses.marker),s.style[n.style]=t+"%",a>0&&((s=M(i,!1)).className=u(a,n.cssClasses.value),s.setAttribute("data-value",o),s.style[n.style]=t+"%",s.innerHTML=r.to(o))}}(o,t[o][0],t[o][1])})),i}function U(){p&&(e(p),p=null)}function G(t){U();var e=t.mode,n=t.density||1,r=t.filter||!1,i=function(t,e,n){if("range"===t||"steps"===t)return w.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.6.1): 'values' (>= 2) required for mode 'count'.");var r=e-1,i=100/r;for(e=[];r--;)e[r]=r*i;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return w.fromStepping(n?w.getStep(t):t)})):"values"===t?n?e.map((function(t){return w.fromStepping(w.getStep(w.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),o=function(t,e,n){var r,i={},o=w.xVal[0],a=w.xVal[w.xVal.length-1],s=!1,l=!1,u=0;return r=n.slice().sort((function(t,e){return t-e})),(n=r.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach((function(r,o){var a,c,f,h,d,p,v,g,m,y,_=r,b=n[o+1],A="steps"===e;if(A&&(a=w.xNumSteps[o]),a||(a=b-_),!1!==_)for(void 0===b&&(b=_),a=Math.max(a,1e-7),c=_;c<=b;c=(c+a).toFixed(7)/1){for(g=(d=(h=w.toStepping(c))-u)/t,y=d/(m=Math.round(g)),f=1;f<=m;f+=1)i[(p=u+f*y).toFixed(5)]=[w.fromStepping(p),0];v=n.indexOf(c)>-1?1:A?2:0,!o&&s&&c!==b&&(v=0),c===b&&l||(i[h.toFixed(5)]=[c,v]),u=h}})),i}(n,e,i),a=t.format||{to:Math.round};return p=A.appendChild(B(o,r,a))}function V(){var t=a.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||a[e]:t.height||a[e]}function H(t,e,r,i){var o=function(o){return!!(o=function(t,e,n){var r,i,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),o){var l=function(t){return t.target===n||n.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(n)};if("touchstart"===t.type){var u=Array.prototype.filter.call(t.touches,l);if(u.length>1)return!1;r=u[0].pageX,i=u[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,l);if(!c)return!1;r=c.pageX,i=c.pageY}}return e=e||h(R),(a||s)&&(r=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[r,i],t.cursor=a||s,t}(o,i.pageOffset,i.target||e))&&!(L()&&!i.doNotReject)&&(a=A,s=n.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!i.doNotReject)&&!(t===_.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(b||o.preventDefault(),o.calcPoint=o.points[n.ort],void r(o,i)));var a,s},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!b&&{passive:!0}),a.push([t,o])})),a}function q(t){var e,r,i,o,l,u,c=100*(t-(e=a,r=n.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,l=o.documentElement,u=h(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(u.x=0),r?i.top+u.y-l.clientTop:i.left+u.x-l.clientLeft))/V();return c=s(c),n.dir?100-c:c}function Y(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&$(t,e)}function X(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return $(t,e);var r=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(r>0,100*r/e.baseSize,e.locations,e.handleNumbers)}function $(t,e){e.handle&&(f(e.handle,n.cssClasses.active),E-=1),e.listeners.forEach((function(t){T.removeEventListener(t[0],t[1])})),0===E&&(f(A,n.cssClasses.drag),at(),t.cursor&&(I.style.cursor="",I.removeEventListener("selectstart",r))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function J(t,e){if(e.handleNumbers.some(j))return!1;var i;1===e.handleNumbers.length&&(i=u[e.handleNumbers[0]].children[0],E+=1,c(i,n.cssClasses.active)),t.stopPropagation();var o=[],a=H(_.move,T,X,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:V(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:k.slice()}),s=H(_.end,T,$,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),l=H("mouseout",T,Y,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,a.concat(s,l)),t.cursor&&(I.style.cursor=getComputedStyle(t.target).cursor,u.length>1&&c(A,n.cssClasses.drag),I.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function K(t){if(!t.buttons&&!t.touches)return!1;t.stopPropagation();var e=q(t.calcPoint),r=function(t){var e=100,n=!1;return u.forEach((function(r,i){if(!j(i)){var o=k[i],a=Math.abs(o-t);(a<e||a<=e&&t>o||100===a&&100===e)&&(n=i,e=a)}})),n}(e);if(!1===r)return!1;n.events.snap||o(A,n.cssClasses.tap,n.animationDuration),st(r,e,!0,!0),at(),et("slide",r,!0),et("update",r,!0),et("change",r,!0),et("set",r,!0),n.events.snap&&J(t,{handleNumbers:[r]})}function Q(t){var e=q(t.calcPoint),n=w.getStep(e),r=w.fromStepping(n);Object.keys(S).forEach((function(t){"hover"===t.split(".")[0]&&S[t].forEach((function(t){t.call(g,r)}))}))}function Z(t,e){S[t]=S[t]||[],S[t].push(e),"update"===t.split(".")[0]&&u.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(S).forEach((function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete S[t]}))}function et(t,e,r){Object.keys(S).forEach((function(i){var o=i.split(".")[0];t===o&&S[i].forEach((function(t){t.call(g,x.map(n.format.to),e,x.slice(),r||!1,k.slice(),g)}))}))}function nt(t,e,r,i,o,a){var l;return u.length>1&&!n.events.unconstrained&&(i&&e>0&&(l=w.getAbsoluteDistance(t[e-1],n.margin,0),r=Math.max(r,l)),o&&e<u.length-1&&(l=w.getAbsoluteDistance(t[e+1],n.margin,1),r=Math.min(r,l))),u.length>1&&n.limit&&(i&&e>0&&(l=w.getAbsoluteDistance(t[e-1],n.limit,0),r=Math.min(r,l)),o&&e<u.length-1&&(l=w.getAbsoluteDistance(t[e+1],n.limit,1),r=Math.max(r,l))),n.padding&&(0===e&&(l=w.getAbsoluteDistance(0,n.padding[0],0),r=Math.max(r,l)),e===u.length-1&&(l=w.getAbsoluteDistance(100,n.padding[1],1),r=Math.min(r,l))),!((r=s(r=w.getStep(r)))===t[e]&&!a)&&r}function rt(t,e){var r=n.ort;return(r?e:t)+", "+(r?t:e)}function it(t,e,n,r){var i=n.slice(),o=[!t,t],a=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=nt(i,t,i[t]+e,o[n],a[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)})):o=a=[!0];var s=!1;r.forEach((function(t,r){s=st(t,n[t]+e,o[r],a[r])||s})),s&&r.forEach((function(t){et("update",t),et("slide",t)}))}function ot(t,e){return n.dir?100-t-e:t}function at(){C.forEach((function(t){var e=k[t]>50?-1:1,n=3+(u.length+e*t);u[t].style.zIndex=n}))}function st(t,e,r,i){return!1!==(e=nt(k,t,e,r,i,!1))&&(function(t,e){k[t]=e,x[t]=w.fromStepping(e);var r="translate("+rt(10*(ot(e,0)-O)+"%","0")+")";u[t].style[n.transformRule]=r,lt(t),lt(t+1)}(t,e),!0)}function lt(t){if(d[t]){var e=0,r=100;0!==t&&(e=k[t-1]),t!==d.length-1&&(r=k[t]);var i=r-e,o="translate("+rt(ot(e,i)+"%","0")+")",a="scale("+rt(i/100,"1")+")";d[t].style[n.transformRule]=o+" "+a}}function ut(t,e){return null===t||!1===t||void 0===t?k[e]:("number"==typeof t&&(t=String(t)),t=n.format.from(t),!1===(t=w.toStepping(t))||isNaN(t)?k[e]:t)}function ct(t,e){var r=l(t),i=void 0===k[0];e=void 0===e||!!e,n.animate&&!i&&o(A,n.cssClasses.tap,n.animationDuration),C.forEach((function(t){st(t,ut(r[t],t),!0,!1)}));for(var a=1===C.length?0:1;a<C.length;++a)C.forEach((function(t){st(t,k[t],!0,!0)}));at(),C.forEach((function(t){et("update",t),null!==r[t]&&e&&et("set",t)}))}function ft(){var t=x.map(n.format.to);return 1===t.length?t[0]:t}function ht(t){var e=k[t],r=w.getNearbySteps(e),i=x[t],o=r.thisStep.step,a=null;if(n.snap)return[i-r.stepBefore.startValue||null,r.stepAfter.startValue-i||null];!1!==o&&i+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-i),a=i>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&i-r.stepBefore.highestStep,100===e?o=null:0===e&&(a=null);var s=w.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}return c(m=A,n.cssClasses.target),0===n.dir?c(m,n.cssClasses.ltr):c(m,n.cssClasses.rtl),0===n.ort?c(m,n.cssClasses.horizontal):c(m,n.cssClasses.vertical),c(m,"rtl"===getComputedStyle(m).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),a=M(m,n.cssClasses.base),function(t,e){var r=M(e,n.cssClasses.connects);u=[],(d=[]).push(D(r,t[0]));for(var i=0;i<n.handles;i++)u.push(P(e,i)),C[i]=i,d.push(D(r,t[i+1]))}(n.connect,a),(y=n.events).fixed||u.forEach((function(t,e){H(_.start,t.children[0],J,{handleNumbers:[e]})})),y.tap&&H(_.start,a,K,{}),y.hover&&H(_.move,a,Q,{hover:!0}),y.drag&&d.forEach((function(t,e){if(!1!==t&&0!==e&&e!==d.length-1){var r=u[e-1],i=u[e],o=[t];c(t,n.cssClasses.draggable),y.fixed&&(o.push(r.children[0]),o.push(i.children[0])),o.forEach((function(t){H(_.start,t,J,{handles:[r,i],handleNumbers:[e-1,e]})}))}})),ct(n.start),n.pips&&G(n.pips),n.tooltips&&z(),Z("update",(function(t,e,r,i,o){C.forEach((function(t){var e=u[t],i=nt(k,t,0,!0,!0,!0),a=nt(k,t,100,!0,!0,!0),s=o[t],l=n.ariaFormat.to(r[t]);i=w.fromStepping(i).toFixed(1),a=w.fromStepping(a).toFixed(1),s=w.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)}))})),g={destroy:function(){for(var t in n.cssClasses)n.cssClasses.hasOwnProperty(t)&&f(A,n.cssClasses[t]);for(;A.firstChild;)A.removeChild(A.firstChild);delete A.noUiSlider},steps:function(){return C.map(ht)},on:Z,off:tt,get:ft,set:ct,setHandle:function(t,e,n){if(!((t=Number(t))>=0&&t<C.length))throw new Error("noUiSlider (14.6.1): invalid handle number, got: "+t);st(t,ut(e,t),!0,!0),et("update",t),n&&et("set",t)},reset:function(t){ct(n.start,t)},__moveHandles:function(t,e,n){it(t,e,k,n)},options:i,updateOptions:function(t,e){var r=ft(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(e){void 0!==t[e]&&(i[e]=t[e])}));var a=W(i);o.forEach((function(e){void 0!==t[e]&&(n[e]=a[e])})),w=a.spectrum,n.margin=a.margin,n.limit=a.limit,n.padding=a.padding,n.pips?G(n.pips):U(),n.tooltips?z():F(),k=[],ct(t.start||r,e)},target:A,removePips:U,removeTooltips:F,getTooltips:function(){return v},getOrigins:function(){return u},pips:G}}return{__spectrum:b,version:t,cssClasses:w,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.6.1): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.6.1): Slider was already initialized.");var n=Y(t,W(e),e);return t.noUiSlider=n,n}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){(function(t){var r,i,o,a,s=n(20);window,
/*! choices.js v9.0.1 | Â© 2019 Josh Johnson | https://github.com/jshjohnson/Choices#readme */
a=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===s(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/public/assets/scripts/",n(n.s=4)}([function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"===s(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function a(t,e,n){return t.concat(e).map((function(t){return o(t,n)}))}function l(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function u(t,e,n){var r={};return n.isMergeableObject(t)&&l(t).forEach((function(e){r[e]=o(t[e],n)})),l(e).forEach((function(i){(function(t,e){try{return e in t&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}catch(t){return!1}})(t,i)||(n.isMergeableObject(e[i])&&t[i]?r[i]=function(t,e){if(!e.customMerge)return c;var n=e.customMerge(t);return"function"==typeof n?n:c}(i,n)(t[i],e[i],n):r[i]=o(e[i],n))})),r}function c(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var i=Array.isArray(e);return i===Array.isArray(t)?i?n.arrayMerge(t,e,n):u(t,e,n):o(e,n)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return c(t,n,e)}),{})};var f=c;t.exports=f},function(t,e,n){"use strict";(function(t,r){var i,o=n(3);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(5),n(6)(t))},function(t,e,n){
/*!
       * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)
       * 
       * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
       * All Rights Reserved. Apache Software License 2.0
       * 
       * http://www.apache.org/licenses/LICENSE-2.0
       */
t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==s(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(2),a=n(8),l=n(0),u=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,l=n.threshold,u=void 0===l?.6:l,c=n.maxPatternLength,f=void 0===c?32:c,h=n.caseSensitive,d=void 0!==h&&h,p=n.tokenSeparator,v=void 0===p?/ +/g:p,g=n.findAllMatches,m=void 0!==g&&g,y=n.minMatchCharLength,_=void 0===y?1:y,b=n.id,A=void 0===b?null:b,w=n.keys,x=void 0===w?[]:w,k=n.shouldSort,C=void 0===k||k,E=n.getFn,S=void 0===E?a:E,R=n.sortFn,T=void 0===R?function(t,e){return t.score-e.score}:R,I=n.tokenize,O=void 0!==I&&I,M=n.matchAllTokens,P=void 0!==M&&M,D=n.includeMatches,N=void 0!==D&&D,L=n.includeScore,j=void 0!==L&&L,F=n.verbose,z=void 0!==F&&F;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:s,threshold:u,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:v,findAllMatches:m,minMatchCharLength:_,id:A,keys:x,includeMatches:N,includeScore:j,shouldSort:C,getFn:S,sortFn:T,verbose:z,tokenize:O,matchAllTokens:P},this.setCollection(e)}var e,n;return e=t,(n=[{key:"setCollection",value:function(t){return this.list=t,t}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(t,'"'));var n=this._prepareSearchers(t),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i),a=o.weights,s=o.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),e.limit&&"number"==typeof e.limit&&(s=s.slice(0,e.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)e.push(new o(n[r],this.options));return{tokenSearchers:e,fullSearcher:new o(t,this.options)}}},{key:"_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,a=n.length;o<a;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e});return{weights:null,results:i}}for(var s={},l=0,u=n.length;l<u;l+=1)for(var c=n[l],f=0,h=this.options.keys.length;f<h;f+=1){var d=this.options.keys[f];if("string"!=typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error("Key weight has to be > 0 and <= 1");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(c,d),record:c,index:l},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e})}return{weights:s,results:i}}},{key:"_analyze",value:function(t,e){var n=t.key,r=t.arrayIndex,i=void 0===r?-1:r,o=t.value,a=t.record,s=t.index,u=e.tokenSearchers,c=void 0===u?[]:u,f=e.fullSearcher,h=void 0===f?[]:f,d=e.resultMap,p=void 0===d?{}:d,v=e.results,g=void 0===v?[]:v;if(null!=o){var m=!1,y=-1,_=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var b=h.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat(b.score)),this.options.tokenize){for(var A=o.split(this.options.tokenSeparator),w=[],x=0;x<c.length;x+=1){var k=c[x];this._log('\nPattern: "'.concat(k.pattern,'"'));for(var C=!1,E=0;E<A.length;E+=1){var S=A[E],R=k.search(S),T={};R.isMatch?(T[S]=R.score,m=!0,C=!0,w.push(R.score)):(T[S]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(S,'", score: ').concat(T[S]))}C&&(_+=1)}y=w[0];for(var I=w.length,O=1;O<I;O+=1)y+=w[O];y/=I,this._log("Token score average:",y)}var M=b.score;y>-1&&(M=(M+y)/2),this._log("Score average:",M);var P=!this.options.tokenize||!this.options.matchAllTokens||_>=c.length;if(this._log("\nCheck Matches: ".concat(P)),(m||b.isMatch)&&P){var D=p[s];D?D.output.push({key:n,arrayIndex:i,value:o,score:M,matchedIndices:b.matchedIndices}):(p[s]={item:a,output:[{key:n,arrayIndex:i,value:o,score:M,matchedIndices:b.matchedIndices}]},g.push(p[s]))}}else if(l(o))for(var N=0,L=o.length;N<L;N+=1)this._analyze({key:n,arrayIndex:N,value:o[N],record:a,index:s},{resultMap:p,results:g,tokenSearchers:c,fullSearcher:h})}}},{key:"_computeScore",value:function(t,e){this._log("\n\nComputing score:\n");for(var n=0,r=e.length;n<r;n+=1){for(var i=e[n].output,o=i.length,a=1,s=1,l=0;l<o;l+=1){var u=t?t[i[l].key].weight:1,c=(1===u?i[l].score:i[l].score||.001)*u;1!==u?s=Math.min(s,c):(i[l].nScore=c,a*=c)}e[n].score=1===s?a:s,this._log(e[n])}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(t,(function(t,e){if("object"===r(e)&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}))),n=null}var i=[];this.options.includeMatches&&i.push((function(t,e){var n=t.output;e.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),e.matches.push(a)}}})),this.options.includeScore&&i.push((function(t,e){e.score=t.score}));for(var o=0,a=t.length;o<a;o+=1){var s=t[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),i.length){for(var l={item:s.item},u=0,c=i.length;u<c;u+=1)i[u](s,l);e.push(l)}else e.push(s.item)}return e}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}])&&i(e.prototype,n),t}();t.exports=u},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(3),o=n(4),a=n(7),s=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,l=n.threshold,u=void 0===l?.6:l,c=n.maxPatternLength,f=void 0===c?32:c,h=n.isCaseSensitive,d=void 0!==h&&h,p=n.tokenSeparator,v=void 0===p?/ +/g:p,g=n.findAllMatches,m=void 0!==g&&g,y=n.minMatchCharLength,_=void 0===y?1:y;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:s,threshold:u,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:v,findAllMatches:m,minMatchCharLength:_},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=a(this.pattern))}var e,n;return e=t,(n=[{key:"search",value:function(t){if(this.options.isCaseSensitive||(t=t.toLowerCase()),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};var e=this.options,n=e.maxPatternLength,r=e.tokenSeparator;if(this.pattern.length>n)return i(t,this.pattern,r);var a=this.options,s=a.location,l=a.distance,u=a.threshold,c=a.findAllMatches,f=a.minMatchCharLength;return o(t,this.pattern,this.patternAlphabet,{location:s,distance:l,threshold:u,findAllMatches:c,minMatchCharLength:f})}}])&&r(e.prototype,n),t}();t.exports=s},function(t,e){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(e.replace(n,"\\$&").replace(r,"|")),o=t.match(i),a=!!o,s=[];if(a)for(var l=0,u=o.length;l<u;l+=1){var c=o[l];s.push([t.indexOf(c),c.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(t,e,n){var r=n(5),i=n(6);t.exports=function(t,e,n,o){for(var a=o.location,s=void 0===a?0:a,l=o.distance,u=void 0===l?100:l,c=o.threshold,f=void 0===c?.6:c,h=o.findAllMatches,d=void 0!==h&&h,p=o.minMatchCharLength,v=void 0===p?1:p,g=s,m=t.length,y=f,_=t.indexOf(e,g),b=e.length,A=[],w=0;w<m;w+=1)A[w]=0;if(-1!==_){var x=r(e,{errors:0,currentLocation:_,expectedLocation:g,distance:u});if(y=Math.min(x,y),-1!==(_=t.lastIndexOf(e,g+b))){var k=r(e,{errors:0,currentLocation:_,expectedLocation:g,distance:u});y=Math.min(k,y)}}_=-1;for(var C=[],E=1,S=b+m,R=1<<b-1,T=0;T<b;T+=1){for(var I=0,O=S;I<O;)r(e,{errors:T,currentLocation:g+O,expectedLocation:g,distance:u})<=y?I=O:S=O,O=Math.floor((S-I)/2+I);S=O;var M=Math.max(1,g-O+1),P=d?m:Math.min(g+O,m)+b,D=Array(P+2);D[P+1]=(1<<T)-1;for(var N=P;N>=M;N-=1){var L=N-1,j=n[t.charAt(L)];if(j&&(A[L]=1),D[N]=(D[N+1]<<1|1)&j,0!==T&&(D[N]|=(C[N+1]|C[N])<<1|1|C[N+1]),D[N]&R&&(E=r(e,{errors:T,currentLocation:L,expectedLocation:g,distance:u}))<=y){if(y=E,(_=L)<=g)break;M=Math.max(1,2*g-_)}}if(r(e,{errors:T+1,currentLocation:g,expectedLocation:g,distance:u})>y)break;C=D}return{isMatch:_>=0,score:0===E?.001:E,matchedIndices:i(A,v)}}},function(t,e){t.exports=function(t,e){var n=e.errors,r=void 0===n?0:n,i=e.currentLocation,o=void 0===i?0:i,a=e.expectedLocation,s=void 0===a?0:a,l=e.distance,u=void 0===l?100:l,c=r/t.length,f=Math.abs(s-o);return u?c+f/u:f?1:c}},function(t,e){t.exports=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,a=t.length;o<a;o+=1){var s=t[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}},function(t,e){t.exports=function(t){for(var e={},n=t.length,r=0;r<n;r+=1)e[t.charAt(r)]=0;for(var i=0;i<n;i+=1)e[t.charAt(i)]|=1<<n-i-1;return e}},function(t,e,n){var r=n(0);t.exports=function(t,e){return function t(e,n,i){if(n){var o=n.indexOf("."),a=n,s=null;-1!==o&&(a=n.slice(0,o),s=n.slice(o+1));var l=e[a];if(null!=l)if(s||"string"!=typeof l&&"number"!=typeof l)if(r(l))for(var u=0,c=l.length;u<c;u+=1)t(l[u],s,i);else s&&t(l,s,i);else i.push(l.toString())}else i.push(e);return i}(t,e,[])}}])},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){t.exports=n(7)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":s(window))&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=n(0),a=n.n(o),l=n(1),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function f(t){if("object"!==s(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function h(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(h)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],u=a,d=!1;function p(){u===a&&(u=a.slice())}function v(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function g(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return p(),u.push(t),function(){if(e){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,p();var n=u.indexOf(t);u.splice(n,1)}}}function m(t){if(!f(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,o=i(o,t)}finally{d=!1}for(var e=a=u,n=0;n<e.length;n++)(0,e[n])();return t}function y(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,m({type:c.REPLACE})}function _(){var t,e=g;return(t={subscribe:function(t){if("object"!==s(t)||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(v())}return n(),{unsubscribe:e(n)}}})[l.a]=function(){return this},t}return m({type:c.INIT}),(r={dispatch:m,subscribe:g,getState:v,replaceReducer:y})[l.a]=_,r}function d(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}var p,v=[],g=[],m=[],y={loading:!1},_=function(t,e){switch(void 0===t&&(t=y),e.type){case"SET_IS_LOADING":return{loading:e.isLoading};default:return t}},b=function(t){return Array.from({length:t},(function(){return(t=0,e=36,Math.floor(Math.random()*(e-t)+t)).toString(36);var t,e})).join("")},A=function(t){return Object.prototype.toString.call(t).slice(8,-1)},w=function(t,e){return null!=e&&A(e)===t},x=function(t){return"string"!=typeof t?t:t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},k=(p=document.createElement("div"),function(t){var e=t.trim();p.innerHTML=e;for(var n=p.children[0];p.firstChild;)p.removeChild(p.firstChild);return n}),C=function(t,e){return t.score-e.score},E=function(t){return JSON.parse(JSON.stringify(t))},S=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:c.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+c.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],u=n[l],c=t[l],f=u(c,e);if(void 0===f){var h=d(l,e);throw new Error(h)}i[l]=f,r=r||f!==c}return r?i:t}}({items:function(t,e){switch(void 0===t&&(t=v),e.type){case"ADD_ITEM":return[].concat(t,[{id:e.id,choiceId:e.choiceId,groupId:e.groupId,value:e.value,label:e.label,active:!0,highlighted:!1,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]).map((function(t){var e=t;return e.highlighted=!1,e}));case"REMOVE_ITEM":return t.map((function(t){var n=t;return n.id===e.id&&(n.active=!1),n}));case"HIGHLIGHT_ITEM":return t.map((function(t){var n=t;return n.id===e.id&&(n.highlighted=e.highlighted),n}));default:return t}},groups:function(t,e){switch(void 0===t&&(t=g),e.type){case"ADD_GROUP":return[].concat(t,[{id:e.id,value:e.value,active:e.active,disabled:e.disabled}]);case"CLEAR_CHOICES":return[];default:return t}},choices:function(t,e){switch(void 0===t&&(t=m),e.type){case"ADD_CHOICE":return[].concat(t,[{id:e.id,elementId:e.elementId,groupId:e.groupId,value:e.value,label:e.label||e.value,disabled:e.disabled||!1,selected:!1,active:!0,score:9999,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return e.activateOptions?t.map((function(t){var n=t;return n.active=e.active,n})):e.choiceId>-1?t.map((function(t){var n=t;return n.id===parseInt(e.choiceId,10)&&(n.selected=!0),n})):t;case"REMOVE_ITEM":return e.choiceId>-1?t.map((function(t){var n=t;return n.id===parseInt(e.choiceId,10)&&(n.selected=!1),n})):t;case"FILTER_CHOICES":return t.map((function(t){var n=t;return n.active=e.results.some((function(t){var e=t.item,r=t.score;return e.id===n.id&&(n.score=r,!0)})),n}));case"ACTIVATE_CHOICES":return t.map((function(t){var n=t;return n.active=e.active,n}));case"CLEAR_CHOICES":return m;default:return t}},general:_}),R=function(t,e){var n=t;if("CLEAR_ALL"===e.type)n=void 0;else if("RESET_TO"===e.type)return E(e.state);return S(n,e)};function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(){this._store=h(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var e,n,r,i=t.prototype;return i.subscribe=function(t){this._store.subscribe(t)},i.dispatch=function(t){this._store.dispatch(t)},i.isLoading=function(){return this.state.general.loading},i.getChoiceById=function(t){return this.activeChoices.find((function(e){return e.id===parseInt(t,10)}))},i.getGroupById=function(t){return this.groups.find((function(e){return e.id===t}))},e=t,(n=[{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter((function(t){return!0===t.active}))}},{key:"highlightedActiveItems",get:function(){return this.items.filter((function(t){return t.active&&t.highlighted}))}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter((function(t){return!0===t.active}))}},{key:"selectableChoices",get:function(){return this.choices.filter((function(t){return!0!==t.disabled}))}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter((function(t){return!0!==t.placeholder}))}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find((function(t){return!0===t.placeholder}))}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var t=this.groups,e=this.choices;return t.filter((function(t){var n=!0===t.active&&!1===t.disabled,r=e.some((function(t){return!0===t.active&&!1===t.disabled}));return n&&r}),[])}}])&&T(e.prototype,n),r&&T(e,r),t}();function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(t){var e=t.element,n=t.type,r=t.classNames;this.element=e,this.classNames=r,this.type=n,this.isActive=!1}var e,n,r,i=t.prototype;return i.getChild=function(t){return this.element.querySelector(t)},i.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},i.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e=t,(n=[{key:"distanceFromTopWindow",get:function(){return this.element.getBoundingClientRect().bottom}}])&&O(e.prototype,n),r&&O(e,r),t}(),P={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(t,e){var n=t.value,r=t.label,i=void 0===r?n:r,o=e.value,a=e.label,s=void 0===a?o:a;return i.localeCompare(s,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'+x(t)+'"</b>'},maxItemText:function(t){return"Only "+t+" values can be added"},valueComparer:function(t,e){return t===e},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}},D="showDropdown",N="hideDropdown",L="change",j="choice",F="search",z="addItem",B="removeItem",U="highlightItem",G="highlightChoice",V="ADD_CHOICE",H="FILTER_CHOICES",q="ACTIVATE_CHOICES",W="CLEAR_CHOICES",Y="ADD_GROUP",X="ADD_ITEM",$="REMOVE_ITEM",J="HIGHLIGHT_ITEM",K=46,Q=8,Z=13,tt=65,et=27,nt=38,rt=40,it=33,ot=34,at=function(){function t(t){var e=t.element,n=t.type,r=t.classNames,i=t.position;this.element=e,this.classNames=r,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var e=t.prototype;return e.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.shouldFlip=function(t){if("number"!=typeof t)return!1;var e=!1;return"auto"===this.position?e=!window.matchMedia("(min-height: "+(t+1)+"px)").matches:"top"===this.position&&(e=!0),e},e.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},e.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.open=function(t){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.focus=function(){this.isFocussed||this.element.focus()},e.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),"select-one"===this.type&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),"select-one"===this.type&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.wrap=function(t){!function(t,e){void 0===e&&(e=document.createElement("div")),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e.appendChild(t)}(t,this.element)},e.unwrap=function(t){this.element.parentNode.insertBefore(t,this.element),this.element.parentNode.removeChild(this.element)},e.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e._onFocus=function(){this.isFocussed=!0},e._onBlur=function(){this.isFocussed=!1},t}();function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lt=function(){function t(t){var e=t.element,n=t.type,r=t.classNames,i=t.preventPaste;this.element=e,this.type=n,this.classNames=r,this.preventPaste=i,this.isFocussed=this.element===document.activeElement,this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var e,n,r,i=t.prototype;return i.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},i.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput,{passive:!0}),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus,{passive:!0}),this.element.removeEventListener("blur",this._onBlur,{passive:!0})},i.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},i.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},i.focus=function(){this.isFocussed||this.element.focus()},i.blur=function(){this.isFocussed&&this.element.blur()},i.clear=function(t){return void 0===t&&(t=!0),this.element.value&&(this.element.value=""),t&&this.setWidth(),this},i.setWidth=function(){var t=this.element,e=t.style,n=t.value,r=t.placeholder;e.minWidth=r.length+1+"ch",e.width=n.length+1+"ch"},i.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},i.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},i._onInput=function(){"select-one"!==this.type&&this.setWidth()},i._onPaste=function(t){this.preventPaste&&t.preventDefault()},i._onFocus=function(){this.isFocussed=!0},i._onBlur=function(){this.isFocussed=!1},e=t,(n=[{key:"placeholder",set:function(t){this.element.placeholder=t}},{key:"value",get:function(){return x(this.element.value)},set:function(t){this.element.value=t}}])&&st(e.prototype,n),r&&st(e,r),t}(),ut=function(){function t(t){var e=t.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}var e=t.prototype;return e.clear=function(){this.element.innerHTML=""},e.append=function(t){this.element.appendChild(t)},e.getChild=function(t){return this.element.querySelector(t)},e.hasChildren=function(){return this.element.hasChildNodes()},e.scrollToTop=function(){this.element.scrollTop=0},e.scrollToChildElement=function(t,e){var n=this;if(t){var r=this.element.offsetHeight,i=this.element.scrollTop+r,o=t.offsetHeight,a=t.offsetTop+o,s=e>0?this.element.scrollTop+a-i:t.offsetTop;requestAnimationFrame((function(){n._animateScroll(s,e)}))}},e._scrollDown=function(t,e,n){var r=(n-t)/e,i=r>1?r:1;this.element.scrollTop=t+i},e._scrollUp=function(t,e,n){var r=(t-n)/e,i=r>1?r:1;this.element.scrollTop=t-i},e._animateScroll=function(t,e){var n=this,r=this.element.scrollTop,i=!1;e>0?(this._scrollDown(r,4,t),r<t&&(i=!0)):(this._scrollUp(r,4,t),r>t&&(i=!0)),i&&requestAnimationFrame((function(){n._animateScroll(t,e)}))},t}();function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ft=function(){function t(t){var e=t.element,n=t.classNames;if(this.element=e,this.classNames=n,!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}var e,n,r,i=t.prototype;return i.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var t=this.element.getAttribute("style");t&&this.element.setAttribute("data-choice-orig-style",t),this.element.setAttribute("data-choice","active")},i.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var t=this.element.getAttribute("data-choice-orig-style");t?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",t)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},i.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},i.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},i.triggerEvent=function(t,e){!function(t,e,n){void 0===n&&(n=null);var r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0});t.dispatchEvent(r)}(this.element,t,e)},e=t,(n=[{key:"isActive",get:function(){return"active"===this.element.dataset.choice}},{key:"dir",get:function(){return this.element.dir}},{key:"value",get:function(){return this.element.value},set:function(t){this.element.value=t}}])&&ct(e.prototype,n),r&&ct(e,r),t}();function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dt=function(t){var e,n,r,i,o;function a(e){var n,r=e.element,i=e.classNames,o=e.delimiter;return(n=t.call(this,{element:r,classNames:i})||this).delimiter=o,n}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r=a,(i=[{key:"value",get:function(){return this.element.value},set:function(t){var e=t.map((function(t){return t.value})).join(this.delimiter);this.element.setAttribute("value",e),this.element.value=e}}])&&ht(r.prototype,i),o&&ht(r,o),a}(ft);function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vt=function(t){var e,n,r,i,o;function a(e){var n,r=e.element,i=e.classNames,o=e.template;return(n=t.call(this,{element:r,classNames:i})||this).template=o,n}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.prototype.appendDocFragment=function(t){this.element.innerHTML="",this.element.appendChild(t)},r=a,(i=[{key:"placeholderOption",get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(t){var e=this,n=document.createDocumentFragment();t.forEach((function(t){return r=t,i=e.template(r),void n.appendChild(i);var r,i})),this.appendDocFragment(n)}}])&&pt(r.prototype,i),o&&pt(r,o),a}(ft),gt={containerOuter:function(t,e,n,r,i,o){var a=t.containerOuter,s=Object.assign(document.createElement("div"),{className:a});return s.dataset.type=o,e&&(s.dir=e),r&&(s.tabIndex=0),n&&(s.setAttribute("role",i?"combobox":"listbox"),i&&s.setAttribute("aria-autocomplete","list")),s.setAttribute("aria-haspopup","true"),s.setAttribute("aria-expanded","false"),s},containerInner:function(t){var e=t.containerInner;return Object.assign(document.createElement("div"),{className:e})},itemList:function(t,e){var n=t.list,r=t.listSingle,i=t.listItems;return Object.assign(document.createElement("div"),{className:n+" "+(e?r:i)})},placeholder:function(t,e){var n=t.placeholder;return Object.assign(document.createElement("div"),{className:n,innerHTML:e})},item:function(t,e,n){var r=t.item,i=t.button,o=t.highlightedState,a=t.itemSelectable,s=t.placeholder,l=e.id,u=e.value,c=e.label,f=e.customProperties,h=e.active,d=e.disabled,p=e.highlighted,v=e.placeholder,g=Object.assign(document.createElement("div"),{className:r,innerHTML:c});if(Object.assign(g.dataset,{item:"",id:l,value:u,customProperties:f}),h&&g.setAttribute("aria-selected","true"),d&&g.setAttribute("aria-disabled","true"),v&&g.classList.add(s),g.classList.add(p?o:a),n){d&&g.classList.remove(a),g.dataset.deletable="";var m=Object.assign(document.createElement("button"),{type:"button",className:i,innerHTML:"Remove item"});m.setAttribute("aria-label","Remove item: '"+u+"'"),m.dataset.button="",g.appendChild(m)}return g},choiceList:function(t,e){var n=t.list,r=Object.assign(document.createElement("div"),{className:n});return e||r.setAttribute("aria-multiselectable","true"),r.setAttribute("role","listbox"),r},choiceGroup:function(t,e){var n=t.group,r=t.groupHeading,i=t.itemDisabled,o=e.id,a=e.value,s=e.disabled,l=Object.assign(document.createElement("div"),{className:n+" "+(s?i:"")});return l.setAttribute("role","group"),Object.assign(l.dataset,{group:"",id:o,value:a}),s&&l.setAttribute("aria-disabled","true"),l.appendChild(Object.assign(document.createElement("div"),{className:r,innerHTML:a})),l},choice:function(t,e,n){var r=t.item,i=t.itemChoice,o=t.itemSelectable,a=t.selectedState,s=t.itemDisabled,l=t.placeholder,u=e.id,c=e.value,f=e.label,h=e.groupId,d=e.elementId,p=e.disabled,v=e.selected,g=e.placeholder,m=Object.assign(document.createElement("div"),{id:d,innerHTML:f,className:r+" "+i});return v&&m.classList.add(a),g&&m.classList.add(l),m.setAttribute("role",h>0?"treeitem":"option"),Object.assign(m.dataset,{choice:"",id:u,value:c,selectText:n}),p?(m.classList.add(s),m.dataset.choiceDisabled="",m.setAttribute("aria-disabled","true")):(m.classList.add(o),m.dataset.choiceSelectable=""),m},input:function(t,e){var n=t.input,r=t.inputCloned,i=Object.assign(document.createElement("input"),{type:"text",className:n+" "+r,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return i.setAttribute("role","textbox"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-label",e),i},dropdown:function(t){var e=t.list,n=t.listDropdown,r=document.createElement("div");return r.classList.add(e,n),r.setAttribute("aria-expanded","false"),r},notice:function(t,e,n){var r=t.item,i=t.itemChoice,o=t.noResults,a=t.noChoices;void 0===n&&(n="");var s=[r,i];return"no-choices"===n?s.push(a):"no-results"===n&&s.push(o),Object.assign(document.createElement("div"),{innerHTML:e,className:s.join(" ")})},option:function(t){var e=t.label,n=t.value,r=t.customProperties,i=t.active,o=t.disabled,a=new Option(e,n,!1,i);return r&&(a.dataset.customProperties=r),a.disabled=o,a}},mt=function(t){return void 0===t&&(t=!0),{type:q,active:t}},yt=function(t,e){return{type:J,id:t,highlighted:e}},_t=function(t){var e=t.value,n=t.id,r=t.active,i=t.disabled;return{type:Y,value:e,id:n,active:r,disabled:i}},bt=function(t){return{type:"SET_IS_LOADING",isLoading:t}};function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wt="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,xt={},kt=function(){var t,e,n;function r(t,e){var n=this;void 0===t&&(t="[data-choice]"),void 0===e&&(e={}),this.config=a.a.all([P,r.defaults.options,e],{arrayMerge:function(t,e){return[].concat(e)}});var i,o,s,l,u=(i=this.config,o=P,s=Object.keys(i).sort(),l=Object.keys(o).sort(),s.filter((function(t){return l.indexOf(t)<0})));u.length&&console.warn("Unknown config option(s) passed",u.join(", "));var c="string"==typeof t?document.querySelector(t):t;if(!(c instanceof HTMLInputElement||c instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement="text"===c.type,this._isSelectOneElement="select-one"===c.type,this._isSelectMultipleElement="select-multiple"===c.type,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto"),e.addItemFilter&&"function"!=typeof e.addItemFilter){var f=e.addItemFilter instanceof RegExp?e.addItemFilter:new RegExp(e.addItemFilter);this.config.addItemFilter=f.test.bind(f)}if(this._isTextElement?this.passedElement=new dt({element:c,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new vt({element:c,classNames:this.config.classNames,template:function(t){return n._templates.option(t)}}),this.initialised=!1,this._store=new I,this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(t,e){var n=t.id||t.name&&t.name+"-"+b(2)||b(4);return n=e+"-"+(n=n.replace(/(:|\.|\[|\]|,)/g,""))}(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var h=window.getComputedStyle(this.passedElement.element).direction;h!==window.getComputedStyle(document.documentElement).direction&&(this._direction=h)}if(this._idNames={itemChoice:"item-choice"},this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options,this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.passedElement.options&&this.passedElement.options.forEach((function(t){n._presetChoices.push({value:t.value,label:t.innerHTML,selected:t.selected,disabled:t.disabled||t.parentNode.disabled,placeholder:""===t.value||t.hasAttribute("placeholder"),customProperties:t.getAttribute("data-custom-properties")})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised"),void(this.initialised=!0);this.init()}t=r,n=[{key:"defaults",get:function(){return Object.preventExtensions({get options(){return xt},get templates(){return gt}})}}],(e=null)&&At(t.prototype,e),n&&At(t,n);var o=r.prototype;return o.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=E(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var t=this.config.callbackOnInit;t&&"function"==typeof t&&t.call(this)}},o.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=null,this.initialised=!1)},o.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},o.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},o.highlightItem=function(t,e){if(void 0===e&&(e=!0),!t)return this;var n=t.id,r=t.groupId,i=void 0===r?-1:r,o=t.value,a=void 0===o?"":o,s=t.label,l=void 0===s?"":s,u=i>=0?this._store.getGroupById(i):null;return this._store.dispatch(yt(n,!0)),e&&this.passedElement.triggerEvent(U,{id:n,value:a,label:l,groupValue:u&&u.value?u.value:null}),this},o.unhighlightItem=function(t){if(!t)return this;var e=t.id,n=t.groupId,r=void 0===n?-1:n,i=t.value,o=void 0===i?"":i,a=t.label,s=void 0===a?"":a,l=r>=0?this._store.getGroupById(r):null;return this._store.dispatch(yt(e,!1)),this.passedElement.triggerEvent(U,{id:e,value:o,label:s,groupValue:l&&l.value?l.value:null}),this},o.highlightAll=function(){var t=this;return this._store.items.forEach((function(e){return t.highlightItem(e)})),this},o.unhighlightAll=function(){var t=this;return this._store.items.forEach((function(e){return t.unhighlightItem(e)})),this},o.removeActiveItemsByValue=function(t){var e=this;return this._store.activeItems.filter((function(e){return e.value===t})).forEach((function(t){return e._removeItem(t)})),this},o.removeActiveItems=function(t){var e=this;return this._store.activeItems.filter((function(e){return e.id!==t})).forEach((function(t){return e._removeItem(t)})),this},o.removeHighlightedItems=function(t){var e=this;return void 0===t&&(t=!1),this._store.highlightedActiveItems.forEach((function(n){e._removeItem(n),t&&e._triggerChange(n.value)})),this},o.showDropdown=function(t){var e=this;return this.dropdown.isActive||requestAnimationFrame((function(){e.dropdown.show(),e.containerOuter.open(e.dropdown.distanceFromTopWindow),!t&&e._canSearch&&e.input.focus(),e.passedElement.triggerEvent(D,{})})),this},o.hideDropdown=function(t){var e=this;return this.dropdown.isActive?(requestAnimationFrame((function(){e.dropdown.hide(),e.containerOuter.close(),!t&&e._canSearch&&(e.input.removeActiveDescendant(),e.input.blur()),e.passedElement.triggerEvent(N,{})})),this):this},o.getValue=function(t){void 0===t&&(t=!1);var e=this._store.activeItems.reduce((function(e,n){var r=t?n.value:n;return e.push(r),e}),[]);return this._isSelectOneElement?e[0]:e},o.setValue=function(t){var e=this;return this.initialised?(t.forEach((function(t){return e._setChoiceOrItem(t)})),this):this},o.setChoiceByValue=function(t){var e=this;return!this.initialised||this._isTextElement||(Array.isArray(t)?t:[t]).forEach((function(t){return e._findAndSelectChoiceByValue(t)})),this},o.setChoices=function(t,e,n,r){var i=this;if(void 0===t&&(t=[]),void 0===e&&(e="value"),void 0===n&&(n="label"),void 0===r&&(r=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof e||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),"function"==typeof t){var o=t(this);if("function"==typeof Promise&&o instanceof Promise)return new Promise((function(t){return requestAnimationFrame(t)})).then((function(){return i._handleLoadingState(!0)})).then((function(){return o})).then((function(t){return i.setChoices(t,e,n,r)})).catch((function(t){i.config.silent||console.error(t)})).then((function(){return i._handleLoadingState(!1)})).then((function(){return i}));if(!Array.isArray(o))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: "+s(o));return this.setChoices(o,e,n,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),t.forEach((function(t){t.choices?i._addGroup({id:parseInt(t.id,10)||null,group:t,valueKey:e,labelKey:n}):i._addChoice({value:t[e],label:t[n],isSelected:t.selected,isDisabled:t.disabled,customProperties:t.customProperties,placeholder:t.placeholder})})),this._stopLoading(),this},o.clearChoices=function(){return this._store.dispatch({type:W}),this},o.clearStore=function(){return this._store.dispatch({type:"CLEAR_ALL"}),this},o.clearInput=function(){var t=!this._isSelectOneElement;return this.input.clear(t),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(mt(!0))),this},o._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var t=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,e=this._isSelectElement,n=this._currentState.items!==this._prevState.items;t&&(e&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},o._renderChoices=function(){var t=this,e=this._store,n=e.activeGroups,r=e.activeChoices,i=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return t.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var o=r.filter((function(t){return!0===t.placeholder&&-1===t.groupId}));o.length>=1&&(i=this._createChoicesFragment(o,i)),i=this._createGroupsFragment(n,r,i)}else r.length>=1&&(i=this._createChoicesFragment(r,i));if(i.childNodes&&i.childNodes.length>0){var a=this._store.activeItems,s=this._canAddItem(a,this.input.value);s.response?(this.choiceList.append(i),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",s.notice))}else{var l,u;this._isSearching?(u="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,l=this._getTemplate("notice",u,"no-results")):(u="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,l=this._getTemplate("notice",u,"no-choices")),this.choiceList.append(l)}},o._renderItems=function(){var t=this._store.activeItems||[];this.itemList.clear();var e=this._createItemsFragment(t);e.childNodes&&this.itemList.append(e)},o._createGroupsFragment=function(t,e,n){var r=this;return void 0===n&&(n=document.createDocumentFragment()),this.config.shouldSort&&t.sort(this.config.sorter),t.forEach((function(t){var i=function(t){return e.filter((function(e){return r._isSelectOneElement?e.groupId===t.id:e.groupId===t.id&&("always"===r.config.renderSelectedChoices||!e.selected)}))}(t);if(i.length>=1){var o=r._getTemplate("choiceGroup",t);n.appendChild(o),r._createChoicesFragment(i,n,!0)}})),n},o._createChoicesFragment=function(t,e,n){var r=this;void 0===e&&(e=document.createDocumentFragment()),void 0===n&&(n=!1);var i=this.config,o=i.renderSelectedChoices,a=i.searchResultLimit,s=i.renderChoiceLimit,l=this._isSearching?C:this.config.sorter,u=function(t){if("auto"!==o||r._isSelectOneElement||!t.selected){var n=r._getTemplate("choice",t,r.config.itemSelectText);e.appendChild(n)}},c=t;"auto"!==o||this._isSelectOneElement||(c=t.filter((function(t){return!t.selected})));var f=c.reduce((function(t,e){return e.placeholder?t.placeholderChoices.push(e):t.normalChoices.push(e),t}),{placeholderChoices:[],normalChoices:[]}),h=f.placeholderChoices,d=f.normalChoices;(this.config.shouldSort||this._isSearching)&&d.sort(l);var p=c.length,v=this._isSelectOneElement?[].concat(h,d):d;this._isSearching?p=a:s&&s>0&&!n&&(p=s);for(var g=0;g<p;g+=1)v[g]&&u(v[g]);return e},o._createItemsFragment=function(t,e){var n=this;void 0===e&&(e=document.createDocumentFragment());var r=this.config,i=r.shouldSortItems,o=r.sorter,a=r.removeItemButton;return i&&!this._isSelectOneElement&&t.sort(o),this._isTextElement?this.passedElement.value=t:this.passedElement.options=t,t.forEach((function(t){var r=n._getTemplate("item",t,a);e.appendChild(r)})),e},o._triggerChange=function(t){null!=t&&this.passedElement.triggerEvent(L,{value:t})},o._selectPlaceholderChoice=function(){var t=this._store.placeholderChoice;t&&(this._addItem({value:t.value,label:t.label,choiceId:t.id,groupId:t.groupId,placeholder:t.placeholder}),this._triggerChange(t.value))},o._handleButtonAction=function(t,e){if(t&&e&&this.config.removeItems&&this.config.removeItemButton){var n=e.parentNode.getAttribute("data-id"),r=t.find((function(t){return t.id===parseInt(n,10)}));this._removeItem(r),this._triggerChange(r.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}},o._handleItemAction=function(t,e,n){var r=this;if(void 0===n&&(n=!1),t&&e&&this.config.removeItems&&!this._isSelectOneElement){var i=e.getAttribute("data-id");t.forEach((function(t){t.id!==parseInt(i,10)||t.highlighted?!n&&t.highlighted&&r.unhighlightItem(t):r.highlightItem(t)})),this.input.focus()}},o._handleChoiceAction=function(t,e){if(t&&e){var n=e.dataset.id,r=this._store.getChoiceById(n);if(r){var i=t[0]&&t[0].keyCode?t[0].keyCode:null,o=this.dropdown.isActive;r.keyCode=i,this.passedElement.triggerEvent(j,{choice:r}),r.selected||r.disabled||this._canAddItem(t,r.value).response&&(this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode}),this._triggerChange(r.value)),this.clearInput(),o&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},o._handleBackspace=function(t){if(this.config.removeItems&&t){var e=t[t.length-1],n=t.some((function(t){return t.highlighted}));this.config.editItems&&!n&&e?(this.input.value=e.value,this.input.setWidth(),this._removeItem(e),this._triggerChange(e.value)):(n||this.highlightItem(e,!1),this.removeHighlightedItems(!0))}},o._startLoading=function(){this._store.dispatch(bt(!0))},o._stopLoading=function(){this._store.dispatch(bt(!1))},o._handleLoadingState=function(t){void 0===t&&(t=!0);var e=this.itemList.getChild("."+this.config.classNames.placeholder);t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e?e.innerHTML=this.config.loadingText:(e=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(e)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?e.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")},o._handleSearch=function(t){if(t&&this.input.isFocussed){var e=this._store.choices,n=this.config,r=n.searchFloor,i=n.searchChoices,o=e.some((function(t){return!t.active}));if(t&&t.length>=r){var a=i?this._searchChoices(t):0;this.passedElement.triggerEvent(F,{value:t,resultCount:a})}else o&&(this._isSearching=!1,this._store.dispatch(mt(!0)))}},o._canAddItem=function(t,e){var n=!0,r="function"==typeof this.config.addItemText?this.config.addItemText(e):this.config.addItemText;if(!this._isSelectOneElement){var i=function(t,e,n){return void 0===n&&(n="value"),t.some((function(t){return"string"==typeof e?t[n]===e.trim():t[n]===e}))}(t,e);this.config.maxItemCount>0&&this.config.maxItemCount<=t.length&&(n=!1,r="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&i&&n&&(n=!1,r="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(e):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(e)&&(n=!1,r="function"==typeof this.config.customAddItemText?this.config.customAddItemText(e):this.config.customAddItemText)}return{response:n,notice:r}},o._searchChoices=function(t){var e="string"==typeof t?t.trim():t,n="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(e.length<1&&e===n+" ")return 0;var r=this._store.searchableChoices,o=e,a=[].concat(this.config.searchFields),s=Object.assign(this.config.fuseOptions,{keys:a}),l=new i.a(r,s).search(o);return this._currentValue=e,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch(function(t){return{type:H,results:t}}(l)),l.length},o._addEventListeners=function(){var t=document.documentElement;t.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},o._removeEventListeners=function(){var t=document.documentElement;t.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},o._onKeyDown=function(t){var e,n=t.target,r=t.keyCode,i=t.ctrlKey,o=t.metaKey,a=this._store.activeItems,s=this.input.isFocussed,l=this.dropdown.isActive,u=this.itemList.hasChildren(),c=String.fromCharCode(r),f=K,h=Q,d=Z,p=tt,v=et,g=nt,m=rt,y=it,_=ot,b=i||o;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(c)&&this.showDropdown();var A=((e={})[p]=this._onAKey,e[d]=this._onEnterKey,e[v]=this._onEscapeKey,e[g]=this._onDirectionKey,e[y]=this._onDirectionKey,e[m]=this._onDirectionKey,e[_]=this._onDirectionKey,e[h]=this._onDeleteKey,e[f]=this._onDeleteKey,e);A[r]&&A[r]({event:t,target:n,keyCode:r,metaKey:o,activeItems:a,hasFocusedInput:s,hasActiveDropdown:l,hasItems:u,hasCtrlDownKeyPressed:b})},o._onKeyUp=function(t){var e=t.target,n=t.keyCode,r=this.input.value,i=this._store.activeItems,o=this._canAddItem(i,r),a=K,s=Q;if(this._isTextElement)if(o.notice&&r){var l=this._getTemplate("notice",o.notice);this.dropdown.element.innerHTML=l.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var u=(n===a||n===s)&&!e.value,c=!this._isTextElement&&this._isSearching,f=this._canSearch&&o.response;u&&c?(this._isSearching=!1,this._store.dispatch(mt(!0))):f&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled},o._onAKey=function(t){var e=t.hasItems;t.hasCtrlDownKeyPressed&&e&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},o._onEnterKey=function(t){var e=t.event,n=t.target,r=t.activeItems,i=t.hasActiveDropdown,o=Z,a=n.hasAttribute("data-button");if(this._isTextElement&&n.value){var s=this.input.value;this._canAddItem(r,s).response&&(this.hideDropdown(!0),this._addItem({value:s}),this._triggerChange(s),this.clearInput())}if(a&&(this._handleButtonAction(r,n),e.preventDefault()),i){var l=this.dropdown.getChild("."+this.config.classNames.highlightedState);l&&(r[0]&&(r[0].keyCode=o),this._handleChoiceAction(r,l)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},o._onEscapeKey=function(t){t.hasActiveDropdown&&(this.hideDropdown(!0),this.containerOuter.focus())},o._onDirectionKey=function(t){var e,n,r,i=t.event,o=t.hasActiveDropdown,a=t.keyCode,s=t.metaKey,l=rt,u=it,c=ot;if(o||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var f,h=a===l||a===c?1:-1;if(s||a===c||a===u)f=h>0?this.dropdown.element.querySelector("[data-choice-selectable]:last-of-type"):this.dropdown.element.querySelector("[data-choice-selectable]");else{var d=this.dropdown.element.querySelector("."+this.config.classNames.highlightedState);f=d?function(t,e,n){if(void 0===n&&(n=1),t instanceof Element&&"string"==typeof e){for(var r=(n>0?"next":"previous")+"ElementSibling",i=t[r];i;){if(i.matches(e))return i;i=i[r]}return i}}(d,"[data-choice-selectable]",h):this.dropdown.element.querySelector("[data-choice-selectable]")}f&&(e=f,n=this.choiceList.element,void 0===(r=h)&&(r=1),e&&(r>0?n.scrollTop+n.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=n.scrollTop)||this.choiceList.scrollToChildElement(f,h),this._highlightChoice(f)),i.preventDefault()}},o._onDeleteKey=function(t){var e=t.event,n=t.target,r=t.hasFocusedInput,i=t.activeItems;!r||n.value||this._isSelectOneElement||(this._handleBackspace(i),e.preventDefault())},o._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},o._onTouchEnd=function(t){var e=(t||t.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(e)&&((e===this.containerOuter.element||e===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation()),this._wasTap=!0},o._onMouseDown=function(t){var e=t.target;if(e instanceof HTMLElement){if(wt&&this.choiceList.element.contains(e)){var n=this.choiceList.element.firstElementChild,r="ltr"===this._direction?t.offsetX>=n.offsetWidth:t.offsetX<n.offsetLeft;this._isScrollingOnIe=r}if(e!==this.input.element){var i=e.closest("[data-button],[data-item],[data-choice]");if(i instanceof HTMLElement){var o=t.shiftKey,a=this._store.activeItems,s=i.dataset;"button"in s?this._handleButtonAction(a,i):"item"in s?this._handleItemAction(a,i,o):"choice"in s&&this._handleChoiceAction(a,i)}t.preventDefault()}}},o._onMouseOver=function(t){var e=t.target;e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)},o._onClick=function(t){var e=t.target;this.containerOuter.element.contains(e)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},o._onFocus=function(t){var e,n=this,r=t.target;this.containerOuter.element.contains(r)&&((e={}).text=function(){r===n.input.element&&n.containerOuter.addFocusState()},e["select-one"]=function(){n.containerOuter.addFocusState(),r===n.input.element&&n.showDropdown(!0)},e["select-multiple"]=function(){r===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},e)[this.passedElement.element.type]()},o._onBlur=function(t){var e=this,n=t.target;if(this.containerOuter.element.contains(n)&&!this._isScrollingOnIe){var r,i=this._store.activeItems.some((function(t){return t.highlighted}));((r={}).text=function(){n===e.input.element&&(e.containerOuter.removeFocusState(),i&&e.unhighlightAll(),e.hideDropdown(!0))},r["select-one"]=function(){e.containerOuter.removeFocusState(),(n===e.input.element||n===e.containerOuter.element&&!e._canSearch)&&e.hideDropdown(!0)},r["select-multiple"]=function(){n===e.input.element&&(e.containerOuter.removeFocusState(),e.hideDropdown(!0),i&&e.unhighlightAll())},r)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},o._onFormReset=function(){this._store.dispatch({type:"RESET_TO",state:this._initialState})},o._highlightChoice=function(t){var e=this;void 0===t&&(t=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var r=t;Array.from(this.dropdown.element.querySelectorAll("."+this.config.classNames.highlightedState)).forEach((function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")})),r?this._highlightPosition=n.indexOf(r):(r=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||(r=n[0]),r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(G,{el:r}),this.dropdown.isActive&&(this.input.setActiveDescendant(r.id),this.containerOuter.setActiveDescendant(r.id))}},o._addItem=function(t){var e=t.value,n=t.label,r=void 0===n?null:n,i=t.choiceId,o=void 0===i?-1:i,a=t.groupId,s=void 0===a?-1:a,l=t.customProperties,u=void 0===l?null:l,c=t.placeholder,f=void 0!==c&&c,h=t.keyCode,d=void 0===h?null:h,p="string"==typeof e?e.trim():e,v=d,g=u,m=this._store.items,y=r||p,_=o||-1,b=s>=0?this._store.getGroupById(s):null,A=m?m.length+1:1;return this.config.prependValue&&(p=this.config.prependValue+p.toString()),this.config.appendValue&&(p+=this.config.appendValue.toString()),this._store.dispatch(function(t){var e=t.value,n=t.label,r=t.id,i=t.choiceId,o=t.groupId,a=t.customProperties,s=t.placeholder,l=t.keyCode;return{type:X,value:e,label:n,id:r,choiceId:i,groupId:o,customProperties:a,placeholder:s,keyCode:l}}({value:p,label:y,id:A,choiceId:_,groupId:s,customProperties:u,placeholder:f,keyCode:v})),this._isSelectOneElement&&this.removeActiveItems(A),this.passedElement.triggerEvent(z,{id:A,value:p,label:y,customProperties:g,groupValue:b&&b.value?b.value:void 0,keyCode:v}),this},o._removeItem=function(t){if(!t||!w("Object",t))return this;var e=t.id,n=t.value,r=t.label,i=t.choiceId,o=t.groupId,a=o>=0?this._store.getGroupById(o):null;return this._store.dispatch(function(t,e){return{type:$,id:t,choiceId:e}}(e,i)),a&&a.value?this.passedElement.triggerEvent(B,{id:e,value:n,label:r,groupValue:a.value}):this.passedElement.triggerEvent(B,{id:e,value:n,label:r}),this},o._addChoice=function(t){var e=t.value,n=t.label,r=void 0===n?null:n,i=t.isSelected,o=void 0!==i&&i,a=t.isDisabled,s=void 0!==a&&a,l=t.groupId,u=void 0===l?-1:l,c=t.customProperties,f=void 0===c?null:c,h=t.placeholder,d=void 0!==h&&h,p=t.keyCode,v=void 0===p?null:p;if(null!=e){var g=this._store.choices,m=r||e,y=g?g.length+1:1,_=this._baseId+"-"+this._idNames.itemChoice+"-"+y;this._store.dispatch(function(t){var e=t.value,n=t.label,r=t.id,i=t.groupId,o=t.disabled,a=t.elementId,s=t.customProperties,l=t.placeholder,u=t.keyCode;return{type:V,value:e,label:n,id:r,groupId:i,disabled:o,elementId:a,customProperties:s,placeholder:l,keyCode:u}}({id:y,groupId:u,elementId:_,value:e,label:m,disabled:s,customProperties:f,placeholder:d,keyCode:v})),o&&this._addItem({value:e,label:m,choiceId:y,customProperties:f,placeholder:d,keyCode:v})}},o._addGroup=function(t){var e=this,n=t.group,r=t.id,i=t.valueKey,o=void 0===i?"value":i,a=t.labelKey,s=void 0===a?"label":a,l=w("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),u=r||Math.floor((new Date).valueOf()*Math.random()),c=!!n.disabled&&n.disabled;l?(this._store.dispatch(_t({value:n.label,id:u,active:!0,disabled:c})),l.forEach((function(t){var n=t.disabled||t.parentNode&&t.parentNode.disabled;e._addChoice({value:t[o],label:w("Object",t)?t[s]:t.innerHTML,isSelected:t.selected,isDisabled:n,groupId:u,customProperties:t.customProperties,placeholder:t.placeholder})}))):this._store.dispatch(_t({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},o._getTemplate=function(t){var e;if(!t)return null;for(var n=this.config.classNames,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=this._templates[t]).call.apply(e,[this,n].concat(i))},o._createTemplates=function(){var t=this.config.callbackOnCreateTemplates,e={};t&&"function"==typeof t&&(e=t.call(this,k)),this._templates=a()(gt,e)},o._createElements=function(){this.containerOuter=new at({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new at({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new lt({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new ut({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new ut({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new M({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},o._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},o._addPredefinedGroups=function(t){var e=this,n=this.passedElement.placeholderOption;n&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),t.forEach((function(t){return e._addGroup({group:t,id:t.id||null})}))},o._addPredefinedChoices=function(t){var e=this;this.config.shouldSort&&t.sort(this.config.sorter);var n=t.some((function(t){return t.selected})),r=t.findIndex((function(t){return void 0===t.disabled||!t.disabled}));t.forEach((function(t,i){var o=t.value,a=t.label,s=t.customProperties,l=t.placeholder;if(e._isSelectElement)if(t.choices)e._addGroup({group:t,id:t.id||null});else{var u=!(!e._isSelectOneElement||n||i!==r)||t.selected,c=t.disabled;e._addChoice({value:o,label:a,isSelected:u,isDisabled:c,customProperties:s,placeholder:l})}else e._addChoice({value:o,label:a,isSelected:t.selected,isDisabled:t.disabled,customProperties:s,placeholder:l})}))},o._addPredefinedItems=function(t){var e=this;t.forEach((function(t){"object"===s(t)&&t.value&&e._addItem({value:t.value,label:t.label,choiceId:t.id,customProperties:t.customProperties,placeholder:t.placeholder}),"string"==typeof t&&e._addItem({value:t})}))},o._setChoiceOrItem=function(t){var e=this;({object:function(){t.value&&(e._isTextElement?e._addItem({value:t.value,label:t.label,choiceId:t.id,customProperties:t.customProperties,placeholder:t.placeholder}):e._addChoice({value:t.value,label:t.label,isSelected:!0,isDisabled:!1,customProperties:t.customProperties,placeholder:t.placeholder}))},string:function(){e._isTextElement?e._addItem({value:t}):e._addChoice({value:t,label:t,isSelected:!0,isDisabled:!1})}})[A(t).toLowerCase()]()},o._findAndSelectChoiceByValue=function(t){var e=this,n=this._store.choices.find((function(n){return e.config.valueComparer(n.value,t)}));n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})},o._generatePlaceholderValue=function(){if(this._isSelectElement){var t=this.passedElement.placeholderOption;return!!t&&t.text}var e=this.config,n=e.placeholder,r=e.placeholderValue,i=this.passedElement.element.dataset;if(n){if(r)return r;if(i.placeholder)return i.placeholder}return!1},r}();e.default=kt}]).default},"object"===s(e)&&"object"===s(t)?t.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o))}).call(this,n(107)(t))},function(t,e,n){var r=n(60),i=n(67);t.exports={RowSelectionModel:function(t){var e,n,o,a=[],s=this,l=new i.EventHandler,u={selectActiveRow:!0};function c(t){return function(){n||(n=!0,t.apply(this,arguments),n=!1)}}function f(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n].fromRow;r<=t[n].toRow;r++)e.push(r);return e}function h(t){for(var n=[],r=e.getColumns().length-1,o=0;o<t.length;o++)n.push(new i.Range(t[o],0,t[o],r));return n}function d(){return f(a)}function p(t){(a&&0!==a.length||t&&0!==t.length)&&(a=t,s.onSelectedRangesChanged.notify(a))}function v(t,n){o.selectActiveRow&&null!=n.row&&p([new i.Range(n.row,0,n.row,e.getColumns().length-1)])}function g(t){var n=e.getActiveCell();if(e.getOptions().multiSelect&&n&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(t.which==i.keyCode.UP||t.which==i.keyCode.DOWN)){var r=d();r.sort((function(t,e){return t-e})),r.length||(r=[n.row]);var o,a=r[0],s=r[r.length-1];if((o=t.which==i.keyCode.DOWN?n.row<s||a==s?++s:++a:n.row<s?--s:--a)>=0&&o<e.getDataLength())e.scrollRowIntoView(o),p(h(function(t,e){var n,r=[];for(n=t;n<=e;n++)r.push(n);for(n=e;n<t;n++)r.push(n);return r}(a,s)));t.preventDefault(),t.stopPropagation()}}function m(t){var n=e.getCellFromEvent(t);if(!n||!e.canCellBeActive(n.row,n.cell))return!1;if(!e.getOptions().multiSelect||!t.ctrlKey&&!t.shiftKey&&!t.metaKey)return!1;var i=f(a),o=r.inArray(n.row,i);if(-1===o&&(t.ctrlKey||t.metaKey))i.push(n.row),e.setActiveCell(n.row,n.cell);else if(-1!==o&&(t.ctrlKey||t.metaKey))i=r.grep(i,(function(t,e){return t!==n.row})),e.setActiveCell(n.row,n.cell);else if(i.length&&t.shiftKey){var s=i.pop(),l=Math.min(n.row,s),u=Math.max(n.row,s);i=[];for(var c=l;c<=u;c++)c!==s&&i.push(c);i.push(s),e.setActiveCell(n.row,n.cell)}return p(h(i)),t.stopImmediatePropagation(),!0}r.extend(this,{getSelectedRows:d,setSelectedRows:function(t){p(h(t))},getSelectedRanges:function(){return a},setSelectedRanges:p,init:function(n){o=r.extend(!0,{},u,t),e=n,l.subscribe(e.onActiveCellChanged,c(v)),l.subscribe(e.onKeyDown,c(g)),l.subscribe(e.onClick,c(m))},destroy:function(){l.unsubscribeAll()},pluginName:"RowSelectionModel",onSelectedRangesChanged:new i.Event})}}},function(t,e,n){var r=n(60),i=n(67);t.exports={CheckboxSelectColumn:function(t){var e,n=null,o=y(),a=new i.EventHandler,s={},l=!1,u=r.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,hideSelectAllCheckbox:!1,toolTip:"Select/Deselect All",width:30,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},t);function c(){e.updateColumnHeader(u.columnId,"","")}function f(){r("#filter-checkbox-selectall-container").hide()}function h(t,i){var a,c,f,h=e.getSelectedRows(),d={},p=0;if("function"==typeof n)for(f=0;f<e.getDataLength();f++){b(c,e.getDataItem(f),e)||p++}var v=[];for(c=0;c<h.length;c++){a=h[c],b(c,e.getDataItem(a),e)?(d[a]=!0,d[a]!==s[a]&&(e.invalidateRow(a),delete s[a])):v.push(a)}for(c in s)e.invalidateRow(c);(s=d,e.render(),l=h.length&&h.length+p>=e.getDataLength(),u.hideInColumnTitleRow||u.hideSelectAllCheckbox||A(l),u.hideInFilterHeaderRow)||r("#header-filter-selector"+o).prop("checked",l);if(v.length>0){for(c=0;c<v.length;c++){var g=h.indexOf(v[c]);h.splice(g,1)}e.setSelectedRows(h)}}function d(t,n){32==t.which&&e.getColumns()[n.cell].id===u.columnId&&(e.getEditorLock().isActive()&&!e.getEditorLock().commitCurrentEdit()||v(n.row),t.preventDefault(),t.stopImmediatePropagation())}function p(t,n){if(e.getColumns()[n.cell].id===u.columnId&&r(t.target).is(":checkbox")){if(e.getEditorLock().isActive()&&!e.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();v(n.row),t.stopPropagation(),t.stopImmediatePropagation()}}function v(t){var n=e.getDataItem(t);b(t,n,e)&&(s[t]?e.setSelectedRows(r.grep(e.getSelectedRows(),(function(e){return e!=t}))):e.setSelectedRows(e.getSelectedRows().concat(t)),e.setActiveCell(t,function(){if(null===m){m=0;for(var t=e.getColumns(),n=0;n<t.length;n++)t[n].id==u.columnId&&(m=n)}return m}()))}function g(t,n){if(n.column.id==u.columnId&&r(t.target).is(":checkbox")){if(e.getEditorLock().isActive()&&!e.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(r(t.target).is(":checked")){for(var i=[],o=0;o<e.getDataLength();o++){b(o,e.getDataItem(o),e)&&i.push(o)}e.setSelectedRows(i)}else e.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}"function"==typeof u.selectableOverride&&w(u.selectableOverride);var m=null;function y(){return Math.round(1e7*Math.random())}function _(t,e,n,r,i,o){var a=y()+t;return i&&b(t,i,o)?s[t]?"<input id='selector"+a+"' type='checkbox' checked='checked'><label for='selector"+a+"'></label>":"<input id='selector"+a+"' type='checkbox'><label for='selector"+a+"'></label>":null}function b(t,e,r){return"function"!=typeof n||n(t,e,r)}function A(t){t?e.updateColumnHeader(u.columnId,"<input id='header-selector"+o+"' type='checkbox' checked='checked'><label for='header-selector"+o+"'></label>",u.toolTip):e.updateColumnHeader(u.columnId,"<input id='header-selector"+o+"' type='checkbox'><label for='header-selector"+o+"'></label>",u.toolTip)}function w(t){n=t}r.extend(this,{init:function(t){e=t,a.subscribe(e.onSelectedRowsChanged,h).subscribe(e.onClick,p).subscribe(e.onKeyDown,d),u.hideInFilterHeaderRow||function(t){t.onHeaderRowCellRendered.subscribe((function(t,e){"sel"===e.column.field&&(r(e.node).empty(),r("<span id='filter-checkbox-selectall-container'><input id='header-filter-selector"+o+"' type='checkbox'><label for='header-filter-selector"+o+"'></label></span>").appendTo(e.node).on("click",(function(t){g(t,e)})))}))}(t),u.hideInColumnTitleRow||a.subscribe(e.onHeaderClick,g)},destroy:function(){a.unsubscribeAll()},pluginName:"CheckboxSelectColumn",deSelectRows:function(t){var n,i=t.length,o=[];for(n=0;n<i;n++)s[t[n]]&&(o[o.length]=t[n]);e.setSelectedRows(r.grep(e.getSelectedRows(),(function(t){return o.indexOf(t)<0})))},selectRows:function(t){var n,r=t.length,i=[];for(n=0;n<r;n++)s[t[n]]||(i[i.length]=t[n]);e.setSelectedRows(e.getSelectedRows().concat(i))},getColumnDefinition:function(){return{id:u.columnId,name:u.hideSelectAllCheckbox||u.hideInColumnTitleRow?"":"<input id='header-selector"+o+"' type='checkbox'><label for='header-selector"+o+"'></label>",toolTip:u.hideSelectAllCheckbox||u.hideInColumnTitleRow?"":u.toolTip,field:"sel",width:u.width,resizable:!1,sortable:!1,cssClass:u.cssClass,hideSelectAllCheckbox:u.hideSelectAllCheckbox,formatter:_}},getOptions:function(){return u},selectableOverride:w,setOptions:function(t){if((u=r.extend(!0,{},u,t)).hideSelectAllCheckbox)c(),f();else if(u.hideInColumnTitleRow?c():(A(l),a.subscribe(e.onHeaderClick,g)),u.hideInFilterHeaderRow)f();else{var n=r("#filter-checkbox-selectall-container");n.show(),n.find('input[type="checkbox"]').prop("checked",l)}}})}}},function(t,e,n){var r=n(60),i=n(67),o=i.keyCode;t.exports={CellExternalCopyManager:function(t){var e,n,a=this,s=t||{},l=s.copiedCellStyleLayerKey||"copy-manager",u=s.copiedCellStyle||"copied",c=0,f=s.bodyElement||document.body,h=s.onCopyInit||null,d=s.onCopySuccess||null;function p(t){if(s.headerColumnValueExtractor){var e=s.headerColumnValueExtractor(t);if(e)return e}return t.name}function v(t,n,i){if(s.dataItemColumnValueExtractor){var o=s.dataItemColumnValueExtractor(t,n);if(o)return o}var a="";if(n.editor){var l={container:r("<p>"),column:n,position:{top:0,left:0},grid:e,event:i},u=new n.editor(l);u.loadValue(t),a=u.serializeValue(),u.destroy()}else a=t[n.field];return a}function g(t,n,i){if(n.denyPaste)return null;if(s.dataItemColumnValueSetter)return s.dataItemColumnValueSetter(t,n,i);if(n.editor){var o={container:r("body"),column:n,position:{top:0,left:0},grid:e},a=new n.editor(o);a.loadValue(t),a.applyValue(t,i),a.destroy()}else t[n.field]=i}function m(t){var e=document.createElement("textarea");return e.style.position="absolute",e.style.left="-1000px",e.style.top=document.body.scrollTop+"px",e.value=t,f.appendChild(e),e.select(),e}function y(t,r){var i;if(!e.getEditorLock().isActive()||e.getOptions().autoEdit){if(t.which==o.ESC&&n&&(t.preventDefault(),b(),a.onCopyCancelled.notify({ranges:n}),n=null),(t.which===o.C||t.which===o.INSERT)&&(t.ctrlKey||t.metaKey)&&!t.shiftKey&&(h&&h.call(),0!==(i=e.getSelectionModel().getSelectedRanges()).length)){n=i,_(i),a.onCopyCells.notify({ranges:i});for(var l=e.getColumns(),u="",c=0;c<i.length;c++){for(var y=i[c],A=[],w=y.fromRow;w<y.toRow+1;w++){var x=[],k=e.getDataItem(w);if(0===A.length&&s.includeHeaderWhenCopying){for(var C=[],E=y.fromCell;E<y.toCell+1;E++)l[E].name.length>0&&C.push(p(l[E]));A.push(C.join("\t"))}for(E=y.fromCell;E<y.toCell+1;E++)x.push(v(k,l[E],t));A.push(x.join("\t"))}u+=A.join("\r\n")+"\r\n"}if(window.clipboardData)return window.clipboardData.setData("Text",u),!0;var S=document.activeElement;if((T=m(u)).focus(),setTimeout((function(){f.removeChild(T),S?S.focus():console.log("Not element to restore focus to after copy?")}),100),d){var R=0;R=1===i.length?i[0].toRow+1-i[0].fromRow:i.length,d.call(this,R)}return!1}if(!s.readOnlyMode&&(t.which===o.V&&(t.ctrlKey||t.metaKey)&&!t.shiftKey||t.which===o.INSERT&&t.shiftKey&&!t.ctrlKey)){var T=m("");return setTimeout((function(){!function(t,e){var n=t.getColumns(),r=e.value.split(/[\n\f\r]/);""===r[r.length-1]&&r.pop();var i=[],o=0;f.removeChild(e);for(var l=0;l<r.length;l++)""!==r[l]?i[o++]=r[l].split("\t"):i[o++]=[""];var u=t.getActiveCell(),c=t.getSelectionModel().getSelectedRanges(),h=c&&c.length?c[0]:null,d=null,p=null;if(h)d=h.fromRow,p=h.fromCell;else{if(!u)return;d=u.row,p=u.cell}var v=!1,m=i.length,y=i.length?i[0].length:0;1==i.length&&1==i[0].length&&h&&(v=!0,m=h.toRow-h.fromRow+1,y=h.toCell-h.fromCell+1);var b=t.getData().length-d,A=0;if(b<m&&s.newRowCreator){var w=t.getData();for(A=1;A<=m-b;A++)w.push({});t.setData(w),t.render()}var x=d+m>t.getDataLength();if(s.newRowCreator&&x){var k=d+m-t.getDataLength();s.newRowCreator(k)}var C={isClipboardCommand:!0,clippedRange:i,oldValues:[],cellExternalCopyManager:a,_options:s,setDataItemValueForColumn:g,markCopySelection:_,oneCellToMultiple:v,activeRow:d,activeCell:p,destH:m,destW:y,maxDestY:t.getDataLength(),maxDestX:t.getColumns().length,h:0,w:0,execute:function(){this.h=0;for(var e=0;e<this.destH;e++){this.oldValues[e]=[],this.w=0,this.h++;for(var r=0;r<this.destW;r++){this.w++;var o=d+e,a=p+r;if(o<this.maxDestY&&a<this.maxDestX){t.getCellNode(o,a);var s=t.getDataItem(o);this.oldValues[e][r]=s[n[a].field],v?this.setDataItemValueForColumn(s,n[a],i[0][0]):this.setDataItemValueForColumn(s,n[a],i[e]?i[e][r]:""),t.updateCell(o,a),t.onCellChange.notify({row:o,cell:a,item:s,grid:t})}}}var l={fromCell:p,fromRow:d,toCell:p+this.w-1,toRow:d+this.h-1};this.markCopySelection([l]),t.getSelectionModel().setSelectedRanges([l]),this.cellExternalCopyManager.onPasteCells.notify({ranges:[l]})},undo:function(){for(var e=0;e<this.destH;e++)for(var r=0;r<this.destW;r++){var i=d+e,o=p+r;if(i<this.maxDestY&&o<this.maxDestX){t.getCellNode(i,o);var a=t.getDataItem(i);v?this.setDataItemValueForColumn(a,n[o],this.oldValues[0][0]):this.setDataItemValueForColumn(a,n[o],this.oldValues[e][r]),t.updateCell(i,o),t.onCellChange.notify({row:i,cell:o,item:a,grid:t})}}var s={fromCell:p,fromRow:d,toCell:p+this.w-1,toRow:d+this.h-1};if(this.markCopySelection([s]),t.getSelectionModel().setSelectedRanges([s]),this.cellExternalCopyManager.onPasteCells.notify({ranges:[s]}),A>1){for(var l=t.getData();A>1;A--)l.splice(l.length-1,1);t.setData(l),t.render()}}};s.clipboardCommandHandler?s.clipboardCommandHandler(C):C.execute()}(e,T)}),100),!1}}}function _(t){b();for(var n=e.getColumns(),r={},i=0;i<t.length;i++)for(var o=t[i].fromRow;o<=t[i].toRow;o++){r[o]={};for(var s=t[i].fromCell;s<=t[i].toCell&&s<n.length;s++)r[o][n[s].id]=u}e.setCellCssStyles(l,r),clearTimeout(c),c=setTimeout((function(){a.clearCopySelection()}),2e3)}function b(){e.removeCellCssStyles(l)}r.extend(this,{init:function(t){(e=t).onKeyDown.subscribe(y);var n=t.getSelectionModel();if(!n)throw new Error("Selection model is mandatory for this plugin. Please set a selection model on the grid before adding this plugin: grid.setSelectionModel(new Slick.CellSelectionModel())");n.onSelectedRangesChanged.subscribe((function(t,n){e.focus()}))},destroy:function(){e.onKeyDown.unsubscribe(y)},pluginName:"CellExternalCopyManager",clearCopySelection:b,handleKeyDown:y,onCopyCells:new i.Event,onCopyCancelled:new i.Event,onPasteCells:new i.Event,setIncludeHeaderWhenCopying:function(t){s.includeHeaderWhenCopying=t}})}}},function(t,e,n){"use strict";var r,i=n(177),o=i.template;function a(t,e,n){return o(t,e,n)}a._=i,t.exports=a,void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r=n(129),i=n(179),o=n(181),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,u,c,f,h,d,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=l,r=u;return l=u=void 0,p=e,f=t.apply(r,n)}function _(t){return p=t,h=setTimeout(A,e),v?y(t):f}function b(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-p>=c}function A(){var t=i();if(b(t))return w(t);h=setTimeout(A,function(t){var n=e-(t-d);return g?s(n,c-(t-p)):n}(t))}function w(t){return h=void 0,m&&l?y(t):(l=u=void 0,f)}function x(){var t=i(),n=b(t);if(l=arguments,u=this,d=t,n){if(void 0===h)return _(d);if(g)return clearTimeout(h),h=setTimeout(A,e),y(d)}return void 0===h&&(h=setTimeout(A,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=d=u=h=void 0},x.flush=function(){return void 0===h?f:w(i())},x}},function(t,e,n){"use strict";var r=n(20),i=n.n(r),o=n(24),a=Object(o.a)((function t(e,n){var r,o,a,s=n instanceof Array?[]:{};for(o in n)r=e[o],a=i()(r),s[o]="function"===a?r(n[o]):r&&"object"===a?t(r,n[o]):n[o];return s}));e.a=a},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(20),i=n(126),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function A(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}A.prototype.isReactComponent={},A.prototype.setState=function(t,e){if("object"!==r(t)&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},A.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=A.prototype;var k=x.prototype=new w;k.constructor=x,i(k,A.prototype),k.isPureReactComponent=!0;var C={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function R(t,e,n){var r,i={},o=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,r)&&!S.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:t,key:o,ref:s,props:i,_owner:C.current}}function T(t){return"object"===r(t)&&null!==t&&t.$$typeof===a}var I=/\/+/g,O=[];function M(t,e,n,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function D(t,e,n){return null==t?0:function t(e,n,i,o){var l=r(e);"undefined"!==l&&"boolean"!==l||(e=null);var u=!1;if(null===e)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case s:u=!0}}if(u)return i(o,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var f=n+N(l=e[c],c);u+=t(l,f,i,o)}else if(null===e||"object"!==r(e)?f=null:f="function"==typeof(f=m&&e[m]||e["@@iterator"])?f:null,"function"==typeof f)for(e=f.call(e),c=0;!(l=e.next()).done;)u+=t(l=l.value,f=n+N(l,c++),i,o);else if("object"===l)throw i=""+e,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return u}(t,"",e,n)}function N(t,e){return"object"===r(t)&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),D(t,j,e=M(e,o,r,i)),P(e)}var z={current:null};function B(){var t=z.current;if(null===t)throw Error(y(321));return t}var U={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;D(t,L,e=M(null,null,e,n)),P(e)},count:function(t){return D(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!T(t))throw Error(y(143));return t}},e.Component=A,e.Fragment=l,e.Profiler=c,e.PureComponent=x,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,n){if(null==t)throw Error(y(267,t));var r=i({},t.props),o=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=C.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:a,type:t.type,key:o,ref:s,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:t},t.Consumer=t},e.createElement=R,e.createFactory=function(t){var e=R.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:v,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return B().useCallback(t,e)},e.useContext=function(t,e){return B().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return B().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return B().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return B().useLayoutEffect(t,e)},e.useMemo=function(t,e){return B().useMemo(t,e)},e.useReducer=function(t,e,n){return B().useReducer(t,e,n)},e.useRef=function(t){return B().useRef(t)},e.useState=function(t){return B().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(20),i=n(11),o=n(126),a=n(145);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));function l(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var u=!1,c=null,f=!1,h=null,d={onError:function(t){u=!0,c=t}};function p(t,e,n,r,i,o,a,s,f){u=!1,c=null,l.apply(d,arguments)}var v=null,g=null,m=null;function y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=m(n),function(t,e,n,r,i,o,a,l,d){if(p.apply(this,arguments),u){if(!u)throw Error(s(198));var v=c;u=!1,c=null,f||(f=!0,h=v)}}(r,e,void 0,t),t.currentTarget=null}var _=null,b={};function A(){if(_)for(var t in b){var e=b[t],n=_.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!x[n]){if(!e.extractEvents)throw Error(s(97,t));for(var r in x[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,l=r;if(k.hasOwnProperty(l))throw Error(s(99,l));k[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&w(u[i],a,l);i=!0}else o.registrationName?(w(o.registrationName,a,l),i=!0):i=!1;if(!i)throw Error(s(98,r,t))}}}}function w(t,e,n){if(C[t])throw Error(s(100,t));C[t]=e,E[t]=e.eventTypes[n].dependencies}var x=[],k={},C={},E={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(s(102,e));b[e]=r,n=!0}}n&&A()}var R=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),T=null,I=null,O=null;function M(t){if(t=g(t)){if("function"!=typeof T)throw Error(s(280));var e=t.stateNode;e&&(e=v(e),T(t.stateNode,t.type,e))}}function P(t){I?O?O.push(t):O=[t]:I=t}function D(){if(I){var t=I,e=O;if(O=I=null,M(t),e)for(t=0;t<e.length;t++)M(e[t])}}function N(t,e){return t(e)}function L(t,e,n,r,i){return t(e,n,r,i)}function j(){}var F=N,z=!1,B=!1;function U(){null===I&&null===O||(j(),D())}function G(t,e,n){if(B)return t(e,n);B=!0;try{return F(t,e,n)}finally{B=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,q={},W={};function Y(t,e,n,i){if(null==e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(r(e)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function X(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){$[t]=new X(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];$[e]=new X(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){$[t]=new X(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){$[t]=new X(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){$[t]=new X(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){$[t]=new X(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){$[t]=new X(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){$[t]=new X(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){$[t]=new X(t,5,!1,t.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(J,K);$[e]=new X(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(J,K);$[e]=new X(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(J,K);$[e]=new X(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!1)})),$.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!0)}));var Q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(t,e,n,r){var i=$.hasOwnProperty(e)?$[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(Y(e,n,i,r)&&(n=null),r||null===i?function(t){return!!H.call(W,t)||!H.call(q,t)&&(V.test(t)?W[t]=!0:(q[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var tt=/^(.*)[\\\/]/,et="function"==typeof Symbol&&Symbol.for,nt=et?Symbol.for("react.element"):60103,rt=et?Symbol.for("react.portal"):60106,it=et?Symbol.for("react.fragment"):60107,ot=et?Symbol.for("react.strict_mode"):60108,at=et?Symbol.for("react.profiler"):60114,st=et?Symbol.for("react.provider"):60109,lt=et?Symbol.for("react.context"):60110,ut=et?Symbol.for("react.concurrent_mode"):60111,ct=et?Symbol.for("react.forward_ref"):60112,ft=et?Symbol.for("react.suspense"):60113,ht=et?Symbol.for("react.suspense_list"):60120,dt=et?Symbol.for("react.memo"):60115,pt=et?Symbol.for("react.lazy"):60116,vt=et?Symbol.for("react.block"):60121,gt="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!==r(t)?null:"function"==typeof(t=gt&&t[gt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case it:return"Fragment";case rt:return"Portal";case at:return"Profiler";case ot:return"StrictMode";case ft:return"Suspense";case ht:return"SuspenseList"}if("object"===r(t))switch(t.$$typeof){case lt:return"Context.Consumer";case st:return"Context.Provider";case ct:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case dt:return yt(t.type);case vt:return yt(t.render);case pt:if(t=1===t._status?t._result:null)return yt(t)}return null}function _t(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=yt(t.type);n=null,r&&(n=yt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(tt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function bt(t){switch(r(t)){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function At(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=At(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=At(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function kt(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Ct(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=bt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Et(t,e){null!=(e=e.checked)&&Z(t,"checked",e,!1)}function St(t,e){Et(t,e);var n=bt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tt(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Tt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function It(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ot(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Mt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:bt(n)}}function Dt(t,e){var n=bt(e.value),r=bt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Nt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Lt="http://www.w3.org/1999/xhtml",jt="http://www.w3.org/2000/svg";function Ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Bt,Ut=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==jt||"innerHTML"in t)t.innerHTML=e;else{for((Bt=Bt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},qt={},Wt={};function Yt(t){if(qt[t])return qt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wt)return qt[t]=n[e];return t}R&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var Xt=Yt("animationend"),$t=Yt("animationiteration"),Jt=Yt("animationstart"),Kt=Yt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zt=new("function"==typeof WeakMap?WeakMap:Map);function te(t){var e=Zt.get(t);return void 0===e&&(e=new Map,Zt.set(t,e)),e}function ee(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ne(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function re(t){if(ee(t)!==t)throw Error(s(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=ee(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return re(i),t;if(o===r)return re(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function oe(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ae(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var se=null;function le(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)y(t,e[r],n[r]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ue(t){if(null!==t&&(se=oe(se,t)),t=se,se=null,t){if(ae(t,le),se)throw Error(s(95));if(f)throw t=h,f=!1,h=null,t}}function ce(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function fe(t){if(!R)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var he=[];function de(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function pe(t,e,n,r){if(he.length){var i=he.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function ve(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ce(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<x.length;l++){var u=x[l];u&&(u=u.extractEvents(r,e,o,i,a))&&(s=oe(s,u))}ue(s)}}function ge(t,e,n){if(!n.has(t)){switch(t){case"scroll":Je(e,"scroll",!0);break;case"focus":case"blur":Je(e,"focus",!0),Je(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":fe(t)&&Je(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&$e(t,e)}n.set(t,null)}}var me,ye,_e,be=!1,Ae=[],we=null,xe=null,ke=null,Ce=new Map,Ee=new Map,Se=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Te="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Oe(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":ke=null;break;case"pointerover":case"pointerout":Ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function Me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,r,i,o),null!==e&&(null!==(e=In(e))&&ye(e)),t):(t.eventSystemFlags|=r,t)}function Pe(t){var e=Tn(t.target);if(null!==e){var n=ee(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ne(n)))return t.blockedOn=e,void a.unstable_runWithPriority(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;var e=tn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=In(e);return null!==n&&ye(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){De(t)&&n.delete(e)}function Le(){for(be=!1;0<Ae.length;){var t=Ae[0];if(null!==t.blockedOn){null!==(t=In(t.blockedOn))&&me(t);break}var e=tn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:Ae.shift()}null!==we&&De(we)&&(we=null),null!==xe&&De(xe)&&(xe=null),null!==ke&&De(ke)&&(ke=null),Ce.forEach(Ne),Ee.forEach(Ne)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Le)))}function Fe(t){function e(e){return je(e,t)}if(0<Ae.length){je(Ae[0],t);for(var n=1;n<Ae.length;n++){var r=Ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&je(we,t),null!==xe&&je(xe,t),null!==ke&&je(ke,t),Ce.forEach(e),Ee.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Pe(n),null===n.blockedOn&&Se.shift()}var ze={},Be=new Map,Ue=new Map,Ge=["abort","abort",Xt,"animationEnd",$t,"animationIteration",Jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ue.set(r,e),Be.set(r,o),ze[i]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(Ge,2);for(var He="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qe=0;qe<He.length;qe++)Ue.set(He[qe],0);var We=a.unstable_UserBlockingPriority,Ye=a.unstable_runWithPriority,Xe=!0;function $e(t,e){Je(e,t,!1)}function Je(t,e,n){var r=Ue.get(e);switch(void 0===r?2:r){case 0:r=Ke.bind(null,e,1,t);break;case 1:r=Qe.bind(null,e,1,t);break;default:r=Ze.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ke(t,e,n,r){z||j();var i=Ze,o=z;z=!0;try{L(i,t,e,n,r)}finally{(z=o)||U()}}function Qe(t,e,n,r){Ye(We,Ze.bind(null,t,e,n,r))}function Ze(t,e,n,r){if(Xe)if(0<Ae.length&&-1<Re.indexOf(t))t=Ie(null,t,e,n,r),Ae.push(t);else{var i=tn(t,e,n,r);if(null===i)Oe(t,r);else if(-1<Re.indexOf(t))t=Ie(i,t,e,n,r),Ae.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Me(we,t,e,n,r,i),!0;case"dragenter":return xe=Me(xe,t,e,n,r,i),!0;case"mouseover":return ke=Me(ke,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ce.set(o,Me(Ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ee.set(o,Me(Ee.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Oe(t,r),t=pe(t,r,null,e);try{G(ve,t)}finally{de(t)}}}}function tn(t,e,n,r){if(null!==(n=Tn(n=ce(r)))){var i=ee(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ne(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=pe(t,r,n,e);try{G(ve,t)}finally{de(t)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];function rn(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||en.hasOwnProperty(t)&&en[t]?(""+e).trim():e+"px"}function on(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=rn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(en).forEach((function(t){nn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),en[e]=en[t]}))}));var an=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(t,e){if(e){if(an[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==r(e.dangerouslySetInnerHTML)||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==r(e.style))throw Error(s(62,""))}}function ln(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Lt;function cn(t,e){var n=te(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var r=0;r<e.length;r++)ge(e[r],t,n)}function fn(){}function hn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var n,r=dn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dn(r)}}function vn(){for(var t=window,e=hn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=hn((t=e.contentWindow).document)}return e}function gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mn=null,yn=null;function _n(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function bn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"===r(e.dangerouslySetInnerHTML)&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var An="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function xn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function kn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Cn,Sn="__reactEventHandlers$"+Cn,Rn="__reactContainere$"+Cn;function Tn(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rn]||n[En]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=kn(t);null!==t;){if(n=t[En])return n;t=kn(t)}return e}n=(t=n).parentNode}return null}function In(t){return!(t=t[En]||t[Rn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function On(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Mn(t){return t[Sn]||null}function Pn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Dn(t,e){var n=t.stateNode;if(!n)return null;var i=v(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(s(231,e,r(n)));return n}function Nn(t,e,n){(e=Dn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=oe(n._dispatchListeners,e),n._dispatchInstances=oe(n._dispatchInstances,t))}function Ln(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Pn(e);for(e=n.length;0<e--;)Nn(n[e],"captured",t);for(e=0;e<n.length;e++)Nn(n[e],"bubbled",t)}}function jn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Dn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=oe(n._dispatchListeners,e),n._dispatchInstances=oe(n._dispatchInstances,t))}function Fn(t){t&&t.dispatchConfig.registrationName&&jn(t._targetInst,null,t)}function zn(t){ae(t,Ln)}var Bn=null,Un=null,Gn=null;function Vn(){if(Gn)return Gn;var t,e,n=Un,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Gn=i.slice(t,1<e?1-e:void 0)}function Hn(){return!0}function qn(){return!1}function Wn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:qn,this.isPropagationStopped=qn,this}function Yn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Xn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $n(t){t.eventPool=[],t.getPooled=Yn,t.release=Xn}o(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:qn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,t),n.extend=r.extend,$n(n),n},$n(Wn);var Jn=Wn.extend({data:null}),Kn=Wn.extend({data:null}),Qn=[9,13,27,32],Zn=R&&"CompositionEvent"in window,tr=null;R&&"documentMode"in document&&(tr=document.documentMode);var er=R&&"TextEvent"in window&&!tr,nr=R&&(!Zn||tr&&8<tr&&11>=tr),rr=String.fromCharCode(32),ir={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},or=!1;function ar(t,e){switch(t){case"keyup":return-1!==Qn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(t){return t=t.detail,"object"===r(t)&&"data"in t?t.data:null}var lr=!1;var ur={eventTypes:ir,extractEvents:function(t,e,n,r){var i;if(Zn)t:{switch(t){case"compositionstart":var o=ir.compositionStart;break t;case"compositionend":o=ir.compositionEnd;break t;case"compositionupdate":o=ir.compositionUpdate;break t}o=void 0}else lr?ar(t,n)&&(o=ir.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=ir.compositionStart);return o?(nr&&"ko"!==n.locale&&(lr||o!==ir.compositionStart?o===ir.compositionEnd&&lr&&(i=Vn()):(Un="value"in(Bn=r)?Bn.value:Bn.textContent,lr=!0)),o=Jn.getPooled(o,e,n,r),i?o.data=i:null!==(i=sr(n))&&(o.data=i),zn(o),i=o):i=null,(t=er?function(t,e){switch(t){case"compositionend":return sr(e);case"keypress":return 32!==e.which?null:(or=!0,rr);case"textInput":return(t=e.data)===rr&&or?null:t;default:return null}}(t,n):function(t,e){if(lr)return"compositionend"===t||!Zn&&ar(t,e)?(t=Vn(),Gn=Un=Bn=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Kn.getPooled(ir.beforeInput,e,n,r)).data=t,zn(e)):e=null,null===i?e:null===e?i:[i,e]}},cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!cr[t.type]:"textarea"===e}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(t,e,n){return(t=Wn.getPooled(hr.change,t,e,n)).type="change",P(n),zn(t),t}var pr=null,vr=null;function gr(t){ue(t)}function mr(t){if(xt(On(t)))return t}function yr(t,e){if("change"===t)return e}var _r=!1;function br(){pr&&(pr.detachEvent("onpropertychange",Ar),vr=pr=null)}function Ar(t){if("value"===t.propertyName&&mr(vr))if(t=dr(vr,t,ce(t)),z)ue(t);else{z=!0;try{N(gr,t)}finally{z=!1,U()}}}function wr(t,e,n){"focus"===t?(br(),vr=n,(pr=e).attachEvent("onpropertychange",Ar)):"blur"===t&&br()}function xr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mr(vr)}function kr(t,e){if("click"===t)return mr(e)}function Cr(t,e){if("input"===t||"change"===t)return mr(e)}R&&(_r=fe("input")&&(!document.documentMode||9<document.documentMode));var Er={eventTypes:hr,_isInputEventSupported:_r,extractEvents:function(t,e,n,r){var i=e?On(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(fr(i))if(_r)a=Cr;else{a=xr;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=kr);if(a&&(a=a(t,e)))return dr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Tt(i,"number",i.value)}},Sr=Wn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Rr[t])&&!!e[t]}function Ir(){return Tr}var Or=0,Mr=0,Pr=!1,Dr=!1,Nr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Or;return Or=t.screenX,Pr?"mousemove"===t.type?t.screenX-e:0:(Pr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Mr;return Mr=t.screenY,Dr?"mousemove"===t.type?t.screenY-e:0:(Dr=!0,0)}}),Lr=Nr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:jr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Tn(e):null)&&(e!==ee(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Nr,l=jr.mouseLeave,u=jr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Lr,l=jr.pointerLeave,u=jr.pointerEnter,c="pointer");if(t=null==a?o:On(a),o=null==e?o:On(e),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=s.getPooled(u,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(u=c,a=0,t=s=r;t;t=Pn(t))a++;for(t=0,e=u;e;e=Pn(e))t++;for(;0<a-t;)s=Pn(s),a--;for(;0<t-a;)u=Pn(u),t--;for(;a--;){if(s===u||s===u.alternate)break t;s=Pn(s),u=Pn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Pn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Pn(c);for(c=0;c<s.length;c++)jn(s[c],"bubbled",l);for(c=r.length;0<c--;)jn(r[c],"captured",n);return 0==(64&i)?[l]:[l,n]}};var zr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Br=Object.prototype.hasOwnProperty;function Ur(t,e){if(zr(t,e))return!0;if("object"!==r(t)||null===t||"object"!==r(e)||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Br.call(e,n[i])||!zr(t[n[i]],e[n[i]]))return!1;return!0}var Gr=R&&"documentMode"in document&&11>=document.documentMode,Vr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,qr=null,Wr=null,Yr=!1;function Xr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Yr||null==Hr||Hr!==hn(n)?null:("selectionStart"in(n=Hr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Ur(Wr,n)?null:(Wr=n,(t=Wn.getPooled(Vr.select,qr,t,e)).type="select",t.target=Hr,zn(t),t))}var $r={eventTypes:Vr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=te(i),o=E.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?On(e):window,t){case"focus":(fr(i)||"true"===i.contentEditable)&&(Hr=i,qr=e,Wr=null);break;case"blur":Wr=qr=Hr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Xr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Wn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qr=Sr.extend({relatedTarget:null});function Zr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ei={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni=Sr.extend({key:function(t){if(t.key){var e=ti[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Zr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ei[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(t){return"keypress"===t.type?Zr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ri=Nr.extend({dataTransfer:null}),ii=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),oi=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ai=Nr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),si={eventTypes:ze,extractEvents:function(t,e,n,r){var i=Be.get(t);if(!i)return null;switch(t){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":t=ni;break;case"blur":case"focus":t=Qr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ri;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ii;break;case Xt:case $t:case Jt:t=Jr;break;case Kt:t=oi;break;case"scroll":t=Sr;break;case"wheel":t=ai;break;case"copy":case"cut":case"paste":t=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Lr;break;default:t=Wn}return zn(e=t.getPooled(i,e,n,r)),e}};if(_)throw Error(s(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),A(),v=Mn,g=In,m=On,S({SimpleEventPlugin:si,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Er,SelectEventPlugin:$r,BeforeInputEventPlugin:ur});var li=[],ui=-1;function ci(t){0>ui||(t.current=li[ui],li[ui]=null,ui--)}function fi(t,e){ui++,li[ui]=t.current,t.current=e}var hi={},di={current:hi},pi={current:!1},vi=hi;function gi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!=(t=t.childContextTypes)}function yi(){ci(pi),ci(di)}function _i(t,e,n){if(di.current!==hi)throw Error(s(168));fi(di,e),fi(pi,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,yt(e)||"Unknown",i));return o({},n,{},r)}function Ai(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,t),fi(pi,pi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=bi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ci(pi),ci(di),fi(di,t)):ci(pi),fi(pi,n)}var xi=a.unstable_runWithPriority,ki=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ei=a.unstable_requestPaint,Si=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Ti=a.unstable_ImmediatePriority,Ii=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Di={},Ni=a.unstable_shouldYield,Li=void 0!==Ei?Ei:function(){},ji=null,Fi=null,zi=!1,Bi=Si(),Ui=1e4>Bi?Si:function(){return Si()-Bi};function Gi(){switch(Ri()){case Ti:return 99;case Ii:return 98;case Oi:return 97;case Mi:return 96;case Pi:return 95;default:throw Error(s(332))}}function Vi(t){switch(t){case 99:return Ti;case 98:return Ii;case 97:return Oi;case 96:return Mi;case 95:return Pi;default:throw Error(s(332))}}function Hi(t,e){return t=Vi(t),xi(t,e)}function qi(t,e,n){return t=Vi(t),ki(t,e,n)}function Wi(t){return null===ji?(ji=[t],Fi=ki(Ti,Xi)):ji.push(t),Di}function Yi(){if(null!==Fi){var t=Fi;Fi=null,Ci(t)}Xi()}function Xi(){if(!zi&&null!==ji){zi=!0;var t=0;try{var e=ji;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ji=null}catch(e){throw null!==ji&&(ji=ji.slice(t+1)),ki(Ti,Yi),e}finally{zi=!1}}}function $i(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ji(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Ki={current:null},Qi=null,Zi=null,to=null;function eo(){to=Zi=Qi=null}function no(t){var e=Ki.current;ci(Ki),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function io(t,e){Qi=t,to=Zi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ma=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Zi){if(null===Qi)throw Error(s(308));Zi=e,Qi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Zi=Zi.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function uo(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function co(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.alternate;null!==n&&lo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function ho(t,e,n,r){var i=t.updateQueue;ao=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,i.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=i.baseState,c=0,f=null,h=null,d=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=u):d=d.next=v,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),sl(s,p.suspenseConfig);t:{var g=t,m=p;switch(s=e,v=n,m.tag){case 1:if("function"==typeof(g=m.payload)){u=g.call(v,u,s);break t}u=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=m.payload)?g.call(v,u,s):g))break t;u=o({},u,s);break t;case 2:ao=!0}}null!==p.callback&&(t.effectTag|=32,null===(s=i.effects)?i.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=i.shared.pending))break;p=a.next=s.next,s.next=l,i.baseQueue=a=s,i.shared.pending=null}}null===d?f=u:d.next=h,i.baseState=f,i.baseQueue=d,ll(c),t.expirationTime=c,t.memoizedState=u}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(s(191,r));r.call(i)}}}var vo=Q.ReactCurrentBatchConfig,go=(new i.Component).refs;function mo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:o({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&ee(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Xs(),i=vo.suspense;(i=uo(r=$s(r,t,i),i)).payload=e,null!=n&&(i.callback=n),co(t,i),Js(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Xs(),i=vo.suspense;(i=uo(r=$s(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),co(t,i),Js(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Xs(),r=vo.suspense;(r=uo(n=$s(n,t,r),r)).tag=2,null!=e&&(r.callback=e),co(t,r),Js(t,n)}};function _o(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function bo(t,e,n){var i=!1,o=hi,a=e.contextType;return"object"===r(a)&&null!==a?a=oo(a):(o=mi(e)?vi:di.current,a=(i=null!=(i=e.contextTypes))?gi(t,o):hi),e=new e(n,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ao(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=go,so(t);var a=e.contextType;"object"===r(a)&&null!==a?o.context=oo(a):(a=mi(e)?vi:di.current,o.context=gi(t,a)),ho(t,n,o,i),o.state=t.memoizedState,"function"==typeof(a=e.getDerivedStateFromProps)&&(mo(t,e,a,n),o.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(e=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&yo.enqueueReplaceState(o,o.state,null),ho(t,n,o,i),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.effectTag|=4)}var xo=Array.isArray;function ko(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!==r(t)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=i.refs;e===go&&(e=i.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!=typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Co(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=Rl(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Ol(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=ko(t,e,n),r.return=t,r):((r=Tl(n.type,n.key,n.props,null,t.mode,r)).ref=ko(t,e,n),r.return=t,r)}function f(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ml(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?((e=Il(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Ol(""+e,t.mode,n)).return=t,e;if("object"===r(e)&&null!==e){switch(e.$$typeof){case nt:return(n=Tl(e.type,e.key,e.props,null,t.mode,n)).ref=ko(t,null,e),n.return=t,n;case rt:return(e=Ml(e,t.mode,n)).return=t,e}if(xo(e)||mt(e))return(e=Il(e,t.mode,n,null)).return=t,e;Co(t,e)}return null}function p(t,e,n,i){var o=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(t,e,""+n,i);if("object"===r(n)&&null!==n){switch(n.$$typeof){case nt:return n.key===o?n.type===it?h(t,e,n.props.children,i,o):c(t,e,n,i):null;case rt:return n.key===o?f(t,e,n,i):null}if(xo(n)||mt(n))return null!==o?null:h(t,e,n,i,null);Co(t,n)}return null}function v(t,e,n,i,o){if("string"==typeof i||"number"==typeof i)return u(e,t=t.get(n)||null,""+i,o);if("object"===r(i)&&null!==i){switch(i.$$typeof){case nt:return t=t.get(null===i.key?n:i.key)||null,i.type===it?h(e,t,i.props.children,o,i.key):c(e,t,i,o);case rt:return f(e,t=t.get(null===i.key?n:i.key)||null,i,o)}if(xo(i)||mt(i))return h(e,t=t.get(n)||null,i,o,null);Co(e,i)}return null}function g(r,o,s,l){for(var u=null,c=null,f=o,h=o=0,g=null;null!==f&&h<s.length;h++){f.index>h?(g=f,f=null):g=f.sibling;var m=p(r,f,s[h],l);if(null===m){null===f&&(f=g);break}t&&f&&null===m.alternate&&e(r,f),o=a(m,o,h),null===c?u=m:c.sibling=m,c=m,f=g}if(h===s.length)return n(r,f),u;if(null===f){for(;h<s.length;h++)null!==(f=d(r,s[h],l))&&(o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return u}for(f=i(r,f);h<s.length;h++)null!==(g=v(f,r,h,s[h],l))&&(t&&null!==g.alternate&&f.delete(null===g.key?h:g.key),o=a(g,o,h),null===c?u=g:c.sibling=g,c=g);return t&&f.forEach((function(t){return e(r,t)})),u}function m(r,o,l,u){var c=mt(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var f=c=null,h=o,g=o=0,m=null,y=l.next();null!==h&&!y.done;g++,y=l.next()){h.index>g?(m=h,h=null):m=h.sibling;var _=p(r,h,y.value,u);if(null===_){null===h&&(h=m);break}t&&h&&null===_.alternate&&e(r,h),o=a(_,o,g),null===f?c=_:f.sibling=_,f=_,h=m}if(y.done)return n(r,h),c;if(null===h){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,u))&&(o=a(y,o,g),null===f?c=y:f.sibling=y,f=y);return c}for(h=i(r,h);!y.done;g++,y=l.next())null!==(y=v(h,r,g,y.value,u))&&(t&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=a(y,o,g),null===f?c=y:f.sibling=y,f=y);return t&&h.forEach((function(t){return e(r,t)})),c}return function(t,i,a,u){var c="object"===r(a)&&null!==a&&a.type===it&&null===a.key;c&&(a=a.props.children);var f="object"===r(a)&&null!==a;if(f)switch(a.$$typeof){case nt:t:{for(f=a.key,c=i;null!==c;){if(c.key===f){switch(c.tag){case 7:if(a.type===it){n(t,c.sibling),(i=o(c,a.props.children)).return=t,t=i;break t}break;default:if(c.elementType===a.type){n(t,c.sibling),(i=o(c,a.props)).ref=ko(t,c,a),i.return=t,t=i;break t}}n(t,c);break}e(t,c),c=c.sibling}a.type===it?((i=Il(a.props.children,t.mode,u,a.key)).return=t,t=i):((u=Tl(a.type,a.key,a.props,null,t.mode,u)).ref=ko(t,i,a),u.return=t,t=u)}return l(t);case rt:t:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(t,i.sibling),(i=o(i,a.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Ml(a,t.mode,u)).return=t,t=i}return l(t)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(t,i.sibling),(i=o(i,a)).return=t,t=i):(n(t,i),(i=Ol(a,t.mode,u)).return=t,t=i),l(t);if(xo(a))return g(t,i,a,u);if(mt(a))return m(t,i,a,u);if(f&&Co(t,a),void 0===a&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,i)}}var So=Eo(!0),Ro=Eo(!1),To={},Io={current:To},Oo={current:To},Mo={current:To};function Po(t){if(t===To)throw Error(s(174));return t}function Do(t,e){switch(fi(Mo,e),fi(Oo,t),fi(Io,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zt(null,"");break;default:e=zt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Io),fi(Io,e)}function No(){ci(Io),ci(Oo),ci(Mo)}function Lo(t){Po(Mo.current);var e=Po(Io.current),n=zt(e,t.type);e!==n&&(fi(Oo,t),fi(Io,n))}function jo(t){Oo.current===t&&(ci(Io),ci(Oo))}var Fo={current:0};function zo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bo(t,e){return{responder:t,props:e}}var Uo=Q.ReactCurrentDispatcher,Go=Q.ReactCurrentBatchConfig,Vo=0,Ho=null,qo=null,Wo=null,Yo=!1;function Xo(){throw Error(s(321))}function $o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function Jo(t,e,n,r,i,o){if(Vo=o,Ho=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Uo.current=null===t||null===t.memoizedState?_a:ba,t=n(r,i),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Wo=qo=null,e.updateQueue=null,Uo.current=Aa,t=n(r,i)}while(e.expirationTime===Vo)}if(Uo.current=ya,e=null!==qo&&null!==qo.next,Vo=0,Wo=qo=Ho=null,Yo=!1,e)throw Error(s(300));return t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Ho.memoizedState=Wo=t:Wo=Wo.next=t,Wo}function Qo(){if(null===qo){var t=Ho.alternate;t=null!==t?t.memoizedState:null}else t=qo.next;var e=null===Wo?Ho.memoizedState:Wo.next;if(null!==e)Wo=e,qo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(qo=t).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Wo?Ho.memoizedState=Wo=t:Wo=Wo.next=t}return Wo}function Zo(t,e){return"function"==typeof e?e(t):e}function ta(t){var e=Qo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.expirationTime;if(c<Vo){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=f,o=r):l=l.next=f,c>Ho.expirationTime&&(Ho.expirationTime=c,ll(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),sl(c,u.suspenseConfig),r=u.eagerReducer===t?u.eagerState:t(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,zr(r,e.memoizedState)||(Ma=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ea(t){var e=Qo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);zr(o,e.memoizedState)||(Ma=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function na(t){var e=Ko();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t}).dispatch=ma.bind(null,Ho,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Ho.updateQueue)?(e={lastEffect:null},Ho.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ia(){return Qo().memoizedState}function oa(t,e,n,r){var i=Ko();Ho.effectTag|=t,i.memoizedState=ra(1|e,n,void 0,void 0===r?null:r)}function aa(t,e,n,r){var i=Qo();r=void 0===r?null:r;var o=void 0;if(null!==qo){var a=qo.memoizedState;if(o=a.destroy,null!==r&&$o(r,a.deps))return void ra(e,n,o,r)}Ho.effectTag|=t,i.memoizedState=ra(1|e,n,o,r)}function sa(t,e){return oa(516,4,t,e)}function la(t,e){return aa(516,4,t,e)}function ua(t,e){return aa(4,2,t,e)}function ca(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function fa(t,e,n){return n=null!=n?n.concat([t]):null,aa(4,2,ca.bind(null,e,t),n)}function ha(){}function da(t,e){return Ko().memoizedState=[t,void 0===e?null:e],t}function pa(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function va(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ga(t,e,n){var r=Gi();Hi(98>r?98:r,(function(){t(!0)})),Hi(97<r?97:r,(function(){var r=Go.suspense;Go.suspense=void 0===e?null:e;try{t(!1),n()}finally{Go.suspense=r}}))}function ma(t,e,n){var r=Xs(),i=vo.suspense;i={expirationTime:r=$s(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Ho||null!==o&&o===Ho)Yo=!0,i.expirationTime=Vo,Ho.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,zr(s,a))return}catch(t){}Js(t,r)}}var ya={readContext:oo,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useResponder:Xo,useDeferredValue:Xo,useTransition:Xo},_a={readContext:oo,useCallback:da,useContext:oo,useEffect:sa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,oa(4,2,ca.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Ko();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ko();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Ho,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ko().memoizedState=t},useState:na,useDebugValue:ha,useResponder:Bo,useDeferredValue:function(t,e){var n=na(t),r=n[0],i=n[1];return sa((function(){var n=Go.suspense;Go.suspense=void 0===e?null:e;try{i(t)}finally{Go.suspense=n}}),[t,e]),r},useTransition:function(t){var e=na(!1),n=e[0];return e=e[1],[da(ga.bind(null,e,t),[e,t]),n]}},ba={readContext:oo,useCallback:pa,useContext:oo,useEffect:la,useImperativeHandle:fa,useLayoutEffect:ua,useMemo:va,useReducer:ta,useRef:ia,useState:function(){return ta(Zo)},useDebugValue:ha,useResponder:Bo,useDeferredValue:function(t,e){var n=ta(Zo),r=n[0],i=n[1];return la((function(){var n=Go.suspense;Go.suspense=void 0===e?null:e;try{i(t)}finally{Go.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},Aa={readContext:oo,useCallback:pa,useContext:oo,useEffect:la,useImperativeHandle:fa,useLayoutEffect:ua,useMemo:va,useReducer:ea,useRef:ia,useState:function(){return ea(Zo)},useDebugValue:ha,useResponder:Bo,useDeferredValue:function(t,e){var n=ea(Zo),r=n[0],i=n[1];return la((function(){var n=Go.suspense;Go.suspense=void 0===e?null:e;try{i(t)}finally{Go.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ea(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},wa=null,xa=null,ka=!1;function Ca(t,e){var n=El(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ea(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(ka){var e=xa;if(e){var n=e;if(!Ea(t,e)){if(!(e=xn(n.nextSibling))||!Ea(t,e))return t.effectTag=-1025&t.effectTag|2,ka=!1,void(wa=t);Ca(wa,n)}wa=t,xa=xn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,ka=!1,wa=t}}function Ra(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wa=t}function Ta(t){if(t!==wa)return!1;if(!ka)return Ra(t),ka=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!bn(e,t.memoizedProps))for(e=xa;e;)Ca(t,e),e=xn(e.nextSibling);if(Ra(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){xa=xn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}xa=null}}else xa=wa?xn(t.stateNode.nextSibling):null;return!0}function Ia(){xa=wa=null,ka=!1}var Oa=Q.ReactCurrentOwner,Ma=!1;function Pa(t,e,n,r){e.child=null===t?Ro(e,null,n,r):So(e,t.child,n,r)}function Da(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=Jo(t,e,n,r,o,i),null===t||Ma?(e.effectTag|=1,Pa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ja(t,e,i))}function Na(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Tl(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,La(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&t.ref===e.ref)?Ja(t,e,o):(e.effectTag|=1,(t=Rl(a,r)).ref=e.ref,t.return=e,e.child=t)}function La(t,e,n,r,i,o){return null!==t&&Ur(t.memoizedProps,r)&&t.ref===e.ref&&(Ma=!1,i<o)?(e.expirationTime=t.expirationTime,Ja(t,e,o)):Fa(t,e,n,r,o)}function ja(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Fa(t,e,n,r,i){var o=mi(n)?vi:di.current;return o=gi(e,o),io(e,i),n=Jo(t,e,n,r,o,i),null===t||Ma?(e.effectTag|=1,Pa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ja(t,e,i))}function za(t,e,n,i,o){if(mi(n)){var a=!0;Ai(e)}else a=!1;if(io(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),bo(e,n,i),wo(e,n,i,o),i=!0;else if(null===t){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;"object"===r(c)&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current);var f=n.getDerivedStateFromProps,h="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==i||u!==c)&&Ao(e,s,i,c),ao=!1;var d=e.memoizedState;s.state=d,ho(e,i,s,o),u=e.memoizedState,l!==i||d!==u||pi.current||ao?("function"==typeof f&&(mo(e,n,f,i),u=e.memoizedState),(l=ao||_o(e,n,l,i,d,u,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.effectTag|=4)):("function"==typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=c,i=l):("function"==typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,lo(t,e),l=e.memoizedProps,s.props=e.type===e.elementType?l:Ji(e.type,l),u=s.context,c=n.contextType,"object"===r(c)&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current),(h="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==i||u!==c)&&Ao(e,s,i,c),ao=!1,u=e.memoizedState,s.state=u,ho(e,i,s,o),d=e.memoizedState,l!==i||u!==d||pi.current||ao?("function"==typeof f&&(mo(e,n,f,i),d=e.memoizedState),(f=ao||_o(e,n,l,i,u,d,c))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,c)),"function"==typeof s.componentDidUpdate&&(e.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),s.props=i,s.state=d,s.context=c,i=f):("function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),i=!1);return Ba(t,e,n,i,a,o)}function Ba(t,e,n,r,i,o){ja(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),Ja(t,e,o);r=e.stateNode,Oa.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Pa(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Ua(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),Do(t,e.containerInfo)}var Ga,Va,Ha,qa={dehydrated:null,retryTime:0};function Wa(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Fo.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fi(Fo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=Il(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Il(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=qa,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Ro(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Rl(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Rl(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=qa,e.child=n,i}return n=So(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Il(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Il(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=qa,e.child=o,n}return e.memoizedState=null,e.child=So(e,t,o.children,n)}function Ya(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ro(t.return,e)}function Xa(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function $a(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(t,e,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ya(t,n);else if(19===t.tag)Ya(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(Fo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===zo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xa(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===zo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xa(e,!0,n,null,o,e.lastEffect);break;case"together":Xa(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ja(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&ll(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Rl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Rl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ka(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qa(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(e.type)&&yi(),null;case 3:return No(),ci(pi),ci(di),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ta(e)||(e.effectTag|=4),null;case 5:jo(e),n=Po(Mo.current);var i=e.type;if(null!==t&&null!=e.stateNode)Va(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=Po(Io.current),Ta(e)){r=e.stateNode,i=e.type;var a=e.memoizedProps;switch(r[En]=e,r[Sn]=a,i){case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)$e(Qt[t],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"form":$e("reset",r),$e("submit",r);break;case"details":$e("toggle",r);break;case"input":Ct(r,a),$e("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$e("invalid",r),cn(n,"onChange");break;case"textarea":Pt(r,a),$e("invalid",r),cn(n,"onChange")}for(var l in sn(i,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(t=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(t=["children",""+u]):C.hasOwnProperty(l)&&null!=u&&cn(n,l)}switch(i){case"input":wt(r),Rt(r,a,!0);break;case"textarea":wt(r),Nt(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=fn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===un&&(t=Ft(i)),t===un?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=l.createElement(i,{is:r.is}):(t=l.createElement(i),"select"===i&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,i),t[En]=e,t[Sn]=r,Ga(t,e),e.stateNode=t,l=ln(i,r),i){case"iframe":case"object":case"embed":$e("load",t),u=r;break;case"video":case"audio":for(u=0;u<Qt.length;u++)$e(Qt[u],t);u=r;break;case"source":$e("error",t),u=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),u=r;break;case"form":$e("reset",t),$e("submit",t),u=r;break;case"details":$e("toggle",t),u=r;break;case"input":Ct(t,r),u=kt(t,r),$e("invalid",t),cn(n,"onChange");break;case"option":u=It(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),$e("invalid",t),cn(n,"onChange");break;case"textarea":Pt(t,r),u=Mt(t,r),$e("invalid",t),cn(n,"onChange");break;default:u=r}sn(i,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var f=c[a];"style"===a?on(t,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&Ut(t,f):"children"===a?"string"==typeof f?("textarea"!==i||""!==f)&&Gt(t,f):"number"==typeof f&&Gt(t,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(C.hasOwnProperty(a)?null!=f&&cn(n,a):null!=f&&Z(t,a,f,l))}switch(i){case"input":wt(t),Rt(t,r,!1);break;case"textarea":wt(t),Nt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+bt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Ot(t,!!r.multiple,n,!1):null!=r.defaultValue&&Ot(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(t.onclick=fn)}_n(i,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ha(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(s(166));n=Po(Mo.current),Po(Io.current),Ta(e)?(n=e.stateNode,r=e.memoizedProps,n[En]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[En]=e,e.stateNode=n)}return null;case 13:return ci(Fo),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ta(e):(r=null!==(i=t.memoizedState),n||null===i||null!==(i=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=i,i.nextEffect=a):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?Ts===ws&&(Ts=xs):(Ts!==ws&&Ts!==xs||(Ts=ks),0!==Ds&&null!==Es&&(Nl(Es,Rs),Ll(Es,Ds)))),(n||r)&&(e.effectTag|=4),null);case 4:return No(),null;case 10:return no(e),null;case 17:return mi(e.type)&&yi(),null;case 19:if(ci(Fo),null===(r=e.memoizedState))return null;if(i=0!=(64&e.effectTag),null===(a=r.rendering)){if(i)Ka(r,!1);else if(Ts!==ws||null!==t&&0!=(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=zo(a))){for(e.effectTag|=64,Ka(r,!1),null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)a=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(t=i.alternate)?(i.childExpirationTime=0,i.expirationTime=a,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return fi(Fo,1&Fo.current|2),e.child}a=a.sibling}}else{if(!i)if(null!==(t=zo(a))){if(e.effectTag|=64,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ka(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Ka(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=r.last)?n.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,e=Fo.current,fi(Fo,i?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function Za(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(No(),ci(pi),ci(di),0!=(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return jo(t),null;case 13:return ci(Fo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ci(Fo),null;case 4:return No(),null;case 10:return no(t),null;default:return null}}function ts(t,e){return{value:t,source:e,stack:_t(e)}}Ga=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(t,e,n,r,i){var a=t.memoizedProps;if(a!==r){var s,l,u=e.stateNode;switch(Po(Io.current),t=null,n){case"input":a=kt(u,a),r=kt(u,r),t=[];break;case"option":a=It(u,a),r=It(u,r),t=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),t=[];break;case"textarea":a=Mt(u,a),r=Mt(u,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=fn)}for(s in sn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(C.hasOwnProperty(s)?(null!=c&&cn(i,s),t||u===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},Ha=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var es="function"==typeof WeakSet?WeakSet:Set;function ns(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=_t(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function rs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){bl(t,e)}else e.current=null}function is(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function os(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function as(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ss(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void as(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Ji(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Fe(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function ls(t,e,n){switch("function"==typeof kl&&kl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Hi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){bl(i,t)}}t=t.next}while(t!==r)}))}break;case 1:rs(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){bl(t,e)}}(e,n);break;case 5:rs(e);break;case 4:hs(t,e,n)}}function us(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&us(e)}function cs(t){return 5===t.tag||3===t.tag||4===t.tag}function fs(t){t:{for(var e=t.return;null!==e;){if(cs(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Gt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||cs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=fn));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function hs(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=n,f=u;;)if(ls(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break t;for(;null===f.sibling;){if(null===f.return||f.return===u)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ls(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void os(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Sn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Et(n,r),ln(t,i),e=ln(t,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?on(n,l):"dangerouslySetInnerHTML"===a?Ut(n,l):"children"===a?Gt(n,l):Z(n,a,l,e)}switch(t){case"input":St(n,r);break;case"textarea":Dt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Ot(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ot(n,!!r.multiple,r.defaultValue,!0):Ot(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ls=Ui()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=rn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ps(e);case 19:return void ps(e);case 17:return}throw Error(s(163))}function ps(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new es),e.forEach((function(e){var r=wl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var vs="function"==typeof WeakMap?WeakMap:Map;function gs(t,e,n){(n=uo(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fs||(Fs=!0,zs=r),ns(t,e)},n}function ms(t,e,n){(n=uo(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ns(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this),ns(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ys,_s=Math.ceil,bs=Q.ReactCurrentDispatcher,As=Q.ReactCurrentOwner,ws=0,xs=3,ks=4,Cs=0,Es=null,Ss=null,Rs=0,Ts=ws,Is=null,Os=1073741823,Ms=1073741823,Ps=null,Ds=0,Ns=!1,Ls=0,js=null,Fs=!1,zs=null,Bs=null,Us=!1,Gs=null,Vs=90,Hs=null,qs=0,Ws=null,Ys=0;function Xs(){return 0!=(48&Cs)?1073741821-(Ui()/10|0):0!==Ys?Ys:Ys=1073741821-(Ui()/10|0)}function $s(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Gi();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&Cs))return Rs;if(null!==n)t=$i(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=$i(t,150,100);break;case 97:case 96:t=$i(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Es&&t===Rs&&--t,t}function Js(t,e){if(50<qs)throw qs=0,Ws=null,Error(s(185));if(null!==(t=Ks(t,e))){var n=Gi();1073741823===e?0!=(8&Cs)&&0==(48&Cs)?el(t):(Zs(t),0===Cs&&Yi()):Zs(t),0==(4&Cs)||98!==n&&99!==n||(null===Hs?Hs=new Map([[t,e]]):(void 0===(n=Hs.get(t))||n>e)&&Hs.set(t,e))}}function Ks(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Es===i&&(ll(e),Ts===ks&&Nl(i,Rs)),Ll(i,e)),i}function Qs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Dl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Zs(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Wi(el.bind(null,t));else{var e=Qs(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Xs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Di&&Ci(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Wi(el.bind(null,t)):qi(r,tl.bind(null,t),{timeout:10*(1073741821-e)-Ui()}),t.callbackNode=e}}}function tl(t,e){if(Ys=0,e)return jl(t,e=Xs()),Zs(t),null;var n=Qs(t);if(0!==n){if(e=t.callbackNode,0!=(48&Cs))throw Error(s(327));if(ml(),t===Es&&n===Rs||il(t,n),null!==Ss){var r=Cs;Cs|=16;for(var i=al();;)try{cl();break}catch(e){ol(t,e)}if(eo(),Cs=r,bs.current=i,1===Ts)throw e=Is,il(t,n),Nl(t,n),Zs(t),e;if(null===Ss)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ts,Es=null,r){case ws:case 1:throw Error(s(345));case 2:jl(t,2<n?2:n);break;case xs:if(Nl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=dl(i)),1073741823===Os&&10<(i=Ls+500-Ui())){if(Ns){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,il(t,n);break}}if(0!==(o=Qs(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=An(pl.bind(null,t),i);break}pl(t);break;case ks:if(Nl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=dl(i)),Ns&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,il(t,n);break}if(0!==(i=Qs(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Ui():1073741823===Os?r=0:(r=10*(1073741821-Os)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=An(pl.bind(null,t),r);break}pl(t);break;case 5:if(1073741823!==Os&&null!==Ps){o=Os;var a=Ps;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Nl(t,n),t.timeoutHandle=An(pl.bind(null,t),r);break}}pl(t);break;default:throw Error(s(329))}if(Zs(t),t.callbackNode===e)return tl.bind(null,t)}}return null}function el(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Cs))throw Error(s(327));if(ml(),t===Es&&e===Rs||il(t,e),null!==Ss){var n=Cs;Cs|=16;for(var r=al();;)try{ul();break}catch(e){ol(t,e)}if(eo(),Cs=n,bs.current=r,1===Ts)throw n=Is,il(t,e),Nl(t,e),Zs(t),n;if(null!==Ss)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Es=null,pl(t),Zs(t)}return null}function nl(t,e){var n=Cs;Cs|=1;try{return t(e)}finally{0===(Cs=n)&&Yi()}}function rl(t,e){var n=Cs;Cs&=-2,Cs|=8;try{return t(e)}finally{0===(Cs=n)&&Yi()}}function il(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:No(),ci(pi),ci(di);break;case 5:jo(r);break;case 4:No();break;case 13:case 19:ci(Fo);break;case 10:no(r)}n=n.return}Es=t,Ss=Rl(t.current,null),Rs=e,Ts=ws,Is=null,Ms=Os=1073741823,Ps=null,Ds=0,Ns=!1}function ol(t,e){for(;;){try{if(eo(),Uo.current=ya,Yo)for(var n=Ho.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Vo=0,Wo=qo=Ho=null,Yo=!1,null===Ss||null===Ss.return)return Ts=1,Is=e,Ss=null;t:{var o=t,a=Ss.return,s=Ss,l=e;if(e=Rs,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===r(l)&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var m=new Set;m.add(u),h.updateQueue=m}else g.add(u);if(0==(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=uo(1073741823,null);y.tag=2,co(s,y)}s.expirationTime=1073741823;break t}l=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new vs,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Al.bind(null,o,u,s);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);l=Error((yt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_t(s))}5!==Ts&&(Ts=2),l=ts(l,s),h=a;do{switch(h.tag){case 3:u=l,h.effectTag|=4096,h.expirationTime=e,fo(h,gs(h,u,e));break t;case 1:u=l;var A=h.type,w=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof A.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Bs||!Bs.has(w)))){h.effectTag|=4096,h.expirationTime=e,fo(h,ms(h,u,e));break t}}h=h.return}while(null!==h)}Ss=hl(Ss)}catch(t){e=t;continue}break}}function al(){var t=bs.current;return bs.current=ya,null===t?ya:t}function sl(t,e){t<Os&&2<t&&(Os=t),null!==e&&t<Ms&&2<t&&(Ms=t,Ps=e)}function ll(t){t>Ds&&(Ds=t)}function ul(){for(;null!==Ss;)Ss=fl(Ss)}function cl(){for(;null!==Ss&&!Ni();)Ss=fl(Ss)}function fl(t){var e=ys(t.alternate,t,Rs);return t.memoizedProps=t.pendingProps,null===e&&(e=hl(t)),As.current=null,e}function hl(t){Ss=t;do{var e=Ss.alternate;if(t=Ss.return,0==(2048&Ss.effectTag)){if(e=Qa(e,Ss,Rs),1===Rs||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ss.firstEffect),t.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ss:t.firstEffect=Ss,t.lastEffect=Ss))}else{if(null!==(e=Za(Ss)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ss.sibling))return e;Ss=t}while(null!==Ss);return Ts===ws&&(Ts=5),null}function dl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function pl(t){var e=Gi();return Hi(99,vl.bind(null,t,e)),null}function vl(t,e){do{ml()}while(null!==Gs);if(0!=(48&Cs))throw Error(s(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=dl(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Es&&(Ss=Es=null,Rs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Cs;Cs|=32,As.current=null,mn=Xe;var a=vn();if(gn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(t){l=null;break t}var h=0,d=-1,p=-1,v=0,g=0,m=a,y=null;e:for(;;){for(var _;m!==l||0!==c&&3!==m.nodeType||(d=h+c),m!==f||0!==u&&3!==m.nodeType||(p=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(_=m.firstChild);)y=m,m=_;for(;;){if(m===a)break e;if(y===l&&++v===c&&(d=h),y===f&&++g===u&&(p=h),null!==(_=m.nextSibling))break;y=(m=y).parentNode}m=_}l=-1===d||-1===p?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;yn={activeElementDetached:null,focusedElem:a,selectionRange:l},Xe=!1,js=i;do{try{gl()}catch(t){if(null===js)throw Error(s(330));bl(js,t),js=js.nextEffect}}while(null!==js);js=i;do{try{for(a=t,l=e;null!==js;){var b=js.effectTag;if(16&b&&Gt(js.stateNode,""),128&b){var A=js.alternate;if(null!==A){var w=A.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:fs(js),js.effectTag&=-3;break;case 6:fs(js),js.effectTag&=-3,ds(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,ds(js.alternate,js);break;case 4:ds(js.alternate,js);break;case 8:hs(a,c=js,l),us(c)}js=js.nextEffect}}catch(t){if(null===js)throw Error(s(330));bl(js,t),js=js.nextEffect}}while(null!==js);if(w=yn,A=vn(),b=w.focusedElem,l=w.selectionRange,A!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&gn(b)&&(A=l.start,void 0===(w=l.end)&&(w=A),"selectionStart"in b?(b.selectionStart=A,b.selectionEnd=Math.min(w,b.value.length)):(w=(A=b.ownerDocument||document)&&A.defaultView||window).getSelection&&(w=w.getSelection(),c=b.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!w.extend&&a>l&&(c=l,l=a,a=c),c=pn(b,a),f=pn(b,l),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((A=A.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),a>l?(w.addRange(A),w.extend(f.node,f.offset)):(A.setEnd(f.node,f.offset),w.addRange(A))))),A=[];for(w=b;w=w.parentNode;)1===w.nodeType&&A.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<A.length;b++)(w=A[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xe=!!mn,yn=mn=null,t.current=n,js=i;do{try{for(b=t;null!==js;){var x=js.effectTag;if(36&x&&ss(b,js.alternate,js),128&x){A=void 0;var k=js.ref;if(null!==k){var C=js.stateNode;switch(js.tag){case 5:A=C;break;default:A=C}"function"==typeof k?k(A):k.current=A}}js=js.nextEffect}}catch(t){if(null===js)throw Error(s(330));bl(js,t),js=js.nextEffect}}while(null!==js);js=null,Li(),Cs=o}else t.current=n;if(Us)Us=!1,Gs=t,Vs=e;else for(js=i;null!==js;)e=js.nextEffect,js.nextEffect=null,js=e;if(0===(e=t.firstPendingTime)&&(Bs=null),1073741823===e?t===Ws?qs++:(qs=0,Ws=t):qs=0,"function"==typeof xl&&xl(n.stateNode,r),Zs(t),Fs)throw Fs=!1,t=zs,zs=null,t;return 0!=(8&Cs)||Yi(),null}function gl(){for(;null!==js;){var t=js.effectTag;0!=(256&t)&&is(js.alternate,js),0==(512&t)||Us||(Us=!0,qi(97,(function(){return ml(),null}))),js=js.nextEffect}}function ml(){if(90!==Vs){var t=97<Vs?97:Vs;return Vs=90,Hi(t,yl)}}function yl(){if(null===Gs)return!1;var t=Gs;if(Gs=null,0!=(48&Cs))throw Error(s(331));var e=Cs;for(Cs|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:os(5,n),as(5,n)}}catch(e){if(null===t)throw Error(s(330));bl(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Cs=e,Yi(),!0}function _l(t,e,n){co(t,e=gs(t,e=ts(n,e),1073741823)),null!==(t=Ks(t,1073741823))&&Zs(t)}function bl(t,e){if(3===t.tag)_l(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){_l(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){co(n,t=ms(n,t=ts(e,t),1073741823)),null!==(n=Ks(n,1073741823))&&Zs(n);break}}n=n.return}}function Al(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Es===t&&Rs===n?Ts===ks||Ts===xs&&1073741823===Os&&Ui()-Ls<500?il(t,Rs):Ns=!0:Dl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Zs(t)))}function wl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=$s(e=Xs(),t,null)),null!==(t=Ks(t,e))&&Zs(t)}ys=function(t,e,n){var i=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||pi.current)Ma=!0;else{if(i<n){switch(Ma=!1,e.tag){case 3:Ua(e),Ia();break;case 5:if(Lo(e),4&e.mode&&1!==n&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&Ai(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,o=e.type._context,fi(Ki,o._currentValue),o._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Wa(t,e,n):(fi(Fo,1&Fo.current),null!==(e=Ja(t,e,n))?e.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(i=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(i)return $a(t,e,n);e.effectTag|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null),fi(Fo,Fo.current),!i)return null}return Ja(t,e,n)}Ma=!1}}else Ma=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=gi(e,di.current),io(e,n),o=Jo(null,e,i,t,o,n),e.effectTag|=1,"object"===r(o)&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(i)){var a=!0;Ai(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,so(e);var l=i.getDerivedStateFromProps;"function"==typeof l&&mo(e,i,l,t),o.updater=yo,e.stateNode=o,o._reactInternalFiber=e,wo(e,i,t,n),e=Ba(null,e,i,!0,a,n)}else e.tag=0,Pa(null,e,o,n),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,a=e.tag=function(t){if("function"==typeof t)return Sl(t)?1:0;if(null!=t){if((t=t.$$typeof)===ct)return 11;if(t===dt)return 14}return 2}(o),t=Ji(o,t),a){case 0:e=Fa(null,e,o,t,n);break t;case 1:e=za(null,e,o,t,n);break t;case 11:e=Da(null,e,o,t,n);break t;case 14:e=Na(null,e,o,Ji(o.type,t),i,n);break t}throw Error(s(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,Fa(t,e,i,o=e.elementType===i?o:Ji(i,o),n);case 1:return i=e.type,o=e.pendingProps,za(t,e,i,o=e.elementType===i?o:Ji(i,o),n);case 3:if(Ua(e),i=e.updateQueue,null===t||null===i)throw Error(s(282));if(i=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,lo(t,e),ho(e,i,null,n),(i=e.memoizedState.element)===o)Ia(),e=Ja(t,e,n);else{if((o=e.stateNode.hydrate)&&(xa=xn(e.stateNode.containerInfo.firstChild),wa=e,o=ka=!0),o)for(n=Ro(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(t,e,i,n),Ia();e=e.child}return e;case 5:return Lo(e),null===t&&Sa(e),i=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,l=o.children,bn(i,o)?l=null:null!==a&&bn(i,a)&&(e.effectTag|=16),ja(t,e),4&e.mode&&1!==n&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Pa(t,e,l,n),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return Wa(t,e,n);case 4:return Do(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=So(e,null,i,n):Pa(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,Da(t,e,i,o=e.elementType===i?o:Ji(i,o),n);case 7:return Pa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Pa(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,o=e.pendingProps,l=e.memoizedProps,a=o.value;var u=e.type._context;if(fi(Ki,u._currentValue),u._currentValue=a,null!==l)if(u=l.value,0===(a=zr(u,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(l.children===o.children&&!pi.current){e=Ja(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){l=u.child;for(var f=c.firstContext;null!==f;){if(f.context===i&&0!=(f.observedBits&a)){1===u.tag&&((f=uo(n,null)).tag=2,co(u,f)),u.expirationTime<n&&(u.expirationTime=n),null!==(f=u.alternate)&&f.expirationTime<n&&(f.expirationTime=n),ro(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}f=f.next}}else l=10===u.tag&&u.type===e.type?null:u.child;if(null!==l)l.return=u;else for(l=u;null!==l;){if(l===e){l=null;break}if(null!==(u=l.sibling)){u.return=l.return,l=u;break}l=l.return}u=l}Pa(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=(a=e.pendingProps).children,io(e,n),i=i(o=oo(o,a.unstable_observedBits)),e.effectTag|=1,Pa(t,e,i,n),e.child;case 14:return a=Ji(o=e.type,e.pendingProps),Na(t,e,o,a=Ji(o.type,a),i,n);case 15:return La(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Ji(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(i)?(t=!0,Ai(e)):t=!1,io(e,n),bo(e,i,o),wo(e,i,o,n),Ba(null,e,i,!0,t,n);case 19:return $a(t,e,n)}throw Error(s(156,e.tag))};var xl=null,kl=null;function Cl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(t,e,n,r){return new Cl(t,e,n,r)}function Sl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rl(t,e){var n=t.alternate;return null===n?((n=El(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,i,o,a){var l=2;if(i=t,"function"==typeof t)Sl(t)&&(l=1);else if("string"==typeof t)l=5;else t:switch(t){case it:return Il(n.children,o,a,e);case ut:l=8,o|=7;break;case ot:l=8,o|=1;break;case at:return(t=El(12,n,e,8|o)).elementType=at,t.type=at,t.expirationTime=a,t;case ft:return(t=El(13,n,e,o)).type=ft,t.elementType=ft,t.expirationTime=a,t;case ht:return(t=El(19,n,e,o)).elementType=ht,t.expirationTime=a,t;default:if("object"===r(t)&&null!==t)switch(t.$$typeof){case st:l=10;break t;case lt:l=9;break t;case ct:l=11;break t;case dt:l=14;break t;case pt:l=16,i=null;break t;case vt:l=22;break t}throw Error(s(130,null==t?t:r(t),""))}return(e=El(l,n,e,o)).elementType=t,e.type=i,e.expirationTime=a,e}function Il(t,e,n,r){return(t=El(7,t,r,e)).expirationTime=n,t}function Ol(t,e,n){return(t=El(6,t,null,e)).expirationTime=n,t}function Ml(t,e,n){return(e=El(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pl(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Dl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Nl(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ll(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function jl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Fl(t,e,n,r){var i=e.current,o=Xs(),a=vo.suspense;o=$s(o,i,a);t:if(n){e:{if(ee(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=bi(n,u,l);break t}}n=l}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),co(i,e),Js(i,o),o}function zl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Bl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ul(t,e){Bl(t,e),(t=t.alternate)&&Bl(t,e)}function Gl(t,e,n){var r=new Pl(t,e,n=null!=n&&!0===n.hydrate),i=El(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,so(i),t[Rn]=r.current,n&&0!==e&&function(t,e){var n=te(e);Re.forEach((function(t){ge(t,e,n)})),Te.forEach((function(t){ge(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Vl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Hl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=zl(a);s.call(t)}}Fl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Gl(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=zl(a);l.call(t)}}rl((function(){Fl(e,a,t,i)}))}return zl(a)}function ql(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:rt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Wl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vl(e))throw Error(s(200));return ql(t,e,null,n)}Gl.prototype.render=function(t){Fl(t,this._internalRoot,null,null)},Gl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Fl(null,t,null,(function(){e[Rn]=null}))},me=function(t){if(13===t.tag){var e=$i(Xs(),150,100);Js(t,e),Ul(t,e)}},ye=function(t){13===t.tag&&(Js(t,3),Ul(t,3))},_e=function(t){if(13===t.tag){var e=Xs();Js(t,e=$s(e,t,null)),Ul(t,e)}},T=function(t,e,n){switch(e){case"input":if(St(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mn(r);if(!i)throw Error(s(90));xt(r),St(r,i)}}}break;case"textarea":Dt(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},N=nl,L=function(t,e,n,r,i){var o=Cs;Cs|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Cs=o)&&Yi()}},j=function(){0==(49&Cs)&&(function(){if(null!==Hs){var t=Hs;Hs=null,t.forEach((function(t,e){jl(e,t),Zs(e)})),Yi()}}(),ml())},F=function(t,e){var n=Cs;Cs|=2;try{return t(e)}finally{0===(Cs=n)&&Yi()}};var Yl,Xl,$l={Events:[In,On,Mn,S,k,zn,function(t){ae(t,Fn)},P,D,Ze,ue,ml,{current:!1}]};Xl=(Yl={findFiberByHostInstance:Tn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);xl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},kl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(o({},Yl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Xl?Xl(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,e.createPortal=Wl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Cs))throw Error(s(187));var n=Cs;Cs|=1;try{return Hi(99,t.bind(null,e))}finally{Cs=n,Yi()}},e.hydrate=function(t,e,n){if(!Vl(e))throw Error(s(200));return Hl(null,t,e,!0,n)},e.render=function(t,e,n){if(!Vl(e))throw Error(s(200));return Hl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(s(40));return!!t._reactRootContainer&&(rl((function(){Hl(null,null,t,!1,(function(){t._reactRootContainer=null,t[Rn]=null}))})),!0)},e.unstable_batchedUpdates=nl,e.unstable_createPortal=function(t,e){return Wl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vl(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return Hl(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(146)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s,l=n(20);if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,f=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(e){throw setTimeout(t,0),e}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(f,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,v=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===l(d)&&"function"==typeof d.now)e.unstable_now=function(){return d.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var _=!1,b=null,A=-1,w=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,C=k.port2;k.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();x=t+w;try{b(!0,t)?C.postMessage(null):(_=!1,b=null)}catch(t){throw C.postMessage(null),t}}else _=!1},r=function(t){b=t,_||(_=!0,C.postMessage(null))},i=function(t,n){A=v((function(){t(e.unstable_now())}),n)},o=function(){g(A),A=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function R(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var I=[],O=[],M=1,P=null,D=3,N=!1,L=!1,j=!1;function F(t){for(var e=S(O);null!==e;){if(null===e.callback)R(O);else{if(!(e.startTime<=t))break;R(O),e.sortIndex=e.expirationTime,E(I,e)}e=S(O)}}function z(t){if(j=!1,F(t),!L)if(null!==S(I))L=!0,r(B);else{var e=S(O);null!==e&&i(z,e.startTime-t)}}function B(t,n){L=!1,j&&(j=!1,o()),N=!0;var r=D;try{for(F(n),P=S(I);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,D=P.priorityLevel;var l=s(P.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?P.callback=l:P===S(I)&&R(I),F(n)}else R(I);P=S(I)}if(null!==P)var u=!0;else{var c=S(O);null!==c&&i(z,c.startTime-n),u=!1}return u}finally{P=null,D=r,N=!1}}function U(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||N||(L=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return S(I)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=G,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===l(a)&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:U(t)}else a=U(t),u=s;return t={id:M++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,E(O,t),null===S(I)&&t===S(O)&&(j?o():j=!0,i(z,u-s))):(t.sortIndex=a,E(I,t),L||N||(L=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=S(I);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},function(t,e,n){t.exports=n(148)()},function(t,e,n){"use strict";var r=n(149);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(20),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,v=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,A=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function x(t){if("object"===r(t)&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case h:case d:case s:case u:case l:case v:return t;default:switch(t=t&&t.$$typeof){case f:case p:case y:case m:case c:return t;default:return e}}case a:return e}}}function k(t){return x(t)===d}e.AsyncMode=h,e.ConcurrentMode=d,e.ContextConsumer=f,e.ContextProvider=c,e.Element=o,e.ForwardRef=p,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=a,e.Profiler=u,e.StrictMode=l,e.Suspense=v,e.isAsyncMode=function(t){return k(t)||x(t)===h},e.isConcurrentMode=k,e.isContextConsumer=function(t){return x(t)===f},e.isContextProvider=function(t){return x(t)===c},e.isElement=function(t){return"object"===r(t)&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return x(t)===p},e.isFragment=function(t){return x(t)===s},e.isLazy=function(t){return x(t)===y},e.isMemo=function(t){return x(t)===m},e.isPortal=function(t){return x(t)===a},e.isProfiler=function(t){return x(t)===u},e.isStrictMode=function(t){return x(t)===l},e.isSuspense=function(t){return x(t)===v},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===s||t===d||t===u||t===l||t===v||t===g||"object"===r(t)&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===c||t.$$typeof===f||t.$$typeof===p||t.$$typeof===b||t.$$typeof===A||t.$$typeof===w||t.$$typeof===_)},e.typeOf=x},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(98),i=n(153);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(68),i=n.n(r)()(!1);i.push([t.i,".btn-row {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n}\n.play-btn {\n    flex: 1 1 0;\n}\n.previous-btn {\n    flex: 1 1 0;\n}\n.next-btn {\n    flex: 1 1 0;\n}\n\n@media screen and (min-width: 960px) {\n    .animation-container {\n        position: absolute;\n        top: 0;\n        width: 25%;\n        background-color: white;\n        border-radius: 4px;\n        border: 1px solid #ccc;\n        margin: 20px;\n        padding: 5px;\n    }\n}\n",""]),e.default=i},function(t,e,n){(function(t){var e=n(20),r=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};v[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==n&&r.call(m,o)&&(v=m);var y=p.prototype=h.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,n){var i;this._invoke=function(o,a){function s(){return new n((function(i,s){!function i(o,a,s,l){var u=c(t[o],t,a);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"===e(h)&&r.call(h,"__await")?n.resolve(h.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):n.resolve(h).then((function(t){f.value=t,s(f)}),(function(t){return i("throw",t,s,l)}))}l(u.arg)}(o,a,i,s)}))}return i=i?i.then(s,s):s()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=y.constructor=p,p.constructor=d,d.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(y),l(y,s,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}).call(this,n(107)(t))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(128);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(165),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(106))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[l]=i,r(l),l++},h.clearImmediate=d}function d(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(106),n(166))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(l=u,u=[];++f<e;)l&&l[f].run();f=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){var r,i=n(20);
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(e,n){"use strict";"object"===i(t)&&"object"===i(t.exports)?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var a=[],s=Object.getPrototypeOf,l=a.slice,u=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,f=a.indexOf,h={},d=h.toString,p=h.hasOwnProperty,v=p.toString,g=v.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},b=n.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var r,i,o=(n=n||b).createElement("script");if(o.text=t,e)for(r in A)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(t){return null==t?t+"":"object"===i(t)||"function"==typeof t?h[d.call(t)]||"object":i(t)}var k=function t(e,n){return new t.fn.init(e,n)};function C(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.5.1",constructor:k,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var t,e,n,r,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"===i(s)||y(s)||(s={}),l===u&&(s=this,l--);l<u;l++)if(null!=(t=arguments[l]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[e],a=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,s[e]=k.extend(c,a,r)):void 0!==r&&(s[e]=r));return s},k.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&v.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(C(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?k.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(C(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return u(a)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var E=
/*!
   * Sizzle CSS Selector Engine v2.3.5
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2020-03-14
   */
function(t){var e,n,r,i,o,a,s,l,u,c,f,h,d,p,v,g,m,y,_,b="sizzle"+1*new Date,A=t.document,w=0,x=0,k=lt(),C=lt(),E=lt(),S=lt(),R=function(t,e){return t===e&&(f=!0),0},T={}.hasOwnProperty,I=[],O=I.pop,M=I.push,P=I.push,D=I.slice,N=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),G=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),V=new RegExp("^"+j+"*,"+j+"*"),H=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),q=new RegExp(j+"|>"),W=new RegExp(B),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){h()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(I=D.call(A.childNodes),A.childNodes),I[A.childNodes.length].nodeType}catch(t){P={apply:I.length?function(t,e){M.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,i){var o,s,u,c,f,p,m,y=e&&e.ownerDocument,A=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==A&&9!==A&&11!==A)return r;if(!i&&(h(e),e=e||d,v)){if(11!==A&&(f=Z.exec(t)))if(o=f[1]){if(9===A){if(!(u=e.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return r.push(u),r}else{if(f[2])return P.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!S[t+" "]&&(!g||!g.test(t))&&(1!==A||"object"!==e.nodeName.toLowerCase())){if(m=t,y=e,1===A&&(q.test(t)||H.test(t))){for((y=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,it):e.setAttribute("id",c=b)),s=(p=a(t)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+_t(p[s]);m=p.join(",")}try{return P.apply(r,y.querySelectorAll(m)),r}catch(e){S(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(G,"$1"),e,r,i)}function lt(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ut(t){return t[b]=!0,t}function ct(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ht(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function vt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ut((function(e){return e=+e,ut((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!$.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:A;return a!=d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,v=!o(d),A!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=ct((function(t){return p.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=Q.test(d.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(p.compareDocumentPosition),_=e||Q.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},R=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==d||t.ownerDocument==A&&_(A,t)?-1:e==d||e.ownerDocument==A&&_(A,e)?1:c?N(c,t)-N(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t==d?-1:e==d?1:i?-1:o?1:c?N(c,t)-N(c,e):0;if(i===o)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ht(a[r],s[r]):a[r]==A?-1:s[r]==A?1:0},d):d},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(h(t),n.matchesSelector&&v&&!S[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){S(e,!0)}return st(e,d,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=d&&h(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=d&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&T.call(r.attrHandle,e.toLowerCase())?i(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(rt,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(R),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=st.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=st.selectors={cacheLength:50,createPseudo:ut,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=st.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,h,d,p,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(o){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(_=(d=(u=(c=(f=(h=g)[b]||(h[b]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[v]||(_=d=0)||p.pop();)if(1===h.nodeType&&++_&&h===e){c[t]=[w,d,_];break}}else if(y&&(_=d=(u=(c=(f=(h=e)[b]||(h[b]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===_)for(;(h=++d&&h&&h[v]||(_=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++_||(y&&((c=(f=h[b]||(h[b]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]=[w,_]),h!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=N(t,o[a])]=!(n[r]=o[a])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ut((function(t){var e=[],n=[],r=s(t.replace(G,"$1"));return r[b]?ut((function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return st(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ut((function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:vt(!1),disabled:vt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:gt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function yt(){}function _t(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=x++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,l){var u,c,f,h=[w,s];if(l){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(f=e[b]||(e[b]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[o])&&u[0]===w&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function At(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),u&&e.push(s)));return a}function xt(t,e,n,r,i,o){return r&&!r[b]&&(r=xt(r)),i&&!i[b]&&(i=xt(i,o)),ut((function(o,a,s,l){var u,c,f,h=[],d=[],p=a.length,v=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:wt(v,h,t,s,l),m=n?i||(o?t:p||r)?[]:a:g;if(n&&n(g,m,s,l),r)for(u=wt(m,d),r(u,[],s,l),c=u.length;c--;)(f=u[c])&&(m[d[c]]=!(g[d[c]]=f));if(o){if(i||t){if(i){for(u=[],c=m.length;c--;)(f=m[c])&&u.push(g[c]=f);i(null,m=[],u,l)}for(c=m.length;c--;)(f=m[c])&&(u=i?N(o,f):h[c])>-1&&(o[u]=!(a[u]=f))}}else m=wt(m===a?m.splice(p,m.length):m),i?i(null,a,m,l):P.apply(a,m)}))}function kt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],l=a?1:0,c=bt((function(t){return t===e}),s,!0),f=bt((function(t){return N(e,t)>-1}),s,!0),h=[function(t,n,r){var i=!a&&(r||n!==u)||((e=n).nodeType?c(t,n,r):f(t,n,r));return e=null,i}];l<o;l++)if(n=r.relative[t[l].type])h=[bt(At(h),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[b]){for(i=++l;i<o&&!r.relative[t[i].type];i++);return xt(l>1&&At(h),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(G,"$1"),n,l<i&&kt(t.slice(l,i)),i<o&&kt(t=t.slice(i)),i<o&&_t(t))}h.push(n)}return At(h)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,i,o,a,s,l,u,c=C[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=r.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(G," ")}),s=s.slice(n.length)),r.filter)!(i=X[a].exec(s))||u[a]&&!(i=u[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):C(t,l).slice(0)},s=st.compile=function(t,e){var n,i=[],o=[],s=E[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=kt(e[n]))[b]?i.push(s):o.push(s);(s=E(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,l,c){var f,p,g,m=0,y="0",_=o&&[],b=[],A=u,x=o||i&&r.find.TAG("*",c),k=w+=null==A?1:Math.random()||.1,C=x.length;for(c&&(u=a==d||a||c);y!==C&&null!=(f=x[y]);y++){if(i&&f){for(p=0,a||f.ownerDocument==d||(h(f),s=!v);g=t[p++];)if(g(f,a||d,s)){l.push(f);break}c&&(w=k)}n&&((f=!g&&f)&&m--,o&&_.push(f))}if(m+=y,n&&y!==m){for(p=0;g=e[p++];)g(_,b,a,s);if(o){if(m>0)for(;y--;)_[y]||b[y]||(b[y]=O.call(l));b=wt(b)}P.apply(l,b),c&&!o&&b.length>0&&m+e.length>1&&st.uniqueSort(l)}return c&&(w=k,u=A),_};return n?ut(o):o}(o,i))).selector=t}return s},l=st.select=function(t,e,n,i){var o,l,u,c,f,h="function"==typeof t&&t,d=!i&&a(t=h.selector||t);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&v&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=X.needsContext.test(t)?0:l.length;o--&&(u=l[o],!r.relative[c=u.type]);)if((f=r.find[c])&&(i=f(u.matches[0].replace(et,nt),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(o,1),!(t=i.length&&_t(l)))return P.apply(n,i),n;break}}return(h||s(t,d))(i,e,!v,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=b.split("").sort(R).join("")===b,n.detectDuplicates=!!f,h(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ft("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ft("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ft(L,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),st}(n);k.find=E,(k.expr=E.selectors)[":"]=k.expr.pseudos,k.uniqueSort=k.unique=E.uniqueSort,k.text=E.getText,k.isXMLDoc=E.isXML,k.contains=E.contains,k.escapeSelector=E.escape;var S=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&k(t).is(n))break;r.push(t)}return r},R=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=k.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,n){return y(e)?k.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?k.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?k.grep(t,(function(t){return f.call(e,t)>-1!==n})):k.filter(e,t,n)}k.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?k.find.matchesSelector(r,t)?[r]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<r;e++)if(k.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)k.find(t,i[e],n);return r>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&T.test(t)?k(t):t||[],!1).length}});var P,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||P,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),O.test(r[1])&&k.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,P=k(b);var N=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&k(t);if(!T.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(k(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,n){return S(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,n){return S(t,"nextSibling",n)},prevUntil:function(t,e,n){return S(t,"previousSibling",n)},siblings:function(t){return R((t.parentNode||{}).firstChild,t)},children:function(t){return R(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(n,r){var i=k.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(L[t]||k.uniqueSort(i),N.test(t)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function B(t){throw t}function U(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):k.extend({},t);var e,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){k.each(n,(function(n,r){y(r)?t.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&e(r)}))}(arguments),n&&!e&&l()),this},remove:function(){return k.each(arguments,(function(t,e){for(var n;(n=k.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?k.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(n){k.each(e,(function(e,r){var i=y(t[r[4]])&&t[r[4]];a[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,o){var a=0;function s(t,e,r,o){return function(){var l=this,u=arguments,c=function(){var n,c;if(!(t<a)){if((n=r.apply(l,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"===i(n)||"function"==typeof n)&&n.then,y(c)?o?c.call(n,s(a,e,z,o),s(a,e,B,o)):(a++,c.call(n,s(a,e,z,o),s(a,e,B,o),s(a,e,z,e.notifyWith))):(r!==z&&(l=void 0,u=[n]),(o||e.resolveWith)(l,u))}},f=o?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,f.stackTrace),t+1>=a&&(r!==B&&(l=void 0,u=[n]),e.rejectWith(l,u))}};t?f():(k.Deferred.getStackHook&&(f.stackTrace=k.Deferred.getStackHook()),n.setTimeout(f))}}return k.Deferred((function(n){e[0][3].add(s(0,n,y(o)?o:z,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:z)),e[2][3].add(s(0,n,y(r)?r:B))})).promise()},promise:function(t){return null!=t?k.extend(t,o):o}},a={};return k.each(e,(function(t,n){var i=n[2],s=n[5];o[n[1]]=i.add,s&&i.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),i.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=i.fireWith})),o.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,r=Array(n),i=l.call(arguments),o=k.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(U(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)U(i[n],a(n),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&G.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout((function(){throw t}))};var V=k.Deferred();function H(){b.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),k.ready()}k.fn.ready=function(t){return V.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||V.resolveWith(b,[k]))}}),k.ready.then=V.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var q=function t(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x(r))for(l in o=!0,r)t(e,n,l,r[l],!0,a,s);else if(void 0!==i&&(o=!0,y(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(t,e,n){return c.call(k(t),n)})),n))for(;l<u;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},W=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function $(t){return t.replace(W,"ms-").replace(Y,X)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=k.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[$(e)]=n;else for(r in e)i[$(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map($):(e=$(e))in r?[e]:e.match(F)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||k.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var Q=new K,Z=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,r,o,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(o=Z.get(a),1===a.nodeType&&!Q.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=$(r.slice(5)),nt(a,r,o[r]));Q.set(a,"hasDataAttrs",!0)}return o}return"object"===i(t)?this.each((function(){Z.set(this,t)})):q(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=Z.get(a,t))||void 0!==(n=nt(a,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),k.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Q.get(t,e),n&&(!r||Array.isArray(n)?r=Q.access(t,e,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=k.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=k._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){k.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:k.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each((function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Q.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=b.documentElement,st=function(t){return k.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===k.css(t,"display")};function ct(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(t,e,"")},l=s(),u=n&&n[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==u&&+l)&&it.exec(k.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)k.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;k.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var ft={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=ft[r];return i||(e=n.body.appendChild(n.createElement(r)),i=k.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ft[r]=i,i)}function dt(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ut(r)&&(i[o]=ht(r))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}k.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?k(this).show():k(this).hide()}))}});var pt,vt,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;pt=b.createDocumentFragment().appendChild(b.createElement("div")),(vt=b.createElement("input")).setAttribute("type","radio"),vt.setAttribute("checked","checked"),vt.setAttribute("name","t"),pt.appendChild(vt),m.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",m.option=!!pt.lastChild;var _t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?k.merge([t],n):n}function At(t,e){for(var n=0,r=t.length;n<r;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,m.option||(_t.optgroup=_t.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function xt(t,e,n,r,i){for(var o,a,s,l,u,c,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===x(o))k.merge(h,o.nodeType?[o]:o);else if(wt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),l=_t[s]||_t._default,a.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;k.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(u=st(o),a=bt(f.appendChild(o),"script"),u&&At(a),n)for(c=0;o=a[c++];)yt.test(o.type||"")&&n.push(o);return f}var kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Rt(){return!1}function Tt(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,n,r,o,a){var s,l;if("object"===i(e)){for(l in"string"!=typeof n&&(r=r||n,n=void 0),e)It(t,l,n,r,e[l],a);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Rt;else if(!o)return t;return 1===a&&(s=o,(o=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each((function(){k.event.add(this,e,o,r,n)}))}function Ot(t,e,n){n?(Q.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=l.call(arguments),Q.set(this,e,o),r=n(this,e),this[e](),o!==(i=Q.get(this,e))||r?Q.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else o.length&&(Q.set(this,e,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&k.event.add(t,e,St)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,v,g=Q.get(t);if(J(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(at,i),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)d=v=(s=Et.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=l[d])||((h=l[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),k.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,v,g=Q.hasData(t)&&Q.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(d=v=(s=Et.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=k.event.special[d]||{},h=l[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||k.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)k.event.remove(t,d+e[u],n,r,!0);k.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=new Array(arguments.length),l=k.event.fix(t),u=(Q.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,u),e=0;(i=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,i,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?k(i,this).index(u)>-1:k.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&Ot(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&Ot(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&I(e,"input")&&Q.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},(k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Rt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0}).prototype={constructor:k.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Ot(this,t,Tt),!1},trigger:function(){return Ot(this,t),!0},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||k.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),k.fn.extend({on:function(t,e,n,r){return It(this,t,e,n,r)},one:function(t,e,n,r){return It(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,k(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===i(t)){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Rt),this.each((function(){k.event.remove(this,t,n,e)}))}});var Mt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,r,i,o,a,s;if(1===e.nodeType){if(Q.hasData(t)&&(s=Q.get(t).events))for(i in Q.remove(e,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(e,i,s[i][n]);Z.hasData(t)&&(o=Z.access(t),a=k.extend({},o),Z.set(e,a))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,r){e=u(e);var i,o,a,s,l,c,f=0,h=t.length,d=h-1,p=e[0],v=y(p);if(v||h>1&&"string"==typeof p&&!m.checkClone&&Pt.test(p))return t.each((function(i){var o=t.eq(i);v&&(e[0]=p.call(this,i,o.html())),Bt(o,e,n,r)}));if(h&&(o=(i=xt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=k.map(bt(i,"script"),Lt)).length;f<h;f++)l=i,f!==d&&(l=k.clone(l,!0,!0),s&&k.merge(a,bt(l,"script"))),n.call(t[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,jt),f=0;f<s;f++)l=a[f],yt.test(l.type||"")&&!Q.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Dt,""),l,c))}return t}function Ut(t,e,n){for(var r,i=e?k.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(bt(r)),r.parentNode&&(n&&st(r)&&At(bt(r,"script")),r.parentNode.removeChild(r));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(a=bt(s),r=0,i=(o=bt(t)).length;r<i;r++)zt(o[r],a[r]);if(e)if(n)for(o=o||bt(t),a=a||bt(s),r=0,i=o.length;r<i;r++)Ft(o[r],a[r]);else Ft(t,s);return(a=bt(s,"script")).length>0&&At(a,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,n,r,i=k.event.special,o=0;void 0!==(n=t[o]);o++)if(J(n)){if(e=n[Q.expando]){if(e.events)for(r in e.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,e.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return q(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return q(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!_t[(mt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var n,r=[],i=k(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),k(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var Gt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},qt=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Vt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=k.style(t,e)),!m.pixelBoxStyles()&&Gt.test(a)&&qt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,a,s,l,u=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,r,i;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),r=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",r.style.height="9px",at.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),s=parseInt(i.height)>3,at.removeChild(t)),s}}))}();var Xt=["Webkit","Moz","ms"],$t=b.createElement("div").style,Jt={};function Kt(t){var e=k.cssProps[t]||Jt[t];return e||(t in $t?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in $t)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function re(t,e,n,r,i,o){var a="width"===e?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(t,n+ot[a],!0,i)),r?("content"===n&&(l-=k.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(l-=k.css(t,"border"+ot[a]+"Width",!0,i))):(l+=k.css(t,"padding"+ot[a],!0,i),"padding"!==n?l+=k.css(t,"border"+ot[a]+"Width",!0,i):s+=k.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ie(t,e,n){var r=Vt(t),i=(!m.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,r),o=i,a=Wt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Gt.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&I(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===k.css(t,"boxSizing",!1,r),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+re(t,e,n||(i?"border":"content"),o,r,a)+"px"}function oe(t,e,n,r,i){return new oe.prototype.init(t,e,n,r,i)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=$(e),u=Zt.test(e),c=t.style;if(u||(e=Kt(l)),s=k.cssHooks[e]||k.cssHooks[l],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,r))?o:c[e];"string"===(a=i(n))&&(o=it.exec(n))&&o[1]&&(n=ct(t,e,o),a="number"),null!=n&&n==n&&("number"!==a||u||(n+=o&&o[3]||(k.cssNumber[l]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=$(e);return Zt.test(e)||(e=Kt(s)),(a=k.cssHooks[e]||k.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Wt(t,e,r)),"normal"===i&&e in ee&&(i=ee[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,n,r){if(n)return!Qt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,r):Ht(t,te,(function(){return ie(t,e,r)}))},set:function(t,n,r){var i,o=Vt(t),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===k.css(t,"boxSizing",!1,o),l=r?re(t,e,r,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-re(t,e,"border",!1,o)-.5)),l&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),ne(0,n,l)}}})),k.cssHooks.marginLeft=Yt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(k.cssHooks[t+e].set=ne)})),k.fn.extend({css:function(t,e){return q(this,(function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Vt(t),i=e.length;a<i;a++)o[e[a]]=k.css(t,e[a],!1,r);return o}return void 0!==n?k.style(t,e,n):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(k.fx=oe.prototype.init).step={};var ae,se,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function ce(){se&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,k.fx.interval),k.fx.tick())}function fe(){return n.setTimeout((function(){ae=void 0})),ae=Date.now()}function he(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function de(t,e,n){for(var r,i=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function pe(t,e,n){var r,i,o=0,a=pe.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=ae||fe(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(r);return s.notifyWith(t,[u,r,n]),r<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var r=k.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=$(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,u.opts.specialEasing);o<a;o++)if(r=pe.prefilters[o].call(u,t,c,u.opts))return y(r.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return k.map(c,de,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,r=0,i=t.length;r<i;r++)n=t[r],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,l,u,c,f="width"in e||"height"in e,h=this,d={},p=t.style,v=t.nodeType&&ut(t),g=Q.get(t,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,k.queue(t,"fx").length||a.empty.fire()}))}))),e)if(i=e[r],le.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;v=!0}d[r]=g&&g[r]||k.style(t,r)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(d))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=Q.get(t,"display")),"none"===(c=k.css(t,"display"))&&(u?c=u:(dt([t],!0),u=t.style.display||u,c=k.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(t,"float")&&(l||(h.done((function(){p.display=u})),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,d)l||(g?"hidden"in g&&(v=g.hidden):g=Q.access(t,"fxshow",{display:u}),o&&(g.hidden=!v),v&&dt([t],!0),h.done((function(){for(r in v||dt([t]),Q.remove(t,"fxshow"),d)k.style(t,r,d[r])}))),l=de(v?g[r]:0,r,h),r in g||(g[r]=l.start,v&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),k.speed=function(t,e,n){var r=t&&"object"===i(t)?k.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=pe(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=k.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ue.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var n=k.fn[e];k.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(he(e,!0),t,r,i)}})),k.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ae=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){se||(se=!0,ce())},k.fx.stop=function(){se=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ve,ge=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return q(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?k.prop(t,e,n):(1===o&&k.isXMLDoc(t)||(i=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?ve:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=k.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&I(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(F);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ve={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||k.find.attr;ge[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=ge[a],ge[a]=i,i=null!=n(t,e,r)?a:null,ge[a]=o),i}}));var me=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function _e(t){return(t.match(F)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function Ae(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}k.fn.extend({prop:function(t,e){return q(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(t)||(e=k.propFix[e]||e,i=k.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,l=0;if(y(t))return this.each((function(e){k(this).addClass(t.call(this,e,be(this)))}));if((e=Ae(t)).length)for(;n=this[l++];)if(i=be(n),r=1===n.nodeType&&" "+_e(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=_e(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,l=0;if(y(t))return this.each((function(e){k(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=Ae(t)).length)for(;n=this[l++];)if(i=be(n),r=1===n.nodeType&&" "+_e(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=_e(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=i(t),r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(n){k(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,i,o,a;if(r)for(i=0,o=k(this),a=Ae(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+_e(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;k.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,k(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(we,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:_e(k.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(e=k(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=k.makeArray(e),a=i.length;a--;)((r=i[a]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},m.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,r,o){var a,s,l,u,c,f,h,d,v=[r||b],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=l=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!xe.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[k.expando]?t:new k.Event(g,"object"===i(t)&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:k.makeArray(e,[t]),h=k.event.special[g]||{},o||!h.trigger||!1!==h.trigger.apply(r,e))){if(!o&&!h.noBubble&&!_(r)){for(u=h.delegateType||g,xe.test(u+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(r.ownerDocument||b)&&v.push(l.defaultView||l.parentWindow||n)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)d=s,t.type=a>1?u:h.bindType||g,(f=(Q.get(s,"events")||Object.create(null))[t.type]&&Q.get(s,"handle"))&&f.apply(s,e),(f=c&&s[c])&&f.apply&&J(s)&&(t.result=f.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),e)||!J(r)||c&&y(r[g])&&!_(r)&&((l=r[c])&&(r[c]=null),k.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,ke),r[g](),t.isPropagationStopped()&&d.removeEventListener(g,ke),k.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(t,e,n){var r=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(r,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,e);i||r.addEventListener(t,n,!0),Q.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,e)-1;i?Q.access(r,e,i):(r.removeEventListener(t,n,!0),Q.remove(r,e))}}}));var Ce=n.location,Ee={guid:Date.now()},Se=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Re=/\[\]$/,Te=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Me(t,e,n,r){var o;if(Array.isArray(e))k.each(e,(function(e,o){n||Re.test(t)?r(t,o):Me(t+"["+("object"===i(o)&&null!=o?e:"")+"]",o,n,r)}));else if(n||"object"!==x(e))r(t,e);else for(o in e)Me(t+"["+o+"]",e[o],n,r)}k.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){i(this.name,this.value)}));else for(n in t)Me(n,t[n],e,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:n.replace(Te,"\r\n")}})).get()}});var Pe=/%20/g,De=/#.*$/,Ne=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,ze={},Be={},Ue="*/".concat("*"),Ge=b.createElement("a");function Ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function He(t,e,n,r){var i={},o=t===Be;function a(s){var l;return i[s]=!0,k.each(t[s]||[],(function(t,s){var u=s(e,n,r);return"string"!=typeof u||o||i[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)})),l}return a(e.dataTypes[0])||!i["*"]&&a("*")}function qe(t,e){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&k.extend(!0,t,r),t}Ge.href=Ce.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,k.ajaxSettings),e):qe(k.ajaxSettings,t)},ajaxPrefilter:Ve(ze),ajaxTransport:Ve(Be),ajax:function(t,e){"object"===i(t)&&(e=t,t=void 0);var r,o,a,s,l,u,c,f,h,d,p=k.ajaxSetup({},e=e||{}),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?k(v):k.event,m=k.Deferred(),y=k.Callbacks("once memory"),_=p.statusCode||{},A={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Le.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,A[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),E(0,e),this}};if(m.promise(C),p.url=((t||p.url||Ce.href)+"").replace(Fe,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){u=b.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ge.protocol+"//"+Ge.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),He(ze,p,e,C),c)return C;for(h in(f=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!je.test(p.type),o=p.url.replace(De,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pe,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Se.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ne,"$1"),d=(Se.test(o)?"&":"?")+"_="+Ee.guid+++d),p.url=o+d),p.ifModified&&(k.lastModified[o]&&C.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&C.setRequestHeader("If-None-Match",k.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ue+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(v,C,p)||c))return C.abort();if(x="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=He(Be,p,e,C)){if(C.readyState=1,f&&g.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=n.setTimeout((function(){C.abort("timeout")}),p.timeout));try{c=!1,r.send(A,E)}catch(t){if(c)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,i,s){var u,h,d,b,A,w=e;c||(c=!0,l&&n.clearTimeout(l),r=void 0,a=s||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(b=function(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,C,i)),!u&&k.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,b,C,u),u?(p.ifModified&&((A=C.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=A),(A=C.getResponseHeader("etag"))&&(k.etag[o]=A)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,h=b.data,u=!(d=b.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",u?m.resolveWith(v,[h,w,C]):m.rejectWith(v,[C,w,d]),C.statusCode(_),_=void 0,f&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?h:d]),y.fireWith(v,[C,w]),f&&(g.trigger("ajaxComplete",[C,p]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:i,data:n,success:r},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){k(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ye=k.ajaxSettings.xhr();m.cors=!!Ye&&"withCredentials"in Ye,m.ajax=Ye=!!Ye,k.ajaxTransport((function(t){var e,r;if(m.cors||Ye&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,$e=[],Je=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||k.expando+"_"+Ee.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Je,"$1"+i):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||k.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always((function(){void 0===o?k(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,$e.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((Xe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),o=!n&&[],(i=O.exec(t))?[e.createElement(i[1])]:(i=xt([t],e,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(t,e,n){var r,o,a,s=this,l=t.indexOf(" ");return l>-1&&(r=_e(t.slice(l)),t=t.slice(0,l)),y(e)?(n=e,e=void 0):e&&"object"===i(e)&&(o="POST"),s.length>0&&k.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){a=arguments,s.html(r?k("<div>").append(k.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u=k.css(t,"position"),c=k(t),f={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=k.css(t,"top"),l=k.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),y(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),i.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-k.css(r,"marginTop",!0),left:e.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||at}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;k.fn[t]=function(r){return q(this,(function(t,r,i){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Yt(m.pixelPosition,(function(t,n){if(n)return n=Wt(t,e),Gt.test(n)?k(t).position()[e]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){k.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return q(this,(function(e,n,i){var o;return _(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?k.css(e,n,s):k.style(e,n,i,s)}),e,a?i:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=l.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(l.call(arguments)))}).guid=t.guid=t.guid||k.guid++,i},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=I,k.isFunction=y,k.isWindow=_,k.camelCase=$,k.type=x,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(r=function(){return k}.apply(e,[]))||(t.exports=r);var Qe=n.jQuery,Ze=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Ze),t&&n.jQuery===k&&(n.jQuery=Qe),k},void 0===o&&(n.jQuery=n.$=k),k}))}).call(this,n(107)(t))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return a})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return u})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return f})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return d})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return v})),n.d(e,"__values",(function(){return g})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return _})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return A})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=n(20),i=n.n(r),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function u(t,e,n,r){var o,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":i()(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"===("undefined"==typeof Reflect?"undefined":i()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function v(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function g(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function _(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function A(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=g(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(20),$=__webpack_require__(60),Slick=__webpack_require__(67),scrollbarDimensions,maxSupportedCssHeight;
/**
 * @license
 * (c) 2009-2016 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.4
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */function SlickGrid(container,data,columns,options){$.fn.drag||__webpack_require__(170),$.fn.drop||__webpack_require__(171);var defaults={alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,doPaging:!0,autosizeColsMode:Slick.GridAutosizeColsMode.LegacyOff,autosizeColPaddingPx:4,autosizeTextAvgToMWidthRatio:.75,viewportSwitchToScrollModeWidthPercent:void 0,viewportMinWidthPx:void 0,viewportMaxWidthPx:void 0},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},columnAutosizeDefaults={ignoreHeaderText:!1,colValueArray:void 0,allowAddlPercent:void 0,formatterOverride:void 0,autosizeMode:Slick.ColAutosizeMode.ContentIntelligent,rowSelectionModeOnInit:void 0,rowSelectionMode:Slick.RowSelectionMode.FirstNRows,rowSelectionCount:100,valueFilterMode:Slick.ValueFilterMode.None,widthEvalMode:Slick.WidthEvalMode.CanvasTextSize,sizeToRemaining:void 0,widthPx:void 0,colDataTypeOf:void 0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=$(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$preHeaderPanel,$preHeaderPanelScroller,$preHeaderPanelSpacer,$preHeaderPanelR,$preHeaderPanelScrollerR,$preHeaderPanelSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],pagingActive=!1,pagingIsLastPage=!1,scrollThrottle=ActionThrottle(render,50),h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[],columnResizeDragging=!1;function init(){if(($container=container instanceof $?container:$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");if(cacheCssForHiddenInit(),maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,treeColumns=new Slick.TreeColumns(columns),columns=treeColumns.extractColumns(),updateColumnProps(),options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=$("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=$("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=$("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=$("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=$("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=$("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),options.createPreHeaderPanel&&($preHeaderPanelScroller=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderL),$preHeaderPanel=$("<div />").appendTo($preHeaderPanelScroller),$preHeaderPanelSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScroller),$preHeaderPanelScrollerR=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderR),$preHeaderPanelR=$("<div />").appendTo($preHeaderPanelScrollerR),$preHeaderPanelSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScrollerR),options.showPreHeaderPanel||($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide())),$headerScrollerL=$("<div class='slick-header ui-state-default slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=$("<div class='slick-header ui-state-default slick-header-right' />").appendTo($paneHeaderR),$headerScroller=$().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var t=0;t<treeColumns.getDepth()-1;t++)$groupHeadersL[t]=$("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[t]=$("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=$().add($groupHeadersL).add($groupHeadersR)}$headerL=$("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$headerR=$("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=$().add($headerL).add($headerR),$headerRowScrollerL=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopL),$headerRowScrollerR=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopR),$headerRowScroller=$().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerL),$headerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerR),$headerRowL=$("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=$("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=$().add($headerRowL).add($headerRowR),$topPanelScrollerL=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopL),$topPanelScrollerR=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopR),$topPanelScroller=$().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=$().add($topPanelL).add($topPanelR),options.showColumnHeader||$headerScroller.hide(),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=$("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=$("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=$().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=$("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=$("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),options.viewportClass&&$viewport.toggleClass(options.viewportClass,!0),$canvas=$().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),$activeCanvasNode=$canvasTopL,$preHeaderPanelSpacer&&$preHeaderPanelSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headers.width(getHeadersWidth()),$headerRowSpacerL.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headerRowSpacerR.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),options.createFooterRow&&($footerRowScrollerR=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopR),$footerRowScrollerL=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopL),$footerRowScroller=$().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=$("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=$("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=$().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.on("selectstart.ui",(function(t){return $(t.target).is("input,textarea")})),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.on("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),$.fn.mousewheel&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.on("contextmenu",handleHeaderContextMenu).on("click",handleHeaderClick).on("mouseenter",".slick-header-column",handleHeaderMouseEnter).on("mouseleave",".slick-header-column",handleHeaderMouseLeave),$headerRowScroller.on("scroll",handleHeaderRowScroll),options.createFooterRow&&($footerRow.on("contextmenu",handleFooterContextMenu).on("click",handleFooterClick),$footerRowScroller.on("scroll",handleFooterRowScroll)),options.createPreHeaderPanel&&$preHeaderPanelScroller.on("scroll",handlePreHeaderPanelScroll),$focusSink.add($focusSink2).on("keydown",handleKeyDown),$canvas.on("keydown",handleKeyDown).on("click",handleClick).on("dblclick",handleDblClick).on("contextmenu",handleContextMenu).on("draginit",handleDragInit).on("dragstart",{distance:3},handleDragStart).on("drag",handleDrag).on("dragend",handleDragEnd).on("mouseenter",".slick-cell",handleMouseEnter).on("mouseleave",".slick-cell",handleMouseLeave),restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each((function(){var t={};for(var e in cssShow)t[e]=this.style[e],this.style[e]=cssShow[e];oldProps.push(t)}))}function restoreCssFromHiddenInit(){$hiddenParents.each((function(t){var e=oldProps[t];for(var n in cssShow)this.style[n]=e[n]}))}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(t){plugins.unshift(t),t.init(self)}function unregisterPlugin(t){for(var e=plugins.length;e>=0;e--)if(plugins[e]===t){plugins[e].destroy&&plugins[e].destroy(),plugins.splice(e,1);break}}function getPluginByName(t){for(var e=plugins.length-1;e>=0;e--)if(plugins[e].pluginName===t)return plugins[e]}function setSelectionModel(t){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=t)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(t,e){t||(t=0),e||(e=0);var n="number"==typeof t?t:getColumnIndex(t);return hasFrozenRows&&e>=actualFrozenRow+(options.frozenBottom?0:1)?hasFrozenColumns()&&n>options.frozenColumn?$canvasBottomR[0]:$canvasBottomL[0]:hasFrozenColumns()&&n>options.frozenColumn?$canvasTopR[0]:$canvasTopL[0]}function getActiveCanvasNode(t){return setActiveCanvasNode(t),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(t){t&&($activeCanvasNode=$(t.target).closest(".grid-canvas"))}function getViewportNode(){return $viewport[0]}function getActiveViewportNode(t){return setActiveViewPortNode(t),$activeViewportNode[0]}function setActiveViewportNode(t){t&&($activeViewportNode=$(t.target).closest(".slick-viewport"))}function measureScrollbar(){var t=$('<div class="'+$viewport.className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo("body"),e=$('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(t),n={width:t[0].offsetWidth-t[0].clientWidth,height:t[0].offsetHeight-t[0].clientHeight};return e.remove(),t.remove(),n}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var t=!options.autoHeight,e=0,n=columns.length;e<n;e++){var r=columns[e].width;options.frozenColumn>-1&&e>options.frozenColumn?headersWidthR+=r:headersWidthL+=r}return t&&(options.frozenColumn>-1&&e>options.frozenColumn?headersWidthR+=scrollbarDimensions.width:headersWidthL+=scrollbarDimensions.width),hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR,Math.max(headersWidth,viewportW)+1e3}function getHeadersWidthL(){return headersWidthL=0,columns.forEach((function(t,e){options.frozenColumn>-1&&e>options.frozenColumn||(headersWidthL+=t.width)})),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach((function(t,e){options.frozenColumn>-1&&e>options.frozenColumn&&(headersWidthR+=t.width)})),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var t=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,e=columns.length;for(canvasWidthL=canvasWidthR=0;e--;)hasFrozenColumns()&&e>options.frozenColumn?canvasWidthR+=columns[e].width:canvasWidthL+=columns[e].width;var n=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(n,t):n}function updateCanvasWidth(t){var e,n=canvasWidth,r=canvasWidthL,i=canvasWidthR;((e=(canvasWidth=getCanvasWidth())!==n||canvasWidthL!==r||canvasWidthR!==i)||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),options.createFooterRow&&($footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR)),options.createPreHeaderPanel&&$preHeaderPanel.width(canvasWidth),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),options.createFooterRow&&($footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth)),options.createPreHeaderPanel&&($preHeaderPanel.width("100%"),$preHeaderPanel.width(canvasWidth)),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),options.createFooterRow&&($footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0))),(e||t)&&applyColumnWidths()}function disableSelection(t){t&&t.jquery&&t.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",(function(){return!1}))}function getMaxSupportedCssHeight(){for(var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var r=2*t;if(n.css("height",r),r>e||n.height()!==r)break;t=r}return n.remove(),t}function getUID(){return uid}function getHeaderColumnWidthDiff(){return headerColumnWidthDiff}function getScrollbarDimensions(){return scrollbarDimensions}function bindAncestorScrollEvents(){for(var t=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(t=t.parentNode)!=document.body&&null!=t;)if(t==$viewportTopL[0]||t.scrollWidth!=t.clientWidth||t.scrollHeight!=t.clientHeight){var e=$(t);$boundAncestors=$boundAncestors?$boundAncestors.add(e):e,e.on("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.off("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(t,e,n){if(initialized){var r=getColumnIndex(t);if(null!=r){var i=columns[r],o=$headers.children().eq(r);o&&(void 0!==e&&(columns[r].name=e),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:o[0],column:i,grid:self}),o.attr("title",n||"").children().eq(0).html(e),trigger(self.onHeaderCellRendered,{node:o[0],column:i,grid:self}))}}}function getHeader(t){if(!t)return hasFrozenColumns()?$headers:$headerL;var e=getColumnIndex(t.id);return hasFrozenColumns()?e<=options.frozenColumn?$headerL:$headerR:$headerL}function getHeaderColumn(t){var e="number"==typeof t?t:getColumnIndex(t),n=hasFrozenColumns()?e<=options.frozenColumn?$headerL:$headerR:$headerL,r=hasFrozenColumns()?e<=options.frozenColumn?e:e-options.frozenColumn-1:e,i=n.children().eq(r);return i&&i[0]}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getPreHeaderPanel(){return $preHeaderPanel[0]}function getPreHeaderPanelRight(){return $preHeaderPanelR[0]}function getHeaderRowColumn(t){var e,n="number"==typeof t?t:getColumnIndex(t);hasFrozenColumns()?n<=options.frozenColumn?e=$headerRowL:(e=$headerRowR,n-=options.frozenColumn+1):e=$headerRowL;var r=e.children().eq(n);return r&&r[0]}function getFooterRowColumn(t){var e,n="number"==typeof t?t:getColumnIndex(t);hasFrozenColumns()?n<=options.frozenColumn?e=$footerRowL:(e=$footerRowR,n-=options.frozenColumn+1):e=$footerRowL;var r=e&&e.children().eq(n);return r&&r[0]}function createColumnFooter(){if(options.createFooterRow){$footerRow.find(".slick-footerrow-column").each((function(){var t=$(this).data("column");t&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:t,grid:self})})),$footerRowL.empty(),$footerRowR.empty();for(var t=0;t<columns.length;t++){var e=columns[t],n=$("<div class='ui-state-default slick-footerrow-column l"+t+" r"+t+"'></div>").data("column",e).addClass(hasFrozenColumns()&&t<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&t>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:n[0],column:e,grid:self})}}}function createColumnGroupHeaders(){var t=0,e=!1;if(treeColumns.hasDepth()){for(var n=0;n<$groupHeadersL.length;n++){$groupHeadersL[n].empty(),$groupHeadersR[n].empty();var r=treeColumns.getColumnsInDepth(n);for(var i in r){var o=r[i];t+=o.extractColumns().length,hasFrozenColumns()&&0===n&&t-1===options.frozenColumn&&(e=!0),$("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+o.name+"</span>").attr("id",""+uid+o.id).attr("title",o.toolTip||"").data("column",o).addClass(o.headerCssClass||"").addClass(hasFrozenColumns()&&t-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&t-1>options.frozenColumn?$groupHeadersR[n]:$groupHeadersL[n])}if(hasFrozenColumns()&&0===n&&!e){$groupHeadersL[n].empty(),$groupHeadersR[n].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function t(){$(this).addClass("ui-state-hover")}function e(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each((function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:t,grid:self})})),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each((function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:t,grid:self})})),$headerRowL.empty(),$headerRowR.empty(),options.createFooterRow&&($footerRowL.find(".slick-footerrow-column").each((function(){var t=$(this).data("column");t&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:t,grid:self})})),$footerRowL.empty(),hasFrozenColumns()&&($footerRowR.find(".slick-footerrow-column").each((function(){var t=$(this).data("column");t&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:t,grid:self})})),$footerRowR.empty()));for(var n=0;n<columns.length;n++){var r=columns[n],i=hasFrozenColumns()?n<=options.frozenColumn?$headerL:$headerR:$headerL,o=hasFrozenColumns()?n<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,a=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").addClass(hasFrozenColumns()&&n<=options.frozenColumn?"frozen":"").appendTo(i);if((options.enableColumnReorder||r.sortable)&&a.on("mouseenter",t).on("mouseleave",e),r.hasOwnProperty("headerCellAttrs")&&r.headerCellAttrs instanceof Object)for(var s in r.headerCellAttrs)r.headerCellAttrs.hasOwnProperty(s)&&a.attr(s,r.headerCellAttrs[s]);if(r.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator"+(options.numberedMultiColumnSort&&!options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")+"' />"),options.numberedMultiColumnSort&&options.sortColNumberInSeparateSpan&&a.append("<span class='slick-sort-indicator-numbered' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:r,grid:self}),options.showHeaderRow){var l=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).addClass(hasFrozenColumns()&&n<=options.frozenColumn?"frozen":"").appendTo(o);trigger(self.onHeaderRowCellRendered,{node:l[0],column:r,grid:self})}if(options.createFooterRow&&options.showFooterRow){var u=$("<div class='ui-state-default slick-footerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:u[0],column:r,grid:self})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&("function"==typeof options.enableColumnReorder?options.enableColumnReorder(self,$headers,headerColumnWidthDiff,setColumns,setupColumnResize,columns,getColumnIndex,uid,trigger):setupColumnReorder())}function setupColumnSort(){$headers.click((function(t){if(!columnResizeDragging&&(t.metaKey=t.metaKey||t.ctrlKey,!$(t.target).hasClass("slick-resizable-handle"))){var e=$(t.target).closest(".slick-header-column");if(e.length){var n=e.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,i=0;i<sortColumns.length;i++)if(sortColumns[i].columnId==n.id){(r=sortColumns[i]).sortAsc=!r.sortAsc;break}var o=!!r;options.tristateMultiColumnSort?(r||(r={columnId:n.id,sortAsc:n.defaultSortAsc}),o&&r.sortAsc&&(sortColumns.splice(i,1),r=null),options.multiColumnSort||(sortColumns=[]),!r||o&&options.multiColumnSort||sortColumns.push(r)):t.metaKey&&options.multiColumnSort?r&&sortColumns.splice(i,1):((t.shiftKey||t.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0===sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,(function(t){return{columnId:columns[getColumnIndex(t.columnId)].id,sortCol:columns[getColumnIndex(t.columnId)],sortAsc:t.sortAsc}}))},t):trigger(self.onSort,{multiColumnSort:!1,columnId:sortColumns.length>0?n.id:null,sortCol:sortColumns.length>0?n:null,sortAsc:!(sortColumns.length>0)||sortColumns[0].sortAsc},t)}}}}))}function currentPositionInHeader(t){var e=0;return $headers.find(".slick-header-column").each((function(n){if(this.id==t)return e=n,!1})),e}function limitPositionInGroup(t){var e,n=0,r=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some((function(i){return n=r,r+=i.columns.length,i.columns.some((function(n){return n.id===t&&(e=i),e})),e})),r--,{start:n,end:r,group:e}}function remove(t,e){var n=t.lastIndexOf(e);n>-1&&(t.splice(n,1),remove(t,e))}function columnPositionValidInGroup(t){var e=currentPositionInHeader(t[0].id),n=limitPositionInGroup(t.data("column").id),r=n.start<=e&&e<=n.end;return{limit:n,valid:r,message:r?"":'Column "'.concat(t.text(),'" can be reordered only within the "',n.group.name,'" group!')}}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy");var t,e=null;function n(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function r(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(e,n){n.placeholder.width(n.helper.outerWidth()-headerColumnWidthDiff),t=!hasFrozenColumns()||n.placeholder.offset().left+n.placeholder.width()>$viewportScrollContainerX.offset().left,$(n.helper).addClass("slick-header-column-active")},beforeStop:function(t,e){$(e.helper).removeClass("slick-header-column-active")},sort:function(i,o){t&&i.originalEvent.pageX>$container[0].clientWidth?e||(e=setInterval(n,100)):t&&i.originalEvent.pageX<$viewportScrollContainerX.offset().left?e||(e=setInterval(r,100)):(clearInterval(e),e=null)},stop:function(t,n){var r=!1;clearInterval(e),e=null;var i=null;if(treeColumns.hasDepth()){var o=columnPositionValidInGroup(n.item);i=o.limit,(r=!o.valid)&&alert(o.message)}if(!r&&getEditorLock().commitCurrentEdit()){var a=$headerL.sortable("toArray");a=a.concat($headerR.sortable("toArray"));for(var s=[],l=0;l<a.length;l++)s.push(columns[getColumnIndex(a[l].replace(uid,""))]);setColumns(s),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(i)}),t.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function getImpactedColumns(t){var e=[];if(t)for(var n=t.start;n<=t.end;n++)e.push(columns[n]);else e=columns;return e}function setupColumnResize(){var t,e,n,r,i,o,a,s,l;(i=$headers.children()).find(".slick-resizable-handle").remove(),i.each((function(t,e){t>=columns.length||columns[t].resizable&&(void 0===s&&(s=t),l=t)})),void 0!==s&&i.each((function(u,c){u>=columns.length||u<s||options.forceFitColumns&&u>=l||($(c),$("<div class='slick-resizable-handle' />").appendTo(c).on("dragstart",(function(e,s){if(!getEditorLock().commitCurrentEdit())return!1;r=e.pageX,$(this).parent().addClass("slick-header-column-active");var l=null,c=null;if(i.each((function(t,e){t>=columns.length||(columns[t].previousWidth=$(e).outerWidth())})),options.forceFitColumns)for(l=0,c=0,t=u+1;t<columns.length;t++)(n=columns[t]).resizable&&(null!==c&&(n.maxWidth?c+=n.maxWidth-n.previousWidth:c=null),l+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));var f=0,h=0;for(t=0;t<=u;t++)(n=columns[t]).resizable&&(null!==h&&(n.maxWidth?h+=n.maxWidth-n.previousWidth:h=null),f+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));null===l&&(l=1e5),null===f&&(f=1e5),null===c&&(c=1e5),null===h&&(h=1e5),a=r+Math.min(l,h),o=r-Math.min(f,c)})).on("drag",(function(i,s){columnResizeDragging=!0;var l,c,f=Math.min(a,Math.max(o,i.pageX))-r,h=0;if(f<0){for(c=f,t=u;t>=0;t--)(n=columns[t]).resizable&&(l=Math.max(n.minWidth||0,absoluteColumnMinWidth),c&&n.previousWidth+c<l?(c+=n.previousWidth-l,n.width=l):(n.width=n.previousWidth+c,c=0));for(e=0;e<=u;e++)n=columns[e],hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(c=-f,t=u+1;t<columns.length;t++)(n=columns[t]).resizable&&(c&&n.maxWidth&&n.maxWidth-n.previousWidth<c?(c-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+c,c=0),hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width);else for(t=u+1;t<columns.length;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(c=-f,t=u+1;t<columns.length;t++)(n=columns[t]).resizable&&(c&&n.maxWidth&&n.maxWidth-n.previousWidth<c?(c-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+c,c=0))}else{for(c=f,h=0,0,t=u;t>=0;t--)(n=columns[t]).resizable&&(c&&n.maxWidth&&n.maxWidth-n.previousWidth<c?(c-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+c,c=0));for(e=0;e<=u;e++)n=columns[e],hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(c=-f,t=u+1;t<columns.length;t++)(n=columns[t]).resizable&&(l=Math.max(n.minWidth||0,absoluteColumnMinWidth),c&&n.previousWidth+c<l?(c+=n.previousWidth-l,n.width=l):(n.width=n.previousWidth+c,c=0),hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width);else for(t=u+1;t<columns.length;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width}hasFrozenColumns()&&h!=canvasWidthL&&($headerL.width(h+1e3),$paneHeaderR.css("left",h)),applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths(),trigger(self.onColumnsDrag,{triggeredByColumn:$(this).parent().attr("id").replace(uid,""),resizeHandle:$(this)})})).on("dragend",(function(e,r){$(this).parent().removeClass("slick-header-column-active");var o,a=$(this).parent().attr("id").replace(uid,"");for(!0===trigger(self.onBeforeColumnsResize,{triggeredByColumn:a})&&(applyColumnHeaderWidths(),applyColumnGroupHeaderWidths()),t=0;t<columns.length;t++)n=columns[t],o=$(i[t]).outerWidth(),n.previousWidth!==o&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{triggeredByColumn:a}),setTimeout((function(){columnResizeDragging=!1}),300)})))}))}function getVBoxDelta(t){var e=0;return t&&"function"==typeof t.css&&$.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],(function(n,r){e+=parseFloat(t.css(r))||0})),e}function setFrozenOptions(){if(options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight;var t=getDataLength();actualFrozenRow=options.frozenBottom?t-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),hasFrozenRows?"scroll":"auto")}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),"auto")}),options.viewportClass&&($viewportTopL.toggleClass(options.viewportClass,!0),$viewportTopR.toggleClass(options.viewportClass,!0),$viewportBottomL.toggleClass(options.viewportClass,!0),$viewportBottomR.toggleClass(options.viewportClass,!0))}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var t,e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=$.fn.jquery.split(".");jQueryNewWidthBehaviour=1==r[0]&&r[1]>=8||r[0]>=2,t=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,(function(e,n){headerColumnWidthDiff+=parseFloat(t.css(n))||0})),$.each(n,(function(e,n){headerColumnHeightDiff+=parseFloat(t.css(n))||0}))),t.remove();var i=$("<div class='slick-row' />").appendTo($canvas);t=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(i),cellWidthDiff=cellHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,(function(e,n){cellWidthDiff+=parseFloat(t.css(n))||0})),$.each(n,(function(e,n){cellHeightDiff+=parseFloat(t.css(n))||0}))),i.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var t=options.rowHeight-cellHeightDiff,e=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-preheader-panel { height:"+options.preHeaderPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+t+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)e.push("."+uid+" .l"+n+" { }"),e.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=e.join(" "):$style[0].appendChild(document.createTextNode(e.join(" ")))}function getColumnCssRules(t){var e;if(!stylesheet){var n=document.styleSheets;for(e=0;e<n.length;e++)if((n[e].ownerNode||n[e].owningElement)==$style[0]){stylesheet=n[e];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,i,o=stylesheet.cssRules||stylesheet.rules;for(e=0;e<o.length;e++){var a=o[e].selectorText;(r=/\.l\d+/.exec(a))?(i=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[i]=o[e]):(r=/\.r\d+/.exec(a))&&(i=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[i]=o[e])}}return{left:columnCssRulesL[t],right:columnCssRulesR[t]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.off(".slickgrid"),removeCssRules(),$canvas.off("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}var canvas=null,canvas_context=null;function autosizeColumn(t,e){var n=t;if("number"==typeof t)n=columns[t];else if("string"==typeof t)for(var r=0;r<columns.length;r++)columns[r].Id===t&&(n=columns[r]);getColAutosizeWidth(n,$(getCanvasNode(0,0)),e)}function autosizeColumns(t,e){if((t=t||options.autosizeColsMode)!==Slick.GridAutosizeColsMode.LegacyForceFit&&t!==Slick.GridAutosizeColsMode.LegacyOff){if(t!==Slick.GridAutosizeColsMode.None){(canvas=document.createElement("canvas"))&&canvas.getContext&&(canvas_context=canvas.getContext("2d"));var n,r,i,o,a=$(getCanvasNode(0,0)),s=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,l=0,u=0,c=0,f=0,h=0;for(n=0;n<columns.length;n++)getColAutosizeWidth(r=columns[n],a,e),h+=r.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?r.width:0,f+=r.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?r.width:r.minWidth,l+=r.autoSize.widthPx,u+=r.autoSize.sizeToRemaining?0:r.autoSize.widthPx,c+=r.autoSize.sizeToRemaining&&r.minWidth||0;var d=l-u;if(t===Slick.GridAutosizeColsMode.FitViewportToCols){var p=l+scrollbarDimensions.width;t=Slick.GridAutosizeColsMode.IgnoreViewport,options.viewportMaxWidthPx&&p>options.viewportMaxWidthPx?(p=options.viewportMaxWidthPx,t=Slick.GridAutosizeColsMode.FitColsToViewport):options.viewportMinWidthPx&&p<options.viewportMinWidthPx&&(p=options.viewportMinWidthPx,t=Slick.GridAutosizeColsMode.FitColsToViewport),$container.width(p)}if(t===Slick.GridAutosizeColsMode.FitColsToViewport)if(d>0&&u<s-c)for(n=0;n<columns.length;n++){var v=s-u;i=(r=columns[n]).autoSize.sizeToRemaining?v*r.autoSize.widthPx/d:r.autoSize.widthPx,r.rerenderOnResize&&r.width!=i&&(o=!0),r.width=i}else if(options.viewportSwitchToScrollModeWidthPercent&&u+c>s*options.viewportSwitchToScrollModeWidthPercent/100||f>s)t=Slick.GridAutosizeColsMode.IgnoreViewport;else{var g=u-h,m=s-h-c;for(n=0;n<columns.length;n++)i=(r=columns[n]).width,r.autoSize.autosizeMode!==Slick.ColAutosizeMode.Locked&&(r.autoSize.sizeToRemaining?i=r.minWidth:((i=m/g*r.autoSize.widthPx)<r.minWidth&&(i=r.minWidth),g-=r.autoSize.widthPx,m-=i)),r.rerenderOnResize&&r.width!=i&&(o=!0),r.width=i}if(t===Slick.GridAutosizeColsMode.IgnoreViewport)for(n=0;n<columns.length;n++)i=columns[n].autoSize.widthPx,columns[n].rerenderOnResize&&columns[n].width!=i&&(o=!0),columns[n].width=i;reRenderColumns(o)}}else legacyAutosizeColumns()}function LogColWidths(){for(var t="Col Widths:",e=0;e<columns.length;e++)t+=" "+columns[e].width;console.log(t)}function getColAutosizeWidth(t,e,n){var r=t.autoSize;if(r.widthPx=t.width,r.autosizeMode!==Slick.ColAutosizeMode.Locked&&r.autosizeMode!==Slick.ColAutosizeMode.Guide){var i=getDataLength();if(r.autosizeMode===Slick.ColAutosizeMode.ContentIntelligent){var o,a=r.colDataTypeOf;if(i>0){var s=getDataItem(0);s&&(o=s[t.field],"object"===(a=_typeof(o))&&(o instanceof Date&&(a="date"),"undefined"!=typeof moment&&o instanceof moment&&(a="moment")))}"boolean"===a&&(r.colValueArray=[!0,!1]),"number"===a&&(r.valueFilterMode=Slick.ValueFilterMode.GetGreatestAndSub,r.rowSelectionMode=Slick.RowSelectionMode.AllRows),"string"===a&&(r.valueFilterMode=Slick.ValueFilterMode.GetLongestText,r.rowSelectionMode=Slick.RowSelectionMode.AllRows,r.allowAddlPercent=5),"date"===a&&(r.colValueArray=[new Date(2009,8,30,12,20,20)]),"moment"===a&&"undefined"!=typeof moment&&(r.colValueArray=[moment([2009,8,30,12,20,20])])}var l=getColContentSize(t,e,n);l=l*(r.allowAddlPercent?1+r.allowAddlPercent/100:1)+options.autosizeColPaddingPx,t.minWidth&&l<t.minWidth&&(l=t.minWidth),t.maxWidth&&l>t.maxWidth&&(l=t.maxWidth),r.widthPx=l}}function getColContentSize(t,e,n){var r,i=t.autoSize,o=1,a=0,s=0;if(i.ignoreHeaderText||(s=getColHeaderWidth(t)),i.colValueArray)return a=getColWidth(t,e,i.colValueArray),Math.max(s,a);var l=getData();l.getItems&&(l=l.getItems());var u=(n?i.rowSelectionModeOnInit:void 0)||i.rowSelectionMode;if(u===Slick.RowSelectionMode.FirstRow&&(l=l.slice(0,1)),u===Slick.RowSelectionMode.LastRow&&(l=l.slice(l.length-1,l.length)),u===Slick.RowSelectionMode.FirstNRows&&(l=l.slice(0,i.rowSelectionCount)),i.valueFilterMode===Slick.ValueFilterMode.DeDuplicate){var c={};for(f=0,r=l.length;f<r;f++)c[l[f][t.field]]=!0;if(Object.keys)l=Object.keys(c);else for(var f in l=[],c)l.push(f)}if(i.valueFilterMode===Slick.ValueFilterMode.GetGreatestAndSub){var h,d=0;for(f=0,r=l.length;f<r;f++)v=l[f][t.field],Math.abs(v)>d&&(h=v,d=Math.abs(v));h=""+h,l=[h=+(h=Array(h.length+1).join("9"))]}if(i.valueFilterMode===Slick.ValueFilterMode.GetLongestTextAndSub){var p=0;for(f=0,r=l.length;f<r;f++)((v=l[f][t.field])||"").length>p&&(p=v.length);v=Array(p+1).join("m"),o=options.autosizeTextAvgToMWidthRatio,l=[v]}if(i.valueFilterMode===Slick.ValueFilterMode.GetLongestText){p=0;var v,g=0;for(f=0,r=l.length;f<r;f++)((v=l[f][t.field])||"").length>p&&(p=v.length,g=f);l=[v=l[g][t.field]]}return a=getColWidth(t,e,l)*o,Math.max(s,a)}function getColWidth(t,e,n){var r=getColumnIndex(t.id),i=$('<div class="slick-row ui-widget-content"></div>'),o=$('<div class="slick-cell"></div>');o.css({position:"absolute",visibility:"hidden","text-overflow":"initial","white-space":"nowrap"}),i.append(o),e.append(i);var a,s,l,u,c=0;return canvas_context&&t.autoSize.widthEvalMode===Slick.WidthEvalMode.CanvasTextSize?(canvas_context.font=o.css("font-size")+" "+o.css("font-family"),$(n).each((function(e,n){u=Array.isArray(n)?n[t.field]:n,(a=(s=""+u)?canvas_context.measureText(s).width:0)>c&&(c=a,l=s)})),o.html(l),a=o.outerWidth(),i.remove(),a):($(n).each((function(e,n){u=Array.isArray(n)?n[t.field]:n,applyFormatResultToCellNode(t.formatterOverride?t.formatterOverride(e,r,u,t,n):t.formatter?t.formatter(e,r,u,t,n):""+u,o[0]),(a=o.outerWidth())>c&&(c=a)})),i.remove(),c)}function getColHeaderWidth(t){var e=0,n=getUID()+t.id,r=document.getElementById(n),i=n+"_";if(r){var o=r.cloneNode(!0);o.id=i,o.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",r.parentNode.insertBefore(o,r),e=o.offsetWidth,o.parentNode.removeChild(o)}else{var a=getHeader(t);e=(r=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+t.name+"</span>").attr("id",i).css({position:"absolute",visibility:"hidden",right:"auto","text-overflow:":"initial","white-space":"nowrap"}).addClass(t.headerCssClass||"").appendTo(a))[0].offsetWidth,a[0].removeChild(r[0])}return e}function legacyAutosizeColumns(){var t,e,n,r=[],i=0,o=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(t=0;t<columns.length;t++)e=columns[t],r.push(e.width),o+=e.width,e.resizable&&(i+=e.width-Math.max(e.minWidth,absoluteColumnMinWidth));for(n=o;o>a&&i;){var s=(o-a)/i;for(t=0;t<columns.length&&o>a;t++){e=columns[t];var l=r[t];if(!(!e.resizable||l<=e.minWidth||l<=absoluteColumnMinWidth)){var u=Math.max(e.minWidth,absoluteColumnMinWidth),c=Math.floor(s*(l-u))||1;o-=c=Math.min(c,l-u),i-=c,r[t]-=c}}if(n<=o)break;n=o}for(n=o;o<a;){var f=a/o;for(t=0;t<columns.length&&o<a;t++){e=columns[t];var h,d=r[t];o+=h=!e.resizable||e.maxWidth<=d?0:Math.min(Math.floor(f*d)-d,e.maxWidth-d||1e6)||1,r[t]+=o<=a?h:0}if(n>=o)break;n=o}var p=!1;for(t=0;t<columns.length;t++)columns[t].rerenderOnResize&&columns[t].width!=r[t]&&(p=!0),columns[t].width=r[t];reRenderColumns(p)}function reRenderColumns(t){applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),trigger(self.onAutosizeColumns,{columns:columns}),t&&(invalidateAllRows(),render())}function trigger(t,e,n){return n=n||new Slick.EventData,(e=e||{}).grid=self,t.notify(e,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(t){return columnsById[t]}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var t=$groupHeadersL.length-1;t>=0;t--){treeColumns.getColumnsInDepth(t);$().add($groupHeadersL[t]).add($groupHeadersR[t]).each((function(t){var e=$(this),n=0;e.width(0===t?getHeadersWidthL():getHeadersWidthR()),e.children().each((function(){var t=$(this),r=$(this).data("column");r.width=0,r.columns.forEach((function(){var t=e.next().children(":eq("+n+++")");r.width+=t.outerWidth()})),t.width(r.width-headerColumnWidthDiff)}))}))}}function applyColumnHeaderWidths(){if(initialized){for(var t,e=0,n=$headers.children(),r=columns.length;e<r;e++)t=$(n[e]),jQueryNewWidthBehaviour?t.outerWidth()!==columns[e].width&&t.outerWidth(columns[e].width):t.width()!==columns[e].width-headerColumnWidthDiff&&t.width(columns[e].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var t,e,n=0,r=0;r<columns.length;r++)t=columns[r].width,(e=getColumnCssRules(r)).left.style.left=n+"px",e.right.style.right=(-1!=options.frozenColumn&&r>options.frozenColumn?canvasWidthR:canvasWidthL)-n-t+"px",options.frozenColumn==r?n=0:n+=columns[r].width}function setSortColumn(t,e){setSortColumns([{columnId:t,sortAsc:e}])}function setSortColumns(t){sortColumns=t;var e=options.numberedMultiColumnSort&&sortColumns.length>1,n=$headers.children();n.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),n.find(".slick-sort-indicator-numbered").text(""),$.each(sortColumns,(function(t,r){null==r.sortAsc&&(r.sortAsc=!0);var i=getColumnIndex(r.columnId);null!=i&&(n.eq(i).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(r.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),e&&n.eq(i).find(".slick-sort-indicator-numbered").text(t+1))}))}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(t,e){var n=selectedRows.slice(0);selectedRows=[];for(var r={},i=0;i<e.length;i++)for(var o=e[i].fromRow;o<=e[i].toRow;o++){r[o]||(selectedRows.push(o),r[o]={});for(var a=e[i].fromCell;a<=e[i].toCell;a++)canCellBeSelected(o,a)&&(r[o][columns[a].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,r),simpleArrayEquals(n,selectedRows)&&trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),previousSelectedRows:n},t)}function simpleArrayEquals(t,e){return Array.isArray(t)&&Array.isArray(e)&&e.sort().toString()!==t.sort().toString()}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var t=0,e=0,n=columns.length;e<n;e++)columnPosLeft[e]=t,columnPosRight[e]=t+columns[e].width,options.frozenColumn==e?t=0:t+=columns[e].width}function updateColumnProps(){columnsById={};for(var t=0;t<columns.length;t++){columns[t].width&&(columns[t].widthRequest=columns[t].width);var e=columns[t]=$.extend({},columnDefaults,columns[t]);e.autoSize=$.extend({},columnAutosizeDefaults,e.autoSize),columnsById[e.id]=t,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth),e.resizable}}function setColumns(t){var e=new Slick.TreeColumns(t);columns=e.hasDepth()?(treeColumns=e).extractColumns():t,updateColumnProps(),updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnHeaderWidths(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(t,e){if(getEditorLock().commitCurrentEdit()){makeActiveCellNormal(),void 0!==t.showColumnHeader&&setColumnHeaderVisibility(t.showColumnHeader),options.enableAddRow!==t.enableAddRow&&invalidateRow(getDataLength());var n=$.extend(!0,{},options);options=$.extend(options,t),trigger(self.onSetOptions,{optionsBefore:n,optionsAfter:options}),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),e||render(),setFrozenOptions(),setScroller(),zombieRowNodeFromLastMouseWheelEvent=null,setColumns(treeColumns.extractColumns())}}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1),options.forceFitColumns&&(options.autosizeColsMode=Slick.GridAutosizeColsMode.LegacyForceFit,console.log("forceFitColumns option is deprecated - use autosizeColsMode"))}function setData(t,e){data=t,invalidateAllRows(),updateRowCount(),e&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data&&data.length||0}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow&&(!pagingActive||pagingIsLastPage)?1:0)}function getDataItem(t){return data.getItem?data.getItem(t):data[t]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(t,e){var n=!1!==e;options.showTopPanel!=t&&(options.showTopPanel=t,t?n?$topPanelScroller.slideDown("fast",resizeCanvas):($topPanelScroller.show(),resizeCanvas()):n?$topPanelScroller.slideUp("fast",resizeCanvas):($topPanelScroller.hide(),resizeCanvas()))}function setHeaderRowVisibility(t,e){var n=!1!==e;options.showHeaderRow!=t&&(options.showHeaderRow=t,t?n?$headerRowScroller.slideDown("fast",resizeCanvas):($headerRowScroller.show(),resizeCanvas()):n?$headerRowScroller.slideUp("fast",resizeCanvas):($headerRowScroller.hide(),resizeCanvas()))}function setColumnHeaderVisibility(t,e){options.showColumnHeader!=t&&(options.showColumnHeader=t,t?e?$headerScroller.slideDown("fast",resizeCanvas):($headerScroller.show(),resizeCanvas()):e?$headerScroller.slideUp("fast",resizeCanvas):($headerScroller.hide(),resizeCanvas()))}function setFooterRowVisibility(t,e){var n=!1!==e;options.showFooterRow!=t&&(options.showFooterRow=t,t?n?$footerRowScroller.slideDown("fast",resizeCanvas):($footerRowScroller.show(),resizeCanvas()):n?$footerRowScroller.slideUp("fast",resizeCanvas):($footerRowScroller.hide(),resizeCanvas()))}function setPreHeaderPanelVisibility(t,e){var n=!1!==e;options.showPreHeaderPanel!=t&&(options.showPreHeaderPanel=t,t?n?$preHeaderPanelScroller.slideDown("fast",resizeCanvas):($preHeaderPanelScroller.show(),resizeCanvas()):n?$preHeaderPanelScroller.slideUp("fast",resizeCanvas):($preHeaderPanelScroller.hide(),resizeCanvas()))}function getContainerNode(){return $container.get(0)}function getRowTop(t){return options.rowHeight*t-offset}function getRowFromPosition(t){return Math.floor((t+offset)/options.rowHeight)}function scrollTo(t){t=Math.max(t,0),t=Math.min(t,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var e=offset;page=Math.min(n-1,Math.floor(t/ph));var r=t-(offset=Math.round(page*cj));offset!=e&&(cleanupRows(getVisibleRange(r)),updateRowPositions());prevScrollTop!=r&&(vScrollDir=prevScrollTop+e<r+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=r,hasFrozenColumns()&&($viewportTopL[0].scrollTop=r),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=r),$viewportScrollContainerY[0].scrollTop=r,trigger(self.onViewportChanged,{}))}function defaultFormatter(t,e,n,r,i,o){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t),r=n&&n.columns&&(n.columns[e.id]||n.columns[getColumnIndex(e.id)]);return r&&r.formatter||n&&n.formatter||e.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(e)||options.defaultFormatter}function callFormatter(t,e,n,r,i,o){var a,s=data.getItemMetadata&&data.getItemMetadata(t);if(s=s&&s.columns){var l=s[r.id]||s[e];a=getFormatter(t,r)(t,e,n,r,i,l)}else a=getFormatter(t,r)(t,e,n,r,i);return a}function getEditor(t,e){var n=columns[e],r=data.getItemMetadata&&data.getItemMetadata(t),i=r&&r.columns;return i&&i[n.id]&&void 0!==i[n.id].editor?i[n.id].editor:i&&i[e]&&void 0!==i[e].editor?i[e].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(t,e){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(t,e):t[e.field]}function appendRowHtml(t,e,n,r,i){var o=getDataItem(n),a=n<i&&!o,s="slick-row"+(hasFrozenRows&&n<=options.frozenRow?" frozen":"")+(a?" loading":"")+(n===activeRow&&options.showCellSelection?" active":"")+(n%2==1?" odd":" even");o||(s+=" "+options.addNewRowCssClass);var l=data.getItemMetadata&&data.getItemMetadata(n);l&&l.cssClasses&&(s+=" "+l.cssClasses);var u,c,f=getFrozenRowOffset(n),h="<div class='ui-widget-content "+s+"' style='top:"+(getRowTop(n)-f)+"px'>";t.push(h),hasFrozenColumns()&&e.push(h);for(var d=0,p=columns.length;d<p;d++){if(c=columns[d],u=1,l&&l.columns){var v=l.columns[c.id]||l.columns[d];"*"===(u=v&&v.colspan||1)&&(u=p-d)}if(columnPosRight[Math.min(p-1,d+u-1)]>r.leftPx){if(!c.alwaysRenderColumn&&columnPosLeft[d]>r.rightPx)break;hasFrozenColumns()&&d>options.frozenColumn?appendCellHtml(e,n,d,u,o):appendCellHtml(t,n,d,u,o)}else(c.alwaysRenderColumn||hasFrozenColumns()&&d<=options.frozenColumn)&&appendCellHtml(t,n,d,u,o);u>1&&(d+=u-1)}t.push("</div>"),hasFrozenColumns()&&e.push("</div>")}function appendCellHtml(t,e,n,r,i){var o=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(o.cssClass?" "+o.cssClass:"");for(var s in hasFrozenColumns()&&n<=options.frozenColumn&&(a+=" frozen"),e===activeRow&&n===activeCell&&options.showCellSelection&&(a+=" active"),cellCssClasses)cellCssClasses[s][e]&&cellCssClasses[s][e][o.id]&&(a+=" "+cellCssClasses[s][e][o.id]);var l=null,u="";i&&(l=getDataItemValueForColumn(i,o),null==(u=getFormatter(e,o)(e,n,l,o,i,self))&&(u=""));var c=trigger(self.onBeforeAppendCell,{row:e,cell:n,value:l,dataContext:i})||"";c+=u&&u.addClasses?(c?" ":"")+u.addClasses:"";var f=u&&u.toolTip?"title='"+u.toolTip+"'":"",h="";if(o.hasOwnProperty("cellAttrs")&&o.cellAttrs instanceof Object)for(var s in o.cellAttrs)o.cellAttrs.hasOwnProperty(s)&&(h+=" "+s+'="'+o.cellAttrs[s]+'" ');t.push("<div class='"+a+(c?" "+c:"")+"' "+f+h+">"),i&&t.push("[object Object]"!==Object.prototype.toString.call(u)?u:u.text),t.push("</div>"),rowsCache[e].cellRenderQueue.push(n),rowsCache[e].cellColSpans[n]=r}function cleanupRows(t){for(var e in rowsCache){var n=!0;hasFrozenRows&&(options.frozenBottom&&e>=actualFrozenRow||!options.frozenBottom&&e<=actualFrozenRow)&&(n=!1),(e=parseInt(e,10))!==activeRow&&(e<t.top||e>t.bottom)&&n&&removeRowFromCache(e)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var t in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(t);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(t,e,n){for(var r in postProcessgroupId++,e)e.hasOwnProperty(r)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:t.cellNodesByColumnIdx[0|r],columnIdx:0|r,rowIdx:n});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:t.rowNode}),$(t.rowNode).detach()}function queuePostProcessedCellForCleanup(t,e,n){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:t,columnIdx:e,rowIdx:n}),$(t).detach()}function removeRowFromCache(t){var e=rowsCache[t];e&&(rowNodeFromLastMouseWheelEvent==e.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==e.rowNode[1]?(e.rowNode.hide(),zombieRowNodeFromLastMouseWheelEvent=e.rowNode):e.rowNode.each((function(){this.parentElement.removeChild(this)})),delete rowsCache[t],delete postProcessedRows[t],renderedRows--,counter_rows_removed++)}function invalidateRows(t){var e,n;if(t&&t.length){for(vScrollDir=0,n=t.length,e=0;e<n;e++)currentEditor&&activeRow===t[e]&&makeActiveCellNormal(),rowsCache[t[e]]&&removeRowFromCache(t[e]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(t){(t||0===t)&&invalidateRows([t])}function applyFormatResultToCellNode(t,e,n){null==t&&(t=""),"[object Object]"===Object.prototype.toString.call(t)?(e.innerHTML=t.text,t.removeClasses&&!n&&$(e).removeClass(t.removeClasses),t.addClasses&&$(e).addClass(t.addClasses),t.toolTip&&$(e).attr("title",t.toolTip)):e.innerHTML=t}function updateCell(t,e){var n=getCellNode(t,e);if(n){var r=columns[e],i=getDataItem(t);if(currentEditor&&activeRow===t&&activeCell===e)currentEditor.loadValue(i);else applyFormatResultToCellNode(i?getFormatter(t,r)(t,e,getDataItemValueForColumn(i,r),r,i,self):"",n),invalidatePostProcessingResults(t)}}function updateRow(t){var e=rowsCache[t];if(e){ensureCellNodesInRowsCache(t);var n=getDataItem(t);for(var r in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(r)){var i=columns[r|=0],o=e.cellNodesByColumnIdx[r][0];t===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):n?applyFormatResultToCellNode(getFormatter(t,i)(t,r,getDataItemValueForColumn(n,i),i,n,self),o):o.innerHTML=""}invalidatePostProcessingResults(t)}}function getViewportHeight(){if(options.autoHeight&&-1==options.frozenColumn||(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0),options.autoHeight){var t=$paneHeaderL.outerHeight();t+=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,t+=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,t+=getCanvasWidth()>viewportW?scrollbarDimensions.height:0,viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?t:0)}else{var e=options.showColumnHeader?parseFloat($.css($headerScroller[0],"height"))+getVBoxDelta($headerScroller):0,n=options.createPreHeaderPanel&&options.showPreHeaderPanel?options.preHeaderPanelHeight+getVBoxDelta($preHeaderPanelScroller):0;viewportH=parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-e-topPanelH-headerRowH-footerRowH-n}return numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportH}function getViewportWidth(){viewportW=parseFloat($container.width())}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat($.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height(),height:paneTopH});var t=$paneTopL.position().top+paneTopH;options.autoHeight||$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:t,height:paneBottomH}),$paneBottomR.css({top:t,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",t)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),scrollbarDimensions&&scrollbarDimensions.width||(scrollbarDimensions=measureScrollbar()),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updatePagingStatusFromView(t){pagingActive=0!==t.pageSize,pagingIsLastPage=t.pageNum==t.totalPages-1}function updateRowCount(){if(initialized){var t=getDataLength(),e=getDataLengthIncludingAddNew(),r=0,i=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();if(hasFrozenRows)r=getDataLength()-options.frozenRow;else r=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var o=$viewportScrollContainerY.height(),a=viewportHasVScroll;viewportHasVScroll=options.alwaysShowVerticalScroll||!options.autoHeight&&r*options.rowHeight>o,makeActiveCellNormal();var s=t-1;for(var l in rowsCache)l>s&&removeRowFromCache(l);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>s&&resetActiveCell();i=h;options.autoHeight?h=options.rowHeight*r:(th=Math.max(options.rowHeight*r,o-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==i&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var u=scrollTop+offset<=th-o;0==th||0==scrollTop?page=offset=0:scrollTo(u?scrollTop+offset:th-o),h!=i&&options.autoHeight&&resizeCanvas(),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&a!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(t,e){return null==t&&(t=scrollTop),null==e&&(e=scrollLeft),{top:getRowFromPosition(t),bottom:getRowFromPosition(t+viewportH)+1,leftPx:e,rightPx:e+viewportW}}function getRenderedRange(t,e){var n=getVisibleRange(t,e),r=Math.round(viewportH/options.rowHeight),i=options.minRowBuffer;return-1==vScrollDir?(n.top-=r,n.bottom+=i):1==vScrollDir?(n.top-=i,n.bottom+=r):(n.top-=i,n.bottom+=i),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(t){var e=rowsCache[t];if(e&&e.cellRenderQueue.length)for(var n=e.rowNode.children().last();e.cellRenderQueue.length;){var r=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[r]=n,0===(n=n.prev()).length&&(n=$(e.rowNode[0]).children().last())}}function cleanUpCells(t,e){if(!hasFrozenRows||!(options.frozenBottom&&e>actualFrozenRow||e<=actualFrozenRow)){var n,r=rowsCache[e],i=[];for(var o in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(o)&&!((o|=0)<=options.frozenColumn||Array.isArray(columns)&&columns[o]&&columns[o].alwaysRenderColumn)){var a=r.cellColSpans[o];(columnPosLeft[o]>t.rightPx||columnPosRight[Math.min(columns.length-1,o+a-1)]<t.leftPx)&&(e==activeRow&&o==activeCell||i.push(o))}for(;null!=(n=i.pop());)r.cellNodesByColumnIdx[n][0].parentElement.removeChild(r.cellNodesByColumnIdx[n][0]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[e]&&delete postProcessedRows[e][n]}}function cleanUpAndRenderCells(t){for(var e,n,r,i=[],o=[],a=t.top,s=t.bottom;a<=s;a++)if(e=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(t,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var u=getDataItem(a),c=0,f=columns.length;c<f&&!(columnPosLeft[c]>t.rightPx);c++)if(null==(r=e.cellColSpans[c])){if(r=1,l){var h=l[columns[c].id]||l[c];"*"===(r=h&&h.colspan||1)&&(r=f-c)}columnPosRight[Math.min(f-1,c+r-1)]>t.leftPx&&(appendCellHtml(i,a,c,r,u),n++),c+=r>1?r-1:0}else c+=r>1?r-1:0;n&&(n,o.push(a))}if(i.length){var d,p,v=document.createElement("div");for(v.innerHTML=i.join("");null!=(d=o.pop());){var g;for(e=rowsCache[d];null!=(g=e.cellRenderQueue.pop());)p=v.lastChild,hasFrozenColumns()&&g>options.frozenColumn?e.rowNode[1].appendChild(p):e.rowNode[0].appendChild(p),e.cellNodesByColumnIdx[g]=$(p)}}}function renderRows(t){for(var e=[],n=[],r=[],i=!1,o=getDataLength(),a=t.top,s=t.bottom;a<=s;a++)rowsCache[a]||hasFrozenRows&&options.frozenBottom&&a==getDataLength()||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(e,n,a,t,o),activeCellNode&&activeRow===a&&(i=!0),counter_rows_rendered++);if(r.length){var l=document.createElement("div"),u=document.createElement("div");l.innerHTML=e.join(""),u.innerHTML=n.join("");for(a=0,s=r.length;a<s;a++)hasFrozenRows&&r[a]>=actualFrozenRow?hasFrozenColumns()?rowsCache[r[a]].rowNode=$().add($(l.firstChild).appendTo($canvasBottomL)).add($(u.firstChild).appendTo($canvasBottomR)):rowsCache[r[a]].rowNode=$().add($(l.firstChild).appendTo($canvasBottomL)):hasFrozenColumns()?rowsCache[r[a]].rowNode=$().add($(l.firstChild).appendTo($canvasTopL)).add($(u.firstChild).appendTo($canvasTopR)):rowsCache[r[a]].rowNode=$().add($(l.firstChild).appendTo($canvasTopL));i&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){options.enableAsyncPostRenderCleanup&&(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(t){for(var e in postProcessedRows[t])postProcessedRows[t].hasOwnProperty(e)&&(postProcessedRows[t][e]="C");postProcessFromRow=Math.min(postProcessFromRow,t),postProcessToRow=Math.max(postProcessToRow,t),startPostProcessing()}function updateRowPositions(){for(var t in rowsCache){var e=t?parseInt(t):0;rowsCache[e].rowNode[0].style.top=getRowTop(e)+"px"}}function render(){if(initialized){scrollThrottle.dequeue();var t=getVisibleRange(),e=getRenderedRange();if(cleanupRows(e),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var n=$.extend(!0,{},e);options.frozenBottom?(n.top=actualFrozenRow,n.bottom=getDataLength()):(n.top=0,n.bottom=options.frozenRow),cleanUpAndRenderCells(n)}cleanUpAndRenderCells(e)}renderRows(e),hasFrozenRows&&(options.frozenBottom?renderRows({top:actualFrozenRow,bottom:getDataLength()-1,leftPx:e.leftPx,rightPx:e.rightPx}):renderRows({top:0,bottom:options.frozenRow-1,leftPx:e.leftPx,rightPx:e.rightPx})),postProcessFromRow=t.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,t.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null,trigger(self.onRendered,{startRow:t.top,endRow:t.bottom,grid:self})}}function handleHeaderScroll(){handleElementScroll($headerScrollContainer[0])}function handleHeaderRowScroll(){var t=$headerRowScrollContainer[0].scrollLeft;t!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=t)}function handleFooterRowScroll(){var t=$footerRowScrollContainer[0].scrollLeft;t!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=t)}function handlePreHeaderPanelScroll(){handleElementScroll($preHeaderPanelScroller[0])}function handleElementScroll(t){var e=t.scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(t){var e=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,r=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth;e=Math.max(0,e),r=Math.max(0,r),scrollTop>e&&(scrollTop=e),scrollLeft>r&&(scrollLeft=r);var i=Math.abs(scrollTop-prevScrollTop),o=Math.abs(scrollLeft-prevScrollLeft);if(o&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScrollContainer[0].scrollLeft=scrollLeft),options.createPreHeaderPanel&&(hasFrozenColumns()?$preHeaderPanelScrollerR[0].scrollLeft=scrollLeft:$preHeaderPanelScroller[0].scrollLeft=scrollLeft),hasFrozenColumns()?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),i)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,t&&($viewportScrollContainerY[0].scrollTop=scrollTop),hasFrozenColumns()&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),i<viewportH)scrollTo(scrollTop+offset);else{var a=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),a!=(offset=Math.round(page*cj))&&invalidateAllRows()}if(o||i){var s=Math.abs(lastRenderedScrollLeft-scrollLeft),l=Math.abs(lastRenderedScrollTop-scrollTop);(s>20||l>20)&&(options.forceSyncScrolling||l<viewportH&&s<viewportW?render():scrollThrottle.enqueue(),trigger(self.onViewportChanged,{}))}return trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop}),!(!o&&!i)}function ActionThrottle(t,e){var n=!1,r=!1;function i(){r=!1}function o(){n=!0,setTimeout(a,e),t()}function a(){r?(i(),o()):n=!1}return{enqueue:function(){n?r=!0:o()},dequeue:i}}function asyncPostProcessRows(){for(var t=getDataLength();postProcessFromRow<=postProcessToRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[e];if(n&&!(e>=t)){for(var r in postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var i=columns[r|=0],o=postProcessedRows[e][r];if(i.asyncPostRender&&"R"!==o){var a=n.cellNodesByColumnIdx[r];a&&i.asyncPostRender(a,e,getDataItem(e),i,"C"===o),postProcessedRows[e][r]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var t=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==t;){var e=postProcessedCleanupQueue.shift();if("R"==e.actionType&&$(e.node).remove(),"C"==e.actionType){var n=columns[e.columnIdx];n.asyncPostRenderCleanup&&e.node&&n.asyncPostRenderCleanup(e.node,e.rowIdx,n)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(t,e){var n,r,i,o;for(var a in rowsCache){if(o=e&&e[a],i=t&&t[a],o)for(r in o)i&&o[r]==i[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).removeClass(o[r]);if(i)for(r in i)o&&o[r]==i[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).addClass(i[r])}}function addCellCssStyles(t,e){if(cellCssClasses[t])throw new Error("addCellCssStyles: cell CSS hash with key '"+t+"' already exists.");cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,null),trigger(self.onCellCssStylesChanged,{key:t,hash:e,grid:self})}function removeCellCssStyles(t){cellCssClasses[t]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[t]),delete cellCssClasses[t],trigger(self.onCellCssStylesChanged,{key:t,hash:null,grid:self}))}function setCellCssStyles(t,e){var n=cellCssClasses[t];cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,n),trigger(self.onCellCssStylesChanged,{key:t,hash:e,grid:self})}function getCellCssStyles(t){return cellCssClasses[t]}function flashCell(t,e,n){(n=n||100,rowsCache[t])&&function t(e,r){r&&setTimeout((function(){e.queue((function(){e.toggleClass(options.cellFlashingCssClass).dequeue(),t(e,r-1)}))}),n)}($(getCellNode(t,e)),4)}function handleMouseWheel(t,e,n,r){var i=$(t.target).closest(".slick-row"),o=i[0];if(o!=rowNodeFromLastMouseWheelEvent){var a=i.parents(".grid-canvas").hasClass("grid-canvas-left");if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[a?0:1]!=o){var s=zombieRowNodeFromLastMouseWheelEvent[a||1==zombieRowNodeFromLastMouseWheelEvent.length?0:1];s.parentElement.removeChild(s),zombieRowNodeFromLastMouseWheelEvent=null}rowNodeFromLastMouseWheelEvent=o}scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-r*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*n,_handleScroll(!0)&&t.preventDefault()}function handleDragInit(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragInit,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDragStart(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(t,e){return trigger(self.onDrag,e,t)}function handleDragEnd(t,e){trigger(self.onDragEnd,e,t)}function handleKeyDown(t){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},t);var e=t.isImmediatePropagationStopped(),n=Slick.keyCode;if(!e&&!t.shiftKey&&!t.altKey){if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(t.which)>-1)return;t.which==n.HOME?e=t.ctrlKey?navigateTop():navigateRowStart():t.which==n.END&&(e=t.ctrlKey?navigateBottom():navigateRowEnd())}if(!e)if(t.shiftKey||t.altKey||t.ctrlKey)t.which!=n.TAB||!t.shiftKey||t.ctrlKey||t.altKey||(e=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(t.which)>-1)return;if(t.which==n.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else t.which==n.PAGE_DOWN?(navigatePageDown(),e=!0):t.which==n.PAGE_UP?(navigatePageUp(),e=!0):t.which==n.LEFT?e=navigateLeft():t.which==n.RIGHT?e=navigateRight():t.which==n.UP?e=navigateUp():t.which==n.DOWN?e=navigateDown():t.which==n.TAB?e=navigateNext():t.which==n.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable(void 0,void 0,t)),e=!0)}if(e){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}function handleClick(t){currentEditor||(t.target!=document.activeElement||$(t.target).hasClass("slick-cell"))&&setFocus();var e=getCellFromEvent(t);if(e&&(null===currentEditor||activeRow!=e.row||activeCell!=e.cell)&&(trigger(self.onClick,{row:e.row,cell:e.cell},t),!t.isImmediatePropagationStopped()&&canCellBeActive(e.row,e.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()))){scrollRowIntoView(e.row,!1);var n=t.target&&t.target.className===Slick.preClickClassName,r=columns[e.cell],i=!!(options.editable&&r&&r.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(getCellNode(e.row,e.cell),null,n,i,t)}}function handleContextMenu(t){var e=$(t.target).closest(".slick-cell",$canvas);0!==e.length&&(activeCellNode===e[0]&&null!==currentEditor||trigger(self.onContextMenu,{},t))}function handleDblClick(t){var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onDblClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||options.editable&&gotoCell(e.row,e.cell,!0,t))}function handleHeaderMouseEnter(t){trigger(self.onHeaderMouseEnter,{column:$(this).data("column"),grid:self},t)}function handleHeaderMouseLeave(t){trigger(self.onHeaderMouseLeave,{column:$(this).data("column"),grid:self},t)}function handleHeaderContextMenu(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");trigger(self.onHeaderContextMenu,{column:n},t)}function handleHeaderClick(t){if(!columnResizeDragging){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");n&&trigger(self.onHeaderClick,{column:n},t)}}function handleFooterContextMenu(t){var e=$(t.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),n=e&&e.data("column");trigger(self.onFooterContextMenu,{column:n},t)}function handleFooterClick(t){var e=$(t.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),n=e&&e.data("column");trigger(self.onFooterClick,{column:n},t)}function handleMouseEnter(t){trigger(self.onMouseEnter,{},t)}function handleMouseLeave(t){trigger(self.onMouseLeave,{},t)}function cellExists(t,e){return!(t<0||t>=getDataLength()||e<0||e>=columns.length)}function getCellFromPoint(t,e){for(var n=getRowFromPosition(e),r=0,i=0,o=0;o<columns.length&&i<t;o++)i+=columns[o].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(t){var e=/l\d+/.exec(t.className);if(!e)throw new Error("getCellFromNode: cannot get cell - "+t.className);return parseInt(e[0].substr(1,e[0].length-1),10)}function getRowFromNode(t){for(var e in rowsCache)for(var n in rowsCache[e].rowNode)if(rowsCache[e].rowNode[n]===t)return e?parseInt(e):0;return null}function getFrozenRowOffset(t){return hasFrozenRows?options.frozenBottom?t>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:t>=actualFrozenRow?frozenRowsHeight:0:0}function getCellFromEvent(t){var e,n,r=$(t.target).closest(".slick-cell",$canvas);if(!r.length)return null;if(e=getRowFromNode(r[0].parentNode),hasFrozenRows){var i=r.parents(".grid-canvas").offset(),o=0;r.parents(".grid-canvas-bottom").length&&(o=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),e=getCellFromPoint(t.clientX-i.left,t.clientY-i.top+o+$(document).scrollTop()).row}return n=getCellFromNode(r[0]),null==e||null==n?null:{row:e,cell:n}}function getCellNodeBox(t,e){if(!cellExists(t,e))return null;for(var n=getFrozenRowOffset(t),r=getRowTop(t)-n,i=r+options.rowHeight-1,o=0,a=0;a<e;a++)o+=columns[a].width,options.frozenColumn==a&&(o=0);return{top:r,left:o,bottom:i,right:o+columns[e].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(t,e,n){if(scrollRowIntoView(t,n),!(e<=options.frozenColumn)){var r=getColspan(t,e);internalScrollColumnIntoView(columnPosLeft[e],columnPosRight[e+(r>1?r-1:0)])}}function internalScrollColumnIntoView(t,e){var n=scrollLeft+$viewportScrollContainerX.width();t<scrollLeft?($viewportScrollContainerX.scrollLeft(t),handleScroll(),render()):e>n&&($viewportScrollContainerX.scrollLeft(Math.min(t,e-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}function scrollColumnIntoView(t){internalScrollColumnIntoView(columnPosLeft[t],columnPosRight[t])}function setActiveCellInternal(t,e,n,r,i){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));if(null!=(activeCellNode=t)){var o=$(activeCellNode),a=o.offset(),s=Math.floor(o.parents(".grid-canvas").offset().top),l=o.parents(".grid-canvas-bottom").length;hasFrozenRows&&l&&(s-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var u=getCellFromPoint(a.left,Math.ceil(a.top)-s);activeRow=u.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode),null==e&&(e=activeRow==getDataLength()||options.autoEdit),options.showCellSelection&&(o.addClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).addClass("active")),options.editable&&e&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout((function(){makeActiveCellEditable(void 0,n,i)}),options.asyncEditorLoadDelay):makeActiveCellEditable(void 0,n,i))}else activeRow=activeCell=null;r||trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(t,e){var n=getDataLength();return!(t<n&&!getDataItem(t))&&(!(columns[e].cannotTriggerInsert&&t>=n)&&!!getEditor(t,e))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var t=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),t){var e=columns[activeCell];applyFormatResultToCellNode(getFormatter(activeRow,e)(activeRow,activeCell,getDataItemValueForColumn(t,e),e,t,self),activeCellNode),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(t,e,n){if(activeCellNode){if(!options.editable)throw new Error("Grid : makeActiveCellEditable : should never get called when options.editable is false");if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var r=columns[activeCell],i=getDataItem(activeRow);if(!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:i,column:r})){getEditorLock().activate(editController),$(activeCellNode).addClass("editable");var o=t||getEditor(activeRow,activeCell);t||o.suppressClearOnEdit||(activeCellNode.innerHTML="");var a=data.getItemMetadata&&data.getItemMetadata(activeRow),s=(a=a&&a.columns)&&(a[r.id]||a[activeCell]);currentEditor=new o({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:r,columnMetaData:s,item:i||{},event:n,commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),i&&(currentEditor.loadValue(i),e&&currentEditor.preClick&&currentEditor.preClick()),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}else setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:$(t).outerWidth(),height:$(t).outerHeight(),visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var n=t.offsetParent;(t=t.parentNode)!=document.body&&null!=t;)e.visible&&t.scrollHeight!=t.offsetHeight&&"visible"!=$(t).css("overflowY")&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!=t.offsetWidth&&"visible"!=$(t).css("overflowX")&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===n&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,n=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var t=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(t.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(t)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(t,e){if(!hasFrozenRows||!options.frozenBottom&&t>actualFrozenRow-1||options.frozenBottom&&t<actualFrozenRow-1){var n=$viewportScrollContainerY.height(),r=hasFrozenRows&&!options.frozenBottom?t-options.frozenRow:t,i=r*options.rowHeight,o=(r+1)*options.rowHeight-n+(viewportHasHScroll?scrollbarDimensions.height:0);(r+1)*options.rowHeight>scrollTop+n+offset?(scrollTo(e?i:o),render()):r*options.rowHeight<scrollTop+offset&&(scrollTo(e?o:i),render())}}function scrollRowToTop(t){scrollTo(t*options.rowHeight),render()}function scrollPage(t){var e=t*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop+options.rowHeight-1)+e)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+e,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var i=0,o=null,a=activePosX;i<=activePosX;)canCellBeActive(n,i)&&(o=i),i+=getColspan(n,i);null!==o?(setActiveCellInternal(getCellNode(n,o)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function navigateTop(){navigateToRow(0)}function navigateBottom(){navigateToRow(getDataLength()-1)}function navigateToRow(t){var e=getDataLength();if(!e)return!0;if(t<0?t=0:t>=e&&(t=e-1),scrollCellIntoView(t,0,!0),options.enableCellNavigation&&null!=activeRow){for(var n=0,r=null,i=activePosX;n<=activePosX;)canCellBeActive(t,n)&&(r=n),n+=getColspan(t,n);null!==r?(setActiveCellInternal(getCellNode(t,r)),activePosX=i):resetActiveCell()}return!0}function getColspan(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t);if(!n||!n.columns)return 1;var r=n.columns[columns[e].id]||n.columns[e],i=r&&r.colspan;return i="*"===i?columns.length-e:i||1}function findFirstFocusableCell(t){for(var e=0;e<columns.length;){if(canCellBeActive(t,e))return e;e+=getColspan(t,e)}return null}function findLastFocusableCell(t){for(var e=0,n=null;e<columns.length;)canCellBeActive(t,e)&&(n=e),e+=getColspan(t,e);return n}function gotoRight(t,e,n){if(e>=columns.length)return null;do{e+=getColspan(t,e)}while(e<columns.length&&!canCellBeActive(t,e));return e<columns.length?{row:t,cell:e,posX:e}:null}function gotoLeft(t,e,n){if(e<=0)return null;var r=findFirstFocusableCell(t);if(null===r||r>=e)return null;for(var i,o={row:t,cell:r,posX:r};;){if(!(i=gotoRight(o.row,o.cell,o.posX)))return null;if(i.cell>=e)return o;o=i}}function gotoDown(t,e,n){for(var r,i=getDataLengthIncludingAddNew();;){if(++t>=i)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoUp(t,e,n){for(var r;;){if(--t<0)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoNext(t,e,n){if(null==t&&null==e&&canCellBeActive(t=e=n=0,e))return{row:t,cell:e,posX:e};var r=gotoRight(t,e,n);if(r)return r;var i=null,o=getDataLengthIncludingAddNew();for(t===o-1&&t--;++t<o;)if(null!==(i=findFirstFocusableCell(t)))return{row:t,cell:i,posX:i};return null}function gotoPrev(t,e,n){if(null==t&&null==e&&canCellBeActive(t=getDataLengthIncludingAddNew()-1,e=n=columns.length-1))return{row:t,cell:e,posX:e};for(var r,i;!r&&!(r=gotoLeft(t,e,n));){if(--t<0)return null;e=0,null!==(i=findLastFocusableCell(t))&&(r={row:t,cell:i,posX:i})}return r}function gotoRowStart(t,e,n){var r=findFirstFocusableCell(t);return null===r?null:{row:t,cell:r,posX:r}}function gotoRowEnd(t,e,n){var r=findLastFocusableCell(t);return null===r?null:{row:t,cell:r,posX:r}}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigateRowStart(){return navigate("home")}function navigateRowEnd(){return navigate("end")}function navigate(t){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=t&&"next"!=t)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[t];var e=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext,home:gotoRowStart,end:gotoRowEnd}[t])(activeRow,activeCell,activePosX);if(e){if(hasFrozenRows&&options.frozenBottom&e.row==getDataLength())return;var n=e.row==getDataLength();return(!options.frozenBottom&&e.row>=actualFrozenRow||options.frozenBottom&&e.row<actualFrozenRow)&&scrollCellIntoView(e.row,e.cell,!n&&options.emulatePagingWhenScrolling),setActiveCellInternal(getCellNode(e.row,e.cell)),activePosX=e.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(t,e){if(rowsCache[t]){ensureCellNodesInRowsCache(t);try{return rowsCache[t].cellNodesByColumnIdx.length>e?rowsCache[t].cellNodesByColumnIdx[e][0]:null}catch(n){return rowsCache[t].cellNodesByColumnIdx[e]}}return null}function setActiveCell(t,e,n,r,i){initialized&&(t>getDataLength()||t<0||e>=columns.length||e<0||options.enableCellNavigation&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),n,r,i)))}function canCellBeActive(t,e){if(!options.enableCellNavigation||t>=getDataLengthIncludingAddNew()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&void 0!==n.focusable)return!!n.focusable;var r=n&&n.columns;return r&&r[columns[e].id]&&void 0!==r[columns[e].id].focusable?!!r[columns[e].id].focusable:r&&r[e]&&void 0!==r[e].focusable?!!r[e].focusable:!!columns[e].focusable}function canCellBeSelected(t,e){if(t>=getDataLength()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&void 0!==n.selectable)return!!n.selectable;var r=n&&n.columns&&(n.columns[columns[e].id]||n.columns[e]);return r&&void 0!==r.selectable?!!r.selectable:!!columns[e].selectable}function gotoCell(t,e,n,r){if(initialized&&canCellBeActive(t,e)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(t,e,!1);var i=getCellNode(t,e),o=columns[e],a=!!(options.editable&&o&&o.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(i,n||t===getDataLength()||options.autoEdit,null,a,r),currentEditor||setFocus()}}function commitCurrentEdit(){var t=getDataItem(activeRow),e=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:t})},undo:function(){this.editor.applyValue(t,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:t})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(t,e,r)):(r.execute(),makeActiveCellNormal())}else{var i={};currentEditor.applyValue(i,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:i,column:e})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:e}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(t){for(var e=[],n=columns.length-1,r=0;r<t.length;r++)e.push(new Slick.Range(t[r],0,t[r],n));return e}function getSelectedRows(){if(!selectionModel)throw new Error("Selection model is not set");return selectedRows.slice(0)}function setSelectedRows(t){if(!selectionModel)throw new Error("Selection model is not set");self&&self.getEditorLock&&!self.getEditorLock().isActive()&&selectionModel.setSelectedRanges(rowsToRanges(t))}this.debug=function(){var t="";t+="\ncounter_rows_rendered:  "+counter_rows_rendered,t+="\ncounter_rows_removed:  "+counter_rows_removed,t+="\nrenderedRows:  "+renderedRows,t+="\nnumVisibleRows:  "+numVisibleRows,t+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,t+="\nn(umber of pages):  "+n,t+="\n(current) page:  "+page,t+="\npage height (ph):  "+ph,t+="\nvScrollDir:  "+vScrollDir,alert(t)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.4.27",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onFooterContextMenu:new Slick.Event,onFooterClick:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onBeforeAppendCell:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsDrag:new Slick.Event,onColumnsResized:new Slick.Event,onBeforeColumnsResize:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,onAutosizeColumns:new Slick.Event,onRendered:new Slick.Event,onSetOptions:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getPluginByName:getPluginByName,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,autosizeColumn:autosizeColumn,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,updatePagingStatusFromView:updatePagingStatusFromView,applyFormatResultToCellNode:applyFormatResultToCellNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,scrollColumnIntoView:scrollColumnIntoView,getCanvasNode:getCanvasNode,getUID:getUID,getHeaderColumnWidthDiff:getHeaderColumnWidthDiff,getScrollbarDimensions:getScrollbarDimensions,getHeadersWidth:getHeadersWidth,getCanvasWidth:getCanvasWidth,getCanvases:getCanvases,getActiveCanvasNode:getActiveCanvasNode,setActiveCanvasNode:setActiveCanvasNode,getViewportNode:getViewportNode,getActiveViewportNode:getActiveViewportNode,setActiveViewportNode:setActiveViewportNode,focus:setFocus,scrollTo:scrollTo,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,navigateTop:navigateTop,navigateBottom:navigateBottom,navigateRowStart:navigateRowStart,navigateRowEnd:navigateRowEnd,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,getPreHeaderPanel:getPreHeaderPanel,getPreHeaderPanelLeft:getPreHeaderPanel,getPreHeaderPanelRight:getPreHeaderPanelRight,setPreHeaderPanelVisibility:setPreHeaderPanelVisibility,getHeader:getHeader,getHeaderColumn:getHeaderColumn,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getFrozenRowOffset:getFrozenRowOffset,setColumnHeaderVisibility:setColumnHeaderVisibility,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}module.exports={Grid:SlickGrid}},function(t,e,n){
/*!
 * jquery.event.drag - v 2.3.0
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
var r=n(60);r.fn.drag=function(t,e,n){var i="string"==typeof t?t:"",o=r.isFunction(t)?t:r.isFunction(e)?e:null;return 0!==i.indexOf("drag")&&(i="drag"+i),n=(t==o?e:n)||{},o?this.on(i,n,o):this.trigger(i)};var i=r.event,o=i.special,a=o.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var e=r.data(this,a.datakey),n=t.data||{};e.related+=1,r.each(a.defaults,(function(t,r){void 0!==n[t]&&(e[t]=n[t])}))},remove:function(){r.data(this,a.datakey).related-=1},setup:function(){if(!r.data(this,a.datakey)){var t=r.extend({related:0},a.defaults);r.data(this,a.datakey,t),i.add(this,"touchstart mousedown",a.init,t),this.attachEvent&&this.attachEvent("ondragstart",a.dontstart)}},teardown:function(){(r.data(this,a.datakey)||{}).related||(r.removeData(this,a.datakey),i.remove(this,"touchstart mousedown",a.init),a.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",a.dontstart))},init:function(t){if(!a.touched){var e,n=t.data;if(!(0!=t.which&&n.which>0&&t.which!=n.which)){var s=r(t.target).attr("class")||"";if(!r(t.target).is(n.not)&&s&&-1!==s.toString().indexOf("slick")&&(!n.handle||r(t.target).closest(n.handle,t.currentTarget).length)&&(a.touched="touchstart"==t.type?this:null,n.propagates=1,n.mousedown=this,n.interactions=[a.interaction(this,n)],n.target=t.target,n.pageX=t.pageX,n.pageY=t.pageY,n.dragging=null,e=a.hijack(t,"draginit",n),n.propagates))return(e=a.flatten(e))&&e.length&&(n.interactions=[],r.each(e,(function(){n.interactions.push(a.interaction(this,n))}))),n.propagates=n.interactions.length,!1!==n.drop&&o.drop&&o.drop.handler(t,n),a.textselect(!1),a.touched?i.add(a.touched,"touchmove touchend",a.handler,n):i.add(document,"mousemove mouseup",a.handler,n),!(!a.touched||n.live)&&void 0}}},interaction:function(t,e){var n=t&&t.ownerDocument&&r(t)[e.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new a.callback,droppable:[],offset:n}},handler:function(t){var e=t.data;switch(t.type){case!e.dragging&&"touchmove":t.preventDefault();case!e.dragging&&"mousemove":if(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2)<Math.pow(e.distance,2))break;t.target=e.target,a.hijack(t,"dragstart",e),e.propagates&&(e.dragging=!0);case"touchmove":t.preventDefault();case"mousemove":if(e.dragging){if(a.hijack(t,"drag",e),e.propagates){!1!==e.drop&&o.drop&&o.drop.handler(t,e);break}t.type="mouseup"}case"touchend":case"mouseup":default:a.touched?i.remove(a.touched,"touchmove touchend",a.handler):i.remove(document,"mousemove mouseup",a.handler),e.dragging&&(!1!==e.drop&&o.drop&&o.drop.handler(t,e),a.hijack(t,"dragend",e)),a.textselect(!0),!1===e.click&&e.dragging&&r.data(e.mousedown,"suppress.click",(new Date).getTime()+5),e.dragging=a.touched=!1}},hijack:function(t,e,n,o,s){if(n){var l,u,c,f={event:t.originalEvent,type:t.type},h=e.indexOf("drop")?"drag":"drop",d=o||0,p=isNaN(o)?n.interactions.length:o;t.type=e;var v=function(){};t.originalEvent=new r.Event(f.event,{preventDefault:v,stopPropagation:v,stopImmediatePropagation:v}),n.results=[];do{if(u=n.interactions[d]){if("dragend"!==e&&u.cancelled)continue;c=a.properties(t,n,u),u.results=[],r(s||u[h]||n.droppable).each((function(o,s){if(c.target=s,t.isPropagationStopped=function(){return!1},!1===(l=s?i.dispatch.call(s,t,c):null)?("drag"==h&&(u.cancelled=!0,n.propagates-=1),"drop"==e&&(u[h][o]=null)):"dropinit"==e&&u.droppable.push(a.element(l)||s),"dragstart"==e&&(u.proxy=r(a.element(l)||u.drag)[0]),u.results.push(l),delete t.result,"dropinit"!==e)return l})),n.results[d]=a.flatten(u.results),"dropinit"==e&&(u.droppable=a.flatten(u.droppable)),"dragstart"!=e||u.cancelled||c.update()}}while(++d<p);return t.type=f.type,t.originalEvent=f.event,a.flatten(n.results)}},properties:function(t,e,n){var r=n.callback;return r.drag=n.drag,r.proxy=n.proxy||n.drag,r.startX=e.pageX,r.startY=e.pageY,r.deltaX=t.pageX-e.pageX,r.deltaY=t.pageY-e.pageY,r.originalX=n.offset.left,r.originalY=n.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=a.flatten((n.drop||[]).slice()),r.available=a.flatten((n.droppable||[]).slice()),r},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(t){return r.map(t,(function(t){return t&&t.jquery?r.makeArray(t):t&&t.length?a.flatten(t):t}))},textselect:function(t){r(document)[t?"off":"on"]("selectstart",a.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};a.callback.prototype={update:function(){o.drop&&this.available.length&&r.each(this.available,(function(t){o.drop.locate(this,t)}))}};var s=i.dispatch;i.dispatch=function(t){if(!(r.data(this,"suppress."+t.type)-(new Date).getTime()>0))return s.apply(this,arguments);r.removeData(this,"suppress."+t.type)},o.draginit=o.dragstart=o.dragend=a},function(t,e,n){
/*!
 * jquery.event.drop - v 2.3.0
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
var r=n(60);r.fn.drop=function(t,e,n){var i="string"==typeof t?t:"",o=r.isFunction(t)?t:r.isFunction(e)?e:null;return 0!==i.indexOf("drop")&&(i="drop"+i),n=(t==o?e:n)||{},o?this.on(i,n,o):this.trigger(i)},r.drop=function(t){t=t||{},o.multi=!0===t.multi?1/0:!1===t.multi?1:isNaN(t.multi)?o.multi:t.multi,o.delay=t.delay||o.delay,o.tolerance=r.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:o.tolerance,o.mode=t.mode||o.mode||"intersect"};var i=r.event.special,o=r.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){r.data(this,o.datakey).related+=1},remove:function(){r.data(this,o.datakey).related-=1},setup:function(){if(!r.data(this,o.datakey)){r.data(this,o.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),o.targets.push(this)}},teardown:function(){if(!(r.data(this,o.datakey)||{}).related){r.removeData(this,o.datakey);var t=this;o.targets=r.grep(o.targets,(function(e){return e!==t}))}},handler:function(t,e){var n;if(e)switch(t.type){case"mousedown":case"touchstart":n=r(o.targets),"string"==typeof e.drop&&(n=n.filter(e.drop)),n.each((function(){var t=r.data(this,o.datakey);t.active=[],t.anyactive=0,t.winner=0})),e.droppable=n,i.drag.hijack(t,"dropinit",e);break;case"mousemove":case"touchmove":o.event=t,o.timer||o.tolerate(e);break;case"mouseup":case"touchend":o.timer=clearTimeout(o.timer),e.propagates&&(i.drag.hijack(t,"drop",e),i.drag.hijack(t,"dropend",e))}},locate:function(t,e){var n=r.data(t,o.datakey),i=r(t),a=i.length&&!i.is(document)?i.offset():{},s=i.outerHeight(),l=i.outerWidth(),u={elem:t,width:l,height:s,top:a.top,left:a.left,right:a.left+l,bottom:a.top+s};return n&&(n.location=u,n.index=e,n.elem=t),u},contains:function(t,e){return(e[0]||e.left)>=t.left&&(e[0]||e.right)<=t.right&&(e[1]||e.top)>=t.top&&(e[1]||e.bottom)<=t.bottom},modes:{intersect:function(t,e,n){return this.contains(n,[t.pageX,t.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(t,e,n){return Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top))*Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left))},fit:function(t,e,n){return this.contains(n,e)?1:0},middle:function(t,e,n){return this.contains(n,[e.left+.5*e.width,e.top+.5*e.height])?1:0}},sort:function(t,e){return e.winner-t.winner||t.index-e.index},tolerate:function(t){var e,n,a,s,l,u,c,f,h=0,d=t.interactions.length,p=[o.event.pageX,o.event.pageY],v=o.tolerance||o.modes[o.mode];do{if(f=t.interactions[h]){if(!f)return;f.drop=[],l=[],u=f.droppable.length,v&&(a=o.locate(f.proxy)),e=0;do{if(c=f.droppable[e]){if(!(n=(s=r.data(c,o.datakey)).location))continue;s.winner=v?v.call(o,o.event,a,n):o.contains(n,p)?1:0,l.push(s)}}while(++e<u);l.sort(o.sort),e=0;do{(s=l[e])&&(s.winner&&f.drop.length<o.multi?(s.active[h]||s.anyactive||(!1!==i.drag.hijack(o.event,"dropstart",t,h,s.elem)[0]?(s.active[h]=1,s.anyactive+=1):s.winner=0),s.winner&&f.drop.push(s.elem)):s.active[h]&&1==s.anyactive&&(i.drag.hijack(o.event,"dropend",t,h,s.elem),s.active[h]=0,s.anyactive-=1))}while(++e<u)}}while(++h<d);o.last&&p[0]==o.last.pageX&&p[1]==o.last.pageY?delete o.timer:o.timer=setTimeout((function(){o.tolerate(t)}),o.delay),o.last=o.event}};i.dropinit=i.dropstart=i.dropend=o},function(t,e,n){var r=n(60),i=n(67);var o={Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!==this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}},Count:function(t){this.field_=t,this.init=function(){},this.storeResult=function(t){t.count||(t.count={}),t.count[this.field_]=t.group.rows.length}}};t.exports={DataView:function(t){var e,n,o,a,s,l=this,u="id",c=[],f=[],h={},d=null,p=null,v=null,g=!1,m=!0,y={},_={},b=[],A=[],w={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},x=[],k=[],C=[],E=0,S=0,R=0,T=new i.Event,I=new i.Event,O=new i.Event,M=new i.Event,P=new i.Event,D=new i.Event,N=new i.Event,L=new i.Event;function j(t){for(var e,n=t=t||0,r=c.length;n<r;n++){if(void 0===(e=c[n][u]))throw new Error("Each data element must implement a unique 'id' property");h[e]=n}}function F(){var t=E?Math.max(1,Math.ceil(R/E)):1;return{pageSize:E,pageNum:S,totalRows:R,totalPages:t,dataView:l}}function z(t,r){m=r,n=t,e=null,!1===r&&c.reverse(),c.sort(t),!1===r&&c.reverse(),h={},j(),at()}function B(t,r){m=r,e=t,n=null;var i=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===r&&c.reverse(),c.sort(),Object.prototype.toString=i,!1===r&&c.reverse(),h={},j(),at()}function U(e){t.groupItemMetadataProvider||(t.groupItemMetadataProvider=new i.Data.GroupItemMetadataProvider),k=[],C=[],x=(e=e||[])instanceof Array?e:[e];for(var n=0;n<x.length;n++){var o=x[n]=r.extend(!0,{},w,x[n]);o.getterIsAFn="function"==typeof o.getter,o.compiledAccumulators=[];for(var a=o.aggregators.length;a--;)o.compiledAccumulators[a]=tt(o.aggregators[a]);C[n]={}}at()}function G(){if(!d){d={};for(var t=0,e=f.length;t<e;t++)d[f[t][u]]=t}}function V(t){return c[h[t]]}function H(t,e){if(void 0===h[t])throw new Error("Invalid id");if(t!==e[u]){var n=e[u];if(null==n)throw new Error("Cannot update item to associate with a null id");if(void 0!==h[n])throw new Error("Cannot update item to associate with a non-unique id");h[n]=h[t],delete h[t],v&&v[t]&&delete v[t],t=n}c[h[t]]=e,v||(v={}),v[t]=!0,at()}function q(t,e){c.splice(t,0,e),j(t),at()}function W(t){var e=h[t];if(void 0===e)throw new Error("Invalid id");delete h[t],c.splice(e,1),j(e),at()}function Y(t){if(!n)throw new Error("sortedAddItem() requires a sort comparer, use sort()");q(function(t){var e=0,r=c.length;for(;e<r;){var i=e+r>>>1;-1===n(c[i],t)?e=i+1:r=i}return e}(t),t)}function X(t,e){if(null==t)for(var n=0;n<x.length;n++)C[n]={},x[n].collapsed=e,!0===e?L.notify({level:n,groupingKey:null}):N.notify({level:n,groupingKey:null});else C[t]={},x[t].collapsed=e,!0===e?L.notify({level:t,groupingKey:null}):N.notify({level:t,groupingKey:null});at()}function $(t,e,n){C[t][e]=x[t].collapsed^n,at()}function J(t,e){for(var n,r,o,a=[],s={},l=e?e.level+1:0,u=x[l],c=0,f=u.predefinedValues.length;c<f;c++)(n=s[r=u.predefinedValues[c]])||((n=new i.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+":|:":"")+r,a[a.length]=n,s[r]=n);for(c=0,f=t.length;c<f;c++)o=t[c],(n=s[r=u.getterIsAFn?u.getter(o):o[u.getter]])||((n=new i.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+":|:":"")+r,a[a.length]=n,s[r]=n),n.rows[n.count++]=o;if(l<x.length-1)for(c=0;c<a.length;c++)(n=a[c]).groups=J(n.rows,n);return a.length&&function t(e,n){var r,i=x[n=n||0],o=i.collapsed,a=C[n],s=e.length;for(;s--;)(r=e[s]).collapsed&&!i.aggregateCollapsed||(r.groups&&t(r.groups,n+1),i.aggregators.length&&(i.aggregateEmpty||r.rows.length||r.groups&&r.groups.length)&&Q(r),r.collapsed=o^a[r.groupingKey],r.title=i.formatter?i.formatter(r):r.value)}(a,l),a.sort(x[l].comparer),a}function K(t){var e,n=t.group,r=x[n.level],i=n.level==x.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||K(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function Q(t){var e=x[t.level],n=new i.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||K(n)}function Z(t){var e=t.toString().indexOf("function")>=0?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function tt(t){if(t.accumulate){var e=Z(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}"),r="compiledAccumulatorLoop";return n.displayName=r,n.name=et(n,r),n}return function(){}}function et(t,e){try{Object.defineProperty(t,"name",{writable:!0,value:e})}catch(n){t.name=e}}function nt(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)p(t[i],e)&&(n[r++]=t[i]);return n}function rt(t,e,n){for(var r,i=[],o=0,a=0,s=t.length;a<s;a++)r=t[a],n[a]?i[o++]=r:p(r,e)&&(i[o++]=r,n[a]=!0);return i}function it(e){if(p){var n=t.inlineFilters?a:nt,r=t.inlineFilters?s:rt;y.isFilterNarrowing?b=n(b,o):y.isFilterExpanding?b=r(e,o,A):y.isFilterUnchanged||(b=n(e,o))}else b=E?e:e.concat();var i;return E?(b.length<=S*E&&(S=0===b.length?0:Math.floor((b.length-1)/E)),i=b.slice(E*S,E*S+E)):i=b,{totalRows:b.length,rows:i}}function ot(t){d=null,y.isFilterNarrowing==_.isFilterNarrowing&&y.isFilterExpanding==_.isFilterExpanding||(A=[]);var e=it(t);R=e.totalRows;var n=e.rows;k=[],x.length&&(k=J(n)).length&&(n=function t(e,n){for(var r,i,o=x[n=n||0],a=[],s=0,l=0,u=e.length;l<u;l++){if(i=e[l],a[s++]=i,!i.collapsed)for(var c=0,f=(r=i.groups?t(i.groups,n+1):i.rows).length;c<f;c++)a[s++]=r[c];i.totals&&o.displayTotalsRow&&(!i.collapsed||o.aggregateCollapsed)&&(a[s++]=i.totals)}return a}(k));var r=function(t,e){var n,r,i,o=[],a=0,s=Math.max(e.length,t.length);y&&y.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,y.ignoreDiffsBefore))),y&&y.ignoreDiffsAfter&&(s=Math.min(e.length,Math.max(0,y.ignoreDiffsAfter)));for(var l=a,c=t.length;l<s;l++)l>=c?o[o.length]=l:(n=e[l],r=t[l],(!n||x.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[u]!=r[u]||v&&v[n[u]])&&(o[o.length]=l));return o}(f,n);return f=n,r}function at(){if(!g){var t=r.extend(!0,{},F()),e=f.length,n=R,i=ot(c);E&&R<S*E&&(S=Math.max(0,Math.ceil(R/E)-1),i=ot(c)),v=null,_=y,y={},n!==R&&(P.notify(t,null,l),D.notify(F(),null,l)),e!==f.length&&I.notify({previous:e,current:f.length,dataView:l,callingOnRowsChanged:i.length>0},null,l),i.length>0&&O.notify({rows:i,dataView:l,calledOnRowCountChanged:e!==f.length},null,l),(e!==f.length||i.length>0)&&M.notify({rowsDiff:i,previousRowCount:e,currentRowCount:f.length,rowCountChanged:e!==f.length,rowsChanged:i.length>0,dataView:l},null,l)}}t=r.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},t),r.extend(this,{beginUpdate:function(){g=!0},endUpdate:function(){g=!1,at()},setPagingOptions:function(t){P.notify(F(),null,l),null!=t.pageSize&&(E=t.pageSize,S=E?Math.min(S,Math.max(0,Math.ceil(R/E)-1)):0),null!=t.pageNum&&(S=Math.min(t.pageNum,Math.max(0,Math.ceil(R/E)-1))),D.notify(F(),null,l),at()},getPagingInfo:F,getIdPropertyName:function(){return u},getItems:function(){return c},setItems:function(t,e){void 0!==e&&(u=e),c=b=t,h={},j(),function(){for(var t,e=0,n=c.length;e<n;e++)if(void 0===(t=c[e][u])||h[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}(),at(),T.notify({idProperty:e},null,l)},setFilter:function(e){p=e,t.inlineFilters&&(a=function(){var t=Z(p),e="{ _retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");r=(r=(r=r.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args",r);return i.displayName="compiledFilter",i.name=et(i,"compiledFilter"),i}(),s=function(){var t=Z(p),e="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");r=(r=(r=r.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args,_cache",r),o="compiledFilterWithCaching";return i.displayName=o,i.name=et(i,o),i}()),at()},getFilter:function(){return p},getFilteredItems:function(){return b},sort:z,fastSort:B,reSort:function(){n?z(n,m):e&&B(e,m)},setGrouping:U,getGrouping:function(){return x},groupBy:function(t,e,n){U(null!=t?{getter:t,formatter:e,comparer:n}:[])},setAggregators:function(t,e){if(!x.length)throw new Error("At least one grouping must be specified before calling setAggregators().");x[0].aggregators=t,x[0].aggregateCollapsed=e,U(x)},collapseAllGroups:function(t){X(t,!0)},expandAllGroups:function(t){X(t,!1)},collapseGroup:function(t){var e,n,r=Array.prototype.slice.call(arguments),i=r[0];1===r.length&&-1!==i.indexOf(":|:")?(e=i,n=i.split(":|:").length-1):(e=r.join(":|:"),n=r.length-1),$(n,e,!0),L.notify({level:n,groupingKey:e})},expandGroup:function(t){var e,n,r=Array.prototype.slice.call(arguments),i=r[0];1===r.length&&-1!==i.indexOf(":|:")?(n=i.split(":|:").length-1,e=i):(n=r.length-1,e=r.join(":|:")),$(n,e,!1),N.notify({level:n,groupingKey:e})},getGroups:function(){return k},getIdxById:function(t){return h[t]},getRowByItem:function(t){return G(),d[t[u]]},getRowById:function(t){return G(),d[t]},getItemById:V,getItemByIdx:function(t){return c[t]},mapItemsToRows:function(t){var e=[];G();for(var n=0,r=t.length;n<r;n++){var i=d[t[n][u]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<f.length&&(e[e.length]=f[t[n]][u]);return e},mapIdsToRows:function(t){var e=[];G();for(var n=0,r=t.length;n<r;n++){var i=d[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){y=t},setFilterArgs:function(t){o=t},refresh:at,updateItem:H,insertItem:q,addItem:function(t){c.push(t),j(c.length-1),at()},deleteItem:W,sortedAddItem:Y,sortedUpdateItem:function(t,e){if(void 0===h[t]||t!==e[u])throw new Error("Invalid or non-matching id "+h[t]);if(!n)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var r=V(t);0!==n(r,e)?(W(t),Y(e)):H(t,e)},syncGridSelection:function(t,e,n){var o,a=this,s=a.mapRowsToIds(t.getSelectedRows()),l=new i.Event;function u(e){s.join(",")!=e.join(",")&&(s=e,l.notify({grid:t,ids:s,dataView:a},new i.EventData,a))}return t.onSelectedRowsChanged.subscribe((function(e,i){if(!o){var l=a.mapRowsToIds(t.getSelectedRows());if(n&&t.getOptions().multiSelect)u(r.grep(s,(function(t){return void 0===a.getRowById(t)})).concat(l));else u(l)}})),this.onRowsOrCountChanged.subscribe((function(){if(s.length>0){o=!0;var n=a.mapIdsToRows(s);e||u(a.mapRowsToIds(n)),t.setSelectedRows(n),o=!1}})),l},syncGridCellCssStyles:function(t,e){var n,r;function i(t){for(var e in n={},t){var r=f[e][u];n[r]=t[e]}}function o(){if(n){r=!0,G();var i={};for(var o in n){var a=d[o];null!=a&&(i[a]=n[o])}t.setCellCssStyles(e,i),r=!1}}i(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe((function(n,a){r||e==a.key&&(a.hash?i(a.hash):(t.onCellCssStylesChanged.unsubscribe(),l.onRowsOrCountChanged.unsubscribe(o)))})),this.onRowsOrCountChanged.subscribe(o)},getLength:function(){return f.length},getItem:function(t){var e=f[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=x[e.level];n.displayTotalsRow||(K(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&K(e);return e},getItemMetadata:function(e){var n=f[e];return void 0===n?null:n.__group?t.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?t.groupItemMetadataProvider.getTotalsRowMetadata(n):null},onSetItemsCalled:T,onRowCountChanged:I,onRowsChanged:O,onRowsOrCountChanged:M,onBeforePagingInfoChanged:P,onPagingInfoChanged:D,onGroupExpanded:N,onGroupCollapsed:L})},Aggregators:o,Data:{Aggregators:o}}},function(t,e,n){var r=n(60),i=n(67);function o(t){var e,n;function i(){var e=t.column.editorFixedDecimalPlaces;return void 0===e&&(e=o.DefaultDecimalPlaces),e||0===e?e:null}this.init=function(){var n=t.grid.getOptions().editorCellNavOnLRKeys;e=r("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",n?a:s).focus().select()},this.destroy=function(){e.remove()},this.focus=function(){e.focus()},this.loadValue=function(r){n=r[t.column.field];var o=i();null!==o&&(n||0===n)&&n.toFixed&&(n=n.toFixed(o)),e.val(n),e[0].defaultValue=n,e.select()},this.serializeValue=function(){var t=parseFloat(e.val());o.AllowEmptyValue?t||0===t||(t=""):t=t||0;var n=i();return null!==n&&(t||0===t)&&t.toFixed&&(t=parseFloat(t.toFixed(n))),t},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==n)&&e.val()!=n},this.validate=function(){if(isNaN(e.val()))return{valid:!1,msg:"Please enter a valid number"};if(t.column.validator){var n=t.column.validator(e.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()}function a(t){var e=this.selectionStart,n=this.value.length;(t.keyCode===i.keyCode.LEFT&&e>0||t.keyCode===i.keyCode.RIGHT&&e<n-1)&&t.stopImmediatePropagation()}function s(t){t.keyCode!==i.keyCode.LEFT&&t.keyCode!==i.keyCode.RIGHT||t.stopImmediatePropagation()}o.DefaultDecimalPlaces=null,o.AllowEmptyValue=!1,t.exports={Editors:{Text:function(t){var e,n;this.init=function(){var n=t.grid.getOptions().editorCellNavOnLRKeys;e=r("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",n?a:s).focus().select()},this.destroy=function(){e.remove()},this.focus=function(){e.focus()},this.getValue=function(){return e.val()},this.setValue=function(t){e.val(t)},this.loadValue=function(r){n=r[t.column.field]||"",e.val(n),e[0].defaultValue=n,e.select()},this.serializeValue=function(){return e.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==n)&&e.val()!=n},this.validate=function(){if(t.column.validator){var n=t.column.validator(e.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()},Integer:function(t){var e,n;this.init=function(){var n=t.grid.getOptions().editorCellNavOnLRKeys;e=r("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",n?a:s).focus().select()},this.destroy=function(){e.remove()},this.focus=function(){e.focus()},this.loadValue=function(r){n=r[t.column.field],e.val(n),e[0].defaultValue=n,e.select()},this.serializeValue=function(){return parseInt(e.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==n)&&e.val()!=n},this.validate=function(){if(isNaN(e.val()))return{valid:!1,msg:"Please enter a valid integer"};if(t.column.validator){var n=t.column.validator(e.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()},Float:o,Date:function(t){var e,n,i=!1;this.init=function(){(e=r("<INPUT type=text class='editor-text' />")).appendTo(t.container),e.focus().select(),e.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){i=!0},onClose:function(){i=!1}}),e.width(e.width()-18)},this.destroy=function(){r.datepicker.dpDiv.stop(!0,!0),e.datepicker("hide"),e.datepicker("destroy"),e.remove()},this.show=function(){i&&r.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){i&&r.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){i&&r.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){e.focus()},this.loadValue=function(r){n=r[t.column.field],e.val(n),e[0].defaultValue=n,e.select()},this.serializeValue=function(){return e.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==n)&&e.val()!=n},this.validate=function(){if(t.column.validator){var n=t.column.validator(e.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(t){var e,n;this.init=function(){(e=r("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(t.container),e.focus()},this.destroy=function(){e.remove()},this.focus=function(){e.focus()},this.loadValue=function(r){e.val((n=r[t.column.field])?"yes":"no"),e.select()},this.serializeValue=function(){return"yes"==e.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return e.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(t){var e,n;this.init=function(){(e=r("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(t.container),e.focus()},this.destroy=function(){e.remove()},this.focus=function(){e.focus()},this.loadValue=function(r){(n=!!r[t.column.field])?e.prop("checked",!0):e.prop("checked",!1)},this.preClick=function(){e.prop("checked",!e.prop("checked"))},this.serializeValue=function(){return e.prop("checked")},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(t){var e,n,i;this.init=function(){(e=r("<INPUT type=text class='editor-percentcomplete' />")).width(r(t.container).innerWidth()-25),e.appendTo(t.container),(n=r("<div class='editor-percentcomplete-picker' />").appendTo(t.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),n.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),e.focus().select(),n.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:i,slide:function(t,n){e.val(n.value)}}),n.find(".editor-percentcomplete-buttons button").on("click",(function(t){e.val(r(this).attr("val")),n.find(".editor-percentcomplete-slider").slider("value",r(this).attr("val"))}))},this.destroy=function(){e.remove(),n.remove()},this.focus=function(){e.focus()},this.loadValue=function(n){e.val(i=n[t.column.field]),e.select()},this.serializeValue=function(){return parseInt(e.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==i)&&(parseInt(e.val(),10)||0)!=i},this.validate=function(){return isNaN(parseInt(e.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(t){var e,n,o,a=this;this.init=function(){var i=r("body");t.grid.getOptions().editorCellNavOnLRKeys;n=r("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(i),e=r("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),r("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").on("click",this.save),n.find("button:last").on("click",this.cancel),e.on("keydown",this.handleKeyDown),a.position(t.position),e.focus().select()},this.handleKeyDown=function(e){if(e.which==i.keyCode.ENTER&&e.ctrlKey)a.save();else if(e.which==i.keyCode.ESCAPE)e.preventDefault(),a.cancel();else if(e.which==i.keyCode.TAB&&e.shiftKey)e.preventDefault(),t.grid.navigatePrev();else if(e.which==i.keyCode.TAB)e.preventDefault(),t.grid.navigateNext();else if((e.which==i.keyCode.LEFT||e.which==i.keyCode.RIGHT)&&t.grid.getOptions().editorCellNavOnLRKeys){var n=this.selectionStart,r=this.value.length;e.keyCode===i.keyCode.LEFT&&0===n&&t.grid.navigatePrev(),e.keyCode===i.keyCode.RIGHT&&n>=r-1&&t.grid.navigateNext()}},this.save=function(){t.commitChanges()},this.cancel=function(){e.val(o),t.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(t){n.css("top",t.top-5).css("left",t.left-5)},this.destroy=function(){n.remove()},this.focus=function(){e.focus()},this.loadValue=function(n){e.val(o=n[t.column.field]),e.select()},this.serializeValue=function(){return e.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""===e.val()&&null==o)&&e.val()!=o},this.validate=function(){if(t.column.validator){var n=t.column.validator(e.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()}}}},function(t,e,n){n(67);t.exports={Formatters:{PercentComplete:function(t,e,n,r,i){return null==n||""===n?"-":n<50?"<span style='color:red;font-weight:bold;'>"+n+"%</span>":"<span style='color:green'>"+n+"%</span>"},PercentCompleteBar:function(t,e,n,r,i){return null==n||""===n?"":"<span class='percent-complete-bar' style='background:"+(n<30?"red":n<70?"silver":"green")+";width:"+n+"%'></span>"},YesNo:function(t,e,n,r,i){return n?"Yes":"No"},Checkmark:function(t,e,n,r,i){return n?"<img src='../images/tick.png'>":""},Checkbox:function(t,e,n,r,i){return'<img class="slick-edit-preclick" src="../images/'+(n?"CheckboxY":"CheckboxN")+'.png">'}}}},function(t,e,n){var r=n(60),i=n(67);t.exports={RemoteModel:function(){var t={length:0},e="",n=null,o=1,a=null,s=null,l=new i.Event,u=new i.Event;function c(){for(var e in t)delete t[e];t.length=0}function f(i,c){if(s){s.abort();for(var f=s.fromPage;f<=s.toPage;f++)t[50*f]=void 0}i<0&&(i=0),t.length>0&&(c=Math.min(c,t.length-1));for(var d=Math.floor(i/50),p=Math.floor(c/50);void 0!==t[50*d]&&d<p;)d++;for(;void 0!==t[50*p]&&d<p;)p--;if(d>p||d==p&&void 0!==t[50*d])u.notify({from:i,to:c});else{var v="http://octopart.com/api/v3/parts/search?apikey=68b25f31&include[]=short_description&show[]=uid&show[]=manufacturer&show[]=mpn&show[]=brand&show[]=octopart_url&show[]=short_description&q="+e+"&start="+50*d+"&limit="+(50*(p-d)+50);null!=n&&(v+="&sortby="+n+(o>0?"+asc":"+desc")),null!=a&&clearTimeout(a),a=setTimeout((function(){for(var e=d;e<=p;e++)t[50*e]=null;l.notify({from:i,to:c}),(s=r.jsonp({url:v,callbackParameter:"callback",cache:!0,success:h,error:function(){!function(t,e){alert("error loading pages "+t+" to "+e)}(d,p)}})).fromPage=d,s.toPage=p}),50)}}function h(e){var n=e.request.start,r=n+e.results.length;t.length=Math.min(parseInt(e.hits),1e3);for(var i=0;i<e.results.length;i++){var o=e.results[i].item;t[n+i]=o,t[n+i].index=n+i}s=null,u.notify({from:n,to:r})}return{data:t,clear:c,isDataLoaded:function(e,n){for(var r=e;r<=n;r++)if(null==t[r]||null==t[r])return!1;return!0},ensureData:f,reloadData:function(e,n){for(var r=e;r<=n;r++)delete t[r];f(e,n)},setSort:function(t,e){n=t,o=e,c()},setSearch:function(t){e=t,c()},onDataLoading:l,onDataLoaded:u}}}},function(t,e,n){var r=n(60),i=n(67);t.exports={GroupItemMetadataProvider:function(t){var e,n={checkboxSelect:!1,checkboxSelectCssClass:"slick-group-select-checkbox",checkboxSelectPlugin:null,groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:function(t,e,n,r,i,a){if(!o.enableExpandCollapse)return i.title;var s=15*i.level+"px";return(o.checkboxSelect?'<span class="'+o.checkboxSelectCssClass+" "+(i.selectChecked?"checked":"unchecked")+'"></span>':"")+"<span class='"+o.toggleCssClass+" "+(i.collapsed?o.toggleCollapsedCssClass:o.toggleExpandedCssClass)+"' style='margin-left:"+s+"'></span><span class='"+o.groupTitleCssClass+"' level='"+i.level+"'>"+i.title+"</span>"},totalsFormatter:function(t,e,n,r,i,o){return r.groupTotalsFormatter&&r.groupTotalsFormatter(i,r,o)||""},includeHeaderTotals:!1},o=r.extend(!0,{},n,t);function a(t,n){var a=r(t.target),s=this.getDataItem(n.row);if(s&&s instanceof i.Group&&a.hasClass(o.toggleCssClass)){var l=e.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:l.top,ignoreDiffsAfter:l.bottom+1}),s.collapsed?this.getData().expandGroup(s.groupingKey):this.getData().collapseGroup(s.groupingKey),t.stopImmediatePropagation(),t.preventDefault()}if(s&&s instanceof i.Group&&a.hasClass(o.checkboxSelectCssClass)){s.selectChecked=!s.selectChecked,a.removeClass(s.selectChecked?"unchecked":"checked"),a.addClass(s.selectChecked?"checked":"unchecked");var u=e.getData().mapItemsToRows(s.rows);(s.selectChecked?o.checkboxSelectPlugin.selectRows:o.checkboxSelectPlugin.deSelectRows)(u)}}function s(t,n){if(o.enableExpandCollapse&&t.which==i.keyCode.SPACE){var r=this.getActiveCell();if(r){var a=this.getDataItem(r.row);if(a&&a instanceof i.Group){var s=e.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:s.top,ignoreDiffsAfter:s.bottom+1}),a.collapsed?this.getData().expandGroup(a.groupingKey):this.getData().collapseGroup(a.groupingKey),t.stopImmediatePropagation(),t.preventDefault()}}}}return{init:function(t){(e=t).onClick.subscribe(a),e.onKeyDown.subscribe(s)},destroy:function(){e&&(e.onClick.unsubscribe(a),e.onKeyDown.unsubscribe(s))},getGroupRowMetadata:function(t){var e=t&&t.level;return{selectable:!1,focusable:o.groupFocusable,cssClasses:o.groupCssClass+" slick-group-level-"+e,formatter:o.includeHeaderTotals&&o.totalsFormatter,columns:{0:{colspan:o.includeHeaderTotals?"1":"*",formatter:o.groupFormatter,editor:null}}}},getTotalsRowMetadata:function(t){var e=t&&t.group&&t.group.level;return{selectable:!1,focusable:o.totalsFocusable,cssClasses:o.totalsCssClass+" slick-group-level-"+e,formatter:o.totalsFormatter,editor:null}},getOptions:function(){return o},setOptions:function(t){r.extend(!0,o,t)}}}}},function(t,e,n){"use strict";var r={},i=Array.prototype,o=Object.prototype,a=i.slice,s=o.toString,l=o.hasOwnProperty,u=i.forEach,c=Object.keys,f=Array.isArray,h=function(){},d=h.each=h.forEach=function(t,e,n){if(null!=t)if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t)===r)return}else{var a=h.keys(t);for(i=0,o=a.length;i<o;i++)if(e.call(n,t[a[i]],a[i],t)===r)return}};h.keys=c||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)h.has(t,n)&&e.push(n);return e},h.defaults=function(t){return d(a.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t},h.isArray=f||function(t){return"[object Array]"===s.call(t)},h.has=function(t,e){if(!h.isArray(e))return null!=t&&l.call(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!l.call(t,i))return!1;t=t[i]}return!!n};var p={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},v={escape:new RegExp("["+h.keys(p.escape).join("")+"]","g")};h.each(["escape"],(function(t){h[t]=function(e){return null==e?"":(""+e).replace(v[t],(function(e){return p[t][e]}))}})),h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,m={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},y=/\\|'|\r|\n|\t|\u2028|\u2029/g;h.template=function(t,e,n){var r;n=h.defaults({},n,h.templateSettings);var i=new RegExp([(n.escape||g).source,(n.interpolate||g).source,(n.evaluate||g).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,(function(e,n,r,i,s){return a+=t.slice(o,s).replace(y,(function(t){return"\\"+m[t]})),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+e.length,e})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(t){throw t.source=a,t}if(e)return r(e,h);var s=function(t){return r.call(this,t,h)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},t.exports=h},function(t,e,n){"use strict";n.r(e),n.d(e,"transformPhaseLife",(function(){return o})),n.d(e,"editPhaseLife",(function(){return a}));var r=n(142),i=n(105),o=function(t){return["Triggering","Triggering from split","Growing","Mature","Decaying"][t]},a=Object(r.a)({features:Object(i.a)(Object(r.a)({properties:{PhaseLife:o}}))})},function(t,e,n){var r=n(130);t.exports=function(){return r.Date.now()}},function(t,e,n){(function(e){var r=n(20),i="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.exports=i}).call(this,n(106))},function(t,e,n){var r=n(129),i=n(182),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(20),i=n(183),o=n(186);t.exports=function(t){return"symbol"==r(t)||o(t)&&"[object Symbol]"==i(t)}},function(t,e,n){var r=n(131),i=n(184),o=n(185),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(131),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(20);t.exports=function(t){return null!=t&&"object"==r(t)}},function(t,e,n){var r=n(98),i=n(188);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(68),i=n.n(r)()(!1);i.push([t.i,".title {\n    background-color: white;\n    padding: 10px 20px;\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 1.0rem;\n    text-align: center;\n}\n\n\n@media screen and (min-width: 960px) {\n    .title {\n        font-size: 1.2rem;\n        position: relative;\n        margin: 20px;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n        width: 20%;\n        left: 50%;\n        transform: translate(-50%);\n    }\n}\n",""]),e.default=i},function(t,e,n){var r=n(98),i=n(190);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(68),i=n.n(r)()(!1);i.push([t.i,".footer-container {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: white;\n    border-top: 1px solid #ccc;\n    padding: 10px;\n    margin: 0;\n}\n\n@media screen and (min-width: 960px) {\n    .footer-container {\n        position: static;\n        padding: 0;\n        border: none;\n    }\n    .colorbar-container {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        background-color: white;\n        width: 25%;\n        margin: 20px;\n        padding: 5px;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n    }\n}\n",""]),e.default=i},function(t,e,n){var r=n(98),i=n(192);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(68),i=n.n(r)()(!1);i.push([t.i,"fieldset {\n    font-family: Helvetica, Arial, sans-serif;\n    margin: 4px;\n    padding: 4px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n}\n\n.label {\n    font-weight: bold;\n    font-family: Helvetica, Arial, sans-serif;\n    margin-top: 20px;\n    margin-left: 6px;\n}\n\n\n.layer-menu-container {\n    background-color: white;\n    padding: 10px;\n    border-bottom: 1px solid #ccc;\n}\n\n.tool-icon-container {\n    display: flex;\n}\n.tool-icon {\n    flex: 1;\n}\n\n@media screen and (min-width: 960px) {\n    .layer-menu-container {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 25%;\n        max-width: 400px;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n        margin: 20px;\n        padding: 5px;\n    }\n}\n",""]),e.default=i},function(t,e,n){var r,i,o,a=n(20);!function(n,s){"object"==a(e)&&void 0!==t?s(e):(i=[e],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))}(0,(function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&E(r),i&&S(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&E(a),t){case"Point":i=r(e).geometry;break;case"LineString":i=l(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=h(e).geometry;break;case"MultiLineString":i=f(e).geometry;break;case"MultiPolygon":i=d(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(i.bbox=a),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!k(t[0])||!k(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return r(t,e)})),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!k(o[0][0])||!k(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return o(t,e)})),n)}function l(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!k(t[0][1])||!k(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return l(t,e)})),n)}function c(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&E(n),r&&S(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function d(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function v(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function m(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return b(m(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function b(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function A(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function w(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(m(t,e),n||"kilometers")}function x(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Eo[e||"meters"];if(!r)throw new Error("invalid original units");var i=Eo[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function k(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function E(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!k(t))throw new Error("bbox must only contain numbers")}))}function S(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(a(t)))throw new Error("id must be a number or a string")}function R(t,e,n){if(null!==t)for(var r,i,o,a,s,l,u,c,f=0,h=0,d=t.type,p="FeatureCollection"===d,v="Feature"===d,g=p?t.features.length:1,m=0;m<g;m++){s=(c=!!(u=p?t.features[m].geometry:v?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<s;y++){var _=0,b=0;if(null!==(a=c?u.geometries[y]:u)){l=a.coordinates;var A=a.type;switch(f=!n||"Polygon"!==A&&"MultiPolygon"!==A?0:1,A){case null:break;case"Point":e(l,h,m,_,b),h++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++)e(l[r],h,m,_,b),h++,"MultiPoint"===A&&_++;"LineString"===A&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-f;i++)e(l[r][i],h,m,_,b),h++;"MultiLineString"===A&&_++,"Polygon"===A&&b++}"Polygon"===A&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for("MultiPolygon"===A&&(b=0),i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-f;o++)e(l[r][i][o],h,m,_,b),h++;b++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)R(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(t,e,n,r){var i=n;return R(t,(function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),r),i}function I(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function O(t,e,n){var r=n;return I(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function M(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function P(t,e,n){var r=n;return M(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function D(t){var e=[];return R(t,(function(t){e.push(t)})),e}function N(t,e){var n,r,i,o,a,s,l,u,c,f,h=0,d="FeatureCollection"===t.type,p="Feature"===t.type,v=d?t.features.length:1;for(n=0;n<v;n++){for(s=d?t.features[n].geometry:p?t.geometry:t,u=d?t.features[n].properties:p?t.properties:{},c=d?t.features[n].bbox:p?t.bbox:void 0,f=d?t.features[n].id:p?t.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,h,u,c,f);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],h,u,c,f);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,u,c,f);h++}}function L(t,e,n){var r=n;return N(t,(function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)})),r}function j(t,n){N(t,(function(t,r,i,o,a){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:s,coordinates:t},i),r,o)}))}))}function F(t,e,n){var r=n;return j(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function z(t,e){j(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&T(t,(function(o,a,s,u,c,f){var h=l([o,a],t.properties);return e(h,n,r,f,i),i++,a}))}}))}function B(t,e,n){var r=n,i=!1;return z(t,(function(t,o,a,s,l){r=!1===i&&void 0===n?t:e(r,t,o,a,s,l),i=!0})),r}function U(t,e){if(!t)throw new Error("geojson is required");j(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var a=0;a<o.length;a++)e(l(o[a],t.properties),n,r,a)}}}))}function G(t,e,n){var r=n;return U(t,(function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)})),r}function V(t){var e=[1/0,1/0,-1/0,-1/0];return R(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function H(t){if(!t)throw new Error("obj is required");var e=q(t);if(e.length>1&&k(e[0])&&k(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function q(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return W(e),e;throw new Error("No valid coordinates")}function W(t){if(t.length>1&&k(t[0])&&k(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return W(t[0]);throw new Error("coordinates must only contain numbers")}function Y(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function X(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function $(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function J(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function K(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Q(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Z(t,e,n){n=n||{};for(var r=Object.keys(Io),i=0;i<r.length;i++){var o=r[i],a=n[o];a=null!=a?a:Io[o],Oo[o]=a}Oo.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!et(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=(t[e][n],t[e][n]),h=f.cval,d=rt(f,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h]);s.push([n+d[0],e+d[1]]),d=rt(f,o=c[h]),s.push([n+d[0],e+d[1]]),nt(f);for(var p=n+l[h],v=e+u[h],g=h;p>=0&&v>=0&&v<a&&(p!=n||v!=e)&&void 0!==(f=t[v][p]);){if(0===(h=f.cval)||15===h)return{path:s,info:"mergeable"};o=c[h],r=l[h],i=u[h],5!==h&&10!==h||(5===h?f.flipped?-1===u[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===l[g]&&(o="bottom",r=0,i=-1):10===h&&(f.flipped?-1===l[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===u[g]&&(o="left",r=-1,i=0))),d=rt(f,o),s.push([p+d[0],v+d[1]]),nt(f),p+=r,v+=i,g=h}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var l=a.path[a.path.length-1][0],u=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=1e-7&&Math.abs(e[c][0][1]-u)<=1e-7){for(var f=a.path.length-2;f>=0;--f)e[c].unshift(a.path[f]);s=!0;break}s||(e[n++]=a.path)}}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,l=t[o+1][a],u=t[o+1][a+1],c=t[o][a+1],f=t[o][a];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(f))){s|=l>=e?8:0,s|=u>=e?4:0,s|=c>=e?2:0;var h,d,p,v,g=!1;if(5==(s|=f>=e?1:0)||10===s){var m=(l+u+c+f)/4;5===s&&m<e?(s=10,g=!0):10===s&&m<e&&(s=5,g=!0)}if(0!==s&&15!==s)h=d=p=v=.5,1===s?(p=1-tt(e,l,f),d=1-tt(e,c,f)):2===s?(d=tt(e,f,c),v=1-tt(e,u,c)):3===s?(p=1-tt(e,l,f),v=1-tt(e,u,c)):4===s?(h=tt(e,l,u),v=tt(e,c,u)):5===s?(h=tt(e,l,u),v=tt(e,c,u),d=1-tt(e,c,f),p=1-tt(e,l,f)):6===s?(d=tt(e,f,c),h=tt(e,l,u)):7===s?(p=1-tt(e,l,f),h=tt(e,l,u)):8===s?(p=tt(e,f,l),h=1-tt(e,u,l)):9===s?(d=1-tt(e,c,f),h=1-tt(e,u,l)):10===s?(h=1-tt(e,u,l),v=1-tt(e,u,c),d=tt(e,f,c),p=tt(e,f,l)):11===s?(h=1-tt(e,u,l),v=1-tt(e,u,c)):12===s?(p=tt(e,f,l),v=tt(e,c,u)):13===s?(d=1-tt(e,c,f),v=tt(e,c,u)):14===s?(p=tt(e,f,l),d=tt(e,f,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:g,top:h,right:v,bottom:d,left:p}}}}return i}(t,e));return"function"==typeof Oo.successCallback&&Oo.successCallback(s),s}function tt(t,e,n){return(t-e)/(n-e)}function et(t){return 0===t.cval||15===t.cval}function nt(t){et(t)||5===t.cval||10===t.cval||(t.cval=15)}function rt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ot(t,e){if(!(this instanceof ot))return new ot(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function at(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,r,i){i||(i=vt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],lt(i,t.leaf?r(o):o);return i}function lt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function ct(t,e){return t.minY-e.minY}function ft(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function vt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Mo(t,o,e,n,i),a.push(e,o,o,n))}function mt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],l=s.slice();for(o=0;o<t.length;o++)qo(t[o],s)||l.push(t[o]);var u=Uo(l),c=[];for(o=0;o<u.length;o++)c.push(l[u[o]]);return c}(t),o=Po(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var l=i[s];o.remove(l),r=kt(l,r),a.push(r)}var u=Po(16);for(s=0;s<a.length;s++)u.insert(xt(a[s]));for(var c=e*e,f=n*n;a.length;){var h=a.shift(),d=h.p,p=h.next.p,v=Ct(d,p);if(!(v<f)){var g=v/c;(l=function(t,e,n,r,i,o,a){for(var s=new Vo(null,bt),l=t.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],f=l.leaf?Et(c,n,r):function(t,e,n){if(At(t,n)||At(e,n))return 0;var r=St(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=St(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=St(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=St(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,c);f>o||s.push({node:c,dist:f})}for(;s.length&&!s.peek().node.children;){var h=s.pop(),d=h.node,p=Et(d,e,n),v=Et(d,r,i);if(h.dist<p&&h.dist<v&&wt(n,d,a)&&wt(r,d,a))return d}(l=s.pop())&&(l=l.node)}return null}(o,h.prev.p,d,p,h.next.next.p,g,u))&&Math.min(Ct(l,d),Ct(l,p))<=g&&(a.push(h),a.push(kt(l,h)),o.remove(l),u.remove(h),u.insert(xt(h)),u.insert(xt(h.next)))}}h=r;var m=[];do{m.push(h.p),h=h.next}while(h!==r);return m.push(h.p),m}function bt(t,e){return t.dist-e.dist}function At(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function wt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),l=0;l<s.length;l++)if(function(t,e,n,r){return t!==r&&e!==n&&Wo(t,e,n)>0!=Wo(t,e,r)>0&&Wo(n,r,t)>0!=Wo(n,r,e)>0}(s[l].p,s[l].next.p,t,e))return!1;return!0}function xt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function kt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Et(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=t[0]-r)*o+(a=t[1]-i)*a}function St(t,e,n,r,i,o,a,s){var l,u,c,f,h=n-t,d=r-e,p=a-i,v=s-o,g=t-i,m=e-o,y=h*h+d*d,_=h*p+d*v,b=p*p+v*v,A=h*g+d*m,w=p*g+v*m,x=y*b-_*_,k=x,C=x;0===x?(u=0,k=1,f=w,C=b):(f=y*w-_*A,(u=_*w-b*A)<0?(u=0,f=w,C=b):u>k&&(u=k,f=w+_,C=b)),f<0?(f=0,-A<0?u=0:-A>y?u=k:(u=-A,k=y)):f>C&&(f=C,-A+_<0?u=0:-A+_>y?u=k:(u=-A+_,k=y));var E=(1-(c=0===f?0:f/C))*i+c*a-((1-(l=0===u?0:u/k))*t+l*n),S=(1-c)*o+c*s-((1-l)*e+l*r);return E*E+S*S}function Rt(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(R(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var i=Yo(r,n);return i.length>3?o([i]):null}function Tt(t,e,n){if("object"!=a(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=H(t),o=q(e),s=e.geometry?e.geometry.type:e.type,l=e.bbox;if(l&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,l))return!1;"Polygon"===s&&(o=[o]);for(var u=0,c=!1;u<o.length&&!c;u++)if(It(i,o[u][0],r)){for(var f=!1,h=1;h<o[u].length&&!f;)It(i,o[u][h],!r)&&(f=!0),h++;f||(c=!0)}return c}function It(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],l=e[o][0],u=e[o][1];if(t[1]*(a-l)+s*(l-t[0])+u*(t[0]-a)==0&&(a-t[0])*(l-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!=u>t[1]&&t[0]<(l-a)*(t[1]-s)/(u-s)+a&&(r=!r)}return r}function Ot(t,e){var n=[];return N(e,(function(e){M(t,(function(t){Tt(t,e)&&n.push(t)}))})),c(n)}function Mt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return c(function(t){if(t.length<3)return[];t.sort(Dt);for(var e,n,r,i,o,a,s=t.length-1,l=t[s].x,u=t[0].x,c=t[s].y,f=c;s--;)t[s].y<c&&(c=t[s].y),t[s].y>f&&(f=t[s].y);var h,d=u-l,p=f-c,v=d>p?d:p,g=.5*(u+l),m=.5*(f+c),y=[new Pt({x:g-20*v,y:m-v,__sentinel:!0},{x:g,y:m+20*v,__sentinel:!0},{x:g+20*v,y:m-v,__sentinel:!0})],_=[],b=[];for(s=t.length;s--;){for(b.length=0,h=y.length;h--;)(d=t[s].x-y[h].x)>0&&d*d>y[h].r?(_.push(y[h]),y.splice(h,1)):d*d+(p=t[s].y-y[h].y)*p>y[h].r||(b.push(y[h].a,y[h].b,y[h].b,y[h].c,y[h].c,y[h].a),y.splice(h,1));for(Nt(b),h=b.length;h;)n=b[--h],e=b[--h],r=t[s],i=n.x-e.x,o=n.y-e.y,a=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(a)>1e-12&&y.push(new Pt(e,n,r))}for(Array.prototype.push.apply(_,y),s=_.length;s--;)(_[s].a.__sentinel||_[s].b.__sentinel||_[s].c.__sentinel)&&_.splice(s,1);return _}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)})))}function Pt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,l=n.y-t.y,u=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+l*(t.y+n.y),f=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(l*u-a*c)/f,this.y=(o*c-s*u)/f,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function Dt(t,e){return e.x-t.x}function Nt(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Lt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=H(t),o=H(e),a=A(o[1]-i[1]),s=A(o[0]-i[0]),l=A(i[1]),u=A(o[1]),c=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(l)*Math.cos(u);return g(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function jt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Ft(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Ft(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return zt(t);default:throw new Error("unknown GeoJSON type")}}function Ft(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(r){var i=e[r];"object"==a(i)?null===i?n[r]=null:i.length?n[r]=i.map((function(t){return t})):n[r]=t(i):n[r]=i})),n):n}(t.properties),e.geometry=zt(t.geometry),e}function zt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return zt(t)})),e):(e.coordinates=function t(e){return"object"!=a(e[0])?e.slice():e.map((function(e){return t(e)}))}(t.coordinates),e)}function Bt(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&Ko(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=Jo(t.transform),l=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function Ut(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)}))})),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Bt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],a=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:a.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=Qo(t,o)).length)>1)for(var a,s,l=1,u=r(o[0]);l<n;++l)(a=r(o[l]))>u&&(s=o[0],o[0]=o[l],o[l]=s,u=a);return o}))}}function Gt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Vt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Ht)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Ht:qt)(t)}function Ht(t){var e,n=qt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function qt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(qt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Wt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Yt(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function Xt(t){return t[0].toString()+","+t[1].toString()}function $t(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=function(t){var e={};j(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=[],i=G(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Xt(r[0]),a=Xt(r[r.length-1]),s=Xt(i[0]),u=Xt(i[i.length-1]);if(o===u)n=i.concat(r.slice(1));else if(s===a)n=r.concat(i.slice(1));else if(o===s)n=r.slice(1).reverse().concat(i);else{if(a!==u)return null;n=r.concat(i.reverse().slice(1))}return l(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:f(r.map((function(t){return t.coordinates}))):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=[];j(t,(function(t){r.push(t.geometry)}));var i=sa({geoms:p(r).geometry});return Zo(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function Jt(t,n){var r="object"==a(n)?n.mutate:n;if(!t)throw new Error("geojson is required");var i=Q(t),o=[];switch(i){case"LineString":o=Kt(t);break;case"MultiLineString":case"Polygon":q(t).forEach((function(t){o.push(Kt(t))}));break;case"MultiPolygon":q(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Kt(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var s={};q(t).forEach((function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function Kt(t){var e=q(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],a=e.length-1;o.push(e[0]);for(var s=1;s<a;s++)n=e[s-1],r=e[s],function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],l=e[1],u=s-o,c=l-a;return(r-o)*c-(i-a)*u==0&&(Math.abs(u)>=Math.abs(c)?u>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=l:l<=i&&i<=a)}(n,i=e[s+1],r)||o.push(r);return o.push(i),o}function Qt(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Zt(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function te(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var a,s=i,l=n+1;l<r;l++){var u=Zt(e[l],e[n],e[r]);u>s&&(a=l,s=u)}s>i&&(a-n>1&&t(e,n,a,i,o),o.push(e[a]),r-a>1&&t(e,a,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)Qt(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function ee(t,e,n){return te(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function ne(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=te(r,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=te(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function re(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!k(n))throw new Error("resolution must be an number");if(!k(r))throw new Error("sharpness must be an number");for(var i=[],o=new la({points:J(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var s=o.pos(a);Math.floor(a/100)%2==0&&i.push([s.x,s.y])}return l(i,t.properties)}function ie(t){E(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function oe(t){return ie(V(t))}function ae(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Lt(t.slice(0,2),[r,n])>=Lt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function se(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties,s=H(t),l=A(s[0]),u=A(s[1]),c=A(n),f=m(e,o),h=Math.asin(Math.sin(u)*Math.cos(f)+Math.cos(u)*Math.sin(f)*Math.cos(c));return r([b(l+Math.atan2(Math.sin(c)*Math.sin(f)*Math.cos(u),Math.cos(f)-Math.sin(u)*Math.sin(h))),b(h)],a)}function le(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=a(n))throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var s=[],l=0;l<r;l++)s.push(se(t,e,-360*l/r,n).geometry.coordinates);return s.push(s[0]),o([s],i)}function ue(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=ue(e,t);return(n+180)%360}(t,e);var r=H(t),i=H(e),o=A(r[0]),a=A(i[0]),s=A(r[1]),l=A(i[1]),u=Math.sin(a-o)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return b(Math.atan2(u,c))}function ce(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=V(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function fe(t,e){var n=0,i=0,o=0;return R(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e)}function he(t){var e=[];return"FeatureCollection"===t.type?M(t,(function(t){R(t,(function(n){e.push(r(n,t.properties))}))})):R(t,(function(n){e.push(r(n,t.properties))})),c(e)}function de(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,f=c?e[0]*n:t.length,h=pe(t,0,f,n,!0),d=[];if(!h)return d;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=pe(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(ge),i=0;i<s.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&ye(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&we(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=xe(e,t);ve(n,n.next)}}(s[i],n),n=ve(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var p=n;p<f;p+=n)(s=t[p])<r&&(r=s),(l=t[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return function t(e,n,r,i,o,a,s){if(e){!s&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=me(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,i,o,a);for(var l,u,c=e;e.prev!==e.next;)if(l=e.prev,u=e.next,a?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(_e(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=me(s,l,e,n,r),h=me(u,c,e,n,r),d=t.nextZ;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&ye(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_e(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&ye(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_e(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}(e,i,o,a):function(t){var e=t.prev,n=t,r=t.next;if(_e(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(ye(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_e(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))n.push(l.i/r),n.push(e.i/r),n.push(u.i/r),Ce(e),e=u.next,c=u.next;else if((e=u)===c){s?1===s?t(e=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!be(i,o)&&Ae(i,r,r.next,o)&&we(i,o)&&we(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ce(r),Ce(r.next),r=t=o),r=r.next}while(r!==t);return r}(e,n,r),n,r,i,o,a,2):2===s&&function(e,n,r,i,o,a){var s=e;do{for(var l=s.next.next;l!==s.prev;){if(s.i!==l.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ae(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&we(t,e)&&we(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,l)){var u=xe(s,l);return s=ve(s,s.next),u=ve(u,u.next),t(s,n,r,i,o,a),void t(u,n,r,i,o,a)}l=l.next}s=s.next}while(s!==e)}(e,n,r,i,o,a):t(ve(e),n,r,i,o,a,1);break}}}(h,d,n,r,i,u),d}function pe(t,e,n,r,i){var o,a;if(i===Se(t,e,n,r)>0)for(o=e;o<n;o+=r)a=ke(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=ke(o,t[o],t[o+1],a);return a&&be(a,a.next)&&(Ce(a),a=a.next),a}function ve(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!be(r,r.next)&&0!==_e(r.prev,r,r.next))r=r.next;else{if(Ce(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function ge(t,e){return t.x-e.x}function me(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ye(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _e(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function be(t,e){return t.x===e.x&&t.y===e.y}function Ae(t,e,n,r){return!!(be(t,e)&&be(n,r)||be(t,r)&&be(n,e))||_e(t,e,n)>0!=_e(t,e,r)>0&&_e(n,r,t)>0!=_e(n,r,e)>0}function we(t,e){return _e(t.prev,t,t.next)<0?_e(t,e,t.next)>=0&&_e(t,t.prev,e)>=0:_e(t,e,t.prev)<0||_e(t,t.next,e)<0}function xe(t,e){var n=new Ee(t.i,t.x,t.y),r=new Ee(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function ke(t,e,n,r){var i=new Ee(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ce(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ee(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Se(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Re(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=ua(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Te(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return M(e,(function(e,i){var o=Lt(t,e);o<r&&((n=jt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)})),n}function Ie(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var f=e[n],h=r,d=i;for(Oe(e,r,n),o(e[i],f)>0&&Oe(e,r,i);h<d;){for(Oe(e,h,d),h++,d--;o(e[h],f)<0;)h++;for(;o(e[d],f)>0;)d--}0===o(e[r],f)?Oe(e,r,d):Oe(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Oe(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Me(t,e){if(!(this instanceof Me))return new Me(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Pe(t,e){De(t,0,t.children.length,e,t)}function De(t,e,n,r,i){i||(i=Ge(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ne(i,t.leaf?r(o):o);return i}function Ne(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Le(t,e){return t.minX-e.minX}function je(t,e){return t.minY-e.minY}function Fe(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ze(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Be(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ue(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ge(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ve(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(Ie(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function He(t){var e=Me(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=qe(e)).bbox=e}else t.bbox=t.bbox?t.bbox:We(t);return Me.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=qe(t);n.bbox=t,e.push(n)})):M(t,(function(t){t.bbox=t.bbox?t.bbox:We(t),e.push(t)})),Me.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=qe(e)).bbox=e}return Me.prototype.remove.call(this,t)},e.clear=function(){return Me.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Me.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Me.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Me.prototype.all.call(this)}},e.toJSON=function(){return Me.prototype.toJSON.call(this)},e.fromJSON=function(t){return Me.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:We(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function qe(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function We(t){var e=[1/0,1/0,-1/0,-1/0];return R(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Ye(t){if(!t)throw new Error("geojson is required");var e=[];return j(t,(function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=q(r);break;case"LineString":n=[q(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=l([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),c(e)}function Xe(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=$e(t,n);return o&&i.push(o),c(i)}var a=He();return a.load(Ye(n)),M(Ye(t),(function(t){M(a.search(t),(function(e){var n=$e(t,e);if(n){var o=q(n).join(",");r[o]||(r[o]=!0,i.push(n))}}))})),c(i)}function $e(t,e){var n=q(t),i=q(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],l=n[1][1],u=i[0][0],c=i[0][1],f=i[1][0],h=i[1][1],d=(h-c)*(s-o)-(f-u)*(l-a);if(0===d)return null;var p=((f-u)*(a-c)-(h-c)*(o-u))/d,v=((s-o)*(a-c)-(l-a)*(o-u))/d;return p>=0&&p<=1&&v>=0&&v<=1?r([o+p*(s-o),a+p*(l-a)]):null}function Je(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return j(t,(function(t){for(var i=q(t),s=0;s<i.length-1;s++){var u=r(i[s]);u.properties.dist=Lt(e,u,n);var c=r(i[s+1]);c.properties.dist=Lt(e,c,n);var f=Lt(u,c,n),h=Math.max(u.properties.dist,c.properties.dist),d=ue(u,c),p=se(e,h,d+90,n),v=se(e,h,d-90,n),g=Xe(l([p.geometry.coordinates,v.geometry.coordinates]),l([u.geometry.coordinates,c.geometry.coordinates])),m=null;g.features.length>0&&((m=g.features[0]).properties.dist=Lt(e,m,n),m.properties.location=a+Lt(u,m,n)),u.properties.dist<o.properties.dist&&((o=u).properties.index=s,o.properties.location=a),c.properties.dist<o.properties.dist&&((o=c).properties.index=s+1,o.properties.location=a+f),m&&m.properties.dist<o.properties.dist&&((o=m).properties.index=s),a+=f}})),o}function Ke(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?Qe(H(e),H(t)):Qe(H(t),H(e)))>180?-(360-r):r}function Qe(t,e){var n=A(t[1]),r=A(e[1]),i=A(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(b(Math.atan2(i,o))+360)%360}function Ze(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=H(t),o=H(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,w(function(t,e,n){var r=n=void 0===n?xo:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),u=Math.abs(l)>1e-11?a/l:Math.cos(i);return Math.sqrt(a*a+u*u*s*s)*r}(i,o),"meters",r)}function tn(t,e){return nn(t,"mercator",e)}function en(t,e){return nn(t,"wgs84",e)}function nn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&k(t[0])?t="mercator"===e?rn(t):on(t):(!0!==r&&(t=jt(t)),R(t,(function(t){var n="mercator"===e?rn(t):on(t);t[0]=n[0],t[1]=n[1]}))),t}function rn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function on(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function an(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):X(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=l(n):"LineString"===n.type?n=e(n):X(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return z(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],s=function(t,e,n,i){var o=i.mercator,a=!0!==o?Lt(e,t,i):sn(e,t,i),s=_(!0!==o?ue(e,t):Ke(e,t)),l=_(!0!==o?ue(e,n):Ke(e,n)),u=Math.abs(s-l);if(u>90)return a;var c=(l+180)%360,f=_(!0!==o?ue(n,t):Ke(n,t)),h=Math.abs(f-c);return h>180&&(h=Math.abs(h-360)),h>90?!0!==o?Lt(t,n,i):sn(t,n,i):!0!==o?a*Math.sin(A(u)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=en(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}(tn([t[0]+o,t[1]]),tn([e[0]+o,e[1]]),tn([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),Ze(a,s,i)}(e,n,t,i)}(a,e,n,i);o>s&&(o=s)})),o}function sn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=tn([t[0]+i,t[1]]),a=tn([e[0]+i,e[1]]),s=function(t){return t*t},l=s(o[0]-a[0])+s(o[1]-a[1]);return w(Math.sqrt(l),"meters",r)}function ln(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?c([e(t)]):c([t]):t}(t),i=ce(n),o=!1,a=0;!o&&a<n.features.length;){var s,l=n.features[a].geometry,u=!1;if("Point"===l.type)i.geometry.coordinates[0]===l.coordinates[0]&&i.geometry.coordinates[1]===l.coordinates[1]&&(o=!0);else if("MultiPoint"===l.type){var f=!1;for(s=0;!f&&s<l.coordinates.length;)i.geometry.coordinates[0]===l.coordinates[s][0]&&i.geometry.coordinates[1]===l.coordinates[s][1]&&(o=!0,f=!0),s++}else if("LineString"===l.type)for(s=0;!u&&s<l.coordinates.length-1;)un(i.geometry.coordinates[0],i.geometry.coordinates[1],l.coordinates[s][0],l.coordinates[s][1],l.coordinates[s+1][0],l.coordinates[s+1][1])&&(u=!0,o=!0),s++;else if("MultiLineString"===l.type)for(var h=0;h<l.coordinates.length;){u=!1,s=0;for(var d=l.coordinates[h];!u&&s<d.length-1;)un(i.geometry.coordinates[0],i.geometry.coordinates[1],d[s][0],d[s][1],d[s+1][0],d[s+1][1])&&(u=!0,o=!0),s++;h++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||Tt(i,l)&&(o=!0);a++}if(o)return i;var p=c([]);for(a=0;a<n.features.length;a++)p.features=p.features.concat(he(n.features[a]).features);return r(Te(i,p).geometry.coordinates)}function un(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function cn(t){return L(t,(function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return fn(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=fn(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)}),0)}function fn(t){var e=0;if(t&&t.length>0){e+=Math.abs(hn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(hn(t[n]))}return e}function hn(t){var e,n,r,i,o,a,s=0,l=t.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(dn(t[o][0])-dn(e[0]))*Math.sin(dn(n[1]));s=s*ha*ha/2}return s}function dn(t){return t*Math.PI/180}function pn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return B(t,(function(t,n){var r=n.geometry.coordinates;return t+Lt(r[0],r[1],e)}),0)}function vn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,s,u,c=0,f=0;f<i.length&&!(e>=c&&f===i.length-1);f++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(i[f]),l(o);s=ue(i[f],i[f-1])-180,u=se(i[f],a,s,r),o.push(u.geometry.coordinates)}if(c>=n)return(a=n-c)?(s=ue(i[f],i[f-1])-180,u=se(i[f],a,s,r),o.push(u.geometry.coordinates),l(o)):(o.push(i[f]),l(o));if(c>=e&&o.push(i[f]),f===i.length-1)return l(o);c+=Lt(i[f],i[f+1],r)}return l(i[i.length-1])}function gn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=H(t),o=q(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],l=e[0],u=e[1],c=l-a,f=u-s;return(n[0]-a)*f-(n[1]-s)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(f)?c>0?a<i&&i<=l:l<=i&&i<a:f>0?s<o&&o<=u:u<=o&&o<s:"end"===r?Math.abs(c)>=Math.abs(f)?c>0?a<=i&&i<l:l<i&&i<=a:f>0?s<=o&&o<u:u<o&&o<=s:"both"===r?Math.abs(c)>=Math.abs(f)?c>0?a<i&&i<l:l<i&&i<a:f>0?s<o&&o<u:u<o&&o<s:void 0:Math.abs(c)>=Math.abs(f)?c>0?a<=i&&i<=l:l<=i&&i<=a:f>0?s<=o&&o<=u:u<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function mn(t,e){var n=Q(t),r=Q(e),i=J(t),o=J(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(_n(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return gn(i,o,{ignoreEndVertices:!0});case"Polygon":return Tt(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)_n(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!gn(t.coordinates[r],e))return!1;n||(n=gn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Tt(t.coordinates[1],e);if(!i){n=!1;break}i=Tt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!gn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!yn(V(e),V(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Tt(t.coordinates[r],e))return!1;if(n||(n=Tt(t.coordinates[r],e,{ignoreBoundary:!0})),!n)n=Tt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0})}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=V(t);if(!yn(V(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Tt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function yn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function _n(t,e){return t[0]===e[0]&&t[1]===e[1]}function bn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],l=t[1],u=t[2],f=t[3],h=e/Lt([s,l],[u,l],n)*(u-s),d=e/Lt([s,l],[s,f],n)*(f-l),p=u-s,v=f-l,g=Math.floor(p/h),m=(v-Math.floor(v/d)*d)/2,y=s+(p-g*h)/2;y<=u;){for(var _=l+m;_<=f;){var b=r([y,_],o);i?mn(b,i)&&a.push(b):a.push(b),_+=d}y+=h}return c(a)}function An(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return R(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function wn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!wn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function xn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function kn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!kn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Cn(t,e){var n=[],r=He();return j(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=Sn(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),M(En(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=En(t,e).features).forEach((function(t){t.bbox||(t.bbox=ae(V(t)))})),r.load(c(n))})),c(n)}function En(t,e){var n=[],r=q(t)[0],i=q(t)[t.geometry.coordinates.length-1];if(Rn(r,H(e))||Rn(i,H(e)))return c([t]);var o=He(),a=Ye(t);o.load(a);var s=o.search(e);if(!s.features.length)return c([t]);var u=Sn(e,s),f=P(a,(function(t,r,i){var o=q(r)[1],a=H(e);return i===u.id?(t.push(a),n.push(l(t)),Rn(a,o)?[a]:[a,o]):(t.push(o),t)}),[r]);return f.length>1&&n.push(l(f)),c(n)}function Sn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return M(e,(function(e){var i=Je(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function Rn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Tn(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.steps,s=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=a(i))throw new Error("options must be an object");o=o||64;var u=In(n),c=In(r),f=t.properties;if(u===c)return l(le(t,e,i).geometry.coordinates[0],f);for(var h=u,d=u<c?c:c+360,p=h,v=[],g=0;p<d;)v.push(se(t,e,p,s).geometry.coordinates),p=h+360*++g/o;return p>d&&v.push(se(t,e,d,s).geometry.coordinates),l(v,f)}function In(t){var e=t%360;return e<0&&(e+=360),e}function On(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=Q(t),i=q(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Mn(i,n);case"MultiPolygon":var o=[];return i.forEach((function(t){o.push(Mn(t,n))})),c(o);default:throw new Error("geom "+r+" not supported")}}function Mn(t,e){return t.length>1?f(t,e):l(t[0],e)}function Pn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,Q(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(q(Dn(t,{},r,i)))})),d(o,n)}return Dn(t,n,r,i)}function Dn(t,e,n,r){e=e||t.properties||{};var i=q(t),a=Q(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=Nn(i)),o([i],e);case"MultiLineString":var s=[],u=0;return i.forEach((function(t){if(n&&(t=Nn(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(V(l(t)));e>u?(s.unshift(t),u=e):s.push(t)}else s.push(t)})),o(s,e);default:throw new Error("geometry type "+a+" is not supported")}}function Nn(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],a=i[1];return n===o&&r===a||t.push(e),t}function Ln(t,e,n){var r,i,o,a,s,l=t.length,u=Fn(t[0],e),c=[];for(n||(n=[]),r=1;r<l;r++){for(i=t[r-1],a=s=Fn(o=t[r],e);;){if(!(u|a)){c.push(i),a!==s?(c.push(o),r<l-1&&(n.push(c),c=[])):r===l-1&&c.push(o);break}if(u&a)break;u?u=Fn(i=jn(i,o,u,e),e):a=Fn(o=jn(i,o,a,e),e)}u=s}return c.length&&n.push(c),n}function jn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Fn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function zn(t,e){for(var n=[],r=0;r<t.length;r++){var i=wa.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Bn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Un(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=a(t)&&"object"!=a(e)?(n.strict,t===e):function(t,e,n){var r,i;if(Gn(t)||Gn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Bn(t))return!!Bn(e)&&Un(t=xa.call(t),e=xa.call(e),n);if(Vn(t)){if(!Vn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),r=o.length-1;r>=0;r--)if(o[r]!==s[r])return!1;for(r=o.length-1;r>=0;r--)if(!Un(t[i=o[r]],e[i],n))return!1;return a(t)==a(e)}(t,e,n))}function Gn(t){return null==t}function Vn(t){return!(!t||"object"!=a(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Hn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=He();return a.load(Ye(t)),z(e,(function(t){var e=!1;M(a.search(t),(function(n){if(!1===e){var o=q(t).sort(),a=q(n).sort();Un(o,a)||(0===i?gn(o[0],n)&&gn(o[1],n):Je(n,o[0]).properties.dist<=i&&Je(n,o[1]).properties.dist<=i)?(e=!0,r=r?qn(r,t):t):(0===i?gn(a[0],t)&&gn(a[1],t):Je(t,a[0]).properties.dist<=i&&Je(t,a[1]).properties.dist<=i)&&(r=r?qn(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),c(o)}function qn(t,e){var n=q(e),r=q(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return Un(n[0],i)?a.unshift(n[1]):Un(n[0],o)?a.push(n[1]):Un(n[1],i)?a.unshift(n[0]):Un(n[1],o)&&a.push(n[0]),t}function Wn(t){var e=t%360;return e<0&&(e+=360),e}function Yn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=w(e,o,"meters"),l=H(t),u=function(t,e,n,r){var i=e/(r=void 0===r?xo:Number(r)),o=t[0]*Math.PI/180,a=A(t[1]),s=A(n),l=i*Math.cos(s),u=a+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(c)>1e-11?l/c:Math.cos(a);return[(180*(o+i*Math.sin(s)/f)/Math.PI+540)%360-180,180*u/Math.PI]}(l,s,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,r(u,a)}function Xn(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=t[a+1];a===t.length-1&&(l=t[0]),r=$n(s,l,e),n<=0&&r>0?function(t,e,n){return $n(t,e,n)<0}(e,s,i)||(i=s):n>0&&r<=0&&(function(t,e,n){return $n(t,e,n)>0}(e,s,o)||(o=s)),n=r}return[i,o]}function $n(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Jn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=q(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function Kn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return N(t,(function(t){Kn(t,e)})),t;case"LineString":return Qn(q(t),e),t;case"Polygon":return Zn(q(t),e),t;case"MultiLineString":return q(t).forEach((function(t){Qn(t,e)})),t;case"MultiPolygon":return q(t).forEach((function(t){Zn(t,e)})),t;case"Point":case"MultiPoint":return t}}function Qn(t,e){Jn(t)===e&&t.reverse()}function Zn(t,e){Jn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Jn(t[n])===e&&t[n].reverse()}function tr(t,e,n,r){r=r||{};for(var i=Object.keys(ka),o=0;o<i.length;o++){var s=i[o],l=r[s];l=null!=l?l:ka[s],Ca[s]=l}Ca.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,c=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var l=0;l<i;++l){var u=0,c=t[s+1][l],f=t[s+1][l+1],h=t[s][l+1],d=t[s][l];if(!(isNaN(c)||isNaN(f)||isNaN(h)||isNaN(d))){u|=c<e?0:c>a?128:64,u|=f<e?0:f>a?32:16,u|=h<e?0:h>a?8:4;var p=+(u|=d<e?0:d>a?2:1),v=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var g=(c+f+h+d)/4;v=g>a?2:g<e?0:1,34===u?1===v?u=35:0===v&&(u=136):136===u?1===v?(u=35,v=4):0===v&&(u=34):17===u?1===v?(u=155,v=4):0===v&&(u=153):68===u?1===v?(u=103,v=4):0===v&&(u=102):153===u?1===v&&(u=155):102===u?1===v&&(u=103):152===u?v<2&&(u=156,v=1):137===u?v<2&&(u=139,v=1):98===u?v<2&&(u=99,v=1):38===u?v<2&&(u=39,v=1):18===u?v>0?(u=156,v=4):u=152:33===u?v>0?(u=139,v=4):u=137:72===u?v>0?(u=99,v=4):u=98:132===u&&(v>0?(u=39,v=4):u=38)}if(0!=u&&170!=u){var m,y,_,b,A,w,x,k;m=y=_=b=A=w=x=k=.5;var C=[];1===u?(_=1-er(e,h,d),k=1-er(e,c,d),C.push(fs[u])):169===u?(_=er(a,d,h),k=er(a,d,c),C.push(fs[u])):4===u?(w=1-er(e,f,h),b=er(e,d,h),C.push(us[u])):166===u?(w=er(a,h,f),b=1-er(a,h,d),C.push(us[u])):16===u?(A=er(e,h,f),y=er(e,c,f),C.push(ls[u])):154===u?(A=1-er(a,f,h),y=1-er(a,f,c),C.push(ls[u])):64===u?(x=er(e,d,c),m=1-er(e,f,c),C.push(ds[u])):106===u?(x=1-er(a,c,d),m=er(a,c,f),C.push(ds[u])):168===u?(b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),C.push(cs[u]),C.push(fs[u])):2===u?(b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),C.push(cs[u]),C.push(fs[u])):162===u?(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),C.push(cs[u]),C.push(fs[u])):8===u?(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),C.push(ls[u]),C.push(us[u])):138===u?(A=1-er(e,f,h),w=1-er(a,f,h),m=1-er(a,f,c),y=1-er(e,f,c),C.push(ls[u]),C.push(us[u])):32===u?(A=er(a,h,f),w=er(e,h,f),m=er(e,c,f),y=er(a,c,f),C.push(ls[u]),C.push(us[u])):42===u?(k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f),C.push(hs[u]),C.push(ds[u])):128===u&&(k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c),C.push(hs[u]),C.push(ds[u])),5===u?(w=1-er(e,f,h),k=1-er(e,c,d),C.push(us[u])):165===u?(w=er(a,h,f),k=er(a,d,c),C.push(us[u])):20===u?(b=er(e,d,h),y=er(e,c,f),C.push(cs[u])):150===u?(b=1-er(a,h,d),y=1-er(a,f,c),C.push(cs[u])):80===u?(A=er(e,h,f),x=er(e,d,c),C.push(ls[u])):90===u?(A=1-er(a,f,h),x=1-er(a,c,d),C.push(ls[u])):65===u?(_=1-er(e,h,d),m=1-er(e,f,c),C.push(fs[u])):105===u?(_=er(a,d,h),m=er(a,c,f),C.push(fs[u])):160===u?(A=er(a,h,f),w=er(e,h,f),k=er(e,d,c),x=er(a,d,c),C.push(ls[u]),C.push(us[u])):10===u?(A=1-er(e,f,h),w=1-er(a,f,h),k=1-er(a,c,d),x=1-er(e,c,d),C.push(ls[u]),C.push(us[u])):130===u?(b=1-er(e,h,d),_=1-er(a,h,d),m=1-er(a,f,c),y=1-er(e,f,c),C.push(cs[u]),C.push(fs[u])):40===u?(b=er(a,d,h),_=er(e,d,h),m=er(e,c,f),y=er(a,c,f),C.push(cs[u]),C.push(fs[u])):101===u?(w=er(a,h,f),m=er(a,c,f),C.push(us[u])):69===u?(w=1-er(e,f,h),m=1-er(e,f,c),C.push(us[u])):149===u?(k=er(a,d,c),y=1-er(a,f,c),C.push(hs[u])):21===u?(k=1-er(e,c,d),y=er(e,c,f),C.push(hs[u])):86===u?(b=1-er(a,h,d),x=1-er(a,c,d),C.push(cs[u])):84===u?(b=er(e,d,h),x=er(e,d,c),C.push(cs[u])):89===u?(A=1-er(a,f,h),_=er(a,d,h),C.push(fs[u])):81===u?(A=er(e,h,f),_=1-er(e,h,d),C.push(fs[u])):96===u?(A=er(a,h,f),w=er(e,h,f),x=er(e,d,c),m=er(a,c,f),C.push(ls[u]),C.push(us[u])):74===u?(A=1-er(e,f,h),w=1-er(a,f,h),x=1-er(a,c,d),m=1-er(e,f,c),C.push(ls[u]),C.push(us[u])):24===u?(A=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),y=er(e,c,f),C.push(ls[u]),C.push(fs[u])):146===u?(A=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),y=1-er(a,f,c),C.push(ls[u]),C.push(fs[u])):6===u?(w=1-er(e,f,h),b=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),C.push(us[u]),C.push(cs[u])):164===u?(w=er(a,h,f),b=er(e,d,h),k=er(e,d,c),x=er(a,d,c),C.push(us[u]),C.push(cs[u])):129===u?(_=1-er(e,h,d),k=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c),C.push(fs[u]),C.push(hs[u])):41===u?(_=er(a,d,h),k=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f),C.push(fs[u]),C.push(hs[u])):66===u?(b=1-er(e,h,d),_=1-er(a,h,d),x=1-er(a,c,d),m=1-er(e,f,c),C.push(cs[u]),C.push(fs[u])):104===u?(b=er(a,d,h),_=er(e,d,h),x=er(e,d,c),m=er(a,c,f),C.push(fs[u]),C.push(ps[u])):144===u?(A=er(e,h,f),k=er(e,d,c),x=er(a,d,c),y=1-er(a,f,c),C.push(ls[u]),C.push(ds[u])):26===u?(A=1-er(a,f,h),k=1-er(a,c,d),x=1-er(e,c,d),y=er(e,c,f),C.push(ls[u]),C.push(ds[u])):36===u?(w=er(a,h,f),b=er(e,d,h),m=er(e,c,f),y=er(a,c,f),C.push(us[u]),C.push(cs[u])):134===u?(w=1-er(e,f,h),b=1-er(a,h,d),m=1-er(a,f,c),y=1-er(e,f,c),C.push(us[u]),C.push(cs[u])):9===u?(A=1-er(e,f,h),w=1-er(a,f,h),_=er(a,d,h),k=1-er(e,c,d),C.push(ls[u]),C.push(us[u])):161===u?(A=er(a,h,f),w=er(e,h,f),_=1-er(e,h,d),k=er(a,d,c),C.push(ls[u]),C.push(us[u])):37===u?(w=er(a,h,f),k=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f),C.push(us[u]),C.push(hs[u])):133===u?(w=1-er(e,f,h),k=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c),C.push(us[u]),C.push(hs[u])):148===u?(b=er(e,d,h),k=er(e,d,c),x=er(a,d,c),y=1-er(a,f,c),C.push(cs[u]),C.push(ds[u])):22===u?(b=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),y=er(e,c,f),C.push(cs[u]),C.push(ds[u])):82===u?(A=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),x=1-er(a,c,d),C.push(ls[u]),C.push(fs[u])):88===u?(A=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),x=er(e,d,c),C.push(ls[u]),C.push(fs[u])):73===u?(A=1-er(e,f,h),w=1-er(a,f,h),_=er(a,d,h),m=1-er(e,f,c),C.push(ls[u]),C.push(us[u])):97===u?(A=er(a,h,f),w=er(e,h,f),_=1-er(e,h,d),m=er(a,c,f),C.push(ls[u]),C.push(us[u])):145===u?(A=er(e,h,f),_=1-er(e,h,d),k=er(a,d,c),y=1-er(a,f,c),C.push(ls[u]),C.push(hs[u])):25===u?(A=1-er(a,f,h),_=er(a,d,h),k=1-er(e,c,d),y=er(e,c,f),C.push(ls[u]),C.push(hs[u])):70===u?(w=1-er(e,f,h),b=1-er(a,h,d),x=1-er(a,c,d),m=1-er(e,f,c),C.push(us[u]),C.push(cs[u])):100===u?(w=er(a,h,f),b=er(e,d,h),x=er(e,d,c),m=er(a,c,f),C.push(us[u]),C.push(cs[u])):34===u?(0===v?(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)):(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)),C.push(ls[u]),C.push(us[u]),C.push(hs[u]),C.push(ds[u])):35===u?(4===v?(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)):(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)),C.push(ls[u]),C.push(us[u]),C.push(fs[u]),C.push(ds[u])):136===u?(0===v?(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)):(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)),C.push(ls[u]),C.push(us[u]),C.push(hs[u]),C.push(ds[u])):153===u?(0===v?(A=er(e,h,f),_=1-er(e,h,d),k=1-er(e,c,d),y=er(e,c,f)):(A=1-er(a,f,h),_=er(a,d,h),k=er(a,d,c),y=1-er(a,f,c)),C.push(ls[u]),C.push(fs[u])):102===u?(0===v?(w=1-er(e,f,h),b=er(e,d,h),x=er(e,d,c),m=1-er(e,f,c)):(w=er(a,h,f),b=1-er(a,h,d),x=1-er(a,c,d),m=er(a,c,f)),C.push(us[u]),C.push(ds[u])):155===u?(4===v?(A=er(e,h,f),_=1-er(e,h,d),k=1-er(e,c,d),y=er(e,c,f)):(A=1-er(a,f,h),_=er(a,d,h),k=er(a,d,c),y=1-er(a,f,c)),C.push(ls[u]),C.push(hs[u])):103===u?(4===v?(w=1-er(e,f,h),b=er(e,d,h),x=er(e,d,c),m=1-er(e,f,c)):(w=er(a,h,f),b=1-er(a,h,d),x=1-er(a,c,d),m=er(a,c,f)),C.push(us[u]),C.push(cs[u])):152===u?(0===v?(A=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),y=er(e,c,f)):(A=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),y=1-er(a,f,c)),C.push(ls[u]),C.push(cs[u]),C.push(fs[u])):156===u?(4===v?(A=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),y=er(e,c,f)):(A=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),k=er(e,d,c),x=er(a,d,c),y=1-er(a,f,c)),C.push(ls[u]),C.push(fs[u]),C.push(ds[u])):137===u?(0===v?(A=er(a,h,f),w=er(e,h,f),_=1-er(e,h,d),k=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)):(A=1-er(e,f,h),w=1-er(a,f,h),_=er(a,d,h),k=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)),C.push(ls[u]),C.push(us[u]),C.push(fs[u])):139===u?(4===v?(A=er(a,h,f),w=er(e,h,f),_=1-er(e,h,d),k=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)):(A=1-er(e,f,h),w=1-er(a,f,h),_=er(a,d,h),k=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)),C.push(ls[u]),C.push(us[u]),C.push(hs[u])):98===u?(0===v?(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),x=er(e,d,c),m=1-er(e,f,c)):(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),x=1-er(a,c,d),m=er(a,c,f)),C.push(ls[u]),C.push(us[u]),C.push(ds[u])):99===u?(4===v?(A=1-er(e,f,h),w=1-er(a,f,h),b=er(a,d,h),_=er(e,d,h),x=er(e,d,c),m=1-er(e,f,c)):(A=er(a,h,f),w=er(e,h,f),b=1-er(e,h,d),_=1-er(a,h,d),x=1-er(a,c,d),m=er(a,c,f)),C.push(ls[u]),C.push(us[u]),C.push(fs[u])):38===u?(0===v?(w=1-er(e,f,h),b=er(e,d,h),k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)):(w=er(a,h,f),b=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)),C.push(us[u]),C.push(hs[u]),C.push(ds[u])):39===u?(4===v?(w=1-er(e,f,h),b=er(e,d,h),k=er(e,d,c),x=er(a,d,c),m=1-er(a,f,c),y=1-er(e,f,c)):(w=er(a,h,f),b=1-er(a,h,d),k=1-er(a,c,d),x=1-er(e,c,d),m=er(e,c,f),y=er(a,c,f)),C.push(us[u]),C.push(cs[u]),C.push(ds[u])):85===u&&(A=1,w=0,b=1,_=0,k=0,x=1,m=0,y=1),(m<0||m>1||y<0||y>1||A<0||A>1||b<0||b>1||k<0||k>1||x<0||x>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+p+" "+c+","+f+","+h+","+d+" "+v+" "+m+" "+y+" "+A+" "+w+" "+b+" "+_+" "+k+" "+x),o.cells[s][l]={cval:u,cval_real:p,flipped:v,topleft:m,topright:y,righttop:A,rightbottom:w,bottomright:b,bottomleft:_,leftbottom:k,lefttop:x,edges:C}}}}}return o}(t,e,n);return Ca.polygons?(Ca.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=gs[t.cval](t);"object"==a(o)&&nr(o)?"object"==a(o[0])&&nr(o[0])?"object"==a(o[0][0])&&nr(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(c)):(Ca.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Sa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Ra?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Ra?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Ta?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Sa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Ra?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Ra?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Ta?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Ra?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Ta?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Ta?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Ea?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Ra?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Ta?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Ta?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Ea?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Ra?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Ea?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Ta?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Ea?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Ea?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Sa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Ea?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Sa?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),l=null,u=a,c=o;null!==s&&i.push([s.p[0]+u,s.p[1]+c]);do{if(null===(l=function(t,e,n,r){var i,o,a,s,l,u=t.cval;switch(e){case-1:switch(r){case 0:i=us[u],a=za[u],s=Ba[u],l=Ua[u];break;default:i=ls[u],a=La[u],s=ja[u],l=Fa[u]}break;case 1:switch(r){case 0:i=hs[u],a=Ka[u],s=Qa[u],l=Za[u];break;default:i=ds[u],a=Xa[u],s=$a[u],l=Ja[u]}break;default:switch(n){case-1:switch(r){case 0:i=ps[u],a=Ia[u],s=Oa[u],l=Ma[u];break;default:i=vs[u],a=Pa[u],s=Da[u],l=Na[u]}break;case 1:switch(r){case 0:i=fs[u],a=Ga[u],s=Va[u],l=Ha[u];break;default:i=cs[u],a=qa[u],s=Wa[u],l=Ya[u]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),u=t.cval_real,i){case 0:u&Sa?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:u&Ra?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:u&Ra?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:u&Ta?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:u&Sa?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:u&Ra?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:u&Ra?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:u&Ta?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:u&Ra?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:u&Ta?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:u&Ta?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:u&Ea?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:u&Ra?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:u&Ta?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:u&Ta?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:u&Ea?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:u&Ra?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:u&Ea?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:u&Ta?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:u&Ea?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:u&Ea?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:u&Sa?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:u&Ea?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:u&Sa?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+l)),{p:[e,n],x:a,y:s,o:l}}(t.cells[c][u],s.x,s.y,s.o)))break;if(i.push([l.p[0]+u,l.p[1]+c]),u+=l.x,s=l,(c+=l.y)<0||c>=n||u<0||u>=r||void 0===t.cells[c][u]){var f=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,l=e+r,u=n+i,c=[],f=!1;!f;){if(void 0===t.cells[u]||void 0===t.cells[u][l])if(u-=i,l-=r,s=(a=t.cells[u][l]).cval_real,-1===i)if(0===o)if(s&Ta)c.push([l,u]),r=-1,i=0,o=0;else{if(!(s&Ra)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l+1,u]),r=1,i=0,o=0}else{if(!(s&Ta)){if(s&Ra){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l+a.bottomleft,u]),r=0,i=1,o=0,f=!0;break}c.push([l,u]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&Sa)){if(s&Ea){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,f=!0;break}c.push([l+a.topright,u+1]),r=0,i=-1,o=1,f=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}else c.push([l+1,u+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&Ea)){if(s&Ta){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,f=!0;break}c.push([l,u+a.lefttop]),r=1,i=0,o=1,f=!0;break}c.push([l,u+1]),r=0,i=1,o=0}else{if(!(s&Ea)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&Ra)){c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}else{if(!(s&Ra)){if(s&Sa){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1;break}c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else if(s=(a=t.cells[u][l]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[u-1]&&void 0!==t.cells[u-1][l])r=0,i=-1,o=1;else{if(!(s&Ta)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l,u])}else{if(!(s&Ea)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u+1]&&void 0!==t.cells[u+1][l])r=0,i=1,o=0;else{if(!(s&Sa)){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,f=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l+1])r=1,i=0,o=1;else{if(!(s&Ra)){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l-1])r=-1,i=0,o=0;else{if(!(s&Ea)){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,f=!0;break}c.push([l,u+1]),r=0,i=1,o=0}}if(u+=i,(l+=r)===e&&u===n)break}return{path:c,i:l,j:u,x:r,y:i,o:o}}(t,u-=l.x,c-=l.y,l.x,l.y,l.o);if(null===f)break;f.path.forEach((function(t){i.push(t)})),u=f.i,c=f.j,s=f}}while(void 0!==t.cells[c][u]&&t.cells[c][u].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(c)),"function"==typeof Ca.successCallback&&Ca.successCallback(u),u}function er(t,e,n){return(t-e)/(n-e)}function nr(t){return t.constructor.toString().indexOf("Array")>-1}function rr(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=fe(t)),!1!==i&&void 0!==i||(t=jt(t)),R(t,(function(t){var n=Ke(r,t)+e,i=Ze(r,t),o=q(Yn(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function ir(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==a(r);return!0!==i&&(t=jt(t)),"FeatureCollection"!==t.type||o?or(t,e,r):(M(t,(function(n,i){t.features[i]=or(n,e,r)})),t)}function or(t,e,n){var i="Point"===Q(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==a(e))return H(e);var n=t.bbox?t.bbox:V(t),i=n[0],o=n[1],s=n[2],l=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,l]);case"ne":case"northeast":case"eastnorth":case"topright":return r([s,l]);case"center":return ce(t);case void 0:case null:case"centroid":return fe(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||R(t,(function(t){var r=Ze(n,t),i=Ke(n,t),o=q(Yn(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function ar(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function sr(t,e){return t[0]*e[1]-e[0]*t[1]}function lr(t,e,n){var r=[],i=y(e,n),o=q(t),a=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r;return[[i,t[1]+n*(t[0]-e[0])/r],[o,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],l=function(t,e){return!function(t,e){return 0===sr(ar(t),ar(e))}(t,e)&&function(t,e){var n=t[0],r=ar(t),i=e[0],o=ar(e),a=sr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(sr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/a,r))}(t,e)}(n,s);!1!==l&&(s[1]=l,n[0]=l),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}})),l(a,t.properties)}function ur(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],a=n[1]-e[1];return Math.sign(r*a-o*i)}function cr(t,e){return e.geometry.coordinates[0].every((function(e){return Tt(r(e),t)}))}function fr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1];return r*a-i*o==0&&(Math.abs(o)>=Math.abs(a)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function hr(t,e){return Xe(e,On(t)).features.length>0}function dr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function pr(t,e){return t[0]===e[0]&&t[1]===e[1]}function vr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),yr(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function gr(t,e){return Xe(t,On(e)).features.length>0}function mr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)Tt(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function yr(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==i*s-o*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:s>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function _r(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function br(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Ar(t,e){return ks(t,e,{strict:!0})}function wr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Q(t);if(n!==Q(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Es({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=D(t),o=D(e);i.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&r++}))}));break;case"LineString":case"MultiLineString":z(t,(function(t){z(e,(function(e){Hn(t,e).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":z(t,(function(t){z(e,(function(e){Xe(t,e).features.length&&r++}))}))}return r>0}function xr(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function kr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Cr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Er(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Sr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Sr(t,e,n){this.x=t,this.y=e,this.weight=n}function Rr(t){this.content=[],this.scoreFunction=t}function Tr(t){return t[0]}function Ir(t){return t[1]}function Or(){this._=null}function Mr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Dr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Nr(t){for(;t.L;)t=t.L;return t}function Lr(t,e,n,r){var i=[null,null],o=Vs.push(i)-1;return i.left=t,i.right=e,n&&Fr(i,t,e,n),r&&Fr(i,e,t,r),Us[t.index].halfedges.push(o),Us[e.index].halfedges.push(o),i}function jr(t,e,n){var r=[e,n];return r.left=t,r}function Fr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function zr(t,e,n,r,i){var o,a=t[0],s=t[1],l=a[0],u=a[1],c=0,f=1,h=s[0]-l,d=s[1]-u;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(t[0]=[l+c*h,u+c*d]),f<1&&(t[1]=[l+f*h,u+f*d]),!0)}}}}}function Br(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,l=t[0],u=t.left,c=t.right,f=u[0],h=u[1],d=c[0],p=c[1],v=(f+d)/2,g=(h+p)/2;if(p===h){if(v<e||v>=r)return;if(f>d){if(l){if(l[1]>=i)return}else l=[v,n];o=[v,i]}else{if(l){if(l[1]<n)return}else l=[v,i];o=[v,n]}}else if(s=g-(a=(f-d)/(p-h))*v,a<-1||a>1)if(f>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(l){if(l[0]>=r)return}else l=[e,a*e+s];o=[r,a*r+s]}else{if(l){if(l[0]<e)return}else l=[r,a*r+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function Ur(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Gr(t,e){return e[+(e.left!==t.site)]}function Vr(t,e){return e[+(e.left===t.site)]}function Hr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(l*f-u*c);if(!(h>=-Ys)){var d=l*l+u*u,p=c*c+f*f,v=(f*d-u*p)/h,g=(l*p-c*d)/h,m=Hs.pop()||new function(){Mr(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),t.circle=m;for(var y=null,_=Gs._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Gs.insert(y,m),y||(zs=m)}}}}function qr(t){var e=t.circle;e&&(e.P||(zs=e.N),Gs.remove(e),Hs.push(e),Mr(e),t.circle=null)}function Wr(t){var e=qs.pop()||new function(){Mr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Yr(t){qr(t),Bs.remove(t),qs.push(t),Mr(t)}function Xr(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Yr(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ws&&Math.abs(r-l.circle.cy)<Ws;)o=l.P,s.unshift(l),Yr(l),l=o;s.unshift(l),qr(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ws&&Math.abs(r-u.circle.cy)<Ws;)a=u.N,s.push(u),Yr(u),u=a;s.push(u),qr(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],Fr(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=Lr(l.site,u.site,null,i),Hr(l),Hr(u)}function $r(t){for(var e,n,r,i,o=t[0],a=t[1],s=Bs._;s;)if((r=Jr(s,a)-o)>Ws)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Jr(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>Ws)){r>-Ws?(e=s.P,n=s):i>-Ws?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Us[t.index]={site:t,halfedges:[]}}(t);var l=Wr(t);if(Bs.insert(e,l),e||n){if(e===n)return qr(e),n=Wr(e.site),Bs.insert(l,n),l.edge=n.edge=Lr(e.site,l.site),Hr(e),void Hr(n);if(n){qr(e),qr(n);var u=e.site,c=u[0],f=u[1],h=t[0]-c,d=t[1]-f,p=n.site,v=p[0]-c,g=p[1]-f,m=2*(h*g-d*v),y=h*h+d*d,_=v*v+g*g,b=[(g*y-d*_)/m+c,(h*_-v*y)/m+f];Fr(n.edge,u,p,b),l.edge=Lr(u,t,null,b),n.edge=Lr(t,p,null,b),Hr(e),Hr(n)}else l.edge=Lr(e.site,l.site)}}function Jr(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Kr(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Qr(t,e){return e[1]-t[1]||e[0]-t[0]}function Zr(t,e){var n,r,i,o=t.sort(Qr).pop();for(Vs=[],Us=new Array(t.length),Bs=new Or,Gs=new Or;;)if(i=zs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||($r(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Xr(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Us.length;i<o;++i)if((t=Us[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Ur(t,Vs[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,o=Vs.length;o--;)Br(i=Vs[o],t,e,n,r)&&zr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ws||Math.abs(i[0][1]-i[1][1])>Ws)||delete Vs[o]}(a,s,l,u),function(t,e,n,r){var i,o,a,s,l,u,c,f,h,d,p,v,g=Us.length,m=!0;for(i=0;i<g;++i)if(o=Us[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Vs[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=Vr(o,Vs[l[s]]))[0],v=d[1],f=(c=Gr(o,Vs[l[++s%u]]))[0],h=c[1],(Math.abs(p-f)>Ws||Math.abs(v-h)>Ws)&&(l.splice(s,0,Vs.push(jr(a,d,Math.abs(p-t)<Ws&&r-v>Ws?[t,Math.abs(f-t)<Ws?h:r]:Math.abs(v-r)<Ws&&n-p>Ws?[Math.abs(h-r)<Ws?f:n,r]:Math.abs(p-n)<Ws&&v-e>Ws?[n,Math.abs(f-n)<Ws?h:e]:Math.abs(v-e)<Ws&&p-t>Ws?[Math.abs(h-e)<Ws?f:t,e]:null))-1),++u);u&&(m=!1)}if(m){var y,_,b,A=1/0;for(i=0,m=null;i<g;++i)(o=Us[i])&&(b=(y=(a=o.site)[0]-t)*y+(_=a[1]-e)*_)<A&&(A=b,m=o);if(m){var w=[t,e],x=[t,r],k=[n,r],C=[n,e];m.halfedges.push(Vs.push(jr(a=m.site,w,x))-1,Vs.push(jr(a,x,k))-1,Vs.push(jr(a,k,C))-1,Vs.push(jr(a,C,w))-1)}}for(i=0;i<g;++i)(o=Us[i])&&(o.halfedges.length||delete Us[i])}(a,s,l,u)}this.edges=Vs,this.cells=Us,Bs=Gs=Vs=Us=null}function ti(t){return(t=t.slice()).push(t[0]),o([t])}function ei(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,l=r.pivot||t,u=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!k(i))throw new Error("steps must be a number");if(!k(s))throw new Error("angle must be a number");var c=H(t);if("degrees"===a)var f=A(s);else e=Yn(t,e,90,{units:a}),n=Yn(t,n,0,{units:a}),e=H(e)[0]-c[0],n=H(n)[1]-c[1];for(var h=[],d=0;d<i;d+=1){var p=-360*d/i,v=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(ni(p),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(ni(p),2));if(p<-90&&p>=-270&&(v=-v),p<-180&&p>=-360&&(g=-g),"degrees"===a){var m=v*Math.cos(f)+g*Math.sin(f),y=g*Math.cos(f)-v*Math.sin(f);v=m,g=y}h.push([v+c[0],g+c[1]])}return h.push(h[0]),"degrees"===a?o([h],u):rr(o([h],u),s,{pivot:l})}function ni(t){var e=t*Math.PI/180;return Math.tan(e)}function ri(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return N(t,(function(t,e,n){var r=n[i];if(!k(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&R(t,(function(t){o+=t[0]*r,a+=t[1]*r,s+=r}))})),r([o/s,a/s],n)}function ii(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,l=0,u=0;if(M(n,(function(e){var n=e.properties.weight,r=null==n?1:n;if(!k(r=Number(r)))throw new Error("weight value must be a number");if(r>0){u+=1;var i=r*Lt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,l+=o}})),u<1)throw new Error("no features to measure");var c=a/l,f=s/l;return 1===u||0===i||Math.abs(c-e[0])<o&&Math.abs(f-e[1])<o?r([c,f],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,f]),ii([c,f],t,n,i-1))}function oi(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function ai(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*ci(),180*ci()]}function si(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(ai(n)));return c(i)}function li(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;null!=t||(t=1),k(r)||(r=10),k(i)||(i=10);for(var a=[],s=0;s<t;s++){var l=[],u=Array.apply(null,new Array(r+1)).map(Math.random);u.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),u.forEach((function(t){t=2*t*Math.PI/u[u.length-1];var e=Math.random();l.push([e*i*Math.sin(t),e*i*Math.cos(t)])})),l[l.length-1]=l[0],l=l.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(ai(n))),a.push(o([l]))}return c(a)}function ui(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null!=t||(t=1),(!k(r)||r<2)&&(r=10),k(i)||(i=1e-4),k(o)||(o=Math.PI/8);for(var a=[],s=0;s<t;s++){for(var u=[ai(n)],f=0;f<r-1;f++){var h=(0===f?2*Math.random()*Math.PI:Math.tan((u[f][1]-u[f-1][1])/(u[f][0]-u[f-1][0])))+(Math.random()-.5)*o*2,d=Math.random()*i;u.push([u[f][0]+d*Math.cos(h),u[f][1]+d*Math.sin(h)])}a.push(l(u))}return c(a)}function ci(){return Math.random()-.5}function fi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return M(t,(function(t){vi(t.properties,e)&&n.push(t)})),c(n)}function hi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=pi(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],l=[],u=0;u<s.length;u++)l.push(t.features[s[u]]);n(c(l),a,o)}}function di(t,e,n,r){var i=r;return hi(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function pi(t,e){var n={};return M(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function vi(t,e){if(void 0===t)return!1;var n=a(e);if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!vi(t,e[r]))return!1;return!0}return gi(t,e)}function gi(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function mi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function yi(){}function _i(t){this.message=t||""}function bi(t){this.message=t||""}function Ai(){}function wi(t){return null===t?pu:t.color}function xi(t){return null===t?null:t.parent}function ki(t,e){null!==t&&(t.color=e)}function Ci(t){return null===t?null:t.left}function Ei(t){return null===t?null:t.right}function Si(){this.root_=null,this.size_=0}function Ri(){}function Ti(){this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}function Ii(){}function Oi(t){this.message=t||""}function Mi(){this.array_=[]}function Pi(t){switch(t.type){case"Polygon":return cn(t)>1?t:null;case"MultiPolygon":var e=[];if(j(t,(function(t){cn(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function Di(){this.reset()}function Ni(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Li(t){return t>1?bd:t<-1?-bd:Math.asin(t)}function ji(){}function Fi(t,e){t&&Nd.hasOwnProperty(t.type)&&Nd[t.type](t,e)}function zi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Bi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)zi(t[n],e,1);e.polygonEnd()}function Ui(t){return[Sd(t[1],t[0]),Li(t[2])]}function Gi(t){var e=t[0],n=t[1],r=Rd(n);return[r*Rd(e),r*Od(e),Od(n)]}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Hi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function qi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Wi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Yi(t){var e=Md(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Xi(t,e){return[t>_d?t-wd:t<-_d?t+wd:t,e]}function $i(t,e,n){return(t%=wd)?e||n?jd(Ki(t),Qi(e,n)):Ki(t):e||n?Qi(e,n):Xi}function Ji(t){return function(e,n){return[(e+=t)>_d?e-wd:e<-_d?e+wd:e,n]}}function Ki(t){var e=Ji(t);return e.invert=Ji(-t),e}function Qi(t,e){function n(t,e){var n=Rd(e),s=Rd(t)*n,l=Od(t)*n,u=Od(e),c=u*r+s*i;return[Sd(l*o-c*a,s*r-u*i),Li(c*o+l*a)]}var r=Rd(t),i=Od(t),o=Rd(e),a=Od(e);return n.invert=function(t,e){var n=Rd(e),s=Rd(t)*n,l=Od(t)*n,u=Od(e),c=u*o-l*a;return[Sd(l*o+u*a,s*r+c*i),Li(c*r-s*i)]},n}function Zi(t,e){(e=Gi(e))[0]-=t,Yi(e);var n=function(t){return t>1?0:t<-1?_d:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+wd-yd)%wd}function to(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function eo(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function no(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return Cd(r[0]-t)<yd?i>0?0:3:Cd(r[0]-n)<yd?i>0?2:1:Cd(r[1]-e)<yd?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t,e){i(t,e)&&A.point(t,e)}function u(o,a){var s=i(o,a);if(f&&h.push([o,a]),_)d=o,p=a,v=s,_=!1,s&&(A.lineStart(),A.point(o,a));else if(s&&y)A.point(o,a);else{var l=[g=Math.max(qd,Math.min(Hd,g)),m=Math.max(qd,Math.min(Hd,m))],u=[o=Math.max(qd,Math.min(Hd,o)),a=Math.max(qd,Math.min(Hd,a))];zd(l,u,t,e,n,r)?(y||(A.lineStart(),A.point(l[0],l[1])),A.point(u[0],u[1]),s||A.lineEnd(),b=!1):s&&(A.lineStart(),A.point(o,a),b=!1)}g=o,m=a,y=s}var c,f,h,d,p,v,g,m,y,_,b,A=a,w=Fd(),x={point:l,lineStart:function(){x.point=u,f&&f.push(h=[]),_=!0,y=!1,g=m=NaN},lineEnd:function(){c&&(u(d,p),v&&y&&w.rejoin(),c.push(w.result())),x.point=l,y&&A.lineEnd()},polygonStart:function(){A=w,c=[],f=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=f.length;n<i;++n)for(var o,a,s=f[n],l=1,u=s.length,c=s[0],h=c[0],d=c[1];l<u;++l)o=h,a=d,h=(c=s[l])[0],d=c[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=Vd(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ud(c,s,e,o,a),a.polygonEnd()),A=a,c=f=h=null}};return x}}function ro(t){return t.length>1}function io(t,e){return((t=t.x)[0]<0?t[1]-bd-yd:bd-t[1])-((e=e.x)[0]<0?e[1]-bd-yd:bd-e[1])}function oo(t){return function(e){var n=new ao;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ao(){}function so(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Ld(n,t.stream(Qd));var a=Qd.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,u=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([l,u])}function lo(t,e){return[t,Id(Pd((bd+e)/2))]}function uo(t,e){return[Id(Pd((bd+e)/2)),-t]}function co(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return N(t,(function(t){var e=co(t,n,r,i);e&&s.push(e)})),c(s)}var l,u=V(t),f=u[1]>50&&u[3]>50;l=f?{type:a.type,coordinates:fo(a.coordinates,po(a))}:tn(a);var h,d=(new rc).read(l),p=g(m(n,r),"meters"),v=$f.bufferOp(d,p);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((v=(new ic).write(v)).coordinates))return(h=f?{type:v.type,coordinates:ho(v.coordinates,po(a))}:en(v)).geometry?h:e(h,o)}function fo(t,e){return"object"!=a(t[0])?e(t):t.map((function(t){return fo(t,e)}))}function ho(t,e){return"object"!=a(t[0])?e.invert(t):t.map((function(t){return ho(t,e)}))}function po(t){var e=ce(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return op().center(e).rotate(n).scale(xo)}function vo(){for(var t=new rc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=vd.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new ic).write(e),properties:arguments[0].properties}}function go(t,n){var r=J(t),i=J(n);if(Jt(An(i,{precision:4})).coordinates[0].length<4)return null;if(Jt(An(r,{precision:4})).coordinates[0].length<4)return null;var o=new rc,a=o.read(An(r)),s=o.read(An(i)),l=ad.intersection(a,s);return l.isEmpty()?null:e((new ic).write(l))}function mo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)})),r}(t,e)}function yo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(Q(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],l=t[1],u=t[2],f=t[3],h=(l+f)/2,d=(s+u)/2,p=2*e/Lt([s,h],[u,h],n)*(u-s),v=2*e/Lt([d,l],[d,f],n)*(f-l),g=p/2,m=2*g,y=Math.sqrt(3)/2*v,_=u-s,b=f-l,A=.75*m,w=y,x=(_-m)/(m-g/2),E=Math.floor(x),S=(E*A-g/2-_)/2-g/2+A/2,R=Math.floor((b-y)/y),T=(b-R*y)/2,I=R*y-b>y/2;I&&(T-=y/4);for(var O=[],M=[],P=0;P<6;P++){var D=2*Math.PI/6*P;O.push(Math.cos(D)),M.push(Math.sin(D))}for(var N=[],L=0;L<=E;L++)for(var j=0;j<=R;j++){var F=L%2==1;if(!(0===j&&F||0===j&&I)){var z=L*A+s-S,B=j*w+l+T;if(F&&(B-=y/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],l=0;l<6;l++){var u=[];u.push(t),u.push([t[0]+e*i[l],t[1]+n*a[l]]),u.push([t[0]+e*i[(l+1)%6],t[1]+n*a[(l+1)%6]]),u.push(t),s.push(o([u],r))}return s})([z,B],p/2,v/2,r,O,M).forEach((function(t){a?go(a,t)&&N.push(t):N.push(t)}));else{var U=function(t,e,n,r,i,a){for(var s=[],l=0;l<6;l++){var u=t[0]+e*i[l],c=t[1]+n*a[l];s.push([u,c])}return s.push(s[0].slice()),o([s],r)}([z,B],p/2,v/2,r,O,M);a?go(a,U)&&N.push(U):N.push(U)}}}return c(N)}function _o(t){if(t.features.length<=1)return t;var e=function(t){var e=Po(),n=[];return j(t,(function(t,e){var r=V(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return j(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},bo),r[i]=!0;;){var o=V(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map((function(t){return r[t.index]=!0,e.remove({index:t.index},bo),t.geojson}));s.push(t),t=vo.apply(this,s)}if(0===a.length)break}n.push(t)})),c(n)}function bo(t,e){return t.index===e.index}function Ao(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],l=t[1],u=t[2],f=t[3],h=e/Lt([s,l],[u,l],n)*(u-s),d=e/Lt([s,l],[s,f],n)*(f-l),p=u-s,v=f-l,g=Math.floor(p/h),m=Math.floor(v/d),y=(v-m*d)/2,_=s+(p-g*h)/2,b=0;b<g;b++){for(var A=l+y,w=0;w<m;w++){var x=o([[[_,A],[_,A+d],[_+h,A+d],[_+h,A],[_,A]]],r);i?go(i,x)&&a.push(x):a.push(x),A+=d}_+=h}return c(a)}function wo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Lt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),l=e/Lt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),u=0,f=t[0];f<=t[2];){for(var h=0,d=t[1];d<=t[3];){var p=null,v=null;u%2==0&&h%2==0?(p=o([[[f,d],[f,d+l],[f+s,d],[f,d]]],r),v=o([[[f,d+l],[f+s,d+l],[f+s,d],[f,d+l]]],r)):u%2==0&&h%2==1?(p=o([[[f,d],[f+s,d+l],[f+s,d],[f,d]]],r),v=o([[[f,d],[f,d+l],[f+s,d+l],[f,d]]],r)):h%2==0&&u%2==1?(p=o([[[f,d],[f,d+l],[f+s,d+l],[f,d]]],r),v=o([[[f,d],[f+s,d+l],[f+s,d],[f,d]]],r)):h%2==1&&u%2==1&&(p=o([[[f,d],[f,d+l],[f+s,d],[f,d]]],r),v=o([[[f,d+l],[f+s,d+l],[f+s,d],[f,d+l]]],r)),i?(go(i,p)&&a.push(p),go(i,v)&&a.push(v)):(a.push(p),a.push(v)),d+=l,h++}u++,f+=s}return c(a)}var xo=6371008.8,ko={meters:xo,metres:xo,millimeters:1e3*xo,millimetres:1e3*xo,centimeters:100*xo,centimetres:100*xo,kilometers:xo/1e3,kilometres:xo/1e3,miles:xo/1609.344,nauticalmiles:xo/1852,inches:39.37*xo,yards:xo/1.0936,feet:3.28084*xo,radians:1,degrees:xo/111325},Co={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/xo,degrees:1/111325},Eo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},So=Object.freeze({earthRadius:xo,factors:ko,unitsFactors:Co,areaFactors:Eo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:s,lineString:l,lineStrings:u,featureCollection:c,multiLineString:f,multiPoint:h,multiPolygon:d,geometryCollection:p,round:v,radiansToLength:g,lengthToRadians:m,lengthToDegrees:y,bearingToAzimuth:_,radiansToDegrees:b,degreesToRadians:A,convertLength:w,convertArea:x,isNumber:k,isObject:C,validateBBox:E,validateId:S,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Ro=Object.freeze({coordEach:R,coordReduce:T,propEach:I,propReduce:O,featureEach:M,featureReduce:P,coordAll:D,geomEach:N,geomReduce:L,flattenEach:j,flattenReduce:F,segmentEach:z,segmentReduce:B,lineEach:U,lineReduce:G}),To=Object.freeze({getCoord:H,getCoords:q,containsNumber:W,geojsonType:Y,featureOf:X,collectionOf:$,getGeom:J,getGeomType:K,getType:Q}),Io={successCallback:null,verbose:!1},Oo={},Mo=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var f=e[n],h=r,d=i;for(it(e,r,n),o(e[i],f)>0&&it(e,r,i);h<d;){for(it(e,h,d),h++,d--;o(e[h],f)<0;)h++;for(;o(e[d],f)>0;)d--}0===o(e[r],f)?it(e,r,d):it(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}},Po=ot;ot.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!pt(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],pt(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):dt(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],pt(t,a=e.leaf?n(o):o)){if(e.leaf||dt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=vt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!dt(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:ct,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return at(i=vt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=vt([])).leaf=!1,i.height=r;var s,l,u,c,f=Math.ceil(o/a),h=f*Math.ceil(Math.sqrt(a));for(gt(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for(gt(t,s,u=Math.min(s+h-1,n),f,this.compareMinY),l=s;l<=u;l+=f)c=Math.min(l+f-1,u),i.children.push(this._build(t,l,c,r-1));return at(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,f;r.push(e),!e.leaf&&r.length-1!==n;){for(c=f=1/0,i=0,o=e.children.length;i<o;i++)l=ft(a=e.children[i]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),lt(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=vt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,at(n,this.toBBox),at(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=vt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,at(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,l,u,c;for(l=u=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=st(t,0,r,this.toBBox),o=st(t,r,n,this.toBBox)),s=ft(i)+ft(o),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ut,i=t.leaf?this.compareMinY:ct;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=st(t,0,e,a),l=st(t,n-e,n,a),u=ht(s)+ht(l);for(i=e;i<n-e;i++)o=t.children[i],lt(s,t.leaf?a(o):o),u+=ht(s);for(i=n-e-1;i>=e;i--)o=t.children[i],lt(l,t.leaf?a(o):o),u+=ht(l);return u},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)lt(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():at(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Do=function(t,e,n){var r=t*e,i=No*t,o=i-(i-t),a=t-o,s=No*e,l=s-(s-e),u=e-l,c=a*u-(r-o*l-a*l-o*u);return n?(n[0]=c,n[1]=r,n):[c,r]},No=+(Math.pow(2,27)+1),Lo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=t[l],h=c(f),d=e[u],p=c(d);h<p?(o=f,(l+=1)<n&&(h=c(f=t[l]))):(o=d,(u+=1)<r&&(p=c(d=e[u]))),l<n&&h<p||u>=r?(i=f,(l+=1)<n&&(h=c(f=t[l]))):(i=d,(u+=1)<r&&(p=c(d=e[u])));for(var v,g,m=i+o,y=m-i,_=o-y,b=_,A=m;l<n&&u<r;)h<p?(i=f,(l+=1)<n&&(h=c(f=t[l]))):(i=d,(u+=1)<r&&(p=c(d=e[u]))),(_=(o=b)-(y=(m=i+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v;for(;l<n;)(_=(o=b)-(y=(m=(i=f)+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v,(l+=1)<n&&(f=t[l]);for(;u<r;)(_=(o=b)-(y=(m=(i=d)+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v,(u+=1)<r&&(d=e[u]);return b&&(a[s++]=b),A&&(a[s++]=A),s||(a[s++]=0),a.length=s,a},jo=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},Fo=function(t,e){var n=t.length;if(1===n){var r=Do(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;Do(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var l=1;l<n;++l){Do(t[l],e,a);var u=o[1];jo(u,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],f=o[1],h=c+f,d=f-(h-c);o[1]=h,d&&(i[s++]=d)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},zo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=t[l],h=c(f),d=-e[u],p=c(d);h<p?(o=f,(l+=1)<n&&(h=c(f=t[l]))):(o=d,(u+=1)<r&&(p=c(d=-e[u]))),l<n&&h<p||u>=r?(i=f,(l+=1)<n&&(h=c(f=t[l]))):(i=d,(u+=1)<r&&(p=c(d=-e[u])));for(var v,g,m=i+o,y=m-i,_=o-y,b=_,A=m;l<n&&u<r;)h<p?(i=f,(l+=1)<n&&(h=c(f=t[l]))):(i=d,(u+=1)<r&&(p=c(d=-e[u]))),(_=(o=b)-(y=(m=i+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v;for(;l<n;)(_=(o=b)-(y=(m=(i=f)+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v,(l+=1)<n&&(f=t[l]);for(;u<r;)(_=(o=b)-(y=(m=(i=d)+o)-i))&&(a[s++]=_),b=A-((v=A+m)-(g=v-A))+(m-g),A=v,(u+=1)<r&&(d=-e[u]);return b&&(a[s++]=b),A&&(a[s++]=A),s||(a[s++]=0),a.length=s,a},Bo=mt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],l=0;l<t;++l)0==(1&l)?n.push.apply(n,i(e(a,l))):o.push.apply(o,i(e(a,l))),s.push("m"+l);var u=r(n),c=r(o),f="orientation"+t+"Exact",h=["function ",f,"(",s.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",f].join("");return new Function("sum","prod","scale","sub",h)(Lo,Do,Fo,zo)}var a=o(3),s=o(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var l=33306690738754716e-32*r;return s>=l||s<=-l?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],l=t[1]-r[1],u=e[1]-r[1],c=n[1]-r[1],f=t[2]-r[2],h=e[2]-r[2],d=n[2]-r[2],p=o*c,v=a*u,g=a*l,m=i*c,y=i*u,_=o*l,b=f*(p-v)+h*(g-m)+d*(y-_),A=7771561172376103e-31*((Math.abs(p)+Math.abs(v))*Math.abs(f)+(Math.abs(g)+Math.abs(m))*Math.abs(h)+(Math.abs(y)+Math.abs(_))*Math.abs(d));return b>A||-b>A?b:s(t,e,n,r)}];!function(){for(;l.length<=5;)l.push(o(l.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=l[t.length];return e||(e=l[t.length]=o(t.length)),e.apply(void 0,t)}].concat(l)),r=0;r<=5;++r)t.exports[r]=l[r]}()})),Uo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],l=t[s],u=o.length;u>1&&Go(t[o[u-2]],t[o[u-1]],l)<=0;)u-=1,o.pop();for(o.push(s),u=a.length;u>1&&Go(t[a[u-2]],t[a[u-1]],l)>=0;)u-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,f=(r=0,o.length);r<f;++r)n[c++]=o[r];for(var h=a.length-2;h>0;--h)n[c++]=a[h];return n},Go=Bo[3],Vo=yt,Ho=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},Vo.default=Ho;var qo=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],l=e[o][1],u=e[a][0],c=e[a][1];l>r!=c>r&&n<(u-s)*(r-l)/(c-l)+s&&(i=!i)}return i},Wo=Bo[3],Yo=_t,Xo=_t;Yo.default=Xo;var $o=function(t){return t},Jo=function(t){if(null==t)return $o;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;l<u;)c[l]=t[l],++l;return c}},Ko=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Qo=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],l=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=l,r=i[l]){delete i[r.start];var u=r===n?n:n.concat(r);i[u.start=n.start]=o[u.end=r.end]=u}else i[n.start]=o[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=l]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||a.push([t])})),a},Zo=function(t){return Bt(t,Ut.apply(this,arguments))},ta=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),l=t-1,u=0;u<t;++u)a[u]=i;return{set:function(r,o){for(var u=e(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u]=o;if(++f>=t)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o},maybeSet:function(r,o){for(var u=e(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u];if(++f>=t)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o},get:function(r,o){for(var u=e(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u];if(++f>=t)break;c=a[u=u+1&l]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},ea=function(t,e){return t[0]===e[0]&&t[1]===e[1]},na=new ArrayBuffer(16),ra=new Float64Array(na),ia=new Uint32Array(na),oa=function(t){ra[0]=t[0],ra[1]=t[1];var e=ia[0]^ia[1];return 2147483647&(e<<5^e>>7^ia[2]^ia[3])},aa=function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(h[n]!==t){h[n]=t;var i=d[n];if(i>=0){var o=p[n];i===e&&o===r||i===r&&o===e||(++g,v[n]=1)}else d[n]=e,p[n]=r}}function n(t){return oa(l[t])}function r(t,e){return ea(l[t],l[e])}var i,o,a,s,l=t.coordinates,u=t.lines,c=t.rings,f=function(){for(var t=ta(1.4*l.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(l.length),i=0,o=l.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),h=new Int32Array(l.length),d=new Int32Array(l.length),p=new Int32Array(l.length),v=new Int8Array(l.length),g=0;for(i=0,o=l.length;i<o;++i)h[i]=d[i]=p[i]=-1;for(i=0,o=u.length;i<o;++i){var m=u[i],y=m[0],_=m[1];for(a=f[y],s=f[++y],++g,v[a]=1;++y<=_;)e(i,a,a=s,s=f[y]);++g,v[s]=1}for(i=0,o=l.length;i<o;++i)h[i]=-1;for(i=0,o=c.length;i<o;++i){var b=c[i],A=b[0]+1,w=b[1];for(e(i,f[w-1],a=f[A-1],s=f[A]);++A<=w;)e(i,a,a=s,s=f[A])}h=d=p=null;var x,k=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)break;l=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,oa,ea);for(i=0,o=l.length;i<o;++i)v[x=f[i]]&&k.add(l[x]);return k}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var l=a[n],u=l[0],c=l[1];++u<c;)i.has(o[u])&&(e={0:u,1:l[1]},l[1]=u,l=l.next=e);for(n=0,r=s.length;n<r;++n)for(var f=s[n],h=f[0],d=h,p=f[1],v=i.has(o[h]);++d<p;)i.has(o[d])&&(v?(e={0:d,1:f[1]},f[1]=d,f=f.next=e):(function(t,e,n,r){Gt(t,e,n),Gt(t,e,e+r),Gt(t,e+r,n)}(o,h,p,p-d),o[p]=o[h],v=!0,d=h));return t},sa=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=u.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>l&&(l=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,l=-1/0,u={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return s>=o&&l>=a?[o,a,s,l]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Vt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-u)*d),Math.round((t[1]-c)*p)]}function i(t,e){for(var n,r,i,o,a,s=-1,l=0,f=t.length,h=new Array(f);++s<f;)n=t[s],o=Math.round((n[0]-u)*d),a=Math.round((n[1]-c)*p),o===r&&a===i||(h[l++]=[r=o,i=a]);for(h.length=l;l<e;)l=h.push([h[0][0],h[0][1]]);return h}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function l(t){null!=t&&v.hasOwnProperty(t.type)&&v[t.type](t)}var u=e[0],c=e[1],f=e[2],h=e[3],d=f-u?(n-1)/(f-u):1,p=h-c?(n-1)/(h-c):1,v={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)l(t[g]);return{scale:[1/d,1/p],translate:[u,c]}}(t,o,e),s=function(t){function e(t){var e,n,r,i,o,a,s,l;if(r=d.get(e=u[t[0]]))for(s=0,l=r.length;s<l;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!ea(u[n],u[r]))return!1;return!0}(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=d.get(n=u[t[1]]))for(s=0,l=o.length;s<l;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!ea(u[n],u[o]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):d.set(e,[t]),o?o.push(t):d.set(n,[t]),p.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),l=0;l<o;++l)if(!ea(u[n+(l+a)%o],u[r+(l+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],a=e[1],s=o-n;if(s!==a-r)return!1;for(var l=i(t),c=s-i(e),f=0;f<s;++f)if(!ea(u[n+(f+l)%s],u[a-(f+c)%s]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=u[r];++r<n;){var a=u[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,l,u=t.coordinates,c=t.lines,f=t.rings,h=c.length+f.length;for(delete t.lines,delete t.rings,s=0,l=c.length;s<l;++s)for(o=c[s];o=o.next;)++h;for(s=0,l=f.length;s<l;++s)for(a=f[s];a=a.next;)++h;var d=ta(2*h*1.4,oa,ea),p=t.arcs=[];for(s=0,l=c.length;s<l;++s){o=c[s];do{e(o)}while(o=o.next)}for(s=0,l=f.length;s<l;++s)if((a=f[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,l;if(o=d.get(u[t[0]]))for(s=0,l=o.length;s<l;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=d.get(e=u[t[0]+i(t)]))for(s=0,l=o.length;s<l;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):d.set(e,[t]),p.push(t)}(a);return t}(aa(function(t){function e(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],l=[],u={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:l,lines:a,rings:s,objects:t}}(t))),l=s.coordinates,u=ta(1.4*s.arcs.length,Wt,Yt);t=s.objects,s.bbox=o,s.arcs=s.arcs.map((function(t,e){return u.set(t,e),l.slice(t[0],t[1]+1)})),delete s.coordinates,l=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var f in t)n(t[f]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,l=o.length,u=o[0],c=u[0],f=u[1];++a<l;)r=(u=o[a])[0],i=u[1],r===c&&i===f||(o[s++]=[r-c,i-f],c=r,f=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s},la=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};la.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},la.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},la.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var ua=de,ca=de;de.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Se(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(Se(t,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},de.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},ua.default=ca,Me.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ue(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],Ue(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):Be(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ue(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ue(t,a=e.leaf?n(o):o)){if(e.leaf||Be(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Ge([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!Be(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Le,compareMinY:je,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return Pe(i=Ge(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Ge([])).leaf=!1,i.height=r;var s,l,u,c,f=Math.ceil(o/a),h=f*Math.ceil(Math.sqrt(a));for(Ve(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for(Ve(t,s,u=Math.min(s+h-1,n),f,this.compareMinY),l=s;l<=u;l+=f)c=Math.min(l+f-1,u),i.children.push(this._build(t,l,c,r-1));return Pe(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,f;r.push(e),!e.leaf&&r.length-1!==n;){for(c=f=1/0,i=0,o=e.children.length;i<o;i++)l=Fe(a=e.children[i]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),Ne(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Ge(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Pe(n,this.toBBox),Pe(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Ge([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Pe(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,l,u,c;for(l=u=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=De(t,0,r,this.toBBox),o=De(t,r,n,this.toBBox)),s=Fe(i)+Fe(o),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Le,i=t.leaf?this.compareMinY:je;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=De(t,0,e,a),l=De(t,n-e,n,a),u=ze(s)+ze(l);for(i=e;i<n-e;i++)o=t.children[i],Ne(s,t.leaf?a(o):o),u+=ze(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ne(l,t.leaf?a(o):o),u+=ze(l);return u},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ne(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Pe(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var fa=Object.freeze({toMercator:tn,toWgs84:en}),ha=6378137,da=function(t){function e(){for(var t=[],e=0;e<p.features.length;e++)-1==p.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<p.features.length;r++)t[e]!=r&&Tt(p.features[t[e]].geometry.coordinates[0][0],p.features[r],{ignoreBoundary:!0})&&cn(p.features[r])<1/0&&(n=r);p.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<p.features.length;t++)if(-1==p.features[t].properties.parent){var e=p.features[t].properties.winding;p.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<p.features.length;n++)if(p.features[n].properties.parent==t){var i=e+p.features[n].properties.winding;p.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var l=t.geometry.coordinates[s];kn(l[0],l[l.length-1])||l.push(l[0]),a.push.apply(a,l.slice(0,l.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var u=a.length,f=function(t,e,n){function r(t,n,r,i){var l,u,c=o[t][n],f=o[t][n+1],h=o[r][i],d=o[r][i+1],p=function(t,e,n,r){if(wn(t,n)||wn(t,r)||wn(e,n)||wn(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],l=n[0],u=n[1],c=r[0],f=r[1],h=(i-a)*(u-f)-(o-s)*(l-c);return 0===h?null:[((i*s-o*a)*(l-c)-(i-a)*(l*f-u*c))/h,((i*s-o*a)*(u-f)-(o-s)*(l*f-u*c))/h]}(c,f,h,d);if(null!==p&&(l=f[0]!==c[0]?(p[0]-c[0])/(f[0]-c[0]):(p[1]-c[1])/(f[1]-c[1]),u=d[0]!==h[0]?(p[0]-h[0])/(d[0]-h[0]):(p[1]-h[1])/(d[1]-h[1]),!(l>=1||l<=0||u>=1||u<=0))){var v=p,g=!s[v];g&&(s[v]=!0),e?a.push(e(p,t,n,c,f,l,r,i,h,d,u,g)):a.push(p)}}function i(t,e){var n,r,i,a,s=o[t][e],l=o[t][e+1];return s[0]<l[0]?(n=s[0],r=l[0]):(n=l[0],r=s[0]),s[1]<l[1]?(i=s[1],a=l[1]):(i=l[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length-1;c++)l.push(i(u,c));var f=Po();f.load(l)}for(var h=0;h<o.length;h++)for(var d=0;d<o[h].length-1;d++)if(n)f.search(i(h,d)).forEach((function(t){var e=t.ring,n=t.edge;r(h,d,e,n)}));else for(var p=0;p<o.length;p++)for(var v=0;v<o[p].length-1;v++)r(h,d,p,v);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}(t,(function(t,e,n,r,i,o,a,s,l,u,c,f){return[t,e,n,r,i,o,a,s,l,u,c,f]})),h=f.length;if(0==h){var d=[];for(s=0;s<i;s++)d.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(xn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var p=c(d);return e(),n(),p}var v=[],g=[];for(s=0;s<i;s++){v.push([]);for(var m=0;m<t.geometry.coordinates[s].length-1;m++)v[s].push([new pa(t.geometry.coordinates[s][(m+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,m],[s,(m+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),g.push(new va(t.geometry.coordinates[s][m],[s,(m-1).modulo(t.geometry.coordinates[s].length-1)],[s,m],void 0,void 0,!1,!0))}for(s=0;s<h;s++)v[f[s][1]][f[s][2]].push(new pa(f[s][0],f[s][5],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0)),f[s][11]&&g.push(new va(f[s][0],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0,void 0,!0,!0));var y=g.length;for(s=0;s<v.length;s++)for(m=0;m<v[s].length;m++)v[s][m].sort((function(t,e){return t.param<e.param?-1:1}));var _=[];for(s=0;s<y;s++)_.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=Po();for(b.load(_),s=0;s<v.length;s++)for(m=0;m<v[s].length;m++)for(var A=0;A<v[s][m].length;A++){x=A==v[s][m].length-1?v[s][(m+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:v[s][m][A+1].coord;var w=b.search({minX:x[0],minY:x[1],maxX:x[0],maxY:x[1]})[0];v[s][m][A].nxtIsectAlongEdgeIn=w.index}for(s=0;s<v.length;s++)for(m=0;m<v[s].length;m++)for(A=0;A<v[s][m].length;A++){var x=v[s][m][A].coord,k=(w=b.search({minX:x[0],minY:x[1],maxX:x[0],maxY:x[1]})[0]).index;k<u?g[k].nxtIsectAlongRingAndEdge2=v[s][m][A].nxtIsectAlongEdgeIn:kn(g[k].ringAndEdge1,v[s][m][A].ringAndEdgeIn)?g[k].nxtIsectAlongRingAndEdge1=v[s][m][A].nxtIsectAlongEdgeIn:g[k].nxtIsectAlongRingAndEdge2=v[s][m][A].nxtIsectAlongEdgeIn}var C=[];for(s=0,m=0;m<i;m++){var E=s;for(A=0;A<t.geometry.coordinates[m].length-1;A++)g[s].coord[0]<g[E].coord[0]&&(E=s),s++;var S=g[E].nxtIsectAlongRingAndEdge2;for(A=0;A<g.length;A++)if(g[A].nxtIsectAlongRingAndEdge1==E||g[A].nxtIsectAlongRingAndEdge2==E){var R=A;break}var T=xn([g[R].coord,g[E].coord,g[S].coord],!0)?1:-1;C.push({isect:E,parent:-1,winding:T})}for(C.sort((function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1})),d=[];C.length>0;){var I=C.pop(),O=I.isect,M=I.parent,P=I.winding,D=d.length,N=[g[O].coord],L=O;if(g[O].ringAndEdge1Walkable)var j=g[O].ringAndEdge1,F=g[O].nxtIsectAlongRingAndEdge1;else j=g[O].ringAndEdge2,F=g[O].nxtIsectAlongRingAndEdge2;for(;!kn(g[O].coord,g[F].coord);){N.push(g[F].coord);var z=void 0;for(s=0;s<C.length;s++)if(C[s].isect==F){z=s;break}if(null!=z&&C.splice(z,1),kn(j,g[F].ringAndEdge1)){if(j=g[F].ringAndEdge2,g[F].ringAndEdge2Walkable=!1,g[F].ringAndEdge1Walkable){var B={isect:F};xn([g[L].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge2].coord],1==P)?(B.parent=M,B.winding=-P):(B.parent=D,B.winding=P),C.push(B)}L=F,F=g[F].nxtIsectAlongRingAndEdge2}else j=g[F].ringAndEdge1,g[F].ringAndEdge1Walkable=!1,g[F].ringAndEdge2Walkable&&(B={isect:F},xn([g[L].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge1].coord],1==P)?(B.parent=M,B.winding=-P):(B.parent=D,B.winding=P),C.push(B)),L=F,F=g[F].nxtIsectAlongRingAndEdge1}N.push(g[F].coord),d.push(o([N],{index:D,parent:M,winding:P,netWinding:void 0}))}return p=c(d),e(),n(),p},pa=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},va=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var ga=Math.PI/180,ma=180/Math.PI,ya=function(t,e){this.lon=t,this.lat=e,this.x=ga*t,this.y=ga*e};ya.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ya.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new ya(e,t)};var _a=function(){this.coords=[],this.length=0};_a.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ba=function(t){this.properties=t||{},this.geometries=[]};ba.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ba.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Aa=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ya(t.x,t.y),this.end=new ya(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Aa.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=ma*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ma*Math.atan2(i,r),a]},Aa.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,l=0,u=e&&e.offset?e.offset:10,c=180-u,f=-180+u,h=360-u,d=1;d<n.length;++d){var p=n[d-1][0],v=n[d][0],g=Math.abs(v-p);g>h&&(v>c&&p<f||p>c&&v<f)?s=!0:g>l&&(l=g)}var m=[];if(s&&l<u){var y=[];m.push(y);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>h){var A=parseFloat(n[_-1][0]),w=parseFloat(n[_-1][1]),x=parseFloat(n[_][0]),k=parseFloat(n[_][1]);if(A>-180&&A<f&&180===x&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<f){y.push([-180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(A>c&&A<180&&-180===x&&_+1<n.length&&n[_-1][0]>c&&n[_-1][0]<180){y.push([180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(A<f&&x>c){var C=A;A=x,x=C;var E=w;w=k,k=E}if(A>c&&x<f&&(x+=360),A<=180&&x>=180&&A<x){var S=(180-A)/(x-A),R=S*k+(1-S)*w;y.push([n[_-1][0]>c?180:-180,R]),(y=[]).push([n[_-1][0]>c?-180:180,R]),m.push(y)}else y=[],m.push(y);y.push([b,n[_][1]])}else y.push([n[_][0],n[_][1]])}}else{var T=[];m.push(T);for(var I=0;I<n.length;++I)T.push([n[I][0],n[I][1]])}for(var O=new ba(this.properties),M=0;M<m.length;++M){var P=new _a;O.geometries.push(P);for(var D=m[M],N=0;N<D.length;++N)P.move_to(D[N])}return O};var wa=Ln;Ln.polyline=Ln,Ln.polygon=function(t,e){var n,r,i,o,a,s,l;for(r=1;r<=8;r*=2){for(n=[],o=!(Fn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(l=!(Fn(s=t[a],e)&r))!==o&&n.push(jn(i,s,r,e)),l&&n.push(s),i=s,o=l;if(!(t=n).length)break}return n};var xa=Array.prototype.slice,ka={successCallback:null,verbose:!1,polygons:!1},Ca={},Ea=64,Sa=16,Ra=4,Ta=1,Ia=[],Oa=[],Ma=[],Pa=[],Da=[],Na=[],La=[],ja=[],Fa=[],za=[],Ba=[],Ua=[],Ga=[],Va=[],Ha=[],qa=[],Wa=[],Ya=[],Xa=[],$a=[],Ja=[],Ka=[],Qa=[],Za=[];La[85]=za[85]=-1,ja[85]=Ba[85]=0,Fa[85]=Ua[85]=1,Xa[85]=Ka[85]=1,$a[85]=Qa[85]=0,Ja[85]=Za[85]=1,Ia[85]=Pa[85]=0,Oa[85]=Da[85]=-1,Ma[85]=Ha[85]=0,qa[85]=Ga[85]=0,Wa[85]=Va[85]=1,Na[85]=Ya[85]=1,Ka[1]=Ka[169]=0,Qa[1]=Qa[169]=-1,Za[1]=Za[169]=0,Ga[1]=Ga[169]=-1,Va[1]=Va[169]=0,Ha[1]=Ha[169]=0,za[4]=za[166]=0,Ba[4]=Ba[166]=-1,Ua[4]=Ua[166]=1,qa[4]=qa[166]=1,Wa[4]=Wa[166]=0,Ya[4]=Ya[166]=0,La[16]=La[154]=0,ja[16]=ja[154]=1,Fa[16]=Fa[154]=1,Pa[16]=Pa[154]=1,Da[16]=Da[154]=0,Na[16]=Na[154]=1,Xa[64]=Xa[106]=0,$a[64]=$a[106]=1,Ja[64]=Ja[106]=0,Ia[64]=Ia[106]=-1,Oa[64]=Oa[106]=0,Ma[64]=Ma[106]=1,Xa[2]=Xa[168]=0,$a[2]=$a[168]=-1,Ja[2]=Ja[168]=1,Ka[2]=Ka[168]=0,Qa[2]=Qa[168]=-1,Za[2]=Za[168]=0,Ga[2]=Ga[168]=-1,Va[2]=Va[168]=0,Ha[2]=Ha[168]=0,qa[2]=qa[168]=-1,Wa[2]=Wa[168]=0,Ya[2]=Ya[168]=1,La[8]=La[162]=0,ja[8]=ja[162]=-1,Fa[8]=Fa[162]=0,za[8]=za[162]=0,Ba[8]=Ba[162]=-1,Ua[8]=Ua[162]=1,Ga[8]=Ga[162]=1,Va[8]=Va[162]=0,Ha[8]=Ha[162]=1,qa[8]=qa[162]=1,Wa[8]=Wa[162]=0,Ya[8]=Ya[162]=0,La[32]=La[138]=0,ja[32]=ja[138]=1,Fa[32]=Fa[138]=1,za[32]=za[138]=0,Ba[32]=Ba[138]=1,Ua[32]=Ua[138]=0,Ia[32]=Ia[138]=1,Oa[32]=Oa[138]=0,Ma[32]=Ma[138]=0,Pa[32]=Pa[138]=1,Da[32]=Da[138]=0,Na[32]=Na[138]=1,Ka[128]=Ka[42]=0,Qa[128]=Qa[42]=1,Za[128]=Za[42]=1,Xa[128]=Xa[42]=0,$a[128]=$a[42]=1,Ja[128]=Ja[42]=0,Ia[128]=Ia[42]=-1,Oa[128]=Oa[42]=0,Ma[128]=Ma[42]=1,Pa[128]=Pa[42]=-1,Da[128]=Da[42]=0,Na[128]=Na[42]=0,za[5]=za[165]=-1,Ba[5]=Ba[165]=0,Ua[5]=Ua[165]=0,Ka[5]=Ka[165]=1,Qa[5]=Qa[165]=0,Za[5]=Za[165]=0,qa[20]=qa[150]=0,Wa[20]=Wa[150]=1,Ya[20]=Ya[150]=1,Pa[20]=Pa[150]=0,Da[20]=Da[150]=-1,Na[20]=Na[150]=1,La[80]=La[90]=-1,ja[80]=ja[90]=0,Fa[80]=Fa[90]=1,Xa[80]=Xa[90]=1,$a[80]=$a[90]=0,Ja[80]=Ja[90]=1,Ga[65]=Ga[105]=0,Va[65]=Va[105]=1,Ha[65]=Ha[105]=0,Ia[65]=Ia[105]=0,Oa[65]=Oa[105]=-1,Ma[65]=Ma[105]=0,La[160]=La[10]=-1,ja[160]=ja[10]=0,Fa[160]=Fa[10]=1,za[160]=za[10]=-1,Ba[160]=Ba[10]=0,Ua[160]=Ua[10]=0,Ka[160]=Ka[10]=1,Qa[160]=Qa[10]=0,Za[160]=Za[10]=0,Xa[160]=Xa[10]=1,$a[160]=$a[10]=0,Ja[160]=Ja[10]=1,qa[130]=qa[40]=0,Wa[130]=Wa[40]=1,Ya[130]=Ya[40]=1,Ga[130]=Ga[40]=0,Va[130]=Va[40]=1,Ha[130]=Ha[40]=0,Ia[130]=Ia[40]=0,Oa[130]=Oa[40]=-1,Ma[130]=Ma[40]=0,Pa[130]=Pa[40]=0,Da[130]=Da[40]=-1,Na[130]=Na[40]=1,za[37]=za[133]=0,Ba[37]=Ba[133]=1,Ua[37]=Ua[133]=1,Ka[37]=Ka[133]=0,Qa[37]=Qa[133]=1,Za[37]=Za[133]=0,Ia[37]=Ia[133]=-1,Oa[37]=Oa[133]=0,Ma[37]=Ma[133]=0,Pa[37]=Pa[133]=1,Da[37]=Da[133]=0,Na[37]=Na[133]=0,qa[148]=qa[22]=-1,Wa[148]=Wa[22]=0,Ya[148]=Ya[22]=0,Ka[148]=Ka[22]=0,Qa[148]=Qa[22]=-1,Za[148]=Za[22]=1,Xa[148]=Xa[22]=0,$a[148]=$a[22]=1,Ja[148]=Ja[22]=1,Pa[148]=Pa[22]=-1,Da[148]=Da[22]=0,Na[148]=Na[22]=1,La[82]=La[88]=0,ja[82]=ja[88]=-1,Fa[82]=Fa[88]=1,qa[82]=qa[88]=1,Wa[82]=Wa[88]=0,Ya[82]=Ya[88]=1,Ga[82]=Ga[88]=-1,Va[82]=Va[88]=0,Ha[82]=Ha[88]=1,Xa[82]=Xa[88]=0,$a[82]=$a[88]=-1,Ja[82]=Ja[88]=0,La[73]=La[97]=0,ja[73]=ja[97]=1,Fa[73]=Fa[97]=0,za[73]=za[97]=0,Ba[73]=Ba[97]=-1,Ua[73]=Ua[97]=0,Ga[73]=Ga[97]=1,Va[73]=Va[97]=0,Ha[73]=Ha[97]=0,Ia[73]=Ia[97]=1,Oa[73]=Oa[97]=0,Ma[73]=Ma[97]=1,La[145]=La[25]=0,ja[145]=ja[25]=-1,Fa[145]=Fa[25]=0,Ga[145]=Ga[25]=1,Va[145]=Va[25]=0,Ha[145]=Ha[25]=1,Ka[145]=Ka[25]=0,Qa[145]=Qa[25]=1,Za[145]=Za[25]=1,Pa[145]=Pa[25]=-1,Da[145]=Da[25]=0,Na[145]=Na[25]=0,za[70]=za[100]=0,Ba[70]=Ba[100]=1,Ua[70]=Ua[100]=0,qa[70]=qa[100]=-1,Wa[70]=Wa[100]=0,Ya[70]=Ya[100]=1,Xa[70]=Xa[100]=0,$a[70]=$a[100]=-1,Ja[70]=Ja[100]=1,Ia[70]=Ia[100]=1,Oa[70]=Oa[100]=0,Ma[70]=Ma[100]=0,za[101]=za[69]=0,Ba[101]=Ba[69]=1,Ua[101]=Ua[69]=0,Ia[101]=Ia[69]=1,Oa[101]=Oa[69]=0,Ma[101]=Ma[69]=0,Ka[149]=Ka[21]=0,Qa[149]=Qa[21]=1,Za[149]=Za[21]=1,Pa[149]=Pa[21]=-1,Da[149]=Da[21]=0,Na[149]=Na[21]=0,qa[86]=qa[84]=-1,Wa[86]=Wa[84]=0,Ya[86]=Ya[84]=1,Xa[86]=Xa[84]=0,$a[86]=$a[84]=-1,Ja[86]=Ja[84]=1,La[89]=La[81]=0,ja[89]=ja[81]=-1,Fa[89]=Fa[81]=0,Ga[89]=Ga[81]=1,Va[89]=Va[81]=0,Ha[89]=Ha[81]=1,La[96]=La[74]=0,ja[96]=ja[74]=1,Fa[96]=Fa[74]=0,za[96]=za[74]=-1,Ba[96]=Ba[74]=0,Ua[96]=Ua[74]=1,Xa[96]=Xa[74]=1,$a[96]=$a[74]=0,Ja[96]=Ja[74]=0,Ia[96]=Ia[74]=1,Oa[96]=Oa[74]=0,Ma[96]=Ma[74]=1,La[24]=La[146]=0,ja[24]=ja[146]=-1,Fa[24]=Fa[146]=1,qa[24]=qa[146]=1,Wa[24]=Wa[146]=0,Ya[24]=Ya[146]=1,Ga[24]=Ga[146]=0,Va[24]=Va[146]=1,Ha[24]=Ha[146]=1,Pa[24]=Pa[146]=0,Da[24]=Da[146]=-1,Na[24]=Na[146]=0,za[6]=za[164]=-1,Ba[6]=Ba[164]=0,Ua[6]=Ua[164]=1,qa[6]=qa[164]=-1,Wa[6]=Wa[164]=0,Ya[6]=Ya[164]=0,Ka[6]=Ka[164]=0,Qa[6]=Qa[164]=-1,Za[6]=Za[164]=1,Xa[6]=Xa[164]=1,$a[6]=$a[164]=0,Ja[6]=Ja[164]=0,Ga[129]=Ga[41]=0,Va[129]=Va[41]=1,Ha[129]=Ha[41]=1,Ka[129]=Ka[41]=0,Qa[129]=Qa[41]=1,Za[129]=Za[41]=0,Ia[129]=Ia[41]=-1,Oa[129]=Oa[41]=0,Ma[129]=Ma[41]=0,Pa[129]=Pa[41]=0,Da[129]=Da[41]=-1,Na[129]=Na[41]=0,qa[66]=qa[104]=0,Wa[66]=Wa[104]=1,Ya[66]=Ya[104]=0,Ga[66]=Ga[104]=-1,Va[66]=Va[104]=0,Ha[66]=Ha[104]=1,Xa[66]=Xa[104]=0,$a[66]=$a[104]=-1,Ja[66]=Ja[104]=0,Ia[66]=Ia[104]=0,Oa[66]=Oa[104]=-1,Ma[66]=Ma[104]=1,La[144]=La[26]=-1,ja[144]=ja[26]=0,Fa[144]=Fa[26]=0,Ka[144]=Ka[26]=1,Qa[144]=Qa[26]=0,Za[144]=Za[26]=1,Xa[144]=Xa[26]=0,$a[144]=$a[26]=1,Ja[144]=Ja[26]=1,Pa[144]=Pa[26]=-1,Da[144]=Da[26]=0,Na[144]=Na[26]=1,za[36]=za[134]=0,Ba[36]=Ba[134]=1,Ua[36]=Ua[134]=1,qa[36]=qa[134]=0,Wa[36]=Wa[134]=1,Ya[36]=Ya[134]=0,Ia[36]=Ia[134]=0,Oa[36]=Oa[134]=-1,Ma[36]=Ma[134]=1,Pa[36]=Pa[134]=1,Da[36]=Da[134]=0,Na[36]=Na[134]=0,La[9]=La[161]=-1,ja[9]=ja[161]=0,Fa[9]=Fa[161]=0,za[9]=za[161]=0,Ba[9]=Ba[161]=-1,Ua[9]=Ua[161]=0,Ga[9]=Ga[161]=1,Va[9]=Va[161]=0,Ha[9]=Ha[161]=0,Ka[9]=Ka[161]=1,Qa[9]=Qa[161]=0,Za[9]=Za[161]=1,La[136]=0,ja[136]=1,Fa[136]=1,za[136]=0,Ba[136]=1,Ua[136]=0,qa[136]=-1,Wa[136]=0,Ya[136]=1,Ga[136]=-1,Va[136]=0,Ha[136]=0,Ka[136]=0,Qa[136]=-1,Za[136]=0,Xa[136]=0,$a[136]=-1,Ja[136]=1,Ia[136]=1,Oa[136]=0,Ma[136]=0,Pa[136]=1,Da[136]=0,Na[136]=1,La[34]=0,ja[34]=-1,Fa[34]=0,za[34]=0,Ba[34]=-1,Ua[34]=1,qa[34]=1,Wa[34]=0,Ya[34]=0,Ga[34]=1,Va[34]=0,Ha[34]=1,Ka[34]=0,Qa[34]=1,Za[34]=1,Xa[34]=0,$a[34]=1,Ja[34]=0,Ia[34]=-1,Oa[34]=0,Ma[34]=1,Pa[34]=-1,Da[34]=0,Na[34]=0,La[35]=0,ja[35]=1,Fa[35]=1,za[35]=0,Ba[35]=-1,Ua[35]=1,qa[35]=1,Wa[35]=0,Ya[35]=0,Ga[35]=-1,Va[35]=0,Ha[35]=0,Ka[35]=0,Qa[35]=-1,Za[35]=0,Xa[35]=0,$a[35]=1,Ja[35]=0,Ia[35]=-1,Oa[35]=0,Ma[35]=1,Pa[35]=1,Da[35]=0,Na[35]=1,La[153]=0,ja[153]=1,Fa[153]=1,Ga[153]=-1,Va[153]=0,Ha[153]=0,Ka[153]=0,Qa[153]=-1,Za[153]=0,Pa[153]=1,Da[153]=0,Na[153]=1,za[102]=0,Ba[102]=-1,Ua[102]=1,qa[102]=1,Wa[102]=0,Ya[102]=0,Xa[102]=0,$a[102]=1,Ja[102]=0,Ia[102]=-1,Oa[102]=0,Ma[102]=1,La[155]=0,ja[155]=-1,Fa[155]=0,Ga[155]=1,Va[155]=0,Ha[155]=1,Ka[155]=0,Qa[155]=1,Za[155]=1,Pa[155]=-1,Da[155]=0,Na[155]=0,za[103]=0,Ba[103]=1,Ua[103]=0,qa[103]=-1,Wa[103]=0,Ya[103]=1,Xa[103]=0,$a[103]=-1,Ja[103]=1,Ia[103]=1,Oa[103]=0,Ma[103]=0,La[152]=0,ja[152]=1,Fa[152]=1,qa[152]=-1,Wa[152]=0,Ya[152]=1,Ga[152]=-1,Va[152]=0,Ha[152]=0,Ka[152]=0,Qa[152]=-1,Za[152]=0,Xa[152]=0,$a[152]=-1,Ja[152]=1,Pa[152]=1,Da[152]=0,Na[152]=1,La[156]=0,ja[156]=-1,Fa[156]=1,qa[156]=1,Wa[156]=0,Ya[156]=1,Ga[156]=-1,Va[156]=0,Ha[156]=0,Ka[156]=0,Qa[156]=-1,Za[156]=0,Xa[156]=0,$a[156]=1,Ja[156]=1,Pa[156]=-1,Da[156]=0,Na[156]=1,La[137]=0,ja[137]=1,Fa[137]=1,za[137]=0,Ba[137]=1,Ua[137]=0,Ga[137]=-1,Va[137]=0,Ha[137]=0,Ka[137]=0,Qa[137]=-1,Za[137]=0,Ia[137]=1,Oa[137]=0,Ma[137]=0,Pa[137]=1,Da[137]=0,Na[137]=1,La[139]=0,ja[139]=1,Fa[139]=1,za[139]=0,Ba[139]=-1,Ua[139]=0,Ga[139]=1,Va[139]=0,Ha[139]=0,Ka[139]=0,Qa[139]=1,Za[139]=0,Ia[139]=-1,Oa[139]=0,Ma[139]=0,Pa[139]=1,Da[139]=0,Na[139]=1,La[98]=0,ja[98]=-1,Fa[98]=0,za[98]=0,Ba[98]=-1,Ua[98]=1,qa[98]=1,Wa[98]=0,Ya[98]=0,Ga[98]=1,Va[98]=0,Ha[98]=1,Xa[98]=0,$a[98]=1,Ja[98]=0,Ia[98]=-1,Oa[98]=0,Ma[98]=1,La[99]=0,ja[99]=1,Fa[99]=0,za[99]=0,Ba[99]=-1,Ua[99]=1,qa[99]=1,Wa[99]=0,Ya[99]=0,Ga[99]=-1,Va[99]=0,Ha[99]=1,Xa[99]=0,$a[99]=-1,Ja[99]=0,Ia[99]=1,Oa[99]=0,Ma[99]=1,za[38]=0,Ba[38]=-1,Ua[38]=1,qa[38]=1,Wa[38]=0,Ya[38]=0,Ka[38]=0,Qa[38]=1,Za[38]=1,Xa[38]=0,$a[38]=1,Ja[38]=0,Ia[38]=-1,Oa[38]=0,Ma[38]=1,Pa[38]=-1,Da[38]=0,Na[38]=0,za[39]=0,Ba[39]=1,Ua[39]=1,qa[39]=-1,Wa[39]=0,Ya[39]=0,Ka[39]=0,Qa[39]=-1,Za[39]=1,Xa[39]=0,$a[39]=1,Ja[39]=0,Ia[39]=-1,Oa[39]=0,Ma[39]=1,Pa[39]=1,Da[39]=0,Na[39]=0;var ts=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},es=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ns=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},rs=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},is=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},os=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},as=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},ss=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ls=[],us=[],cs=[],fs=[],hs=[],ds=[],ps=[],vs=[];fs[1]=hs[1]=18,fs[169]=hs[169]=18,cs[4]=us[4]=12,cs[166]=us[166]=12,ls[16]=vs[16]=4,ls[154]=vs[154]=4,ds[64]=ps[64]=22,ds[106]=ps[106]=22,cs[2]=ds[2]=17,fs[2]=hs[2]=18,cs[168]=ds[168]=17,fs[168]=hs[168]=18,ls[8]=fs[8]=9,us[8]=cs[8]=12,ls[162]=fs[162]=9,us[162]=cs[162]=12,ls[32]=vs[32]=4,us[32]=ps[32]=1,ls[138]=vs[138]=4,us[138]=ps[138]=1,hs[128]=vs[128]=21,ds[128]=ps[128]=22,hs[42]=vs[42]=21,ds[42]=ps[42]=22,us[5]=hs[5]=14,us[165]=hs[165]=14,cs[20]=vs[20]=6,cs[150]=vs[150]=6,ls[80]=ds[80]=11,ls[90]=ds[90]=11,fs[65]=ps[65]=3,fs[105]=ps[105]=3,ls[160]=ds[160]=11,us[160]=hs[160]=14,ls[10]=ds[10]=11,us[10]=hs[10]=14,cs[130]=vs[130]=6,fs[130]=ps[130]=3,cs[40]=vs[40]=6,fs[40]=ps[40]=3,us[101]=ps[101]=1,us[69]=ps[69]=1,hs[149]=vs[149]=21,hs[21]=vs[21]=21,cs[86]=ds[86]=17,cs[84]=ds[84]=17,ls[89]=fs[89]=9,ls[81]=fs[81]=9,ls[96]=ps[96]=0,us[96]=ds[96]=15,ls[74]=ps[74]=0,us[74]=ds[74]=15,ls[24]=cs[24]=8,fs[24]=vs[24]=7,ls[146]=cs[146]=8,fs[146]=vs[146]=7,us[6]=ds[6]=15,cs[6]=hs[6]=16,us[164]=ds[164]=15,cs[164]=hs[164]=16,fs[129]=vs[129]=7,hs[129]=ps[129]=20,fs[41]=vs[41]=7,hs[41]=ps[41]=20,cs[66]=ps[66]=2,fs[66]=ds[66]=19,cs[104]=ps[104]=2,fs[104]=ds[104]=19,ls[144]=hs[144]=10,ds[144]=vs[144]=23,ls[26]=hs[26]=10,ds[26]=vs[26]=23,us[36]=vs[36]=5,cs[36]=ps[36]=2,us[134]=vs[134]=5,cs[134]=ps[134]=2,ls[9]=hs[9]=10,us[9]=fs[9]=13,ls[161]=hs[161]=10,us[161]=fs[161]=13,us[37]=vs[37]=5,hs[37]=ps[37]=20,us[133]=vs[133]=5,hs[133]=ps[133]=20,cs[148]=hs[148]=16,ds[148]=vs[148]=23,cs[22]=hs[22]=16,ds[22]=vs[22]=23,ls[82]=cs[82]=8,fs[82]=ds[82]=19,ls[88]=cs[88]=8,fs[88]=ds[88]=19,ls[73]=ps[73]=0,us[73]=fs[73]=13,ls[97]=ps[97]=0,us[97]=fs[97]=13,ls[145]=fs[145]=9,hs[145]=vs[145]=21,ls[25]=fs[25]=9,hs[25]=vs[25]=21,us[70]=ps[70]=1,cs[70]=ds[70]=17,us[100]=ps[100]=1,cs[100]=ds[100]=17,ls[34]=fs[34]=9,us[34]=cs[34]=12,hs[34]=vs[34]=21,ds[34]=ps[34]=22,ls[136]=vs[136]=4,us[136]=ps[136]=1,cs[136]=ds[136]=17,fs[136]=hs[136]=18,ls[35]=vs[35]=4,us[35]=cs[35]=12,fs[35]=hs[35]=18,ds[35]=ps[35]=22,ls[153]=vs[153]=4,fs[153]=hs[153]=18,us[102]=cs[102]=12,ds[102]=ps[102]=22,ls[155]=fs[155]=9,hs[155]=vs[155]=23,us[103]=ps[103]=1,cs[103]=ds[103]=17,ls[152]=vs[152]=4,cs[152]=ds[152]=17,fs[152]=hs[152]=18,ls[156]=cs[156]=8,fs[156]=hs[156]=18,ds[156]=vs[156]=23,ls[137]=vs[137]=4,us[137]=ps[137]=1,fs[137]=hs[137]=18,ls[139]=vs[139]=4,us[139]=fs[139]=13,hs[139]=ps[139]=20,ls[98]=fs[98]=9,us[98]=cs[98]=12,ds[98]=ps[98]=22,ls[99]=ps[99]=0,us[99]=cs[99]=12,fs[99]=ds[99]=19,us[38]=cs[38]=12,hs[38]=vs[38]=21,ds[38]=ps[38]=22,us[39]=vs[39]=5,cs[39]=hs[39]=16,ds[39]=ps[39]=22;var gs=[];gs[1]=gs[169]=ts,gs[4]=gs[166]=es,gs[16]=gs[154]=ns,gs[64]=gs[106]=rs,gs[168]=gs[2]=is,gs[162]=gs[8]=os,gs[138]=gs[32]=as,gs[42]=gs[128]=ss,gs[5]=gs[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},gs[20]=gs[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},gs[80]=gs[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},gs[65]=gs[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[160]=gs[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},gs[130]=gs[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},gs[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},gs[101]=gs[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},gs[149]=gs[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},gs[86]=gs[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},gs[89]=gs[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},gs[96]=gs[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[24]=gs[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},gs[6]=gs[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},gs[129]=gs[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},gs[66]=gs[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[144]=gs[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[36]=gs[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},gs[9]=gs[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},gs[37]=gs[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[148]=gs[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[82]=gs[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},gs[73]=gs[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[145]=gs[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[70]=gs[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[34]=function(t){return[ss(t),os(t)]},gs[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},gs[136]=function(t){return[as(t),is(t)]},gs[153]=function(t){return[ns(t),ts(t)]},gs[102]=function(t){return[es(t),rs(t)]},gs[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[152]=function(t){return[ns(t),is(t)]},gs[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[137]=function(t){return[as(t),ts(t)]},gs[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[98]=function(t){return[os(t),rs(t)]},gs[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[38]=function(t){return[es(t),ss(t)]},gs[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ms=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ms.buildId=function(t){return t.join(",")},ms.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},ms.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},ms.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ms.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=ur(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},ms.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ms.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ms.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ys=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ys.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ys(this.to,this.from),this.symetric.symetric=this),this.symetric},ys.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ys.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ys.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ys.prototype.toLineString=function(){return l([this.from.coordinates,this.to.coordinates])},ys.prototype.compareTo=function(t){return ur(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var _s=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},bs={length:{configurable:!0}};_s.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},_s.prototype.get=function(t){return this.edges[t]},bs.length.get=function(){return this.edges.length},_s.prototype.forEach=function(t){this.edges.forEach(t)},_s.prototype.map=function(t){return this.edges.map(t)},_s.prototype.some=function(t){return this.edges.some(t)},_s.prototype.isValid=function(){return!0},_s.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=ur(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},_s.prototype.toMultiPoint=function(){return h(this.edges.map((function(t){return t.from.coordinates})))},_s.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},_s.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=oe(this.toPolygon())},_s.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),r=t.geometry.coordinates.map((function(t){return t[1]})),i=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&cr(a,o)){var s=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));s&&e.inside(r(s))&&(i&&!cr(n,a)||(i=e))}})),i},_s.prototype.inside=function(t){return Tt(t,this.toPolygon())},Object.defineProperties(_s.prototype,bs);var As=function(){this.edges=[],this.nodes={}};As.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new As;return j(t,(function(t){X(t,"LineString","Graph::fromGeoJson"),T(t,(function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n}))})),e},As.prototype.getNode=function(t){var e=ms.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ms(t)),n},As.prototype.addEdge=function(t,e){var n=new ys(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},As.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},As.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},As.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},As.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},As.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,l=void 0,u=void 0;a.label===e&&(l=a),s.label===e&&(u=s),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},As.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},As.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},As.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},As.prototype._findEdgeRing=function(t){var e=t,n=new _s;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},As.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},As.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var ws=mt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),xs=(ws.shim,mt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==a(t)&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}))),ks=(xs.supported,xs.unsupported,mt((function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=a(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=a(t)&&"object"!=a(o)?s.strict?t===o:t==o:function(t,o,s){var l,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(xs(t))return!!xs(o)&&(t=r.call(t),o=r.call(o),i(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==o[l])return!1;return!0}try{var c=ws(t),f=ws(o)}catch(t){return!1}if(c.length!=f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!=f[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!i(t[u],o[u],s))return!1;return a(t)==a(o)}(t,o,s))}}))),Cs=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Ar};Cs.prototype.compare=function(t,e){if(t.type!==e.type||!br(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=_r(t),i=_r(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},Cs.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Cs.prototype.compareLine=function(t,e,n,r){if(!br(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Cs.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Cs.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},Cs.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},Cs.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Cs.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Cs.prototype.removePseudo=function(t){return t};var Es=Cs,Ss=mt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+a(t)+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Rs=mt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,l=0;l<c;l++)a[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)a[l]+=this.dataset[u][l];s++}}if(s>0){for(l=0;l<c;l++)a[l]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ts=mt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Is=mt((function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Ts;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var l=new n(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(s,l))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+a(t)+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Os=mt((function(t){t.exports&&(t.exports={DBSCAN:Ss,KMEANS:Rs,OPTICS:Is,PriorityQueue:Ts})})),Ms=(Os.DBSCAN,Os.KMEANS,Os.OPTICS,Os.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i}),Ps=Ms,Ds=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Ns=Ms,Ls=function(t,e,n,r){var i=[],o=[],a=[],s=[],l=!1,u=r||1e4,c=t.length,f=t[0].length,h=f>0,d=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Ps:Ds,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],l=r.length,u=0,c=[],f=0;f<i;f++){for(var h=1/0,d=0;d<l;d++){var p=n(t[f],r[d]);p<=h&&(h=p)}s[f]=h}for(var v=0;v<i;v++)u+=s[v];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:s[g]/u,cs:0};c.sort((function(t,e){return t.pr-e.pr})),c[0].cs=c[0].pr;for(var m=1;m<i;m++)c[m].cs=c[m-1].cs+c[m].pr;for(var y=Math.random(),_=0;_<i-1&&c[_++].cs<y;);r.push(c[_-1].v)}return r}(t,e):n;else for(var p={};i.length<e;){var v=Math.floor(Math.random()*c);p[v]||(p[v]=!0,i.push(t[v]))}do{xr(e,0,d);for(var g=0;g<c;g++){for(var m=1/0,y=0,_=0;_<e;_++)(s=h?Ns(t[g],i[_]):Math.abs(t[g]-i[_]))<=m&&(m=s,y=_);a[g]=y,d[y]++}for(var b=[],A=(o=[],0);A<e;A++)b[A]=h?xr(f,0,b[A]):0,o[A]=i[A];if(h){for(var w=0;w<e;w++)i[w]=[];for(var x=0;x<c;x++)for(var k=b[a[x]],C=t[x],E=0;E<f;E++)k[E]+=C[E];l=!0;for(var S=0;S<e;S++){for(var R=i[S],T=b[S],I=o[S],O=d[S],M=0;M<f;M++)R[M]=T[M]/O||0;if(l)for(var P=0;P<f;P++)if(I[P]!=R[P]){l=!1;break}}}else{for(var D=0;D<c;D++)b[a[D]]+=t[D];for(var N=0;N<e;N++)i[N]=b[N]/d[N]||0;l=!0;for(var L=0;L<e;L++)if(o[L]!=i[L]){l=!1;break}}l=l||--u<=0}while(!l);return{it:1e4-u,k:e,idxs:a,centroids:i}},js={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||js.heuristics.manhattan,o=r.closest||!1,a=new Rr((function(t){return t.f})),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var l=a.pop();if(l===n)return Cr(l);l.closed=!0;for(var u=t.neighbors(l),c=0,f=u.length;c<f;++c){var h=u[c];if(!h.closed&&!h.isWall()){var d=l.g+h.getCost(l),p=h.visited;(!p||d<h.g)&&(h.visited=!0,h.parent=l,h.h=h.h||i(h,n),h.g=d,h.f=h.g+h.h,t.markDirty(h),o&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),p?a.rescoreElement(h):a.push(h))}}}return o?Cr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Er.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)js.cleanNode(this.nodes[t])},Er.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)js.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Er.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Er.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Er.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Sr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Sr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Sr.prototype.isWall=function(){return 0===this.weight},Rr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e){var l=this.content[a];(i=this.scoreFunction(l))<r&&(s=a)}if(o<e){var u=this.content[o];this.scoreFunction(u)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var Fs=function(t){return function(){return t}};Or.prototype={constructor:Or,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Nr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Pr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Dr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Dr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Pr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Nr(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Pr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Dr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Pr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Dr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Dr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var zs,Bs,Us,Gs,Vs,Hs=[],qs=[],Ws=1e-6,Ys=1e-12;Zr.prototype={constructor:Zr,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Gr(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,l=-1,u=e[i[o-1]],c=u.left===s?u.right:u.left;++l<o;)a=c,c=(u=e[i[l]]).left===s?u.right:u.left,a&&c&&r<a.index&&r<c.index&&Kr(s,a,c)<0&&t.push([s.data,a.data,c.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=t-i.site[0],u=e-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],u=e-s[1],f=l*l+u*u;f<c&&(c=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var Xs=Object.freeze({randomPosition:ai,randomPoint:si,randomPolygon:li,randomLineString:ui}),$s=Object.freeze({getCluster:fi,clusterEach:hi,clusterReduce:di,createBins:pi,applyFilter:vi,propertiesContainsFilter:gi,filterProperties:mi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Js=function(){};Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js},Js.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ks=function(){},Qs=function(){},Zs={MAX_VALUE:{configurable:!0}};Qs.isNaN=function(t){return Number.isNaN(t)},Qs.doubleToLongBits=function(t){return t},Qs.longBitsToDouble=function(t){return t},Qs.isInfinite=function(t){return!Number.isFinite(t)},Zs.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qs,Zs);var tl=function(){},el=function(){},nl=function(){},rl=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},il={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};rl.prototype.setOrdinate=function(t,e){switch(t){case rl.X:this.x=e;break;case rl.Y:this.y=e;break;case rl.Z:this.z=e;break;default:throw new Ks("Invalid ordinate index: "+t)}},rl.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Js.equalsWithTolerance(this.x,e.x,n)&&!!Js.equalsWithTolerance(this.y,e.y,n)}},rl.prototype.getOrdinate=function(t){switch(t){case rl.X:return this.x;case rl.Y:return this.y;case rl.Z:return this.z}throw new Ks("Invalid ordinate index: "+t)},rl.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Qs.isNaN(this.z))&&Qs.isNaN(t.z)},rl.prototype.equals=function(t){return t instanceof rl&&this.equals2D(t)},rl.prototype.equalInZ=function(t,e){return Js.equalsWithTolerance(this.z,t.z,e)},rl.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},rl.prototype.clone=function(){},rl.prototype.copy=function(){return new rl(this)},rl.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},rl.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},rl.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},rl.prototype.hashCode=function(){var t=17;return 37*(t=37*t+rl.hashCode(this.x))+rl.hashCode(this.y)},rl.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},rl.prototype.interfaces_=function(){return[tl,el,yi]},rl.prototype.getClass=function(){return rl},rl.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Qs.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},il.DimensionalComparator.get=function(){return ol},il.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},il.NULL_ORDINATE.get=function(){return Qs.NaN},il.X.get=function(){return 0},il.Y.get=function(){return 1},il.Z.get=function(){return 2},Object.defineProperties(rl,il);var ol=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Ks("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};ol.prototype.compare=function(t,e){var n=t,r=e,i=ol.compare(n.x,r.x);if(0!==i)return i;var o=ol.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:ol.compare(n.z,r.z)},ol.prototype.interfaces_=function(){return[nl]},ol.prototype.getClass=function(){return ol},ol.compare=function(t,e){return t<e?-1:t>e?1:Qs.isNaN(t)?Qs.isNaN(e)?0:-1:Qs.isNaN(e)?1:0};var al=function(){};al.prototype.create=function(){},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al};var sl=function(){},ll={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},sl.toLocationSymbol=function(t){switch(t){case sl.EXTERIOR:return"e";case sl.BOUNDARY:return"b";case sl.INTERIOR:return"i";case sl.NONE:return"-"}throw new Ks("Unknown location value: "+t)},ll.INTERIOR.get=function(){return 0},ll.BOUNDARY.get=function(){return 1},ll.EXTERIOR.get=function(){return 2},ll.NONE.get=function(){return-1},Object.defineProperties(sl,ll);var ul=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},cl=function(){},fl={LOG_10:{configurable:!0}};cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl},cl.log10=function(t){var e=Math.log(t);return Qs.isInfinite(e)||Qs.isNaN(e)?e:e/cl.LOG_10},cl.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},cl.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},cl.wrap=function(t,e){return t<0?e- -t%e:t%e},cl.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=i;return o>l&&(l=o),a>l&&(l=a),s>l&&(l=s),l}},cl.average=function(t,e){return(t+e)/2},fl.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(cl,fl);var hl=function(t){this.str=t};hl.prototype.append=function(t){this.str+=t},hl.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},hl.prototype.toString=function(t){return this.str};var dl=function(t){this.value=t};dl.prototype.intValue=function(){return this.value},dl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},dl.isNaN=function(t){return Number.isNaN(t)};var pl=function(){};pl.isWhitespace=function(t){return t<=32&&t>=0||127===t},pl.toUpperCase=function(t){return t.toUpperCase()};var vl=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},gl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};vl.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},vl.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=vl.magnitude(n._hi),i=vl.TEN.pow(r);(n=n.divide(i)).gt(vl.TEN)?(n=n.divide(vl.TEN),r+=1):n.lt(vl.ONE)&&(n=n.multiply(vl.TEN),r-=1);for(var o=r+1,a=new hl,s=vl.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){t&&l===o&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,f=0;u>9?(c=!0,f="9"):f="0"+u,a.append(f),n=n.subtract(vl.valueOf(u)).multiply(vl.TEN),c&&n.selfAdd(vl.TEN);var h=!0,d=vl.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(h=!1),!h)break}return e[0]=r,a.toString()},vl.prototype.sqr=function(){return this.multiply(this)},vl.prototype.doubleValue=function(){return this._hi+this._lo},vl.prototype.subtract=function(){if(arguments[0]instanceof vl){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},vl.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},vl.prototype.isZero=function(){return 0===this._hi&&0===this._lo},vl.prototype.selfSubtract=function(){if(arguments[0]instanceof vl){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},vl.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},vl.prototype.min=function(t){return this.le(t)?this:t},vl.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof vl){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null,c=null,f=null;return l=this._hi/n,f=(i=(u=vl.SPLIT*l)-(i=u-l))*(a=(f=vl.SPLIT*n)-(a=f-n))-(c=l*n)+i*(s=n-a)+(o=l-i)*a+o*s,f=l+(u=(this._hi-c-f+this._lo-l*r)/n),this._hi=f,this._lo=l-f+u,this}},vl.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},vl.prototype.divide=function(){if(arguments[0]instanceof vl){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,a=null,s=null,l=null;return n=(o=this._hi/t._hi)-(e=(a=vl.SPLIT*o)-(e=a-o)),l=e*(r=(l=vl.SPLIT*t._hi)-(r=l-t._hi))-(s=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,a=(this._hi-s-l+this._lo-o*t._lo)/t._hi,new vl(l=o+a,o-l+a)}if("number"==typeof arguments[0]){var u=arguments[0];return Qs.isNaN(u)?vl.createNaN():vl.copy(this).selfDivide(u,0)}},vl.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},vl.prototype.pow=function(t){if(0===t)return vl.valueOf(1);var e=new vl(this),n=vl.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},vl.prototype.ceil=function(){if(this.isNaN())return vl.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new vl(t,e)},vl.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},vl.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},vl.prototype.setValue=function(){if(arguments[0]instanceof vl){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},vl.prototype.max=function(t){return this.ge(t)?this:t},vl.prototype.sqrt=function(){if(this.isZero())return vl.valueOf(0);if(this.isNegative())return vl.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=vl.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},vl.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof vl){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+e)-(a=i-this._hi),r=(s=(o=e-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,f=null,h=null,d=null,p=null,v=null,g=null;d=this._hi+l,f=this._lo+u,p=d-(v=d-this._hi),h=f-(g=f-this._lo);var m=(c=d+(v=(p=l-v+(this._hi-p))+f))+(v=(h=u-g+(this._lo-h))+(v+(d-c))),y=v+(c-m);return this._hi=m,this._lo=y,this}},vl.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof vl){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null;i=(l=vl.SPLIT*this._hi)-this._hi,u=vl.SPLIT*n,i=l-i,o=this._hi-i,a=u-n;var c=(l=this._hi*n)+(u=i*(a=u-a)-l+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),f=u+(i=l-c);return this._hi=c,this._lo=f,this}},vl.prototype.selfSqr=function(){return this.selfMultiply(this)},vl.prototype.floor=function(){if(this.isNaN())return vl.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new vl(t,e)},vl.prototype.negate=function(){return this.isNaN()?this:new vl(-this._hi,-this._lo)},vl.prototype.clone=function(){},vl.prototype.multiply=function(){if(arguments[0]instanceof vl){var t=arguments[0];return t.isNaN()?vl.createNaN():vl.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Qs.isNaN(e)?vl.createNaN():vl.copy(this).selfMultiply(e,0)}},vl.prototype.isNaN=function(){return Qs.isNaN(this._hi)},vl.prototype.intValue=function(){return Math.trunc(this._hi)},vl.prototype.toString=function(){var t=vl.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},vl.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+vl.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+vl.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},vl.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this._hi)-(i=(a=vl.SPLIT*n)-(i=a-n)),o=(s=vl.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new vl(l,n-l+a)},vl.prototype.toSciNotation=function(){if(this.isZero())return vl.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=vl.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},vl.prototype.abs=function(){return this.isNaN()?vl.NaN:this.isNegative()?this.negate():new vl(this)},vl.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},vl.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},vl.prototype.add=function(){if(arguments[0]instanceof vl){var t=arguments[0];return vl.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return vl.copy(this).selfAdd(e)}},vl.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof vl){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},vl.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},vl.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},vl.prototype.trunc=function(){return this.isNaN()?vl.NaN:this.isPositive()?this.floor():this.ceil()},vl.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},vl.prototype.interfaces_=function(){return[yi,tl,el]},vl.prototype.getClass=function(){return vl},vl.sqr=function(t){return vl.valueOf(t).selfMultiply(t)},vl.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return vl.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new vl(e)}},vl.sqrt=function(t){return vl.valueOf(t).sqrt()},vl.parse=function(t){for(var e=0,n=t.length;pl.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new vl,a=0,s=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,pl.isDigit(u)){var c=u-"0";o.selfMultiply(vl.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var f=t.substring(e);try{l=dl.parseInt(f)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+f+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}s=a}}var h=o,d=a-s-l;if(0===d)h=o;else if(d>0){var p=vl.TEN.pow(d);h=o.divide(p)}else if(d<0){var v=vl.TEN.pow(-d);h=o.multiply(v)}return r?h.negate():h},vl.createNaN=function(){return new vl(Qs.NaN,Qs.NaN)},vl.copy=function(t){return new vl(t)},vl.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},vl.stringOfChar=function(t,e){for(var n=new hl,r=0;r<e;r++)n.append(t);return n.toString()},gl.PI.get=function(){return new vl(3.141592653589793,12246467991473532e-32)},gl.TWO_PI.get=function(){return new vl(6.283185307179586,24492935982947064e-32)},gl.PI_2.get=function(){return new vl(1.5707963267948966,6123233995736766e-32)},gl.E.get=function(){return new vl(2.718281828459045,14456468917292502e-32)},gl.NaN.get=function(){return new vl(Qs.NaN,Qs.NaN)},gl.EPS.get=function(){return 123259516440783e-46},gl.SPLIT.get=function(){return 134217729},gl.MAX_PRINT_DIGITS.get=function(){return 32},gl.TEN.get=function(){return vl.valueOf(10)},gl.ONE.get=function(){return vl.valueOf(1)},gl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},gl.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(vl,gl);var ml=function(){},yl={DP_SAFE_EPSILON:{configurable:!0}};ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml},ml.orientationIndex=function(t,e,n){var r=ml.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=vl.valueOf(e.x).selfAdd(-t.x),o=vl.valueOf(e.y).selfAdd(-t.y),a=vl.valueOf(n.x).selfAdd(-e.x),s=vl.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},ml.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},ml.intersection=function(t,e,n,r){var i=vl.valueOf(r.y).selfSubtract(n.y).selfMultiply(vl.valueOf(e.x).selfSubtract(t.x)),o=vl.valueOf(r.x).selfSubtract(n.x).selfMultiply(vl.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=vl.valueOf(r.x).selfSubtract(n.x).selfMultiply(vl.valueOf(t.y).selfSubtract(n.y)),l=vl.valueOf(r.y).selfSubtract(n.y).selfMultiply(vl.valueOf(t.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=vl.valueOf(t.x).selfAdd(vl.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),f=vl.valueOf(e.x).selfSubtract(t.x).selfMultiply(vl.valueOf(t.y).selfSubtract(n.y)),h=vl.valueOf(e.y).selfSubtract(t.y).selfMultiply(vl.valueOf(t.x).selfSubtract(n.x)),d=f.subtract(h).selfDivide(a).doubleValue(),p=vl.valueOf(n.y).selfAdd(vl.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new rl(c,p)},ml.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return ml.signum(a);r=i+o}else{if(!(i<0))return ml.signum(a);if(o>=0)return ml.signum(a);r=-i-o}var s=ml.DP_SAFE_EPSILON*r;return a>=s||-a>=s?ml.signum(a):2},ml.signum=function(t){return t>0?1:t<0?-1:0},yl.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(ml,yl);var _l=function(){},bl={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};bl.X.get=function(){return 0},bl.Y.get=function(){return 1},bl.Z.get=function(){return 2},bl.M.get=function(){return 3},_l.prototype.setOrdinate=function(t,e,n){},_l.prototype.size=function(){},_l.prototype.getOrdinate=function(t,e){},_l.prototype.getCoordinate=function(){},_l.prototype.getCoordinateCopy=function(t){},_l.prototype.getDimension=function(){},_l.prototype.getX=function(t){},_l.prototype.clone=function(){},_l.prototype.expandEnvelope=function(t){},_l.prototype.copy=function(){},_l.prototype.getY=function(t){},_l.prototype.toCoordinateArray=function(){},_l.prototype.interfaces_=function(){return[el]},_l.prototype.getClass=function(){return _l},Object.defineProperties(_l,bl);var Al=function(){},wl=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Al),xl=function(){};xl.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},xl.getProperty=function(t){return{"line.separator":"\n"}[t]};var kl=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof rl&&arguments[1]instanceof rl){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var f=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3],v=f.y-h.y,g=h.x-f.x,m=f.x*h.y-h.x*f.y,y=d.y-p.y,_=p.x-d.x,b=d.x*p.y-p.x*d.y;this.x=g*b-_*m,this.y=y*m-v*b,this.w=v*_-y*g}};kl.prototype.getY=function(){var t=this.y/this.w;if(Qs.isNaN(t)||Qs.isInfinite(t))throw new wl;return t},kl.prototype.getX=function(){var t=this.x/this.w;if(Qs.isNaN(t)||Qs.isInfinite(t))throw new wl;return t},kl.prototype.getCoordinate=function(){var t=new rl;return t.x=this.getX(),t.y=this.getY(),t},kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,l=r.x-n.x,u=n.x*r.y-r.x*n.y,c=i*l-s*o,f=(o*u-l*a)/c,h=(s*a-i*u)/c;if(Qs.isNaN(f)||Qs.isInfinite(f)||Qs.isNaN(h)||Qs.isInfinite(h))throw new wl;return new rl(f,h)};var Cl=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof rl){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(o,a,s,l)}},El={serialVersionUID:{configurable:!0}};Cl.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Cl.prototype.equals=function(t){if(!(t instanceof Cl))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Cl.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Cl;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Cl(e,r,n,i)},Cl.prototype.isNull=function(){return this._maxx<this._minx},Cl.prototype.getMaxX=function(){return this._maxx},Cl.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof rl){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Cl){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Cl.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Cl){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof rl){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Cl.prototype.getMinY=function(){return this._miny},Cl.prototype.getMinX=function(){return this._minx},Cl.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof rl){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Cl){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Cl.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Cl.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Cl.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Cl.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Cl.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Cl.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Cl.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Cl.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Cl.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Cl.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Cl){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof rl){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Cl.prototype.centre=function(){return this.isNull()?null:new rl((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Cl.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof rl){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Cl){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Cl.prototype.getMaxY=function(){return this._maxy},Cl.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Cl.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+rl.hashCode(this._minx))+rl.hashCode(this._maxx))+rl.hashCode(this._miny))+rl.hashCode(this._maxy)},Cl.prototype.interfaces_=function(){return[tl,yi]},Cl.prototype.getClass=function(){return Cl},Cl.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l||c<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),u>l||c<s))}},El.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Cl,El);var Sl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Rl=function(t){this.geometryFactory=t||new Ku};Rl.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Sl.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Sl.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Il[n]&&(e=Il[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Rl.prototype.write=function(t){return this.extractGeometry(t)},Rl.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Tl[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Tl[e].apply(this,[t])+")"};var Tl={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Tl.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Tl.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Tl.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Tl.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Tl.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Tl.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Tl.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Tl.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Il={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Sl.spaces);return this.geometryFactory.createPoint(new rl(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Sl.trimParens,"$1"),r.push(Il.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Sl.spaces),r.push(new rl(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Sl.spaces),r.push(new rl(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Sl.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Sl.trimParens,"$1"),r.push(Il.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Sl.parenComma),a=[],s=0,l=o.length;s<l;++s)e=o[s].replace(Sl.trimParens,"$1"),n=Il.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Sl.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Sl.trimParens,"$1"),r.push(Il.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Ol=function(t){this.parser=new Rl(t)};Ol.prototype.write=function(t){return this.parser.write(t)},Ol.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Ml=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Pl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ml),Dl=function(){};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl},Dl.shouldNeverReachHere=function(){if(0===arguments.length)Dl.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Pl("Should never reach here"+(null!==t?": "+t:""))}},Dl.isTrue=function(){var t;if(1===arguments.length)Dl.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Pl:new Pl(t)},Dl.equals=function(){var t,e,n;if(2===arguments.length)Dl.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new Pl("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Nl=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new rl,this._intPt[1]=new rl,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ll={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Nl.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Nl.prototype.getTopologySummary=function(){var t=new hl;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Nl.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Nl.prototype.getIntersectionNum=function(){return this._result},Nl.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Nl.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Nl.prototype.setPrecisionModel=function(t){this._precisionModel=t},Nl.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Nl.prototype.getIntersection=function(t){return this._intPt[t]},Nl.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Nl.prototype.hasIntersection=function(){return this._result!==Nl.NO_INTERSECTION},Nl.prototype.getEdgeDistance=function(t,e){return Nl.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Nl.prototype.isCollinear=function(){return this._result===Nl.COLLINEAR_INTERSECTION},Nl.prototype.toString=function(){return Ol.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ol.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Nl.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Nl.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Nl.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl},Nl.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return Dl.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Nl.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Dl.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Ll.DONT_INTERSECT.get=function(){return 0},Ll.DO_INTERSECT.get=function(){return 1},Ll.COLLINEAR.get=function(){return 2},Ll.NO_INTERSECTION.get=function(){return 0},Ll.POINT_INTERSECTION.get=function(){return 1},Ll.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Nl,Ll);var jl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Cl(this._inputLines[0][0],this._inputLines[0][1]),n=new Cl(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Cl.intersects(n,r,e)&&0===Bl.orientationIndex(n,r,e)&&0===Bl.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=kl.intersection(t,n,r,i)}catch(a){if(!(a instanceof wl))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new rl(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=ml.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);xl.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&xl.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new rl(t),o=new rl(e),a=new rl(n),s=new rl(r),l=new rl;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Cl.intersects(e,n,r),a=Cl.intersects(e,n,i),s=Cl.intersects(r,i,e),l=Cl.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,d=((o>u?o:u)+(s<f?s:f))/2,p=((a>c?a:c)+(l<h?l:h))/2;i.x=d,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Cl.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Bl.orientationIndex(e,n,r),a=Bl.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=Bl.orientationIndex(r,i,e),l=Bl.orientationIndex(r,i,n);return s>0&&l>0||s<0&&l<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===l?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===l?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new rl(r):0===a?this._intPt[0]=new rl(i):0===s?this._intPt[0]=new rl(e):0===l&&(this._intPt[0]=new rl(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Bl.distancePointLine(t,n,r),a=Bl.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=Bl.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=Bl.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(Nl),Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return Fl.signOfDet2x2(r,i,o,a)},Fl.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(a=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(a=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var zl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};zl.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,l=Fl.signOfDet2x2(i,o,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<o&&(l=-l),l>0&&this._crossingCount++}},zl.prototype.isPointInPolygon=function(){return this.getLocation()!==sl.EXTERIOR},zl.prototype.getLocation=function(){return this._isPointOnSegment?sl.BOUNDARY:this._crossingCount%2==1?sl.INTERIOR:sl.EXTERIOR},zl.prototype.isOnSegment=function(){return this._isPointOnSegment},zl.prototype.interfaces_=function(){return[]},zl.prototype.getClass=function(){return zl},zl.locatePointInRing=function(){if(arguments[0]instanceof rl&&ul(arguments[1],_l)){for(var t=arguments[0],e=arguments[1],n=new zl(t),r=new rl,i=new rl,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof rl&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],l=new zl(a),u=1;u<s.length;u++){var c=s[u],f=s[u-1];if(l.countSegment(c,f),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var Bl=function(){},Ul={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.orientationIndex=function(t,e,n){return ml.orientationIndex(t,e,n)},Bl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(ul(arguments[0],_l)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new rl,u=new rl,c=new rl;a.getCoordinate(0,u),a.getCoordinate(1,c);var f=u.x;c.x-=f;for(var h=0,d=1;d<s-1;d++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(d+1,c),c.x-=f,h+=u.x*(l.y-c.y);return h/2}},Bl.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Bl.distancePointLine(t,n,r);if(n.equals(r))return Bl.distancePointLine(r,t,e);var i=!1;if(Cl.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=a/o;(l<0||l>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?cl.min(Bl.distancePointLine(t,n,r),Bl.distancePointLine(e,n,r),Bl.distancePointLine(n,t,e),Bl.distancePointLine(r,t,e)):0},Bl.isPointInRing=function(t,e){return Bl.locatePointInRing(t,e)!==sl.EXTERIOR},Bl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new rl;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},Bl.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ks("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var l=t[a],u=t[s];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=Bl.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},Bl.locatePointInRing=function(t,e){return zl.locatePointInRing(t,e)},Bl.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},Bl.computeOrientation=function(t,e,n){return Bl.orientationIndex(t,e,n)},Bl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Ks("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Bl.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var l=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),u=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/l;if(u<=0)return o.distance(a);if(u>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},Bl.isOnLine=function(t,e){for(var n=new jl,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},Ul.CLOCKWISE.get=function(){return-1},Ul.RIGHT.get=function(){return Bl.CLOCKWISE},Ul.COUNTERCLOCKWISE.get=function(){return 1},Ul.LEFT.get=function(){return Bl.COUNTERCLOCKWISE},Ul.COLLINEAR.get=function(){return 0},Ul.STRAIGHT.get=function(){return Bl.COLLINEAR},Object.defineProperties(Bl,Ul);var Gl=function(){};Gl.prototype.filter=function(t){},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var Vl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Hl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Vl.prototype.isGeometryCollection=function(){return this.getSortIndex()===Vl.SORTINDEX_GEOMETRYCOLLECTION},Vl.prototype.getFactory=function(){return this._factory},Vl.prototype.getGeometryN=function(t){return this},Vl.prototype.getArea=function(){return 0},Vl.prototype.isRectangle=function(){return!1},Vl.prototype.equals=function(){if(arguments[0]instanceof Vl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Vl))return!1;var n=e;return this.equalsExact(n)}},Vl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Vl.prototype.geometryChanged=function(){this.apply(Vl.geometryChangedFilter)},Vl.prototype.geometryChangedAction=function(){this._envelope=null},Vl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Vl.prototype.getLength=function(){return 0},Vl.prototype.getNumGeometries=function(){return 1},Vl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Vl.prototype.getUserData=function(){return this._userData},Vl.prototype.getSRID=function(){return this._SRID},Vl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Vl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Vl.SORTINDEX_GEOMETRYCOLLECTION)throw new Ks("This method does not support GeometryCollection arguments")},Vl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Vl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Vl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Vl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Cl(this._envelope)},Vl.prototype.setSRID=function(t){this._SRID=t},Vl.prototype.setUserData=function(t){this._userData=t},Vl.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},Vl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Vl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Vl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Vl.SORTINDEX_MULTIPOINT||this.getSortIndex()===Vl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Vl.SORTINDEX_MULTIPOLYGON},Vl.prototype.interfaces_=function(){return[el,tl,yi]},Vl.prototype.getClass=function(){return Vl},Vl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Vl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Hl.serialVersionUID.get=function(){return 0x799ea46522854c00},Hl.SORTINDEX_POINT.get=function(){return 0},Hl.SORTINDEX_MULTIPOINT.get=function(){return 1},Hl.SORTINDEX_LINESTRING.get=function(){return 2},Hl.SORTINDEX_LINEARRING.get=function(){return 3},Hl.SORTINDEX_MULTILINESTRING.get=function(){return 4},Hl.SORTINDEX_POLYGON.get=function(){return 5},Hl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Hl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Hl.geometryChangedFilter.get=function(){return ql},Object.defineProperties(Vl,Hl);var ql=function(){};ql.interfaces_=function(){return[Gl]},ql.filter=function(t){t.geometryChangedAction()};var Wl=function(){};Wl.prototype.filter=function(t){},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl};var Yl=function(){},Xl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Yl.prototype.isInBoundary=function(t){},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl},Xl.Mod2BoundaryNodeRule.get=function(){return $l},Xl.EndPointBoundaryNodeRule.get=function(){return Jl},Xl.MultiValentEndPointBoundaryNodeRule.get=function(){return Kl},Xl.MonoValentEndPointBoundaryNodeRule.get=function(){return Ql},Xl.MOD2_BOUNDARY_RULE.get=function(){return new $l},Xl.ENDPOINT_BOUNDARY_RULE.get=function(){return new Jl},Xl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Kl},Xl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ql},Xl.OGC_SFS_BOUNDARY_RULE.get=function(){return Yl.MOD2_BOUNDARY_RULE},Object.defineProperties(Yl,Xl);var $l=function(){};$l.prototype.isInBoundary=function(t){return t%2==1},$l.prototype.interfaces_=function(){return[Yl]},$l.prototype.getClass=function(){return $l};var Jl=function(){};Jl.prototype.isInBoundary=function(t){return t>0},Jl.prototype.interfaces_=function(){return[Yl]},Jl.prototype.getClass=function(){return Jl};var Kl=function(){};Kl.prototype.isInBoundary=function(t){return t>1},Kl.prototype.interfaces_=function(){return[Yl]},Kl.prototype.getClass=function(){return Kl};var Ql=function(){};Ql.prototype.isInBoundary=function(t){return 1===t},Ql.prototype.interfaces_=function(){return[Yl]},Ql.prototype.getClass=function(){return Ql};var Zl=function(){};Zl.prototype.add=function(){},Zl.prototype.addAll=function(){},Zl.prototype.isEmpty=function(){},Zl.prototype.iterator=function(){},Zl.prototype.size=function(){},Zl.prototype.toArray=function(){},Zl.prototype.remove=function(){};var tu=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),eu=function(){};eu.prototype.hasNext=function(){},eu.prototype.next=function(){},eu.prototype.remove=function(){};var nu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Zl);(_i.prototype=new Error).name="NoSuchElementException";var ru=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Zl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new iu(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new tu;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(nu),iu=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _i;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(eu),ou=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof rl&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<s.length;u++)this.add(s[u],l);else for(var c=s.length-1;c>=0;c--)this.add(s[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof rl){var f=arguments[0],h=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(f>0&&this.get(f-1).equals2D(h))return null;if(f<d&&this.get(f).equals2D(h))return null}}t.prototype.add.call(this,f,h)}}else if(4===arguments.length){var p=arguments[0],v=arguments[1],g=arguments[2],m=arguments[3],y=1;g>m&&(y=-1);for(var _=g;_!==m;_+=y)this.add(p[_],v);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new rl(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(ru),au=function(){},su={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};su.ForwardComparator.get=function(){return lu},su.BidirectionalComparator.get=function(){return uu},su.coordArrayType.get=function(){return new Array(0).fill(null)},au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au},au.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},au.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(au.indexOf(r,e)<0)return r}return null},au.scroll=function(t,e){var n=au.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);xl.arraycopy(t,n,r,0,t.length-n),xl.arraycopy(t,0,r,t.length-n,n),xl.arraycopy(r,0,t,0,t.length)},au.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},au.intersection=function(t,e){for(var n=new ou,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},au.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},au.removeRepeatedPoints=function(t){return au.hasRepeatedPoints(t)?new ou(t,!1).toCoordinateArray():t},au.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},au.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},au.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new rl(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)o[a+l]=new rl(r[i+l])},au.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},au.envelope=function(t){for(var e=new Cl,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},au.toCoordinateArray=function(t){return t.toArray(au.coordArrayType)},au.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},au.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},au.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},au.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},au.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},au.extract=function(t,e,n){e=cl.clamp(e,0,t.length);var r=(n=cl.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(au,su);var lu=function(){};lu.prototype.compare=function(t,e){return au.compare(t,e)},lu.prototype.interfaces_=function(){return[nl]},lu.prototype.getClass=function(){return lu};var uu=function(){};uu.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=au.compare(n,r);return au.isEqualReversed(n,r)?0:i},uu.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=au.increasingDirection(n),o=au.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},uu.prototype.interfaces_=function(){return[nl]},uu.prototype.getClass=function(){return uu};var cu=function(){};cu.prototype.get=function(){},cu.prototype.put=function(){},cu.prototype.size=function(){},cu.prototype.values=function(){},cu.prototype.entrySet=function(){};var fu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(cu);(bi.prototype=new Error).name="OperationNotSupported",(Ai.prototype=new Zl).contains=function(){};var hu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new du(this)},e}(Ai),du=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _i;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new bi},e}(eu),pu=0;(Si.prototype=new fu).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Si.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:pu,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:pu,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Si.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(xi(t)===Ci(xi(xi(t)))){var e=Ei(xi(xi(t)));1===wi(e)?(ki(xi(t),pu),ki(e,pu),ki(xi(xi(t)),1),t=xi(xi(t))):(t===Ei(xi(t))&&(t=xi(t),this.rotateLeft(t)),ki(xi(t),pu),ki(xi(xi(t)),1),this.rotateRight(xi(xi(t))))}else{var n=Ci(xi(xi(t)));1===wi(n)?(ki(xi(t),pu),ki(n,pu),ki(xi(xi(t)),1),t=xi(xi(t))):(t===Ci(xi(t))&&(t=xi(t),this.rotateRight(t)),ki(xi(t),pu),ki(xi(xi(t)),1),this.rotateLeft(xi(xi(t))))}this.root_.color=pu},Si.prototype.values=function(){var t=new ru,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Si.successor(e));)t.add(e.value);return t},Si.prototype.entrySet=function(){var t=new hu,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Si.successor(e));)t.add(e);return t},Si.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Si.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Si.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Si.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Si.prototype.size=function(){return this.size_};var vu=function(){};vu.prototype.interfaces_=function(){return[]},vu.prototype.getClass=function(){return vu},Ri.prototype=new Ai,(Ti.prototype=new Ri).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ti.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ti.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ti.prototype.remove=function(t){throw new bi},Ti.prototype.size=function(){return this.array_.length},Ti.prototype.isEmpty=function(){return 0===this.array_.length},Ti.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Ti.prototype.iterator=function(){return new gu(this)};var gu=function(t){this.treeSet_=t,this.position_=0};gu.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _i;return this.treeSet_.array_[this.position_++]},gu.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},gu.prototype.remove=function(){throw new bi};var mu=function(){};mu.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},mu.asList=function(t){for(var e=new ru,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var yu=function(){},_u={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};_u.P.get=function(){return 0},_u.L.get=function(){return 1},_u.A.get=function(){return 2},_u.FALSE.get=function(){return-1},_u.TRUE.get=function(){return-2},_u.DONTCARE.get=function(){return-3},_u.SYM_FALSE.get=function(){return"F"},_u.SYM_TRUE.get=function(){return"T"},_u.SYM_DONTCARE.get=function(){return"*"},_u.SYM_P.get=function(){return"0"},_u.SYM_L.get=function(){return"1"},_u.SYM_A.get=function(){return"2"},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.toDimensionSymbol=function(t){switch(t){case yu.FALSE:return yu.SYM_FALSE;case yu.TRUE:return yu.SYM_TRUE;case yu.DONTCARE:return yu.SYM_DONTCARE;case yu.P:return yu.SYM_P;case yu.L:return yu.SYM_L;case yu.A:return yu.SYM_A}throw new Ks("Unknown dimension value: "+t)},yu.toDimensionValue=function(t){switch(pl.toUpperCase(t)){case yu.SYM_FALSE:return yu.FALSE;case yu.SYM_TRUE:return yu.TRUE;case yu.SYM_DONTCARE:return yu.DONTCARE;case yu.SYM_P:return yu.P;case yu.SYM_L:return yu.L;case yu.SYM_A:return yu.A}throw new Ks("Unknown dimension symbol: "+t)},Object.defineProperties(yu,_u);var bu=function(){};bu.prototype.filter=function(t){},bu.prototype.interfaces_=function(){return[]},bu.prototype.getClass=function(){return bu};var Au=function(){};Au.prototype.filter=function(t,e){},Au.prototype.isDone=function(){},Au.prototype.isGeometryChanged=function(){},Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au};var wu=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Ks("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Cl,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();mu.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=yu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=yu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ti(mu.asList(this._geometries)),n=new Ti(mu.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),l=0;l<a&&l<s;){var u=this.getGeometryN(l),c=o.getGeometryN(l),f=u.compareToSameClass(c,i);if(0!==f)return f;l++}return l<a?1:l<s?-1:0}},e.prototype.apply=function(){if(ul(arguments[0],Wl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(ul(arguments[0],Au)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ul(arguments[0],bu)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(ul(arguments[0],Gl)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Dl.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Vl),xu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Vl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yu.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new ku(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[vu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(wu),ku=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Yl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};ku.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},ku.prototype.getBoundary=function(){return this._geom instanceof Tu?this.boundaryLineString(this._geom):this._geom instanceof xu?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},ku.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},ku.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},ku.prototype.computeBoundaryCoordinates=function(t){var e=new ru;this._endpointMap=new Si;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return au.toCoordinateArray(e)},ku.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Cu,this._endpointMap.put(t,e)),e.count++},ku.prototype.interfaces_=function(){return[]},ku.prototype.getClass=function(){return ku},ku.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new ku(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new ku(e,n).getBoundary()}};var Cu=function(){this.count=null};Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu};var Eu=function(){},Su={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu},Eu.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Eu.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Eu.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Eu.NEWLINE}catch(t){if(!(t instanceof Ii))throw t;Dl.shouldNeverReachHere()}return o}},Eu.split=function(t,e){for(var n=e.length,r=new ru,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},Eu.toString=function(){if(1===arguments.length){var t=arguments[0];return Eu.SIMPLE_ORDINATE_FORMAT.format(t)}},Eu.spaces=function(t){return Eu.chars(" ",t)},Su.NEWLINE.get=function(){return xl.getProperty("line.separator")},Su.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Eu,Su);var Ru=function(){};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Ru.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,_l.X)===t.getOrdinate(e-1,_l.X)&&t.getOrdinate(0,_l.Y)===t.getOrdinate(e-1,_l.Y)},Ru.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||Qs.isNaN(a)&&Qs.isNaN(s)))return!1}return!0},Ru.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Ru.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Ru.copy(e,i-1,r,o,1);return r},Ru.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Ru.swap(t,r,e-r)},Ru.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Ru.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Ru.copyCoord(t,e+o,n,r+o)},Ru.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new hl;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Eu.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Ru.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ru.createClosedRing(t,e,4):e.getOrdinate(0,_l.X)===e.getOrdinate(n-1,_l.X)&&e.getOrdinate(0,_l.Y)===e.getOrdinate(n-1,_l.Y)?e:Ru.createClosedRing(t,e,n+1)},Ru.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Ru.copy(e,0,r,0,i);for(var o=i;o<n;o++)Ru.copy(e,0,r,o,1);return r};var Tu=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Cl:this._points.expandEnvelope(new Cl)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Ru.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yu.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Bl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Ru.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(ul(arguments[0],Wl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(ul(arguments[0],Au)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(ul(arguments[0],bu)||ul(arguments[0],Gl))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new ku(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Ks("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[vu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Vl),Iu=function(){};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu};var Ou=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Cl;var t=new Cl;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return yu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(ul(arguments[0],Wl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(ul(arguments[0],Au)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(ul(arguments[0],bu)||ul(arguments[0],Gl))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Dl.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Iu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Vl),Mu=function(){};Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu};var Pu=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Ks("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Ks("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Bl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Bl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var l=t.getX(s),u=t.getY(s);if(l!==o==(u!==a))return!1;o=l,a=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);mu.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);xl.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=au.minCoordinate(e.getCoordinates());au.scroll(r,i),xl.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Bl.isCCW(e.getCoordinates())===n&&au.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=this._shell,s=o._shell,l=a.compareToSameClass(s,i);if(0!==l)return l;for(var u=this.getNumInteriorRing(),c=o.getNumInteriorRing(),f=0;f<u&&f<c;){var h=this.getInteriorRingN(f),d=o.getInteriorRingN(f),p=h.compareToSameClass(d,i);if(0!==p)return p;f++}return f<u?1:f<c?-1:0}},e.prototype.apply=function(t){if(ul(t,Wl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(ul(t,Au)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(ul(t,bu))t.filter(this);else if(ul(t,Gl)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Mu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Vl),Du=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Vl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return yu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Iu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(wu),Nu=function(t){function e(e,n){e instanceof rl&&n instanceof Ku&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Vl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return yu.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Ru.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Ks("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Ks("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Tu),Lu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Vl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new ru,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Mu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(wu),ju=function(t){this._factory=t||null,this._isUserDataCopied=!1},Fu={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ju.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ju.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ju.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof wu?this.editGeometryCollection(t,e):t instanceof Pu?this.editPolygon(t,e):t instanceof Ou||t instanceof Tu?e.edit(t,this._factory):(Dl.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ju.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new ru,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Du?this._factory.createMultiPoint(r.toArray([])):n.getClass()===xu?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Lu?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},ju.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new ru,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.GeometryEditorOperation=function(){},Fu.NoOpGeometryOperation.get=function(){return zu},Fu.CoordinateOperation.get=function(){return Bu},Fu.CoordinateSequenceOperation.get=function(){return Uu},Object.defineProperties(ju,Fu);var zu=function(){};zu.prototype.edit=function(t,e){return t},zu.prototype.interfaces_=function(){return[ju.GeometryEditorOperation]},zu.prototype.getClass=function(){return zu};var Bu=function(){};Bu.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Nu?e.createLinearRing(n):t instanceof Tu?e.createLineString(n):t instanceof Ou?n.length>0?e.createPoint(n[0]):e.createPoint():t},Bu.prototype.interfaces_=function(){return[ju.GeometryEditorOperation]},Bu.prototype.getClass=function(){return Bu};var Uu=function(){};Uu.prototype.edit=function(t,e){return t instanceof Nu?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Tu?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Ou?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Uu.prototype.interfaces_=function(){return[ju.GeometryEditorOperation]},Uu.prototype.getClass=function(){return Uu};var Gu=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new rl}else if(ul(arguments[0],_l)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var l=0;l<a;l++)this._coordinates[l]=new rl}},Vu={serialVersionUID:{configurable:!0}};Gu.prototype.setOrdinate=function(t,e,n){switch(e){case _l.X:this._coordinates[t].x=n;break;case _l.Y:this._coordinates[t].y=n;break;case _l.Z:this._coordinates[t].z=n;break;default:throw new Ks("invalid ordinateIndex")}},Gu.prototype.size=function(){return this._coordinates.length},Gu.prototype.getOrdinate=function(t,e){switch(e){case _l.X:return this._coordinates[t].x;case _l.Y:return this._coordinates[t].y;case _l.Z:return this._coordinates[t].z}return Qs.NaN},Gu.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Gu.prototype.getCoordinateCopy=function(t){return new rl(this._coordinates[t])},Gu.prototype.getDimension=function(){return this._dimension},Gu.prototype.getX=function(t){return this._coordinates[t].x},Gu.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Gu(t,this._dimension)},Gu.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Gu.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Gu(t,this._dimension)},Gu.prototype.toString=function(){if(this._coordinates.length>0){var t=new hl(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Gu.prototype.getY=function(t){return this._coordinates[t].y},Gu.prototype.toCoordinateArray=function(){return this._coordinates},Gu.prototype.interfaces_=function(){return[_l,yi]},Gu.prototype.getClass=function(){return Gu},Vu.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Gu,Vu);var Hu=function(){},qu={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Hu.prototype.readResolve=function(){return Hu.instance()},Hu.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Gu(t)}if(ul(arguments[0],_l)){var e=arguments[0];return new Gu(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Gu(n):new Gu(n,r)}},Hu.prototype.interfaces_=function(){return[al,yi]},Hu.prototype.getClass=function(){return Hu},Hu.instance=function(){return Hu.instanceObject},qu.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},qu.instanceObject.get=function(){return new Hu},Object.defineProperties(Hu,qu);var Wu=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new ru,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new hu;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(cu),Yu=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof $u){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Xu={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Yu.prototype.equals=function(t){if(!(t instanceof Yu))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Yu.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new dl(n).compareTo(new dl(r))},Yu.prototype.getScale=function(){return this._scale},Yu.prototype.isFloating=function(){return this._modelType===Yu.FLOATING||this._modelType===Yu.FLOATING_SINGLE},Yu.prototype.getType=function(){return this._modelType},Yu.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Yu.FLOATING?t="Floating":this._modelType===Yu.FLOATING_SINGLE?t="Floating-Single":this._modelType===Yu.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Yu.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Qs.isNaN(t)||this._modelType===Yu.FLOATING_SINGLE?t:this._modelType===Yu.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof rl){var e=arguments[0];if(this._modelType===Yu.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Yu.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Yu.FLOATING?t=16:this._modelType===Yu.FLOATING_SINGLE?t=6:this._modelType===Yu.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Yu.prototype.setScale=function(t){this._scale=Math.abs(t)},Yu.prototype.interfaces_=function(){return[yi,tl]},Yu.prototype.getClass=function(){return Yu},Yu.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Xu.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Xu.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Yu,Xu);var $u=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Ju={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};$u.prototype.readResolve=function(){return $u.nameToTypeMap.get(this._name)},$u.prototype.toString=function(){return this._name},$u.prototype.interfaces_=function(){return[yi]},$u.prototype.getClass=function(){return $u},Ju.serialVersionUID.get=function(){return-552860263173159e4},Ju.nameToTypeMap.get=function(){return new Wu},Object.defineProperties($u,Ju),Yu.Type=$u,Yu.FIXED=new $u("FIXED"),Yu.FLOATING=new $u("FLOATING"),Yu.FLOATING_SINGLE=new $u("FLOATING SINGLE");var Ku=function t(){this._precisionModel=new Yu,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?ul(arguments[0],al)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Yu&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Qu={serialVersionUID:{configurable:!0}};Ku.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new rl(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new rl(t.getMinX(),t.getMinY()),new rl(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new rl(t.getMinX(),t.getMinY()),new rl(t.getMinX(),t.getMaxY()),new rl(t.getMaxX(),t.getMaxY()),new rl(t.getMaxX(),t.getMinY()),new rl(t.getMinX(),t.getMinY())]),null)},Ku.prototype.createLineString=function(t){return t?t instanceof Array?new Tu(this.getCoordinateSequenceFactory().create(t),this):ul(t,_l)?new Tu(t,this):void 0:new Tu(this.getCoordinateSequenceFactory().create([]),this)},Ku.prototype.createMultiLineString=function(){if(0===arguments.length)return new xu(null,this);if(1===arguments.length){var t=arguments[0];return new xu(t,this)}},Ku.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Ku.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Pu)return this.createMultiPolygon(Ku.toPolygonArray(t));if(s instanceof Tu)return this.createMultiLineString(Ku.toLineStringArray(t));if(s instanceof Ou)return this.createMultiPoint(Ku.toPointArray(t));Dl.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Ku.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Ku.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof rl){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(ul(arguments[0],_l)){var e=arguments[0];return new Ou(e,this)}}},Ku.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ku.prototype.createPolygon=function(){if(0===arguments.length)return new Pu(null,null,this);if(1===arguments.length){if(ul(arguments[0],_l)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Nu){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new Pu(r,i,this)}},Ku.prototype.getSRID=function(){return this._SRID},Ku.prototype.createGeometryCollection=function(){if(0===arguments.length)return new wu(null,this);if(1===arguments.length){var t=arguments[0];return new wu(t,this)}},Ku.prototype.createGeometry=function(t){return new ju(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Ku.prototype.getPrecisionModel=function(){return this._precisionModel},Ku.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ul(arguments[0],_l)){var e=arguments[0];return new Nu(e,this)}}},Ku.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Lu(null,this);if(1===arguments.length){var t=arguments[0];return new Lu(t,this)}},Ku.prototype.createMultiPoint=function(){if(0===arguments.length)return new Du(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Du(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ul(arguments[0],_l)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Ru.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},Ku.prototype.interfaces_=function(){return[yi]},Ku.prototype.getClass=function(){return Ku},Ku.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.getDefaultCoordinateSequenceFactory=function(){return Hu.instance()},Ku.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Qu.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ku,Qu);var Zu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],tc=function(t){this.geometryFactory=t||new Ku};tc.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!ec[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Zu.indexOf(n)?ec[n].apply(this,[e.coordinates]):"GeometryCollection"===n?ec[n].apply(this,[e.geometries]):ec[n].apply(this,[e])},tc.prototype.write=function(t){var e=t.getGeometryType();if(!nc[e])throw new Error("Geometry is not supported");return nc[e].apply(this,[t])};var ec={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!ec[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ec.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new rl(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new rl(t[0],t[1]),new rl(t[2],t[1]),new rl(t[2],t[3]),new rl(t[0],t[3]),new rl(t[0],t[1])])},Point:function(t){var e=new rl(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ec.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ec.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ec.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ec.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=ec.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(ec.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},nc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:nc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=nc.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(nc.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=nc.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=nc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=nc.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=nc.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(nc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},rc=function(t){this.geometryFactory=t||new Ku,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new tc(this.geometryFactory)};rc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Yu.FIXED&&this.reducePrecision(e),e},rc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var ic=function(){this.parser=new tc(this.geometryFactory)};ic.prototype.write=function(t){return this.parser.write(t)};var oc=function(){},ac={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc},oc.opposite=function(t){return t===oc.LEFT?oc.RIGHT:t===oc.RIGHT?oc.LEFT:t},ac.ON.get=function(){return 0},ac.LEFT.get=function(){return 1},ac.RIGHT.get=function(){return 2},Object.defineProperties(oc,ac),(Oi.prototype=new Error).name="EmptyStackException",(Mi.prototype=new nu).add=function(t){return this.array_.push(t),!0},Mi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Mi.prototype.push=function(t){return this.array_.push(t),t},Mi.prototype.pop=function(t){if(0===this.array_.length)throw new Oi;return this.array_.pop()},Mi.prototype.peek=function(){if(0===this.array_.length)throw new Oi;return this.array_[this.array_.length-1]},Mi.prototype.empty=function(){return 0===this.array_.length},Mi.prototype.isEmpty=function(){return this.empty()},Mi.prototype.search=function(t){return this.array_.indexOf(t)},Mi.prototype.size=function(){return this.array_.length},Mi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var sc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};sc.prototype.getCoordinate=function(){return this._minCoord},sc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},sc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Dl.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Bl.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Bl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Bl.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},sc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=oc.LEFT;return n[e].y<n[e+1].y&&(r=oc.RIGHT),r},sc.prototype.getEdge=function(){return this._orientedDe},sc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},sc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},sc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Dl.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===oc.LEFT&&(this._orientedDe=this._minDe.getSym())},sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc};var lc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new rl(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Ml),uc=function(){this.array_=[]};uc.prototype.addLast=function(t){this.array_.push(t)},uc.prototype.removeFirst=function(){return this.array_.shift()},uc.prototype.isEmpty=function(){return 0===this.array_.length};var cc=function(){this._finder=null,this._dirEdgeList=new ru,this._nodes=new ru,this._rightMostCoord=null,this._env=null,this._finder=new sc};cc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},cc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},cc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new lc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},cc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(oc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},cc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},cc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(oc.RIGHT)>=1&&e.getDepth(oc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},cc.prototype.computeDepths=function(t){var e=new hu,n=new uc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},cc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},cc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Cl,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},cc.prototype.addReachable=function(t){var e=new Mi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},cc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(oc.LEFT,t.getDepth(oc.RIGHT)),e.setDepth(oc.RIGHT,t.getDepth(oc.LEFT))},cc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},cc.prototype.getNodes=function(){return this._nodes},cc.prototype.getDirectedEdges=function(){return this._dirEdgeList},cc.prototype.interfaces_=function(){return[tl]},cc.prototype.getClass=function(){return cc};var fc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[oc.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[oc.ON]=o,this.location[oc.LEFT]=a,this.location[oc.RIGHT]=s}};fc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},fc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==sl.NONE)return!1;return!0},fc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===sl.NONE&&(this.location[e]=t)},fc.prototype.isLine=function(){return 1===this.location.length},fc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[oc.ON]=this.location[oc.ON],e[oc.LEFT]=sl.NONE,e[oc.RIGHT]=sl.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===sl.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},fc.prototype.getLocations=function(){return this.location},fc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[oc.LEFT];this.location[oc.LEFT]=this.location[oc.RIGHT],this.location[oc.RIGHT]=t},fc.prototype.toString=function(){var t=new hl;return this.location.length>1&&t.append(sl.toLocationSymbol(this.location[oc.LEFT])),t.append(sl.toLocationSymbol(this.location[oc.ON])),this.location.length>1&&t.append(sl.toLocationSymbol(this.location[oc.RIGHT])),t.toString()},fc.prototype.setLocations=function(t,e,n){this.location[oc.ON]=t,this.location[oc.LEFT]=e,this.location[oc.RIGHT]=n},fc.prototype.get=function(t){return t<this.location.length?this.location[t]:sl.NONE},fc.prototype.isArea=function(){return this.location.length>1},fc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===sl.NONE)return!0;return!1},fc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(oc.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},fc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(sl.NONE)},fc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},fc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var hc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new fc(e),this.elt[1]=new fc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new fc(n.elt[0]),this.elt[1]=new fc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new fc(sl.NONE),this.elt[1]=new fc(sl.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new fc(o,a,s),this.elt[1]=new fc(o,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],f=arguments[3];this.elt[0]=new fc(sl.NONE,sl.NONE,sl.NONE),this.elt[1]=new fc(sl.NONE,sl.NONE,sl.NONE),this.elt[l].setLocations(u,c,f)}};hc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},hc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},hc.prototype.isNull=function(t){return this.elt[t].isNull()},hc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},hc.prototype.isLine=function(t){return this.elt[t].isLine()},hc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new fc(t.elt[e]):this.elt[e].merge(t.elt[e])},hc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},hc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(oc.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},hc.prototype.toString=function(){var t=new hl;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},hc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},hc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},hc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(oc.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},hc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},hc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},hc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new fc(this.elt[t].location[0]))},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc},hc.toLineLabel=function(t){for(var e=new hc(sl.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var dc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ru,this._pts=new ru,this._label=new hc(sl.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ru,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};dc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Bl.isCCW(this._ring.getCoordinates())},dc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},dc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new lc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new lc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Dl.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},dc.prototype.getLinearRing=function(){return this._ring},dc.prototype.getCoordinate=function(t){return this._pts.get(t)},dc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},dc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},dc.prototype.isHole=function(){return this._isHole},dc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},dc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Bl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},dc.prototype.addHole=function(t){this._holes.add(t)},dc.prototype.isShell=function(){return null===this._shell},dc.prototype.getLabel=function(){return this._label},dc.prototype.getEdges=function(){return this._edges},dc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},dc.prototype.getShell=function(){return this._shell},dc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,oc.RIGHT);if(r===sl.NONE)return null;if(this._label.getLocation(n)===sl.NONE)return this._label.setLocation(n,r),null}},dc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},dc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var pc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),vc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new ru,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new pc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),gc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};gc.prototype.setVisited=function(t){this._isVisited=t},gc.prototype.setInResult=function(t){this._isInResult=t},gc.prototype.isCovered=function(){return this._isCovered},gc.prototype.isCoveredSet=function(){return this._isCoveredSet},gc.prototype.setLabel=function(t){this._label=t},gc.prototype.getLabel=function(){return this._label},gc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},gc.prototype.updateIM=function(t){Dl.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},gc.prototype.isInResult=function(){return this._isInResult},gc.prototype.isVisited=function(){return this._isVisited},gc.prototype.interfaces_=function(){return[]},gc.prototype.getClass=function(){return gc};var mc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new hc(0,sl.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=sl.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==sl.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new hc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof hc)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===sl.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=sl.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case sl.BOUNDARY:n=sl.INTERIOR;break;case sl.INTERIOR:default:n=sl.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gc),yc=function(){this.nodeMap=new Si,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};yc.prototype.find=function(t){return this.nodeMap.get(t)},yc.prototype.addNode=function(){if(arguments[0]instanceof rl){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof mc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},yc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},yc.prototype.iterator=function(){return this.nodeMap.values().iterator()},yc.prototype.values=function(){return this.nodeMap.values()},yc.prototype.getBoundaryNodes=function(t){for(var e=new ru,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===sl.BOUNDARY&&e.add(r)}return e},yc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var _c=function(){},bc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c},_c.isNorthern=function(t){return t===_c.NE||t===_c.NW},_c.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},_c.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},_c.isInHalfPlane=function(t,e){return e===_c.SE?t===_c.SE||t===_c.SW:t===e||t===e+1},_c.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ks("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?_c.NE:_c.SE:e>=0?_c.NW:_c.SW}if(arguments[0]instanceof rl&&arguments[1]instanceof rl){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Ks("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?_c.NE:_c.SE:r.y>=n.y?_c.NW:_c.SW}},bc.NE.get=function(){return 0},bc.NW.get=function(){return 1},bc.SW.get=function(){return 2},bc.SE.get=function(){return 3},Object.defineProperties(_c,bc);var Ac=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Ac.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Bl.computeOrientation(t._p0,t._p1,this._p1)},Ac.prototype.getDy=function(){return this._dy},Ac.prototype.getCoordinate=function(){return this._p0},Ac.prototype.setNode=function(t){this._node=t},Ac.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ac.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ac.prototype.getDirectedCoordinate=function(){return this._p1},Ac.prototype.getDx=function(){return this._dx},Ac.prototype.getLabel=function(){return this._label},Ac.prototype.getEdge=function(){return this._edge},Ac.prototype.getQuadrant=function(){return this._quadrant},Ac.prototype.getNode=function(){return this._node},Ac.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ac.prototype.computeLabel=function(t){},Ac.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=_c.quadrant(this._dx,this._dy),Dl.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ac.prototype.interfaces_=function(){return[tl]},Ac.prototype.getClass=function(){return Ac};var wc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new hc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new lc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,oc.LEFT)===sl.INTERIOR&&this._label.getLocation(e,oc.RIGHT)===sl.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[oc.LEFT]+"/"+this._depth[oc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,sl.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,sl.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===oc.LEFT&&(r=-1);var i=oc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===sl.EXTERIOR&&e===sl.INTERIOR?1:t===sl.INTERIOR&&e===sl.EXTERIOR?-1:0},e}(Ac),xc=function(){};xc.prototype.createNode=function(t){return new mc(t,null)},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc};var kc=function(){if(this._edges=new ru,this._nodes=null,this._edgeEndList=new ru,0===arguments.length)this._nodes=new yc(new xc);else if(1===arguments.length){var t=arguments[0];this._nodes=new yc(t)}};kc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},kc.prototype.find=function(t){return this._nodes.find(t)},kc.prototype.addNode=function(){if(arguments[0]instanceof mc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof rl){var e=arguments[0];return this._nodes.addNode(e)}},kc.prototype.getNodeIterator=function(){return this._nodes.iterator()},kc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},kc.prototype.debugPrintln=function(t){xl.out.println(t)},kc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===sl.BOUNDARY},kc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},kc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Bl.computeOrientation(t,e,r)===Bl.COLLINEAR&&_c.quadrant(t,e)===_c.quadrant(n,r)},kc.prototype.getEdgeEnds=function(){return this._edgeEndList},kc.prototype.debugPrint=function(t){xl.out.print(t)},kc.prototype.getEdgeIterator=function(){return this._edges.iterator()},kc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},kc.prototype.insertEdge=function(t){this._edges.add(t)},kc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},kc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new wc(n,!0),i=new wc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},kc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},kc.prototype.getNodes=function(){return this._nodes.values()},kc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc},kc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Cc=function(){this._geometryFactory=null,this._shellList=new ru;var t=arguments[0];this._geometryFactory=t};Cc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Cc.prototype.computePolygons=function(t){for(var e=new ru,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Cc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new lc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Cc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new ru,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},Cc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Cc.prototype.buildMaximalEdgeRings=function(t){for(var e=new ru,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new vc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Cc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Cc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Cc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&Bl.isPointInRing(i,u.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(o=l)}return o},Cc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Dl.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Cc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];kc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new ru,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Ec=function(){};Ec.prototype.getBounds=function(){},Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec};var Sc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Sc.prototype.getItem=function(){return this._item},Sc.prototype.getBounds=function(){return this._bounds},Sc.prototype.interfaces_=function(){return[Ec,yi]},Sc.prototype.getClass=function(){return Sc};var Rc=function(){this._size=null,this._items=null,this._size=0,this._items=new ru,this._items.add(null)};Rc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Rc.prototype.size=function(){return this._size},Rc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Rc.prototype.clear=function(){this._size=0,this._items.clear()},Rc.prototype.isEmpty=function(){return 0===this._size},Rc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc};var Tc=function(){};Tc.prototype.visitItem=function(t){},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc};var Ic=function(){};Ic.prototype.insert=function(t,e){},Ic.prototype.remove=function(t,e){},Ic.prototype.query=function(){},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Oc=function(){if(this._childBoundables=new ru,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Mc={serialVersionUID:{configurable:!0}};Oc.prototype.getLevel=function(){return this._level},Oc.prototype.size=function(){return this._childBoundables.size()},Oc.prototype.getChildBoundables=function(){return this._childBoundables},Oc.prototype.addChildBoundable=function(t){Dl.isTrue(null===this._bounds),this._childBoundables.add(t)},Oc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Oc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Oc.prototype.interfaces_=function(){return[Ec,yi]},Oc.prototype.getClass=function(){return Oc},Mc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Oc,Mc);var Pc=function(){};Pc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Pc.min=function(t){return Pc.sort(t),t.get(0)},Pc.sort=function(t,e){var n=t.toArray();e?mu.sort(n,e):mu.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Pc.singletonList=function(t){var e=new ru;return e.add(t),e};var Dc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};Dc.prototype.expandToQueue=function(t,e){var n=Dc.isComposite(this._boundable1),r=Dc.isComposite(this._boundable2);if(n&&r)return Dc.area(this._boundable1)>Dc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ks("neither boundable is composite")},Dc.prototype.isLeaves=function(){return!(Dc.isComposite(this._boundable1)||Dc.isComposite(this._boundable2))},Dc.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},Dc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new Dc(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},Dc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Dc.prototype.getDistance=function(){return this._distance},Dc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Dc.prototype.interfaces_=function(){return[tl]},Dc.prototype.getClass=function(){return Dc},Dc.area=function(t){return t.getBounds().getArea()},Dc.isComposite=function(t){return t instanceof Oc};var Nc=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new ru,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Dl.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Lc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Nc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Nc.prototype.lastNode=function(t){return t.get(t.size()-1)},Nc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Oc?t+=this.size(n):n instanceof Sc&&(t+=1)}return t}},Nc.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Sc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Nc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new ru:t}if(1===arguments.length){for(var e=arguments[0],n=new ru,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Oc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Sc?n.add(i.getItem()):Dl.shouldNeverReachHere()}return n.size()<=0?null:n}},Nc.prototype.insert=function(t,e){Dl.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Sc(t,e))},Nc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new ru;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Dl.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Oc?this.boundablesAtLevel(n,a,i):(Dl.isTrue(a instanceof Sc),-1===n&&i.add(a))}return null}},Nc.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new ru;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(ul(arguments[2],Tc)&&arguments[0]instanceof Object&&arguments[1]instanceof Oc)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Oc?this.query(i,u,a):u instanceof Sc?a.visitItem(u.getItem()):Dl.shouldNeverReachHere())}else if(ul(arguments[2],nu)&&arguments[0]instanceof Object&&arguments[1]instanceof Oc)for(var c=arguments[0],f=arguments[1],h=arguments[2],d=f.getChildBoundables(),p=0;p<d.size();p++){var v=d.get(p);this.getIntersectsOp().intersects(v.getBounds(),c)&&(v instanceof Oc?this.query(c,v,h):v instanceof Sc?h.add(v.getItem()):Dl.shouldNeverReachHere())}},Nc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Nc.prototype.getRoot=function(){return this.build(),this._root},Nc.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Oc&&(o=this.remove(n,l,i))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},Nc.prototype.createHigherLevels=function(t,e){Dl.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Nc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Oc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Nc.prototype.createParentBoundables=function(t,e){Dl.isTrue(!t.isEmpty());var n=new ru;n.add(this.createNode(e));var r=new ru(t);Pc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Nc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Nc.prototype.interfaces_=function(){return[yi]},Nc.prototype.getClass=function(){return Nc},Nc.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Lc.IntersectsOp.get=function(){return jc},Lc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Lc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Nc,Lc);var jc=function(){},Fc=function(){};Fc.prototype.distance=function(t,e){},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc};var zc=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Dl.isTrue(t.length>0);for(var n=new ru,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Bc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new ru;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(ul(arguments[2],Tc)&&arguments[0]instanceof Object&&arguments[1]instanceof Oc){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(ul(arguments[2],nu)&&arguments[0]instanceof Object&&arguments[1]instanceof Oc){var s=arguments[0],l=arguments[1],u=arguments[2];t.prototype.query.call(this,s,l,u)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Dl.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new ru(t);Pc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(ul(arguments[0],Fc)){var t=arguments[0],n=new Dc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Dc){var r=arguments[0];return this.nearestNeighbour(r,Qs.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&ul(arguments[1],Fc)){var i=arguments[0],o=arguments[1],a=new Dc(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof Dc&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1],u=null,c=new Rc;for(c.add(s);!c.isEmpty()&&l>0;){var f=c.poll(),h=f.getDistance();if(h>=l)break;f.isLeaves()?(l=h,u=f):f.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],p=arguments[1],v=arguments[2],g=new Sc(d,p),m=new Dc(this.getRoot(),g,v);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[Ic,yi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Bc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[nl]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[nl]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Nc),Bc=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Cl(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Oc),Uc=function(){};Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Uc.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Uc.relativeSign(e.x,n.x),i=Uc.relativeSign(e.y,n.y);switch(t){case 0:return Uc.compareValue(r,i);case 1:return Uc.compareValue(i,r);case 2:return Uc.compareValue(i,-r);case 3:return Uc.compareValue(-r,i);case 4:return Uc.compareValue(-r,-i);case 5:return Uc.compareValue(-i,-r);case 6:return Uc.compareValue(-i,r);case 7:return Uc.compareValue(r,-i)}return Dl.shouldNeverReachHere("invalid octant value"),0},Uc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Gc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new rl(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Gc.prototype.getCoordinate=function(){return this.coord},Gc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Gc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Uc.compare(this._segmentOctant,this.coord,e.coord)},Gc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Gc.prototype.isInterior=function(){return this._isInterior},Gc.prototype.interfaces_=function(){return[tl]},Gc.prototype.getClass=function(){return Gc};var Vc=function(){this._nodeMap=new Si,this._edge=null;var t=arguments[0];this._edge=t};Vc.prototype.getSplitCoordinates=function(){var t=new ou;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Vc.prototype.addCollapsedNodes=function(){var t=new ru;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Vc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Vc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new dl(e+1))}},Vc.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new rl(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new rl(e.coord))},Vc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Vc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Vc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Vc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new dl(e[0])),r=i}},Vc.prototype.getEdge=function(){return this._edge},Vc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Vc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new rl(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new rl(e.coord)),new Yc(o,this._edge.getData())},Vc.prototype.add=function(t,e){var n=new Gc(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Dl.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Vc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ml("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Ml("bad split edge end point at "+i)},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Hc=function(){};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ks("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof rl&&arguments[1]instanceof rl){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new Ks("Cannot compute the octant for two identical points "+i);return Hc.octant(a,s)}};var qc=function(){};qc.prototype.getCoordinates=function(){},qc.prototype.size=function(){},qc.prototype.getCoordinate=function(t){},qc.prototype.isClosed=function(){},qc.prototype.setData=function(t){},qc.prototype.getData=function(){},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Wc=function(){};Wc.prototype.addIntersection=function(t,e){},Wc.prototype.interfaces_=function(){return[qc]},Wc.prototype.getClass=function(){return Wc};var Yc=function(){this._nodeList=new Vc(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Yc.prototype.getCoordinates=function(){return this._pts},Yc.prototype.size=function(){return this._pts.length},Yc.prototype.getCoordinate=function(t){return this._pts[t]},Yc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Yc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Yc.prototype.setData=function(t){this._data=t},Yc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Hc.octant(t,e)},Yc.prototype.getData=function(){return this._data},Yc.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new rl(n.getIntersection(i));this.addIntersection(o,r)}},Yc.prototype.toString=function(){return Ol.toLineString(new Gu(this._pts))},Yc.prototype.getNodeList=function(){return this._nodeList},Yc.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},Yc.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},Yc.prototype.interfaces_=function(){return[Wc]},Yc.prototype.getClass=function(){return Yc},Yc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new ru;return Yc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var Xc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new rl,this.p1=new rl;else if(1===arguments.length){var t=arguments[0];this.p0=new rl(t.p0),this.p1=new rl(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new rl(e,n),this.p1=new rl(r,i)}},$c={serialVersionUID:{configurable:!0}};Xc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Xc.prototype.orientationIndex=function(){if(arguments[0]instanceof Xc){var t=arguments[0],e=Bl.orientationIndex(this.p0,this.p1,t.p0),n=Bl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof rl){var r=arguments[0];return Bl.orientationIndex(this.p0,this.p1,r)}},Xc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Xc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Xc.prototype.equals=function(t){if(!(t instanceof Xc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Xc.prototype.intersection=function(t){var e=new jl;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Xc.prototype.project=function(){if(arguments[0]instanceof rl){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new rl(t);var e=this.projectionFactor(t),n=new rl;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Xc){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Xc(a,s)}},Xc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Xc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Xc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Xc.prototype.distancePerpendicular=function(t){return Bl.distancePointLinePerpendicular(t,this.p0,this.p1)},Xc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Xc.prototype.midPoint=function(){return Xc.midPoint(this.p0,this.p1)},Xc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?Qs.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},Xc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=Qs.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var l=t.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},Xc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Xc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Xc.prototype.getLength=function(){return this.p0.distance(this.p1)},Xc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Xc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Xc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Xc.prototype.lineIntersection=function(t){try{return kl.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof wl))throw t}return null},Xc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Xc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,l=e*o/a}return new rl(n-l,r+s)},Xc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Xc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Qs.isNaN(e))&&(e=1),e},Xc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Xc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Xc.prototype.distance=function(){if(arguments[0]instanceof Xc){var t=arguments[0];return Bl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof rl){var e=arguments[0];return Bl.distancePointLine(e,this.p0,this.p1)}},Xc.prototype.pointAlong=function(t){var e=new rl;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Xc.prototype.hashCode=function(){var t=Qs.doubleToLongBits(this.p0.x);t^=31*Qs.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Qs.doubleToLongBits(this.p1.x);return n^=31*Qs.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Xc.prototype.interfaces_=function(){return[tl,yi]},Xc.prototype.getClass=function(){return Xc},Xc.midPoint=function(t,e){return new rl((t.x+e.x)/2,(t.y+e.y)/2)},$c.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Xc,$c);var Jc=function(){this.tempEnv1=new Cl,this.tempEnv2=new Cl,this._overlapSeg1=new Xc,this._overlapSeg2=new Xc};Jc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Kc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};Kc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Kc.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},Kc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Kc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Kc.prototype.setId=function(t){this._id=t},Kc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Kc.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Cl(t,e)}return this._env},Kc.prototype.getEndIndex=function(){return this._end},Kc.prototype.getStartIndex=function(){return this._start},Kc.prototype.getContext=function(){return this._context},Kc.prototype.getId=function(){return this._id},Kc.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],l=n._pts[r],u=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),f=Math.trunc((r+i)/2);t<c&&(r<f&&this.computeOverlapsInternal(t,c,n,r,f,o),f<i&&this.computeOverlapsInternal(t,c,n,f,i,o)),c<e&&(r<f&&this.computeOverlapsInternal(c,e,n,r,f,o),f<i&&this.computeOverlapsInternal(c,e,n,f,i,o))},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.getChainStartIndices=function(t){var e=0,n=new ru;n.add(new dl(e));do{var r=Qc.findChainEnd(t,e);n.add(new dl(r)),e=r}while(e<t.length-1);return Qc.toIntArray(n)},Qc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=_c.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||_c.quadrant(t[i-1],t[i])===r);)i++;return i-1},Qc.getChains=function(){if(1===arguments.length){var t=arguments[0];return Qc.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new ru,i=Qc.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new Kc(e,i[o],i[o+1],n);r.add(a)}return r}},Qc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Zc=function(){};Zc.prototype.computeNodes=function(t){},Zc.prototype.getNodedSubstrings=function(){},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var tf=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};tf.prototype.setSegmentIntersector=function(t){this._segInt=t},tf.prototype.interfaces_=function(){return[Zc]},tf.prototype.getClass=function(){return tf};var ef=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new ru,this._index=new zc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Yc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Qc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new nf(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return nf},Object.defineProperties(e,n),e}(tf),nf=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jc),rf=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},of={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};rf.prototype.getEndCapStyle=function(){return this._endCapStyle},rf.prototype.isSingleSided=function(){return this._isSingleSided},rf.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=rf.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=rf.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==rf.JOIN_ROUND&&(this._quadrantSegments=rf.DEFAULT_QUADRANT_SEGMENTS)},rf.prototype.getJoinStyle=function(){return this._joinStyle},rf.prototype.setJoinStyle=function(t){this._joinStyle=t},rf.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},rf.prototype.getSimplifyFactor=function(){return this._simplifyFactor},rf.prototype.getQuadrantSegments=function(){return this._quadrantSegments},rf.prototype.setEndCapStyle=function(t){this._endCapStyle=t},rf.prototype.getMitreLimit=function(){return this._mitreLimit},rf.prototype.setMitreLimit=function(t){this._mitreLimit=t},rf.prototype.setSingleSided=function(t){this._isSingleSided=t},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},of.CAP_ROUND.get=function(){return 1},of.CAP_FLAT.get=function(){return 2},of.CAP_SQUARE.get=function(){return 3},of.JOIN_ROUND.get=function(){return 1},of.JOIN_MITRE.get=function(){return 2},of.JOIN_BEVEL.get=function(){return 3},of.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},of.DEFAULT_MITRE_LIMIT.get=function(){return 5},of.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(rf,of);var af=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Bl.COUNTERCLOCKWISE,this._inputLine=t||null},sf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};af.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},af.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=af.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},af.prototype.isShallowConcavity=function(t,e,n,r){return Bl.computeOrientation(t,e,n)===this._angleOrientation&&Bl.distancePointLine(e,t,n)<r},af.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/af.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},af.prototype.isConcave=function(t,e,n){return Bl.computeOrientation(t,e,n)===this._angleOrientation},af.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Bl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},af.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===af.DELETE;)e++;return e},af.prototype.isShallow=function(t,e,n,r){return Bl.distancePointLine(e,t,n)<r},af.prototype.collapseLine=function(){for(var t=new ou,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==af.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},af.simplify=function(t,e){return new af(t).simplify(e)},sf.INIT.get=function(){return 0},sf.DELETE.get=function(){return 1},sf.KEEP.get=function(){return 1},sf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(af,sf);var lf=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ru},uf={COORDINATE_ARRAY_TYPE:{configurable:!0}};lf.prototype.getCoordinates=function(){return this._ptList.toArray(lf.COORDINATE_ARRAY_TYPE)},lf.prototype.setPrecisionModel=function(t){this._precisionModel=t},lf.prototype.addPt=function(t){var e=new rl(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},lf.prototype.revere=function(){},lf.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},lf.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},lf.prototype.toString=function(){return(new Ku).createLineString(this.getCoordinates()).toString()},lf.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new rl(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},lf.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},uf.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(lf,uf);var cf=function(){},ff={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.toDegrees=function(t){return 180*t/Math.PI},cf.normalize=function(t){for(;t>Math.PI;)t-=cf.PI_TIMES_2;for(;t<=-Math.PI;)t+=cf.PI_TIMES_2;return t},cf.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},cf.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},cf.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},cf.interiorAngle=function(t,e,n){var r=cf.angle(e,t),i=cf.angle(e,n);return Math.abs(i-r)},cf.normalizePositive=function(t){if(t<0){for(;t<0;)t+=cf.PI_TIMES_2;t>=cf.PI_TIMES_2&&(t=0)}else{for(;t>=cf.PI_TIMES_2;)t-=cf.PI_TIMES_2;t<0&&(t=0)}return t},cf.angleBetween=function(t,e,n){var r=cf.angle(e,t),i=cf.angle(e,n);return cf.diff(r,i)},cf.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},cf.toRadians=function(t){return t*Math.PI/180},cf.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?cf.COUNTERCLOCKWISE:n<0?cf.CLOCKWISE:cf.NONE},cf.angleBetweenOriented=function(t,e,n){var r=cf.angle(e,t),i=cf.angle(e,n)-r;return i<=-Math.PI?i+cf.PI_TIMES_2:i>Math.PI?i-cf.PI_TIMES_2:i},ff.PI_TIMES_2.get=function(){return 2*Math.PI},ff.PI_OVER_2.get=function(){return Math.PI/2},ff.PI_OVER_4.get=function(){return Math.PI/4},ff.COUNTERCLOCKWISE.get=function(){return Bl.COUNTERCLOCKWISE},ff.CLOCKWISE.get=function(){return Bl.CLOCKWISE},ff.NONE.get=function(){return Bl.COLLINEAR},Object.defineProperties(cf,ff);var hf=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Xc,this._seg1=new Xc,this._offset0=new Xc,this._offset1=new Xc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new jl,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===rf.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},df={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};hf.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Bl.computeOrientation(this._s0,this._s1,this._s2),r=n===Bl.CLOCKWISE&&this._side===oc.LEFT||n===Bl.COUNTERCLOCKWISE&&this._side===oc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},hf.prototype.addLineEndCap=function(t,e){var n=new Xc(t,e),r=new Xc;this.computeOffsetSegment(n,oc.LEFT,this._distance,r);var i=new Xc;this.computeOffsetSegment(n,oc.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case rf.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,Bl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case rf.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case rf.CAP_SQUARE:var l=new rl;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new rl(r.p1.x+l.x,r.p1.y+l.y),c=new rl(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},hf.prototype.getCoordinates=function(){return this._segList.getCoordinates()},hf.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=kl.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof wl))throw t;o=new rl(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},hf.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);r===Bl.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,c,r,i),this._segList.addPt(n)},hf.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*hf.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===rf.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===rf.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},hf.prototype.createSquare=function(t){this._segList.addPt(new rl(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new rl(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new rl(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new rl(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},hf.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},hf.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},hf.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},hf.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},hf.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=cf.angle(i,this._seg0.p0),a=cf.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=cf.normalize(o+a),l=cf.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),f=i.x+u*Math.cos(l),h=i.y+u*Math.sin(l),d=new rl(f,h),p=new Xc(i,d),v=p.pointAlongOffset(1,c),g=p.pointAlongOffset(1,-c);this._side===oc.LEFT?(this._segList.addPt(v),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(v))},hf.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===oc.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=t.p0.x-u,r.p0.y=t.p0.y+l,r.p1.x=t.p1.x-u,r.p1.y=t.p1.y+l},hf.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Bl.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=0,c=new rl;u<a;){var f=e+o*u;c.x=t.x+i*Math.cos(f),c.y=t.y+i*Math.sin(f),this._segList.addPt(c),u+=l}},hf.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*hf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new rl((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new rl((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},hf.prototype.createCircle=function(t){var e=new rl(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},hf.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},hf.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new lf,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*hf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},hf.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===rf.JOIN_BEVEL||this._bufParams.getJoinStyle()===rf.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Bl.CLOCKWISE,this._distance))},hf.prototype.closeRing=function(){this._segList.closeRing()},hf.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},df.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},df.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},df.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},df.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(hf,df);var pf=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};pf.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&au.reverse(o),o},pf.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=af.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],oc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=af.simplify(t,r),l=s.length-1;n.initSideSegments(s[0],s[1],oc.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},pf.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===oc.RIGHT&&(r=-r);var i=af.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},pf.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=af.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],oc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=af.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],oc.LEFT);for(var l=s-2;l>=0;l--)e.addNextSegment(a[l],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},pf.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case rf.CAP_ROUND:e.createCircle(t);break;case rf.CAP_SQUARE:e.createSquare(t)}},pf.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},pf.prototype.getBufferParameters=function(){return this._bufParams},pf.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},pf.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return pf.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},pf.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=af.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],oc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=af.simplify(t,r),l=s.length-1;n.initSideSegments(s[0],s[1],oc.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},pf.prototype.getSegGen=function(t){return new hf(this._precisionModel,this._bufParams,t)},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new rl(t[n]);return e};var vf=function(){this._subgraphs=null,this._seg=new Xc,this._cga=new Bl;var t=arguments[0];this._subgraphs=t},gf={DepthSegment:{configurable:!0}};vf.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new ru,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(ul(arguments[2],nu)&&arguments[0]instanceof rl&&arguments[1]instanceof wc){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Bl.computeOrientation(this._seg.p0,this._seg.p1,o)===Bl.RIGHT)){var c=a.getDepth(oc.LEFT);this._seg.p0.equals(l[u])||(c=a.getDepth(oc.RIGHT));var f=new mf(this._seg,c);s.add(f)}}else if(ul(arguments[2],nu)&&arguments[0]instanceof rl&&ul(arguments[1],nu))for(var h=arguments[0],d=arguments[1],p=arguments[2],v=d.iterator();v.hasNext();){var g=v.next();g.isForward()&&this.findStabbedSegments(h,g,p)}},vf.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Pc.min(e)._leftDepth},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},gf.DepthSegment.get=function(){return mf},Object.defineProperties(vf,gf);var mf=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Xc(t),this._leftDepth=e};mf.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},mf.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},mf.prototype.toString=function(){return this._upwardSeg.toString()},mf.prototype.interfaces_=function(){return[tl]},mf.prototype.getClass=function(){return mf};var yf=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};yf.prototype.area=function(){return yf.area(this.p0,this.p1,this.p2)},yf.prototype.signedArea=function(){return yf.signedArea(this.p0,this.p1,this.p2)},yf.prototype.interpolateZ=function(t){if(null===t)throw new Ks("Supplied point is null.");return yf.interpolateZ(t,this.p0,this.p1,this.p2)},yf.prototype.longestSideLength=function(){return yf.longestSideLength(this.p0,this.p1,this.p2)},yf.prototype.isAcute=function(){return yf.isAcute(this.p0,this.p1,this.p2)},yf.prototype.circumcentre=function(){return yf.circumcentre(this.p0,this.p1,this.p2)},yf.prototype.area3D=function(){return yf.area3D(this.p0,this.p1,this.p2)},yf.prototype.centroid=function(){return yf.centroid(this.p0,this.p1,this.p2)},yf.prototype.inCentre=function(){return yf.inCentre(this.p0,this.p1,this.p2)},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf},yf.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},yf.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},yf.det=function(t,e,n,r){return t*r-e*n},yf.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,f=t.x-i,h=t.y-o,d=(u*f-s*h)/c,p=(-l*f+a*h)/c;return e.z+d*(n.z-e.z)+p*(r.z-e.z)},yf.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},yf.isAcute=function(t,e,n){return!!cf.isAcute(t,e,n)&&!!cf.isAcute(e,n,t)&&!!cf.isAcute(n,t,e)},yf.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,l=e.y-i,u=2*yf.det(o,a,s,l),c=yf.det(a,o*o+a*a,l,s*s+l*l),f=yf.det(o,o*o+a*a,s,s*s+l*l);return new rl(r-c/u,i+f/u)},yf.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new kl(t.x+n/2,t.y+r/2,1),o=new kl(t.x-r+n/2,t.y+n+r/2,1);return new kl(i,o)},yf.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new rl(t.x+i*o,t.y+i*a)},yf.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,u=i*l-o*s,c=o*a-r*l,f=r*s-i*a,h=u*u+c*c+f*f;return Math.sqrt(h)/2},yf.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new rl(r,i)},yf.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o,s=(r*t.x+i*e.x+o*n.x)/a,l=(r*t.y+i*e.y+o*n.y)/a;return new rl(s,l)};var _f=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ru;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};_f.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,sl.EXTERIOR,sl.INTERIOR)},_f.prototype.addPolygon=function(t){var e=this._distance,n=oc.LEFT;this._distance<0&&(e=-this._distance,n=oc.RIGHT);var r=t.getExteriorRing(),i=au.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,sl.EXTERIOR,sl.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=au.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,oc.opposite(n),sl.INTERIOR,sl.EXTERIOR)}},_f.prototype.isTriangleErodedCompletely=function(t,e){var n=new yf(t[0],t[1],t[2]),r=n.inCentre();return Bl.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},_f.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=au.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,sl.EXTERIOR,sl.INTERIOR)},_f.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new Yc(t,new hc(0,sl.BOUNDARY,e,n));this._curveList.add(r)},_f.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},_f.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Nu.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Nu.MINIMUM_VALID_SIZE&&Bl.isCCW(t)&&(o=i,a=r,n=oc.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},_f.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Pu?this.addPolygon(t):t instanceof Tu?this.addLineString(t):t instanceof Ou?this.addPoint(t):(t instanceof Du||t instanceof xu||t instanceof Lu||t instanceof wu)&&this.addCollection(t)},_f.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},_f.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f};var bf=function(){};bf.prototype.locate=function(t){},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf};var Af=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Af.prototype.next=function(){if(this._atStart)return this._atStart=!1,Af.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new _i;var t=this._parent.getGeometryN(this._index++);return t instanceof wu?(this._subcollectionIterator=new Af(t),this._subcollectionIterator.next()):t},Af.prototype.remove=function(){throw new Error(this.getClass().getName())},Af.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Af.prototype.interfaces_=function(){return[eu]},Af.prototype.getClass=function(){return Af},Af.isAtomic=function(t){return!(t instanceof wu)};var wf=function(){this._geom=null;var t=arguments[0];this._geom=t};wf.prototype.locate=function(t){return wf.locate(t,this._geom)},wf.prototype.interfaces_=function(){return[bf]},wf.prototype.getClass=function(){return wf},wf.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Bl.isPointInRing(t,e.getCoordinates())},wf.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!wf.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(wf.isPointInRing(t,i))return!1}return!0},wf.containsPoint=function(t,e){if(e instanceof Pu)return wf.containsPointInPolygon(t,e);if(e instanceof wu)for(var n=new Af(e);n.hasNext();){var r=n.next();if(r!==e&&wf.containsPoint(t,r))return!0}return!1},wf.locate=function(t,e){return e.isEmpty()?sl.EXTERIOR:wf.containsPoint(t,e)?sl.INTERIOR:sl.EXTERIOR};var xf=function(){this._edgeMap=new Si,this._edgeList=null,this._ptInAreaLocation=[sl.NONE,sl.NONE]};xf.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},xf.prototype.propagateSideLabels=function(t){for(var e=sl.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,oc.LEFT)!==sl.NONE&&(e=r.getLocation(t,oc.LEFT))}if(e===sl.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,oc.ON)===sl.NONE&&s.setLocation(t,oc.ON,i),s.isArea(t)){var l=s.getLocation(t,oc.LEFT),u=s.getLocation(t,oc.RIGHT);if(u!==sl.NONE){if(u!==i)throw new lc("side location conflict",a.getCoordinate());l===sl.NONE&&Dl.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=l}else Dl.isTrue(s.getLocation(t,oc.LEFT)===sl.NONE,"found single null side"),s.setLocation(t,oc.RIGHT,i),s.setLocation(t,oc.LEFT,i)}}},xf.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},xf.prototype.print=function(t){xl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},xf.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},xf.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,oc.LEFT);Dl.isTrue(r!==sl.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Dl.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,oc.LEFT),l=a.getLocation(t,oc.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},xf.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},xf.prototype.iterator=function(){return this.getEdges().iterator()},xf.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new ru(this._edgeMap.values())),this._edgeList},xf.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===sl.NONE&&(this._ptInAreaLocation[t]=wf.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},xf.prototype.toString=function(){var t=new hl;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},xf.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},xf.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===sl.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=sl.NONE;if(e[l])u=sl.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,t)}s.setAllLocationsIfNull(l,u)}},xf.prototype.getDegree=function(){return this._edgeMap.size()},xf.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var kf=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new lc("no outgoing dirEdge found",this.getCoordinate());Dl.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return _c.isNorthern(i)&&_c.isNorthern(o)?n:_c.isNorthern(i)||_c.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Dl.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){xl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ru;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(oc.LEFT),r=t.getDepth(oc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new lc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=o;l<a;l++){var u=this._edgeList.get(l);u.setEdgeDepths(oc.RIGHT,s),s=u.getDepth(oc.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Dl.isTrue(null!==e,"found null for first outgoing dirEdge"),Dl.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=sl.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=sl.INTERIOR;break}if(r.isInResult()){t=sl.EXTERIOR;break}}}if(t===sl.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===sl.INTERIOR):(a.isInResult()&&(i=sl.EXTERIOR),s.isInResult()&&(i=sl.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new hc(sl.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==sl.INTERIOR&&o!==sl.BOUNDARY||this._label.setLocation(i,sl.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xf),Cf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new mc(t,new kf)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xc),Ef=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Ef.prototype.compareTo=function(t){var e=t;return Ef.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Ef.prototype.interfaces_=function(){return[tl]},Ef.prototype.getClass=function(){return Ef},Ef.orientation=function(t){return 1===au.increasingDirection(t)},Ef.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,l=e?0:t.length-1,u=r?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var f=(l+=i)===a,h=(u+=o)===s;if(f&&!h)return-1;if(!f&&h)return 1;if(f&&h)return 0}};var Sf=function(){this._edges=new ru,this._ocaMap=new Si};Sf.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Sf.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Sf.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Sf.prototype.iterator=function(){return this._edges.iterator()},Sf.prototype.getEdges=function(){return this._edges},Sf.prototype.get=function(t){return this._edges.get(t)},Sf.prototype.findEqualEdge=function(t){var e=new Ef(t.getCoordinates());return this._ocaMap.get(e)},Sf.prototype.add=function(t){this._edges.add(t);var e=new Ef(t.getCoordinates());this._ocaMap.put(e,t)},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var Rf=function(){};Rf.prototype.processIntersections=function(t,e,n,r){},Rf.prototype.isDone=function(){},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf};var Tf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Tf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Tf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Tf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Tf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Tf.prototype.getLineIntersector=function(){return this._li},Tf.prototype.hasProperIntersection=function(){return this._hasProper},Tf.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Tf.prototype.hasIntersection=function(){return this._hasIntersection},Tf.prototype.isDone=function(){return!1},Tf.prototype.hasInteriorIntersection=function(){return this._hasInterior},Tf.prototype.interfaces_=function(){return[Rf]},Tf.prototype.getClass=function(){return Tf},Tf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var If=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new rl(t),this.segmentIndex=e,this.dist=n};If.prototype.getSegmentIndex=function(){return this.segmentIndex},If.prototype.getCoordinate=function(){return this.coord},If.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},If.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},If.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},If.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},If.prototype.getDistance=function(){return this.dist},If.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},If.prototype.interfaces_=function(){return[tl]},If.prototype.getClass=function(){return If};var Of=function(){this._nodeMap=new Si,this.edge=null;var t=arguments[0];this.edge=t};Of.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Of.prototype.iterator=function(){return this._nodeMap.values().iterator()},Of.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Of.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Of.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new rl(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new Lf(o,new hc(this.edge._label))},Of.prototype.add=function(t,e,n){var r=new If(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Of.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of};var Mf=function(){};Mf.prototype.getChainStartIndices=function(t){var e=0,n=new ru;n.add(new dl(e));do{var r=this.findChainEnd(t,e);n.add(new dl(r)),e=r}while(e<t.length-1);return Mf.toIntArray(n)},Mf.prototype.findChainEnd=function(t,e){for(var n=_c.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&_c.quadrant(t[r-1],t[r])===n;)r++;return r-1},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf},Mf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Pf=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Cl,this.env2=new Cl;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Mf;this.startIndex=e.getChainStartIndices(this.pts)};Pf.prototype.getCoordinates=function(){return this.pts},Pf.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Pf.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Pf.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[i],f=this.pts[o],h=a.pts[s],d=a.pts[l];if(o-i==1&&l-s==1)return u.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,f),this.env2.init(h,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),v=Math.trunc((s+l)/2);i<p&&(s<v&&this.computeIntersectsForChain(i,p,a,s,v,u),v<l&&this.computeIntersectsForChain(i,p,a,v,l,u)),p<o&&(s<v&&this.computeIntersectsForChain(p,o,a,s,v,u),v<l&&this.computeIntersectsForChain(p,o,a,v,l,u))}},Pf.prototype.getStartIndexes=function(){return this.startIndex},Pf.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf};var Df=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Nf={NULL_VALUE:{configurable:!0}};Df.prototype.getDepth=function(t,e){return this._depth[t][e]},Df.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Df.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Df.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Df.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===Df.NULL_VALUE}},Df.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Df.prototype.getDelta=function(t){return this._depth[t][oc.RIGHT]-this._depth[t][oc.LEFT]},Df.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?sl.EXTERIOR:sl.INTERIOR},Df.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Df.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==sl.EXTERIOR&&r!==sl.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Df.depthAtLocation(r):this._depth[e][n]+=Df.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===sl.INTERIOR&&this._depth[i][o]++}},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Df.depthAtLocation=function(t){return t===sl.EXTERIOR?0:t===sl.INTERIOR?1:Df.NULL_VALUE},Nf.NULL_VALUE.get=function(){return-1},Object.defineProperties(Df,Nf);var Lf=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Of(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Df,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,hc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Pf(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Cl;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new rl(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var l=this.pts[s];i.equals2D(l)&&(o=s,a=0)}this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new hl;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,oc.ON),e.getLocation(1,oc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,oc.LEFT),e.getLocation(1,oc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,oc.RIGHT),e.getLocation(1,oc.RIGHT),2))},e}(gc),jf=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Sf,this._bufParams=t||null};jf.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},jf.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new hc(t.getLabel())).flip(),n.merge(r);var i=jf.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(jf.depthDelta(t.getLabel()))},jf.prototype.buildSubgraphs=function(t,e){for(var n=new ru,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new vf(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},jf.prototype.createSubgraphs=function(t){for(var e=new ru,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new cc;i.create(r),e.add(i)}}return Pc.sort(e,Pc.reverseOrder()),e},jf.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},jf.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new ef,n=new jl;return n.setPrecisionModel(t),e.setSegmentIntersector(new Tf(n)),e},jf.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new pf(n,this._bufParams),i=new _f(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new kc(new Cf),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Cc(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},jf.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new Lf(i.getCoordinates(),new hc(a));this.insertUniqueEdge(s)}}},jf.prototype.setNoder=function(t){this._workingNoder=t},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.depthDelta=function(t){var e=t.getLocation(0,oc.LEFT),n=t.getLocation(0,oc.RIGHT);return e===sl.INTERIOR&&n===sl.EXTERIOR?1:e===sl.EXTERIOR&&n===sl.INTERIOR?-1:0},jf.convertSegStrings=function(t){for(var e=new Ku,n=new ru;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Ff=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Ff.prototype.rescale=function(){if(ul(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&xl.out.println(n)}},Ff.prototype.scale=function(){if(ul(arguments[0],Zl)){for(var t=arguments[0],e=new ru,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Yc(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new rl(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return au.removeRepeatedPoints(o)}},Ff.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Ff.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Ff.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Ff.prototype.interfaces_=function(){return[Zc]},Ff.prototype.getClass=function(){return Ff};var zf=function(){this._li=new jl,this._segStrings=null;var t=arguments[0];this._segStrings=t},Bf={fact:{configurable:!0}};zf.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Ml("found endpt/interior pt intersection at index "+o+" :pt "+n)},zf.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var u=0;u<s.length-1;u++)this.checkInteriorIntersections(i,l,o,u);else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],d=arguments[3];if(c===h&&f===d)return null;var p=c.getCoordinates()[f],v=c.getCoordinates()[f+1],g=h.getCoordinates()[d],m=h.getCoordinates()[d+1];if(this._li.computeIntersection(p,v,g,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,v)||this.hasInteriorIntersection(this._li,g,m)))throw new Ml("found non-noded intersection at "+p+"-"+v+" and "+g+"-"+m)}},zf.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},zf.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},zf.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},zf.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Ml("found non-noded collapse at "+zf.fact.createLineString([t,e,n]))},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},Bf.fact.get=function(){return new Ku},Object.defineProperties(zf,Bf);var Uf=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ks("Scale factor must be non-zero");1!==e&&(this._pt=new rl(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new rl,this._p1Scaled=new rl),this.initCorners(this._pt)},Gf={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Uf.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Dl.isTrue(!(a&&s),"Found bad envelope test"),s},Uf.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new rl(this._maxx,this._maxy),this._corner[1]=new rl(this._minx,this._maxy),this._corner[2]=new rl(this._minx,this._miny),this._corner[3]=new rl(this._maxx,this._miny)},Uf.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Uf.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Uf.prototype.getCoordinate=function(){return this._originalPt},Uf.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Uf.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Uf.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Cl(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Uf.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Uf.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},Uf.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf},Gf.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Uf,Gf);var Vf=function(){this.tempEnv1=new Cl,this.selectedSegment=new Xc};Vf.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Hf=function(){this._index=null;var t=arguments[0];this._index=t},qf={HotPixelSnapAction:{configurable:!0}};Hf.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new Wf(e,n,r);return this._index.query(i,{interfaces_:function(){return[Tc]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf},qf.HotPixelSnapAction.get=function(){return Wf},Object.defineProperties(Hf,qf);var Wf=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vf),Yf=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ru};Yf.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Yf.prototype.isDone=function(){return!1},Yf.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Yf.prototype.interfaces_=function(){return[Rf]},Yf.prototype.getClass=function(){return Yf};var Xf=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new jl,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Xf.prototype.checkCorrectness=function(t){var e=Yc.getNodedSubstrings(t),n=new zf(e);try{n.checkValid()}catch(t){if(!(t instanceof Al))throw t;t.printStackTrace()}},Xf.prototype.getNodedSubstrings=function(){return Yc.getNodedSubstrings(this._nodedSegStrings)},Xf.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Xf.prototype.findInteriorIntersections=function(t,e){var n=new Yf(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Xf.prototype.computeVertexSnaps=function(){if(ul(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Yc)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Uf(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},Xf.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new ef,this._pointSnapper=new Hf(this._noder.getIndex()),this.snapRound(t,this._li)},Xf.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new Uf(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},Xf.prototype.interfaces_=function(){return[Zc]},Xf.prototype.getClass=function(){return Xf};var $f=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new rf,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Jf={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};$f.prototype.bufferFixedPrecision=function(t){var e=new Ff(new Xf(new Yu(1)),t.getScale()),n=new jf(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},$f.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=$f.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof lc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=$f.precisionScaleFactor(this._argGeom,this._distance,n),i=new Yu(r);this.bufferFixedPrecision(i)}},$f.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Yu.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},$f.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},$f.prototype.bufferOriginalPrecision=function(){try{var t=new jf(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Ml))throw t;this._saveException=t}},$f.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},$f.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f},$f.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new $f(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Vl&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new $f(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof rf&&arguments[0]instanceof Vl&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=arguments[2];return new $f(a,l).getResultGeometry(s)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],f=arguments[2],h=arguments[3],d=new $f(u);return d.setQuadrantSegments(f),d.setEndCapStyle(h),d.getResultGeometry(c)}},$f.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=cl.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Jf.CAP_ROUND.get=function(){return rf.CAP_ROUND},Jf.CAP_BUTT.get=function(){return rf.CAP_FLAT},Jf.CAP_FLAT.get=function(){return rf.CAP_FLAT},Jf.CAP_SQUARE.get=function(){return rf.CAP_SQUARE},Jf.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties($f,Jf);var Kf=function(){this._pt=[new rl,new rl],this._distance=Qs.NaN,this._isNull=!0};Kf.prototype.getCoordinates=function(){return this._pt},Kf.prototype.getCoordinate=function(t){return this._pt[t]},Kf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Kf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Kf.prototype.getDistance=function(){return this._distance},Kf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var Qf=function(){};Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf},Qf.computeDistance=function(){if(arguments[2]instanceof Kf&&arguments[0]instanceof Tu&&arguments[1]instanceof rl)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new Xc,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Kf&&arguments[0]instanceof Pu&&arguments[1]instanceof rl){var s=arguments[0],l=arguments[1],u=arguments[2];Qf.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)Qf.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Kf&&arguments[0]instanceof Vl&&arguments[1]instanceof rl){var f=arguments[0],h=arguments[1],d=arguments[2];if(f instanceof Tu)Qf.computeDistance(f,h,d);else if(f instanceof Pu)Qf.computeDistance(f,h,d);else if(f instanceof wu)for(var p=f,v=0;v<p.getNumGeometries();v++){var g=p.getGeometryN(v);Qf.computeDistance(g,h,d)}else d.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof Kf&&arguments[0]instanceof Xc&&arguments[1]instanceof rl){var m=arguments[0],y=arguments[1],_=arguments[2],b=m.closestPoint(y);_.setMinimum(b,y)}};var Zf=function(t){this._maxPtDist=new Kf,this._inputGeom=t||null},th={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Zf.prototype.computeMaxMidpointDistance=function(t){var e=new nh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Zf.prototype.computeMaxVertexDistance=function(t){var e=new eh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Zf.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Zf.prototype.getDistancePoints=function(){return this._maxPtDist},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf},th.MaxPointDistanceFilter.get=function(){return eh},th.MaxMidpointDistanceFilter.get=function(){return nh},Object.defineProperties(Zf,th);var eh=function(t){this._maxPtDist=new Kf,this._minPtDist=new Kf,this._geom=t||null};eh.prototype.filter=function(t){this._minPtDist.initialize(),Qf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},eh.prototype.getMaxPointDistance=function(){return this._maxPtDist},eh.prototype.interfaces_=function(){return[Wl]},eh.prototype.getClass=function(){return eh};var nh=function(t){this._maxPtDist=new Kf,this._minPtDist=new Kf,this._geom=t||null};nh.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new rl((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Qf.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nh.prototype.isDone=function(){return!1},nh.prototype.isGeometryChanged=function(){return!1},nh.prototype.getMaxPointDistance=function(){return this._maxPtDist},nh.prototype.interfaces_=function(){return[Au]},nh.prototype.getClass=function(){return nh};var rh=function(t){this._comps=t||null};rh.prototype.filter=function(t){t instanceof Pu&&this._comps.add(t)},rh.prototype.interfaces_=function(){return[bu]},rh.prototype.getClass=function(){return rh},rh.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return rh.getPolygons(t,new ru)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Pu?n.add(e):e instanceof wu&&e.apply(new rh(n)),n}};var ih=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};ih.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Nu){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Tu&&this._lines.add(t)},ih.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},ih.prototype.interfaces_=function(){return[Gl]},ih.prototype.getClass=function(){return ih},ih.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(ih.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(ih.getLines(e,n))}},ih.getLines=function(){if(1===arguments.length){var t=arguments[0];return ih.getLines(t,!1)}if(2===arguments.length){if(ul(arguments[0],Zl)&&ul(arguments[1],Zl)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();ih.getLines(i,n)}return n}if(arguments[0]instanceof Vl&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new ru;return o.apply(new ih(s,a)),s}if(arguments[0]instanceof Vl&&ul(arguments[1],Zl)){var l=arguments[0],u=arguments[1];return l instanceof Tu?u.add(l):l.apply(new ih(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&ul(arguments[0],Zl)&&ul(arguments[1],Zl)){for(var c=arguments[0],f=arguments[1],h=arguments[2],d=c.iterator();d.hasNext();){var p=d.next();ih.getLines(p,f,h)}return f}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Vl&&ul(arguments[1],Zl)){var v=arguments[0],g=arguments[1],m=arguments[2];return v.apply(new ih(g,m)),g}}};var oh=function(){if(this._boundaryRule=Yl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Ks("Rule must be non-null");this._boundaryRule=t}};oh.prototype.locateInternal=function(){if(arguments[0]instanceof rl&&arguments[1]instanceof Pu){var t=arguments[0],e=arguments[1];if(e.isEmpty())return sl.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===sl.EXTERIOR)return sl.EXTERIOR;if(r===sl.BOUNDARY)return sl.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===sl.INTERIOR)return sl.EXTERIOR;if(a===sl.BOUNDARY)return sl.BOUNDARY}return sl.INTERIOR}if(arguments[0]instanceof rl&&arguments[1]instanceof Tu){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return sl.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!s.equals(u[0])&&!s.equals(u[u.length-1])?Bl.isOnLine(s,u)?sl.INTERIOR:sl.EXTERIOR:sl.BOUNDARY}if(arguments[0]instanceof rl&&arguments[1]instanceof Ou){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?sl.INTERIOR:sl.EXTERIOR}},oh.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Bl.locatePointInRing(t,e.getCoordinates()):sl.EXTERIOR},oh.prototype.intersects=function(t,e){return this.locate(t,e)!==sl.EXTERIOR},oh.prototype.updateLocationInfo=function(t){t===sl.INTERIOR&&(this._isIn=!0),t===sl.BOUNDARY&&this._numBoundaries++},oh.prototype.computeLocation=function(t,e){if(e instanceof Ou&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Tu)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Pu)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof xu)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Lu)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof wu)for(var l=new Af(e);l.hasNext();){var u=l.next();u!==e&&this.computeLocation(t,u)}},oh.prototype.locate=function(t,e){return e.isEmpty()?sl.EXTERIOR:e instanceof Tu||e instanceof Pu?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?sl.BOUNDARY:this._numBoundaries>0||this._isIn?sl.INTERIOR:sl.EXTERIOR)},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh};var ah=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},sh={INSIDE_AREA:{configurable:!0}};ah.prototype.isInsideArea=function(){return this._segIndex===ah.INSIDE_AREA},ah.prototype.getCoordinate=function(){return this._pt},ah.prototype.getGeometryComponent=function(){return this._component},ah.prototype.getSegmentIndex=function(){return this._segIndex},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},sh.INSIDE_AREA.get=function(){return-1},Object.defineProperties(ah,sh);var lh=function(t){this._pts=t||null};lh.prototype.filter=function(t){t instanceof Ou&&this._pts.add(t)},lh.prototype.interfaces_=function(){return[bu]},lh.prototype.getClass=function(){return lh},lh.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Ou?Pc.singletonList(t):lh.getPoints(t,new ru)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ou?n.add(e):e instanceof wu&&e.apply(new lh(n)),n}};var uh=function(){this._locations=null;var t=arguments[0];this._locations=t};uh.prototype.filter=function(t){(t instanceof Ou||t instanceof Tu||t instanceof Pu)&&this._locations.add(new ah(t,0,t.getCoordinate()))},uh.prototype.interfaces_=function(){return[bu]},uh.prototype.getClass=function(){return uh},uh.getLocations=function(t){var e=new ru;return t.apply(new uh(e)),e};var ch=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new oh,this._minDistanceLocation=null,this._minDistance=Qs.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};ch.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=rh.getPolygons(this._geom[e]);if(i.size()>0){var o=uh.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&ul(arguments[0],nu)&&ul(arguments[1],nu)){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=0;u<a.size();u++)for(var c=a.get(u),f=0;f<s.size();f++)if(this.computeContainmentDistance(c,s.get(f),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ah&&arguments[1]instanceof Pu){var h=arguments[0],d=arguments[1],p=arguments[2],v=h.getCoordinate();if(sl.EXTERIOR!==this._ptLocator.locate(v,d))return this._minDistance=0,p[0]=h,p[1]=new ah(d,v),null}},ch.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},ch.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=ih.getLines(this._geom[0]),n=ih.getLines(this._geom[1]),r=lh.getPoints(this._geom[0]),i=lh.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},ch.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ch.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},ch.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ch.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Tu&&arguments[1]instanceof Ou){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=Bl.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new Xc(r[o],r[o+1]).closestPoint(i);n[0]=new ah(t,o,s),n[1]=new ah(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Tu&&arguments[1]instanceof Tu){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var f=l.getCoordinates(),h=u.getCoordinates(),d=0;d<f.length-1;d++)for(var p=0;p<h.length-1;p++){var v=Bl.distanceLineLine(f[d],f[d+1],h[p],h[p+1]);if(v<this._minDistance){this._minDistance=v;var g=new Xc(f[d],f[d+1]),m=new Xc(h[p],h[p+1]),y=g.closestPoints(m);c[0]=new ah(l,d,y[0]),c[1]=new ah(u,p,y[1])}if(this._minDistance<=this._terminateDistance)return null}}},ch.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new ah(i,0,i.getCoordinate()),n[1]=new ah(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},ch.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ks("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ch.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.distance=function(t,e){return new ch(t,e).distance()},ch.isWithinDistance=function(t,e,n){return new ch(t,e,n).distance()<=n},ch.nearestPoints=function(t,e){return new ch(t,e).nearestPoints()};var fh=function(){this._pt=[new rl,new rl],this._distance=Qs.NaN,this._isNull=!0};fh.prototype.getCoordinates=function(){return this._pt},fh.prototype.getCoordinate=function(t){return this._pt[t]},fh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},fh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},fh.prototype.toString=function(){return Ol.toLineString(this._pt[0],this._pt[1])},fh.prototype.getDistance=function(){return this._distance},fh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh};var hh=function(){};hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh},hh.computeDistance=function(){if(arguments[2]instanceof fh&&arguments[0]instanceof Tu&&arguments[1]instanceof rl)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new Xc,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof fh&&arguments[0]instanceof Pu&&arguments[1]instanceof rl){var s=arguments[0],l=arguments[1],u=arguments[2];hh.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)hh.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof fh&&arguments[0]instanceof Vl&&arguments[1]instanceof rl){var f=arguments[0],h=arguments[1],d=arguments[2];if(f instanceof Tu)hh.computeDistance(f,h,d);else if(f instanceof Pu)hh.computeDistance(f,h,d);else if(f instanceof wu)for(var p=f,v=0;v<p.getNumGeometries();v++){var g=p.getGeometryN(v);hh.computeDistance(g,h,d)}else d.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof fh&&arguments[0]instanceof Xc&&arguments[1]instanceof rl){var m=arguments[0],y=arguments[1],_=arguments[2],b=m.closestPoint(y);_.setMinimum(b,y)}};var dh=function(){this._g0=null,this._g1=null,this._ptDist=new fh,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},ph={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};dh.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},dh.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ks("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},dh.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},dh.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},dh.prototype.computeOrientedDistance=function(t,e,n){var r=new vh(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new gh(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},dh.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new dh(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new dh(n,r);return o.setDensifyFraction(i),o.distance()}},ph.MaxPointDistanceFilter.get=function(){return vh},ph.MaxDensifiedByFractionDistanceFilter.get=function(){return gh},Object.defineProperties(dh,ph);var vh=function(){this._maxPtDist=new fh,this._minPtDist=new fh,this._euclideanDist=new hh,this._geom=null;var t=arguments[0];this._geom=t};vh.prototype.filter=function(t){this._minPtDist.initialize(),hh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},vh.prototype.getMaxPointDistance=function(){return this._maxPtDist},vh.prototype.interfaces_=function(){return[Wl]},vh.prototype.getClass=function(){return vh};var gh=function(){this._maxPtDist=new fh,this._minPtDist=new fh,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};gh.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,l=n.y+a*o,u=new rl(s,l);this._minPtDist.initialize(),hh.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},gh.prototype.isDone=function(){return!1},gh.prototype.isGeometryChanged=function(){return!1},gh.prototype.getMaxPointDistance=function(){return this._maxPtDist},gh.prototype.interfaces_=function(){return[Au]},gh.prototype.getClass=function(){return gh};var mh=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},yh={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};mh.prototype.checkMaximumDistance=function(t,e,n){var r=new dh(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ol.toLineString(i[0],i[1])+")"}},mh.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=mh.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),mh.VERBOSE&&xl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},mh.prototype.checkNegativeValid=function(){if(!(this._input instanceof Pu||this._input instanceof Lu||this._input instanceof wu))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},mh.prototype.getErrorIndicator=function(){return this._errorIndicator},mh.prototype.checkMinimumDistance=function(t,e,n){var r=new ch(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ol.toLineString(i[0],i[1])+" )"}},mh.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},mh.prototype.getErrorLocation=function(){return this._errorLocation},mh.prototype.getPolygonLines=function(t){for(var e=new ru,n=new ih(e),r=rh.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},mh.prototype.getErrorMessage=function(){return this._errMsg},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},yh.VERBOSE.get=function(){return!1},yh.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(mh,yh);var _h=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},bh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};_h.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},_h.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*_h.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Cl(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Cl(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},_h.prototype.checkDistance=function(){var t=new mh(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},_h.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},_h.prototype.checkPolygonal=function(){this._result instanceof Pu||this._result instanceof Lu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},_h.prototype.getErrorIndicator=function(){return this._errorIndicator},_h.prototype.getErrorLocation=function(){return this._errorLocation},_h.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},_h.prototype.report=function(t){if(!_h.VERBOSE)return null;xl.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},_h.prototype.getErrorMessage=function(){return this._errorMsg},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h},_h.isValidMsg=function(t,e,n){var r=new _h(t,e,n);return r.isValid()?null:r.getErrorMessage()},_h.isValid=function(t,e,n){return!!new _h(t,e,n).isValid()},bh.VERBOSE.get=function(){return!1},bh.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(_h,bh);var Ah=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ah.prototype.getCoordinates=function(){return this._pts},Ah.prototype.size=function(){return this._pts.length},Ah.prototype.getCoordinate=function(t){return this._pts[t]},Ah.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ah.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Hc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ah.prototype.setData=function(t){this._data=t},Ah.prototype.getData=function(){return this._data},Ah.prototype.toString=function(){return Ol.toLineString(new Gu(this._pts))},Ah.prototype.interfaces_=function(){return[qc]},Ah.prototype.getClass=function(){return Ah};var wh=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ru,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};wh.prototype.getInteriorIntersection=function(){return this._interiorIntersection},wh.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},wh.prototype.getIntersectionSegments=function(){return this._intSegments},wh.prototype.count=function(){return this._intersectionCount},wh.prototype.getIntersections=function(){return this._intersections},wh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},wh.prototype.setKeepIntersections=function(t){this._keepIntersections=t},wh.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},wh.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},wh.prototype.hasIntersection=function(){return null!==this._interiorIntersection},wh.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},wh.prototype.interfaces_=function(){return[Rf]},wh.prototype.getClass=function(){return wh},wh.createAllIntersectionsFinder=function(t){var e=new wh(t);return e.setFindAllIntersections(!0),e},wh.createAnyIntersectionFinder=function(t){return new wh(t)},wh.createIntersectionCounter=function(t){var e=new wh(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var xh=function(){this._li=new jl,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};xh.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},xh.prototype.getIntersections=function(){return this._segInt.getIntersections()},xh.prototype.isValid=function(){return this.execute(),this._isValid},xh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},xh.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new wh(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new ef;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},xh.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new lc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},xh.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ol.toLineString(t[0],t[1])+" and "+Ol.toLineString(t[2],t[3])},xh.prototype.interfaces_=function(){return[]},xh.prototype.getClass=function(){return xh},xh.computeIntersections=function(t){var e=new xh(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var kh=function t(){this._nv=null;var e=arguments[0];this._nv=new xh(t.toSegmentStrings(e))};kh.prototype.checkValid=function(){this._nv.checkValid()},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.toSegmentStrings=function(t){for(var e=new ru,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Ah(r.getCoordinates(),r))}return e},kh.checkValid=function(t){new kh(t).checkValid()};var Ch=function(t){this._mapOp=t};Ch.prototype.map=function(t){for(var e=new ru,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Ku.toGeometryArray(e))},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ch.map=function(t,e){return new Ch(e).map(t)};var Eh=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ru,this._resultLineList=new ru;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Eh.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Eh.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Eh.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Eh.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ad.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Eh.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Eh.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Eh.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Eh.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Dl.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ad.isResultOfOp(r,e)&&e===ad.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Sh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ru;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Sh.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Sh.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ad.INTERSECTION)){var r=n.getLabel();ad.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Sh.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Rh=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Rh.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Rh.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Nu&&!r.isEmpty()||(n=!1);for(var i=new ru,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Nu||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new ru;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Rh.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Rh.prototype.getInputGeometry=function(){return this._inputGeom},Rh.prototype.transformMultiLineString=function(t,e){for(var n=new ru,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Rh.prototype.transformCoordinates=function(t,e){return this.copy(t)},Rh.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Rh.prototype.transformMultiPoint=function(t,e){for(var n=new ru,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Rh.prototype.transformMultiPolygon=function(t,e){for(var n=new ru,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Rh.prototype.copy=function(t){return t.copy()},Rh.prototype.transformGeometryCollection=function(t,e){for(var n=new ru,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ku.toGeometryArray(n)):this._factory.buildGeometry(n)},Rh.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Ou)return this.transformPoint(t,null);if(t instanceof Du)return this.transformMultiPoint(t,null);if(t instanceof Nu)return this.transformLinearRing(t,null);if(t instanceof Tu)return this.transformLineString(t,null);if(t instanceof xu)return this.transformMultiLineString(t,null);if(t instanceof Pu)return this.transformPolygon(t,null);if(t instanceof Lu)return this.transformMultiPolygon(t,null);if(t instanceof wu)return this.transformGeometryCollection(t,null);throw new Ks("Unknown Geometry subtype: "+t.getClass().getName())},Rh.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh};var Th=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Xc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Tu&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Th.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new rl(o)),0===r&&this._isClosed&&t.set(t.size()-1,new rl(o)))}},Th.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Th.prototype.snapTo=function(t){var e=new ou(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Th.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new rl(i),!1)}},Th.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Qs.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Th.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th},Th.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ih=function(t){this._srcGeom=t||null},Oh={SNAP_PRECISION_FACTOR:{configurable:!0}};Ih.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Mh(e,n).transform(this._srcGeom)},Ih.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Mh(t,n,!0).transform(this._srcGeom),i=r;return e&&ul(i,Mu)&&(i=r.buffer(0)),i},Ih.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ih.prototype.extractTargetCoordinates=function(t){for(var e=new Ti,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Ih.prototype.computeMinimumSegmentLength=function(t){for(var e=Qs.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Ih(t);r[0]=i.snapTo(e,n);var o=new Ih(e);return r[1]=o.snapTo(r[0],n),r},Ih.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ih.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Yu.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Ih.computeOverlaySnapTolerance(i),Ih.computeOverlaySnapTolerance(o))}},Ih.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ih.SNAP_PRECISION_FACTOR},Ih.snapToSelf=function(t,e,n){return new Ih(t).snapToSelf(e,n)},Oh.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ih,Oh);var Mh=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Th(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Rh),Ph=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Ph.prototype.getCommon=function(){return Qs.longBitsToDouble(this._commonBits)},Ph.prototype.add=function(t){var e=Qs.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Ph.signExpBits(this._commonBits),this._isFirst=!1,null):Ph.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Ph.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Ph.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Ph.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Qs.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Qs.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph},Ph.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Ph.signExpBits=function(t){return t>>52},Ph.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Ph.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Ph.getBit(t,r)!==Ph.getBit(e,r))return n;n++}return 52};var Dh=function(){this._commonCoord=null,this._ccFilter=new Lh},Nh={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Dh.prototype.addCommonBits=function(t){var e=new jh(this._commonCoord);t.apply(e),t.geometryChanged()},Dh.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new rl(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new jh(e);return t.apply(n),t.geometryChanged(),t},Dh.prototype.getCommonCoordinate=function(){return this._commonCoord},Dh.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh},Nh.CommonCoordinateFilter.get=function(){return Lh},Nh.Translater.get=function(){return jh},Object.defineProperties(Dh,Nh);var Lh=function(){this._commonBitsX=new Ph,this._commonBitsY=new Ph};Lh.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Lh.prototype.getCommonCoordinate=function(){return new rl(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Lh.prototype.interfaces_=function(){return[Wl]},Lh.prototype.getClass=function(){return Lh};var jh=function(){this.trans=null;var t=arguments[0];this.trans=t};jh.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},jh.prototype.isDone=function(){return!1},jh.prototype.isGeometryChanged=function(){return!0},jh.prototype.interfaces_=function(){return[Au]},jh.prototype.getClass=function(){return jh};var Fh=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Fh.prototype.selfSnap=function(t){return new Ih(t).snapTo(t,this._snapTolerance)},Fh.prototype.removeCommonBits=function(t){this._cbr=new Dh,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Fh.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Fh.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=ad.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Fh.prototype.checkValid=function(t){t.isValid()||xl.out.println("Snapped geometry is invalid")},Fh.prototype.computeSnapTolerance=function(){this._snapTolerance=Ih.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Fh.prototype.snap=function(t){var e=this.removeCommonBits(t);return Ih.snap(e[0],e[1],this._snapTolerance)},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.overlayOp=function(t,e,n){return new Fh(t,e).getResultGeometry(n)},Fh.union=function(t,e){return Fh.overlayOp(t,e,ad.UNION)},Fh.intersection=function(t,e){return Fh.overlayOp(t,e,ad.INTERSECTION)},Fh.symDifference=function(t,e){return Fh.overlayOp(t,e,ad.SYMDIFFERENCE)},Fh.difference=function(t,e){return Fh.overlayOp(t,e,ad.DIFFERENCE)};var zh=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};zh.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=ad.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Ml))throw t;r=t}if(!n)try{e=Fh.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Ml?r:t}return e},zh.prototype.interfaces_=function(){return[]},zh.prototype.getClass=function(){return zh},zh.overlayOp=function(t,e,n){return new zh(t,e).getResultGeometry(n)},zh.union=function(t,e){return zh.overlayOp(t,e,ad.UNION)},zh.intersection=function(t,e){return zh.overlayOp(t,e,ad.INTERSECTION)},zh.symDifference=function(t,e){return zh.overlayOp(t,e,ad.SYMDIFFERENCE)},zh.difference=function(t,e){return zh.overlayOp(t,e,ad.DIFFERENCE)};var Bh=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Bh.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var Uh=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Gh={INSERT:{configurable:!0},DELETE:{configurable:!0}};Uh.prototype.isDelete=function(){return this._eventType===Uh.DELETE},Uh.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Uh.prototype.getObject=function(){return this._obj},Uh.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Uh.prototype.getInsertEvent=function(){return this._insertEvent},Uh.prototype.isInsert=function(){return this._eventType===Uh.INSERT},Uh.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Uh.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Uh.prototype.interfaces_=function(){return[tl]},Uh.prototype.getClass=function(){return Uh},Gh.INSERT.get=function(){return 1},Gh.DELETE.get=function(){return 2},Object.defineProperties(Uh,Gh);var Vh=function(){};Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh};var Hh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Hh.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Hh.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Hh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hh.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Hh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hh.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Hh.prototype.hasProperIntersection=function(){return this._hasProper},Hh.prototype.hasIntersection=function(){return this._hasIntersection},Hh.prototype.isDone=function(){return this._isDone},Hh.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Hh.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Hh.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Hh.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var qh=function(t){function e(){t.call(this),this.events=new ru,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Pc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hh&&ul(arguments[0],nu)&&ul(arguments[1],nu)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&ul(arguments[0],nu)&&arguments[1]instanceof Hh){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Bh(n,i),a=new Uh(e,n.getMinX(i),o);this.events.add(a),this.events.add(new Uh(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vh),Wh=function(){this._min=Qs.POSITIVE_INFINITY,this._max=Qs.NEGATIVE_INFINITY},Yh={NodeComparator:{configurable:!0}};Wh.prototype.getMin=function(){return this._min},Wh.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Wh.prototype.getMax=function(){return this._max},Wh.prototype.toString=function(){return Ol.toLineString(new rl(this._min,0),new rl(this._max,0))},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Yh.NodeComparator.get=function(){return Xh},Object.defineProperties(Wh,Yh);var Xh=function(){};Xh.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},Xh.prototype.interfaces_=function(){return[nl]},Xh.prototype.getClass=function(){return Xh};var $h=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wh),Jh=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wh),Kh=function(){this._leaves=new ru,this._root=null,this._level=0};Kh.prototype.buildTree=function(){Pc.sort(this._leaves,new Wh.NodeComparator);for(var t=this._leaves,e=null,n=new ru;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Kh.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new $h(t,e,n))},Kh.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Kh.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Kh.prototype.printNode=function(t){xl.out.println(Ol.toLineString(new rl(t._min,this._level),new rl(t._max,this._level)))},Kh.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Kh.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Jh(t.get(n),t.get(n+1));e.add(i)}}},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Qh=function(){this._items=new ru};Qh.prototype.visitItem=function(t){this._items.add(t)},Qh.prototype.getItems=function(){return this._items},Qh.prototype.interfaces_=function(){return[Tc]},Qh.prototype.getClass=function(){return Qh};var Zh=function(){this._index=null;var t=arguments[0];if(!ul(t,Mu))throw new Ks("Argument must be Polygonal");this._index=new nd(t)},td={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Zh.prototype.locate=function(t){var e=new zl(t),n=new ed(e);return this._index.query(t.y,t.y,n),e.getLocation()},Zh.prototype.interfaces_=function(){return[bf]},Zh.prototype.getClass=function(){return Zh},td.SegmentVisitor.get=function(){return ed},td.IntervalIndexedGeometry.get=function(){return nd},Object.defineProperties(Zh,td);var ed=function(){this._counter=null;var t=arguments[0];this._counter=t};ed.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},ed.prototype.interfaces_=function(){return[Tc]},ed.prototype.getClass=function(){return ed};var nd=function(){this._index=new Kh;var t=arguments[0];this.init(t)};nd.prototype.init=function(t){for(var e=ih.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},nd.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Xc(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},nd.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Qh;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},nd.prototype.interfaces_=function(){return[]},nd.prototype.getClass=function(){return nd};var rd=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Wu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new oh,2===arguments.length){var e=arguments[0],n=arguments[1],r=Yl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,oc.ON)===sl.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Hh(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof Nu||this._parentGeom instanceof Pu||this._parentGeom instanceof Lu,l=r||!s;return a.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Hh(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Ou){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,sl.INTERIOR)}else if(arguments[0]instanceof rl){var e=arguments[0];this.insertPoint(this._argIndex,e,sl.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),sl.EXTERIOR,sl.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,sl.INTERIOR,sl.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],sl.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],sl.BOUNDARY)},e.prototype.addLineString=function(t){var e=au.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Lf(e,new hc(this._argIndex,sl.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Dl.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===sl.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=au.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Bl.isCCW(r)&&(i=n,o=e);var a=new Lf(r,new hc(this._argIndex,sl.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],sl.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new hc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new qh},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Lu&&(this._useBoundaryDeterminationRule=!1),e instanceof Pu)this.addPolygon(e);else if(e instanceof Tu)this.addLineString(e);else if(e instanceof Ou)this.addPoint(e);else if(e instanceof Du)this.addCollection(e);else if(e instanceof xu)this.addCollection(e);else if(e instanceof Lu)this.addCollection(e);else{if(!(e instanceof wu))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return ul(this._parentGeom,Mu)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Zh(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?sl.BOUNDARY:sl.INTERIOR},e}(kc),id=function(){if(this._li=new jl,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new rd(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Yl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new rd(0,e,r),this._arg[1]=new rd(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new rd(0,i,a),this._arg[1]=new rd(1,o,a)}};id.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},id.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},id.prototype.interfaces_=function(){return[]},id.prototype.getClass=function(){return id};var od=function(){};od.prototype.interfaces_=function(){return[]},od.prototype.getClass=function(){return od},od.map=function(){if(arguments[0]instanceof Vl&&ul(arguments[1],od.MapOp)){for(var t=arguments[0],e=arguments[1],n=new ru,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(ul(arguments[0],Zl)&&ul(arguments[1],od.MapOp)){for(var o=arguments[0],a=arguments[1],s=new ru,l=o.iterator();l.hasNext();){var u=l.next(),c=a.map(u);null!==c&&s.add(c)}return s}},od.MapOp=function(){};var ad=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new oh,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Sf,this._resultPolyList=new ru,this._resultLineList=new ru,this._resultPointList=new ru,this._graph=new kc(new Cf),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new hc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new ru;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==sl.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new ru,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new ru;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),kh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Cc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Eh(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Sh(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,oc.RIGHT),i.getLocation(1,oc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Dl.isTrue(!r.isNull(i,oc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,oc.LEFT,r.getLocation(i,oc.LEFT)),Dl.isTrue(!r.isNull(i,oc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,oc.RIGHT,r.getLocation(i,oc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(id);ad.overlayOp=function(t,e,n){return new ad(t,e).getResultGeometry(n)},ad.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ad.createEmptyResult(ad.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Ch.map(t,{interfaces_:function(){return[od.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zh.overlayOp(t,e,ad.INTERSECTION)},ad.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ad.createEmptyResult(ad.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zh.overlayOp(t,e,ad.SYMDIFFERENCE)},ad.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case ad.INTERSECTION:o=Math.min(r,i);break;case ad.UNION:o=Math.max(r,i);break;case ad.DIFFERENCE:o=r;break;case ad.SYMDIFFERENCE:o=Math.max(r,i)}return o},ad.createEmptyResult=function(t,e,n,r){var i=null;switch(ad.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},ad.difference=function(t,e){return t.isEmpty()?ad.createEmptyResult(ad.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zh.overlayOp(t,e,ad.DIFFERENCE))},ad.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return ad.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===sl.BOUNDARY&&(i=sl.INTERIOR),o===sl.BOUNDARY&&(o=sl.INTERIOR),a){case ad.INTERSECTION:return i===sl.INTERIOR&&o===sl.INTERIOR;case ad.UNION:return i===sl.INTERIOR||o===sl.INTERIOR;case ad.DIFFERENCE:return i===sl.INTERIOR&&o!==sl.INTERIOR;case ad.SYMDIFFERENCE:return i===sl.INTERIOR&&o!==sl.INTERIOR||i!==sl.INTERIOR&&o===sl.INTERIOR}return!1}},ad.INTERSECTION=1,ad.UNION=2,ad.DIFFERENCE=3,ad.SYMDIFFERENCE=4;var sd=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new oh,this._seg=new Xc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};sd.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},sd.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?sl.BOUNDARY:this._ptLocator.locate(t,this._g)},sd.prototype.extractLinework=function(t){var e=new ld;t.apply(e);var n=e.getLinework(),r=Ku.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd};var ld=function(){this._linework=null,this._linework=new ru};ld.prototype.getLinework=function(){return this._linework},ld.prototype.filter=function(t){if(t instanceof Pu){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},ld.prototype.interfaces_=function(){return[bu]},ld.prototype.getClass=function(){return ld};var ud=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};ud.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},ud.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},ud.prototype.getPoints=function(t){for(var e=new ru,n=ih.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},ud.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,l=n*o/a,u=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var f=new rl(u-l,c+s);r.add(f)}if(this._doRight){var h=new rl(u+l,c-s);r.add(h)}},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud};var cd=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new ru;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new sd(this._geom[0],this._boundaryDistanceTolerance),new sd(this._geom[1],this._boundaryDistanceTolerance),new sd(this._geom[2],this._boundaryDistanceTolerance)]},fd={TOLERANCE:{configurable:!0}};cd.prototype.reportResult=function(t,e,n){xl.out.println("Overlay result invalid - A:"+sl.toLocationSymbol(e[0])+" B:"+sl.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+sl.toLocationSymbol(e[2]))},cd.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},cd.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!cd.hasLocation(this._location,sl.BOUNDARY)||this.isValidResult(r,this._location)}},cd.prototype.addTestPts=function(t){var e=new ud(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},cd.prototype.isValidResult=function(t,e){var n=ad.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===sl.INTERIOR);return r||this.reportResult(t,e,n),r},cd.prototype.getInvalidLocation=function(){return this._invalidLocation},cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd},cd.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},cd.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Ih.computeSizeBasedSnapTolerance(t),Ih.computeSizeBasedSnapTolerance(e))},cd.isValid=function(t,e,n,r){return new cd(t,e,r).isValid(n)},fd.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(cd,fd);var hd=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};hd.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},hd.prototype.combine=function(){for(var t=new ru,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},hd.combine=function(){if(1===arguments.length){var t=arguments[0];return new hd(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new hd(hd.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new hd(hd.createList(r,i,o)).combine()}},hd.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},hd.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new ru;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new ru;return a.add(r),a.add(i),a.add(o),a}};var dd=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new ru)},pd={STRTREE_NODE_CAPACITY:{configurable:!0}};dd.prototype.reduceToGeometries=function(t){for(var e=new ru,n=t.iterator();n.hasNext();){var r=n.next(),i=null;ul(r,nu)?i=this.unionTree(r):r instanceof Vl&&(i=r),e.add(i)}return e},dd.prototype.extractByEnvelope=function(t,e,n){for(var r=new ru,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},dd.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return hd.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},dd.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new zc(dd.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},dd.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=dd.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(dd.getGeometry(e,n),dd.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},dd.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},dd.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},dd.prototype.unionActual=function(t,e){return dd.restrictToPolygons(t.union(e))},dd.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},dd.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new ru,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),hd.combine(r)},dd.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},dd.prototype.interfaces_=function(){return[]},dd.prototype.getClass=function(){return dd},dd.restrictToPolygons=function(t){if(ul(t,Mu))return t;var e=rh.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ku.toPolygonArray(e))},dd.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},dd.union=function(t){return new dd(t).union()},pd.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(dd,pd);var vd=function(){};vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd},vd.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ad.createEmptyResult(ad.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zh.overlayOp(t,e,ad.UNION)};var gd=function(){return new Di};Di.prototype={constructor:Di,reset:function(){this.s=this.t=0},add:function(t){Ni(md,t,this.t),Ni(this,md.s,this.s),this.s?this.t+=md.t:this.s=md.t},valueOf:function(){return this.s}};var md=new Di,yd=1e-6,_d=Math.PI,bd=_d/2,Ad=_d/4,wd=2*_d,xd=180/_d,kd=_d/180,Cd=Math.abs,Ed=Math.atan,Sd=Math.atan2,Rd=Math.cos,Td=Math.exp,Id=Math.log,Od=Math.sin,Md=Math.sqrt,Pd=Math.tan,Dd={Feature:function(t,e){Fi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Fi(n[r].geometry,e)}},Nd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){zi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zi(n[r],e,0)},Polygon:function(t,e){Bi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Bi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Fi(n[r],e)}},Ld=function(t,e){t&&Dd.hasOwnProperty(t.type)?Dd[t.type](t,e):Fi(t,e)},jd=(gd(),gd(),gd(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Xi.invert=Xi;var Fd=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ji,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},zd=function(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=0,c=1,f=e[0]-s,h=e[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(t[0]=s+u*f,t[1]=l+u*h),c<1&&(e[0]=s+c*f,e[1]=l+c*h),!0}}}}},Bd=function(t,e){return Cd(t[0]-e[0])<yd&&Cd(t[1]-e[1])<yd},Ud=function(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Bd(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new to(r,t,null,!0)),l.push(n.o=new to(r,null,n,!1)),s.push(n=new to(a,t,null,!1)),l.push(n.o=new to(a,null,n,!0))}})),s.length){for(l.sort(e),eo(s),eo(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}},Gd=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Vd=(function(t){1===t.length&&(t=function(t){return function(e,n){return Gd(t(e),n)}}(t))}(Gd),function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}),Hd=1e9,qd=-Hd,Wd=gd(),Yd=(gd(),function(t){return t}),Xd=(gd(),gd(),1/0),$d=Xd,Jd=-Xd,Kd=Jd,Qd={point:function(t,e){t<Xd&&(Xd=t),t>Jd&&(Jd=t),e<$d&&($d=e),e>Kd&&(Kd=e)},lineStart:ji,lineEnd:ji,polygonStart:ji,polygonEnd:ji,result:function(){var t=[[Xd,$d],[Jd,Kd]];return Jd=Kd=-($d=Xd=1/0),t}},Zd=(gd(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function l(){A.point=s,g.lineStart()}function u(){A.point=a,g.lineEnd()}function c(t,e){v.push([t,e]);var n=i(t,e);_.point(n[0],n[1])}function f(){_.lineStart(),v=[]}function h(){c(v[0][0],v[0][1]),_.lineEnd();var t,e,n,r,i=_.clean(),a=y.result(),s=a.length;if(v.pop(),d.push(v),v=null,s)if(1&i){if((e=(n=a[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),p.push(a.filter(ro))}var d,p,v,g=e(o),m=i.invert(r[0],r[1]),y=Fd(),_=e(y),b=!1,A={point:a,lineStart:l,lineEnd:u,polygonStart:function(){A.point=c,A.lineStart=f,A.lineEnd=h,p=[],d=[]},polygonEnd:function(){A.point=a,A.lineStart=l,A.lineEnd=u,p=Vd(p);var t=function(t,e){var n=e[0],r=e[1],i=[Od(n),-Rd(n),0],o=0,a=0;Wd.reset();for(var s=0,l=t.length;s<l;++s)if(c=(u=t[s]).length)for(var u,c,f=u[c-1],h=f[0],d=f[1]/2+Ad,p=Od(d),v=Rd(d),g=0;g<c;++g,h=y,p=b,v=A,f=m){var m=u[g],y=m[0],_=m[1]/2+Ad,b=Od(_),A=Rd(_),w=y-h,x=w>=0?1:-1,k=x*w,C=k>_d,E=p*b;if(Wd.add(Sd(E*x*Od(k),v*A+E*Rd(k))),o+=C?w+x*wd:w,C^h>=n^y>=n){var S=Hi(Gi(f),Gi(m));Yi(S);var R=Hi(i,S);Yi(R);var T=(C^w>=0?-1:1)*Li(R[2]);(r>T||r===T&&(S[0]||S[1]))&&(a+=C^w>=0?1:-1)}}return(o<-yd||o<yd&&Wd<-yd)^1&a}(d,m);p.length?(b||(o.polygonStart(),b=!0),Ud(p,io,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return A}}),tp=Zd((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?_d:-_d,l=Cd(o-n);Cd(l-_d)<yd?(t.point(n,r=(r+a)/2>0?bd:-bd),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=_d&&(Cd(n-i)<yd&&(n-=i*yd),Cd(o-s)<yd&&(o-=s*yd),r=function(t,e,n,r){var i,o,a=Od(t-n);return Cd(a)>yd?Ed((Od(e)*(o=Rd(r))*Od(n)-Od(r)*(i=Rd(e))*Od(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*bd,r.point(-_d,i),r.point(0,i),r.point(_d,i),r.point(_d,0),r.point(_d,-i),r.point(0,-i),r.point(-_d,-i),r.point(-_d,0),r.point(-_d,i);else if(Cd(t[0]-e[0])>yd){var o=t[0]<e[0]?_d:-_d;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-_d,-bd]),ep=function(t,e){function n(t,e){return Rd(t)*Rd(e)>o}function r(t,e,n){var r=[1,0,0],i=Hi(Gi(t),Gi(e)),a=Vi(i,i),s=i[0],l=a-s*s;if(!l)return!n&&t;var u=o*a/l,c=-o*s/l,f=Hi(r,i),h=Wi(r,u);qi(h,Wi(i,c));var d=f,p=Vi(h,d),v=Vi(d,d),g=p*p-v*(Vi(h,h)-1);if(!(g<0)){var m=Md(g),y=Wi(d,(-p-m)/v);if(qi(y,h),y=Ui(y),!n)return y;var _,b=t[0],A=e[0],w=t[1],x=e[1];A<b&&(_=b,b=A,A=_);var k=A-b,C=Cd(k-_d)<yd;if(!C&&x<w&&(_=w,w=x,x=_),C||k<yd?C?w+x>0^y[1]<(Cd(y[0]-b)<yd?w:x):w<=y[1]&&y[1]<=x:k>_d^(b<=y[0]&&y[0]<=A)){var E=Wi(d,(-p+m)/v);return qi(E,h),[y,Ui(E)]}}}function i(e,n){var r=a?t:_d-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Rd(t),a=o>0,s=Cd(o)>yd;return Zd(n,(function(t){var e,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,h){var d,p=[f,h],v=n(f,h),g=a?v?0:i(f,h):v?i(f+(f<0?_d:-_d),h):0;if(!e&&(u=l=v)&&t.lineStart(),v!==l&&(!(d=r(e,p))||Bd(e,d)||Bd(p,d))&&(p[0]+=yd,p[1]+=yd,v=n(p[0],p[1])),v!==l)c=0,v?(t.lineStart(),d=r(p,e),t.point(d[0],d[1])):(d=r(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(s&&e&&a^v){var m;g&o||!(m=r(p,e,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||e&&Bd(e,p)||t.point(p[0],p[1]),e=p,l=v,o=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Rd(e),s=Od(e),l=r*n;null==i?(i=e+r*wd,o=e-l/2):(i=Zi(a,i),o=Zi(a,o),(r>0?i<o:i>o)&&(i+=r*wd));for(var u,c=i;r>0?c>o:c<o;c-=l)u=Ui([a,-s*Rd(c),-s*Od(c)]),t.point(u[0],u[1])}}(o,t,e,i,n,r)}),a?[0,-t]:[-_d,t-_d])};ao.prototype={constructor:ao,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var np=Rd(30*kd),rp=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,u,c,f,h,d,p,v,g){var m=u-r,y=c-i,_=m*m+y*y;if(_>4*e&&v--){var b=a+h,A=s+d,w=l+p,x=Md(b*b+A*A+w*w),k=Li(w/=x),C=Cd(Cd(w)-1)<yd||Cd(o-f)<yd?(o+f)/2:Sd(A,b),E=t(C,k),S=E[0],R=E[1],T=S-r,I=R-i,O=y*T-m*I;(O*O/_>e||Cd((m*T+y*I)/_-.5)>.3||a*h+s*d+l*p<np)&&(n(r,i,o,a,s,l,S,R,C,b/=x,A/=x,w,v,g),g.point(S,R),n(S,R,C,b,A,w,u,c,f,h,d,p,v,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){m=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Gi([r,i]),a=t(r,i);n(m,y,g,_,b,A,m=a[0],y=a[1],g=r,_=o[0],b=o[1],A=o[2],16,e),e.point(m,y)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=l,w.lineEnd=u}function l(t,e){o(c=t,e),f=m,h=y,d=_,p=b,v=A,w.point=o}function u(){n(m,y,g,_,b,A,f,h,c,d,p,v,16,e),w.lineEnd=a,a()}var c,f,h,d,p,v,g,m,y,_,b,A,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return oo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},ip=oo({point:function(t,e){this.stream.point(t*kd,e*kd)}});lo.invert=function(t,e){return[t,2*Ed(Td(e))-bd]},uo.invert=function(t,e){return[-e,2*Ed(Td(t))-bd]};var op=function(){var t=function(t){function e(){var e=_d*s(),a=o(function(t){function e(e){return(e=t(e[0]*kd,e[1]*kd))[0]*=xd,e[1]*=xd,e}return t=$i(t[0]*kd,t[1]*kd,t.length>2?t[2]*kd:0),e.invert=function(e){return(e=t.invert(e[0]*kd,e[1]*kd))[0]*=xd,e[1]*=xd,e},e}(o.rotate()).invert([0,0]));return u(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===lo?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=u(t[0]*kd,t[1]*kd))[0]*v+a,s-t[1]*v]}function n(t,e){return[(t=o(t,e))[0]*v+a,s-t[1]*v]}function r(){u=jd(l=$i(b,A,w),o);var t=o(y,_);return a=g-t[0]*v,s=m+t[1]*v,i()}function i(){return d=p=null,e}var o,a,s,l,u,c,f,h,d,p,v=150,g=480,m=250,y=0,_=0,b=0,A=0,w=0,x=null,k=tp,C=null,E=Yd,S=.5,R=rp(n,S);return e.stream=function(t){return d&&p===t?d:d=ip(k(l,R(E(p=t))))},e.clipAngle=function(t){return arguments.length?(k=+t?ep(x=t*kd,6*kd):(x=null,tp),i()):x*xd},e.clipExtent=function(t){return arguments.length?(E=null==t?(C=c=f=h=null,Yd):no(C=+t[0][0],c=+t[0][1],f=+t[1][0],h=+t[1][1]),i()):null==C?null:[[C,c],[f,h]]},e.scale=function(t){return arguments.length?(v=+t,r()):v},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],r()):[g,m]},e.center=function(t){return arguments.length?(y=t[0]%360*kd,_=t[1]%360*kd,r()):[y*xd,_*xd]},e.rotate=function(t){return arguments.length?(b=t[0]%360*kd,A=t[1]%360*kd,w=t.length>2?t[2]%360*kd:0,r()):[b*xd,A*xd,w*xd]},e.precision=function(t){return arguments.length?(R=rp(n,S=t*t),i()):Md(S)},e.fitExtent=function(t,n){return so(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return so(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=u.invert((t[0]-a)/v,(s-t[1])/v))&&[t[0]*xd,t[1]*xd]},r()}}((function(){return t}))()}(t),a=o.center,s=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(l(t),e()):l()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(uo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=fa,t.random=Xs,t.clusters=$s,t.helpers=So,t.invariant=To,t.meta=Ro,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if($(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;$(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return M(t,(function(t){var e=q(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return q(t)[0]-q(e)[0]}))})).sort((function(t,n){return e?q(t[0])[1]-q(n[0])[1]:q(n[0])[1]-q(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var f=l[c];f.properties[n]?u.push(f.properties[n]):u.push(0),!0===i&&(f.properties.matrixPosition=[s,c])}a.push(u)}return a}(t,{zProperty:r,flip:!0});return c(function(t,e,n){var r=V(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],l=e[0].length-1,u=e.length-1,c=i/l,f=o/u,h=function(t){t[0]=t[0]*c+a,t[1]=t[1]*f+s};return t.forEach((function(t){R(t,h)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],l=Object.assign({},r,i[a]);l[n]=s;var u=f(Z(t,s),l);o.push(u)}return o}(a,e,r,i,o),a,t))},t.convex=Rt,t.pointsWithinPolygon=Ot,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!k(r))throw new Error("maxEdge is invalid");var i=Mt(function(t){var e=[],n={};return M(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),c(e)}(t));if(i.features=i.features.filter((function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Lt(e,i,n),s=Lt(i,o,n),l=Lt(e,o,n);return a<=r&&s<=r&&l<=r})),i.features.length<1)return null;var o=$t(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Po(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=V(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){Tt([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[r]=n})),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=jt(t)),R(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=jt(t)),N(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Jt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ee(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return ee(t,e,n)}));break;case"Polygon":t.coordinates=ne(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return ne(t,e,n)}))}}(t,n,r)})),t},t.bezierSpline=re,t.tag=function(t,e,n,r){return t=jt(t),e=jt(e),M(t,(function(t){t.properties||(t.properties={}),M(e,(function(e){void 0===t.properties[r]&&Tt(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return c(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=oe,t.square=ae,t.circle=le,t.midpoint=function(t,e){return se(t,Lt(t,e)/2,ue(t,e))},t.center=ce,t.centerOfMass=function t(e,n){switch(Q(e)){case"Point":return e;case"Polygon":var i=[];R(e,(function(t){i.push(t)}));var o,a,s,l,u,c,f,h,d=fe(e,n),p=d.geometry.coordinates,v=0,g=0,m=0,y=i.map((function(t){return[t[0]-p[0],t[1]-p[1]]}));for(o=0;o<i.length-1;o++)l=(a=y[o])[0],c=a[1],u=(s=y[o+1])[0],m+=h=l*(f=s[1])-u*c,v+=(l+u)*h,g+=(c+f)*h;if(0===m)return d;var _=1/(.5*m*6);return r([p[0]+_*v,p[1]+_*g],n);default:var b=Rt(e);return b?t(b,n):fe(e,n)}},t.centroid=fe,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return M(t,(function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))})),c(Object.keys(r).filter((function(t){return r[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})})))},t.distance=Lt,t.explode=he,t.bbox=V,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Re(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Re(t))})),e},t.bboxPolygon=ie,t.booleanPointInPolygon=Tt,t.nearestPoint=Te,t.nearestPointOnLine=Je,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return N(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Q(e))throw new Error("line must be a LineString");var o=1/0,a=null;return M(t,(function(t){var n=an(t,e,{units:r});n<o&&(o=n,a=t)})),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=H(t),r=J(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,l=n[0],u=n[1],c=r[0][0],f=r[0][1],h=void 0!==o?o:r[0][2],d=r[1][0],p=r[1][1],v=void 0!==a?a:r[1][2],g=r[2][0],m=r[2][1],y=void 0!==s?s:r[2][2];return(y*(l-c)*(u-p)+h*(l-d)*(u-m)+v*(l-g)*(u-f)-v*(l-c)*(u-m)-y*(l-d)*(u-f)-h*(l-g)*(u-p))/((l-c)*(u-p)+(l-d)*(u-m)+(l-g)*(u-f)-(l-c)*(u-m)-(l-d)*(u-f)-(l-g)*(u-p))},t.tin=Mt,t.bearing=ue,t.destination=se,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var l,u,c,f,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(s-o)*(n-t)-(a-i)*(r-e))?null!==h.x&&null!==h.y&&h:(f=(n-t)*(u=e-o)-(r-e)*(c=t-i),u=((a-i)*u-(s-o)*c)/l,c=f/l,h.x=t+u*(n-t),h.y=e+u*(r-e),u>=0&&u<=1&&(h.onLine1=!0),c>=0&&c<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}}))})),i},t.pointOnFeature=ln,t.area=cn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!k(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var l=ue(i[a],i[a-1])-180;return se(i[a],s,l,n)}return r(i[a])}o+=Lt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=pn,t.lineSlice=function(t,e,n){var r=q(n);if("LineString"!==Q(n))throw new Error("line must be a LineString");for(var i,o=Je(n,t),a=Je(n,e),s=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)s.push(r[u]);return s.push(i[1].geometry.coordinates),l(s,n.properties)},t.lineSliceAlong=vn,t.pointGrid=bn,t.truncate=An,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return j(t,(function(t){e.push(t)})),c(e)},t.lineIntersect=Xe,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return j(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=pn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++){r(vn(t,e*a,e*(a+1),{units:n}))}}(t,e,r,(function(t){o.push(t)}))})),c(o)},t.unkinkPolygon=function(t){var e=[];return j(t,(function(t){"Polygon"===t.geometry.type&&M(da(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),c(e)},t.greatCircle=function(t,e,n){if("object"!=a(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=H(t),e=H(e),r=r||{},i=i||100,o=o||10,new Aa({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=Ye,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Q(t),r=Q(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=An(e,{precision:7});switch(r){case"Point":return En(t,i);case"MultiPoint":return Cn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Cn(t,Xe(t,i))}},t.lineArc=Tn,t.polygonToLine=On,t.lineToPolygon=Pn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=q(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach((function(t){wa(t,e,a)})),1===a.length?l(a[0],i):f(a,i);case"Polygon":return o(zn(r,e),i);case"MultiPolygon":return d(r.map((function(t){return zn(t,e)})),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Hn,t.sector=function(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=a(i))throw new Error("options must be an object");if(Wn(n)===Wn(r))return le(t,e,i);var s=q(t),l=[[s]];return R(Tn(t,e,n,r,i),(function(t){l[0].push(t)})),l[0].push(s),o(l)},t.rhumbBearing=Ke,t.rhumbDistance=Ze,t.rhumbDestination=Yn,t.polygonTangents=function(t,e){var n,i,o,a=q(t),s=q(e);switch(Q(e)){case"Polygon":n=s[0][0],i=s[0][0],o=$n(s[0][0],s[0][s[0].length-1],a);var l=Xn(s[0],a,o,void 0,n,i);n=l[0],i=l[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=$n(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach((function(t){var e=Xn(t[0],a,o,void 0,n,i);n=e[0],i=e[1]}))}return c([r(n),r(i)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=jt(t));var i=[];switch(t.type){case"GeometryCollection":return N(t,(function(t){Kn(t,n)})),t;case"FeatureCollection":return M(t,(function(t){M(Kn(t,n),(function(t){i.push(t)}))})),c(i)}return Kn(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if($(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;$(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return M(t,(function(t){var e=q(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return q(t)[0]-q(e)[0]}))})).sort((function(t,n){return e?q(t[0])[1]-q(n[0])[1]:q(n[0])[1]-q(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var f=l[c];f.properties[n]?u.push(f.properties[n]):u.push(0),!0===i&&(f.properties.matrixPosition=[s,c])}a.push(u)}return a}(t,{zProperty:r,flip:!0}),l=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],l=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++){if(!e[s].grouped)(function(t,e){for(var n=he(t),r=0;r<n.features.length;r++)if(!Tt(n.features[r],e))return!1;return!0})(o([e[s].lrCoordinates]),a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(i)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var r=cn(o([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}(tr(t,a,s-a))),u={};u.groupedRings=l,u[n]=a+"-"+s,r.push(u)}return r}(s,e,r);return c((l=function(t,e,n){var r=V(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],l=e[0].length-1,u=e.length-1,c=i/l,f=o/u,h=function(t){t[0]=t[0]*c+a,t[1]=t[1]*f+s};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(h)}))}))})),t}(l,s,t)).map((function(t,e){if(a[e]&&!C(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],d(t.groupedRings,n)})))},t.transformRotate=rr,t.transformScale=ir,t.transformTranslate=function(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=jt(t)),R(t,(function(t){var r=q(Yn(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=Q(t),o=t.properties;switch(i){case"LineString":return lr(t,e,r);case"MultiLineString":var a=[];return j(t,(function(t){a.push(lr(t,e,r).geometry.coordinates)})),f(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=As.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){_s.findEdgeRingContaining(t,r)&&r.push(t)})),c(r.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return j(t,(function(t){j(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!fr(e,t);case"Polygon":return!Tt(t,e)}break;case"LineString":switch(e.type){case"Point":return!fr(t,e);case"LineString":return!function(t,e){return Xe(t,e).features.length>0}(t,e);case"Polygon":return!hr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Tt(e,t);case"LineString":return!hr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Tt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Tt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=Q(t),r=Q(e),i=J(t),o=J(e),a=q(t),s=q(e);switch(n){case"Point":switch(r){case"Point":return pr(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(pr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(pr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return gn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(gn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!gn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(gn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!gn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Tt(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!dr(V(t),V(e)))return!1;for(;r<e.coordinates.length-1;r++){if(Tt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}}return n}(i,o);case"Polygon":return function(t,e){if(!dr(V(t),V(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Tt(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Tt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Q(t),r=Q(e),i=J(t),o=J(e);switch(n){case"MultiPoint":switch(r){case"LineString":return vr(i,o);case"Polygon":return mr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return vr(o,i);case"LineString":return function(t,e){if(Xe(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),yr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return gr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return mr(o,i);case"LineString":return gr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Jn,t.booleanOverlap=wr,t.booleanPointOnLine=gn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Q(t)===Q(e)&&new Es({precision:6}).compare(Jt(t),Jt(e))},t.booleanWithin=mn,t.clone=jt,t.cleanCoords=Jt,t.clustersDbscan=function(t,e,n){if("object"!=a(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if($(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=jt(t),r=r||3;var o=new Os.DBSCAN,s=-1;return o.run(D(t),w(e,i),r,Lt).forEach((function(e){s++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=a(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;$(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=jt(t));var o=D(t),s=o.slice(0,n),l=Ls(o,n,s),u={};return l.centroids.forEach((function(t,e){u[e]=t})),M(t,(function(t,e){var n=l.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]})),t},t.pointToLineDistance=an,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==kr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==kr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Ye(Jt(t)).features,r=Ye(Jt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return _(Ke(t[0],t[1]))===_(Ke(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,s=i.obstacles||c([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!k(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var u=H(t),f=H(n);switch(t=r(u),n=r(f),Q(s)){case"FeatureCollection":if(0===s.features.length)return l([u,f]);break;case"Polygon":s=c([e(J(s))]);break;default:throw new Error("invalid obstacles")}var h=s;h.features.push(t),h.features.push(n);var d=V(ir(ie(V(h)),1.15));o||(o=Lt([d[0],d[1]],[d[2],d[1]],i)/100),h.features.pop(),h.features.pop();for(var p=d[0],v=d[1],g=d[2],m=d[3],y=o/Lt([p,v],[g,v],i)*(g-p),_=o/Lt([p,v],[p,m],i)*(m-v),b=g-p,A=m-v,w=(b-Math.floor(b/y)*y)/2,x=[],E=[],S=[],R=[],T=1/0,I=1/0,O=m-(A-Math.floor(A/_)*_)/2,M=0;O>=v;){for(var P=[],D=[],N=p+w,L=0;N<=g;){var j=r([N,O]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(Tt(t,e.features[n]))return!0;return!1}(j,s);P.push(F?0:1),D.push(N+"|"+O);var z=Lt(j,t);!F&&z<T&&(T=z,S={x:L,y:M});var B=Lt(j,n);!F&&B<I&&(I=B,R={x:L,y:M}),N+=y,L++}E.push(P),x.push(D),O-=_,M++}var U=new Er(E,{diagonal:!0}),G=U.grid[S.y][S.x],q=U.grid[R.y][R.x],W=[u];return js.search(U,G,q).forEach((function(t){var e=x[t.x][t.y].split("|");W.push([+e[0],+e[1]])})),W.push(f),Jt(l(W))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return $(t,"Point","points"),c(function(){function t(t){return new Zr(t.map((function(r,i){var o=[Math.round(e(r,i,t)/Ws)*Ws,Math.round(n(r,i,t)/Ws)*Ws];return o.index=i,o.data=r,o})),r)}var e=Tr,n=Ir,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Fs(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Fs(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(ti))},t.ellipse=ei,t.centerMean=ri,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!k(n))throw new Error("counter must be a number");var r=e.weight,i=ri(t,{weight:e.weight}),o=c([]);return M(t,(function(t){o.features.push(fe(t,{weight:t.properties[r]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},ii(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!k(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=D(t).length,a=ri(t,{weight:r}),s=0,l=0,u=0;M(t,(function(t){var e=t.properties[r]||1,n=oi(q(t),q(a));s+=Math.pow(n.x,2)*e,l+=Math.pow(n.y,2)*e,u+=n.x*n.y*e}));var f=s-l,h=Math.sqrt(Math.pow(f,2)+4*Math.pow(u,2)),d=2*u,p=Math.atan((f+h)/d),v=180*p/Math.PI,g=0,m=0,y=0;M(t,(function(t){var e=t.properties[r]||1,n=oi(q(t),q(a));g+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,m+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,y+=e}));var _=Math.sqrt(2*g/y),b=Math.sqrt(2*m/y),A=ei(a,_,b,{units:"degrees",angle:v,steps:n,properties:i}),w=Ot(t,c([A])),x={meanCenterCoordinates:q(a),semiMajorAxis:_,semiMinorAxis:b,numberOfFeatures:o,angle:v,percentageWithinEllipse:100*D(w).length/o};return A.properties.standardDeviationalEllipse=x,A},t.difference=function(t,n){var r=J(t),i=J(n),o=t.properties||{};if(r=Pi(r),i=Pi(i),!r)return null;if(!i)return e(r,o);var a=new rc,s=a.read(r),l=a.read(i),u=ad.difference(s,l);return u.isEmpty()?null:e((new ic).write(u),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=a(n))throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return N(t,(function(t){var n=co(t,e,r,i);n&&o.push(n)})),c(o);case"FeatureCollection":return M(t,(function(t){var n=co(t,e,r,i);n&&M(n,(function(t){t&&o.push(t)}))})),c(o)}return co(t,e,r,i)},t.union=vo,t.intersect=go,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;$(t,"Polygon","dissolve");var r=jt(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var a=He();for(var s in a.load(r),i){var u=i[s],c=!1;if(a.search(u).features.forEach((function(t){u=i[s];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=mo(e,o);0!==r&&(e-=r)}if(e!==+s){var f=i[e];f&&u&&(void 0!==n&&f.properties[n]!==u.properties[n]||wr(u,f)&&function(t,e){return Xe(l(D(t)),l(D(e))).features.length>0}(u,f)&&(i[s]=vo(u,f),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),a.remove(t),i.splice(e,1),u.properties.origIndexPosition=s,a.remove(u,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),c=!0))}})),c){if(!u)continue;u.properties.origIndexPosition=s,a.insert(u),s--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},t.hexGrid=yo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return j(t,(function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach((function(t){n.push(o([t]))}))})),[c(e),c(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),j(e,(function(t){r.push(t.geometry.coordinates[0])})),j(n,(function(t){r.push(t.geometry.coordinates[0])})),o(r)}(n,i=_o(i),a=_o(a))},t.squareGrid=Ao,t.triangleGrid=wo,t.interpolate=function(t,e,n){if("object"!=a(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if($(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,l=V(t);switch(r){case"point":case"points":s=bn(l,e,n);break;case"square":case"squares":s=Ao(l,e,n);break;case"hex":case"hexes":s=yo(l,e,n);break;case"triangle":case"triangles":s=wo(l,e,n);break;default:throw new Error("invalid gridType")}var u=[];return M(s,(function(e){var a=0,s=0;M(t,(function(t){var l,u=Lt("point"===r?e:fe(e),t,n);if(void 0!==i&&(l=t.properties[i]),void 0===l&&(l=t.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(a=l);var c=1/Math.pow(u,o);s+=c,a+=c*l}));var l=jt(e);l.properties[i]=a/s,u.push(l)})),c(u)},t.pointOnSurface=ln,t.polygonToLineString=On,t.lineStringToPolygon=Pn,t.inside=Tt,t.within=Ot,t.bezier=re,t.nearest=Te,t.pointOnLine=Je,t.lineDistance=pn,t.radians2degrees=b,t.degrees2radians=A,t.distanceToDegrees=y,t.distanceToRadians=m,t.radiansToDistance=g,t.bearingToAngle=_,t.convertDistance=w,t.toMercator=tn,t.toWgs84=en,t.randomPosition=ai,t.randomPoint=si,t.randomPolygon=li,t.randomLineString=ui,t.getCluster=fi,t.clusterEach=hi,t.clusterReduce=di,t.createBins=pi,t.applyFilter=vi,t.propertiesContainsFilter=gi,t.filterProperties=mi,t.earthRadius=xo,t.factors=ko,t.unitsFactors=Co,t.areaFactors=Eo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=s,t.lineString=l,t.lineStrings=u,t.featureCollection=c,t.multiLineString=f,t.multiPoint=h,t.multiPolygon=d,t.geometryCollection=p,t.round=v,t.radiansToLength=g,t.lengthToRadians=m,t.lengthToDegrees=y,t.bearingToAzimuth=_,t.radiansToDegrees=b,t.degreesToRadians=A,t.convertLength=w,t.convertArea=x,t.isNumber=k,t.isObject=C,t.validateBBox=E,t.validateId=S,t.getCoord=H,t.getCoords=q,t.containsNumber=W,t.geojsonType=Y,t.featureOf=X,t.collectionOf=$,t.getGeom=J,t.getGeomType=K,t.getType=Q,t.coordEach=R,t.coordReduce=T,t.propEach=I,t.propReduce=O,t.featureEach=M,t.featureReduce=P,t.coordAll=D,t.geomEach=N,t.geomReduce=L,t.flattenEach=j,t.flattenReduce=F,t.segmentEach=z,t.segmentReduce=B,t.lineEach=U,t.lineReduce=G,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,n){var r=n(98),i=n(195);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(68),i=n.n(r)()(!1);i.push([t.i,'.zoom-button {\n    display: flex;\n    flex-direction: column;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    width: 40px;\n    margin: 20px;\n    padding: 5px;\n    background-color: white;\n}\n\n.zoom-button button {\n    border-radius: 4px;\n    background-color: white;\n    border: 0;\n    margin: 0;\n    padding: 5px;\n    font-size: 1.2rem;\n    cursor: pointer;\n}\n\n.zoom-button button:hover {\n    background-color: #333;\n    color: white;\n}\n\n.tooltip {\n    position: relative;\n}\n\n.tooltip-text {\n    display: none;\n    position: absolute;\n    top: 5px;\n    left: 105%;\n}\n\n.tooltip .tooltip-text {\n    background-color: #333;\n    margin-left: 10px;\n    padding: 5px;\n    font-size: 0.6em;\n    border-radius: 4px;\n    width: 60px;\n}\n\n.tooltip:hover .tooltip-text {\n    display: block;\n}\n\n/* Tooltip arrow */\n.tooltip .tooltip-text::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  right: 100%;\n  margin-top: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent #333 transparent transparent;\n}\n',""]),e.default=i},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"YlGn3",(function(){return ge})),n.d(r,"YlGn4",(function(){return me})),n.d(r,"YlGn5",(function(){return ye})),n.d(r,"YlGn6",(function(){return _e})),n.d(r,"YlGn7",(function(){return be})),n.d(r,"YlGn8",(function(){return Ae})),n.d(r,"YlGn9",(function(){return we})),n.d(r,"YlGnBu3",(function(){return xe})),n.d(r,"YlGnBu4",(function(){return ke})),n.d(r,"YlGnBu5",(function(){return Ce})),n.d(r,"YlGnBu6",(function(){return Ee})),n.d(r,"YlGnBu7",(function(){return Se})),n.d(r,"YlGnBu8",(function(){return Re})),n.d(r,"YlGnBu9",(function(){return Te})),n.d(r,"GnBu3",(function(){return Ie})),n.d(r,"GnBu4",(function(){return Oe})),n.d(r,"GnBu5",(function(){return Me})),n.d(r,"GnBu6",(function(){return Pe})),n.d(r,"GnBu7",(function(){return De})),n.d(r,"GnBu8",(function(){return Ne})),n.d(r,"GnBu9",(function(){return Le})),n.d(r,"BuGn3",(function(){return je})),n.d(r,"BuGn4",(function(){return Fe})),n.d(r,"BuGn5",(function(){return ze})),n.d(r,"BuGn6",(function(){return Be})),n.d(r,"BuGn7",(function(){return Ue})),n.d(r,"BuGn8",(function(){return Ge})),n.d(r,"BuGn9",(function(){return Ve})),n.d(r,"PuBuGn3",(function(){return He})),n.d(r,"PuBuGn4",(function(){return qe})),n.d(r,"PuBuGn5",(function(){return We})),n.d(r,"PuBuGn6",(function(){return Ye})),n.d(r,"PuBuGn7",(function(){return Xe})),n.d(r,"PuBuGn8",(function(){return $e})),n.d(r,"PuBuGn9",(function(){return Je})),n.d(r,"PuBu3",(function(){return Ke})),n.d(r,"PuBu4",(function(){return Qe})),n.d(r,"PuBu5",(function(){return Ze})),n.d(r,"PuBu6",(function(){return tn})),n.d(r,"PuBu7",(function(){return en})),n.d(r,"PuBu8",(function(){return nn})),n.d(r,"PuBu9",(function(){return rn})),n.d(r,"BuPu3",(function(){return on})),n.d(r,"BuPu4",(function(){return an})),n.d(r,"BuPu5",(function(){return sn})),n.d(r,"BuPu6",(function(){return ln})),n.d(r,"BuPu7",(function(){return un})),n.d(r,"BuPu8",(function(){return cn})),n.d(r,"BuPu9",(function(){return fn})),n.d(r,"RdPu3",(function(){return hn})),n.d(r,"RdPu4",(function(){return dn})),n.d(r,"RdPu5",(function(){return pn})),n.d(r,"RdPu6",(function(){return vn})),n.d(r,"RdPu7",(function(){return gn})),n.d(r,"RdPu8",(function(){return mn})),n.d(r,"RdPu9",(function(){return yn})),n.d(r,"PuRd3",(function(){return _n})),n.d(r,"PuRd4",(function(){return bn})),n.d(r,"PuRd5",(function(){return An})),n.d(r,"PuRd6",(function(){return wn})),n.d(r,"PuRd7",(function(){return xn})),n.d(r,"PuRd8",(function(){return kn})),n.d(r,"PuRd9",(function(){return Cn})),n.d(r,"OrRd3",(function(){return En})),n.d(r,"OrRd4",(function(){return Sn})),n.d(r,"OrRd5",(function(){return Rn})),n.d(r,"OrRd6",(function(){return Tn})),n.d(r,"OrRd7",(function(){return In})),n.d(r,"OrRd8",(function(){return On})),n.d(r,"OrRd9",(function(){return Mn})),n.d(r,"YlOrRd3",(function(){return Pn})),n.d(r,"YlOrRd4",(function(){return Dn})),n.d(r,"YlOrRd5",(function(){return Nn})),n.d(r,"YlOrRd6",(function(){return Ln})),n.d(r,"YlOrRd7",(function(){return jn})),n.d(r,"YlOrRd8",(function(){return Fn})),n.d(r,"YlOrRd9",(function(){return zn})),n.d(r,"YlOrBr3",(function(){return Bn})),n.d(r,"YlOrBr4",(function(){return Un})),n.d(r,"YlOrBr5",(function(){return Gn})),n.d(r,"YlOrBr6",(function(){return Vn})),n.d(r,"YlOrBr7",(function(){return Hn})),n.d(r,"YlOrBr8",(function(){return qn})),n.d(r,"YlOrBr9",(function(){return Wn})),n.d(r,"Purples3",(function(){return Yn})),n.d(r,"Purples4",(function(){return Xn})),n.d(r,"Purples5",(function(){return $n})),n.d(r,"Purples6",(function(){return Jn})),n.d(r,"Purples7",(function(){return Kn})),n.d(r,"Purples8",(function(){return Qn})),n.d(r,"Purples9",(function(){return Zn})),n.d(r,"Blues3",(function(){return tr})),n.d(r,"Blues4",(function(){return er})),n.d(r,"Blues5",(function(){return nr})),n.d(r,"Blues6",(function(){return rr})),n.d(r,"Blues7",(function(){return ir})),n.d(r,"Blues8",(function(){return or})),n.d(r,"Blues9",(function(){return ar})),n.d(r,"Greens3",(function(){return sr})),n.d(r,"Greens4",(function(){return lr})),n.d(r,"Greens5",(function(){return ur})),n.d(r,"Greens6",(function(){return cr})),n.d(r,"Greens7",(function(){return fr})),n.d(r,"Greens8",(function(){return hr})),n.d(r,"Greens9",(function(){return dr})),n.d(r,"Oranges3",(function(){return pr})),n.d(r,"Oranges4",(function(){return vr})),n.d(r,"Oranges5",(function(){return gr})),n.d(r,"Oranges6",(function(){return mr})),n.d(r,"Oranges7",(function(){return yr})),n.d(r,"Oranges8",(function(){return _r})),n.d(r,"Oranges9",(function(){return br})),n.d(r,"Reds3",(function(){return Ar})),n.d(r,"Reds4",(function(){return wr})),n.d(r,"Reds5",(function(){return xr})),n.d(r,"Reds6",(function(){return kr})),n.d(r,"Reds7",(function(){return Cr})),n.d(r,"Reds8",(function(){return Er})),n.d(r,"Reds9",(function(){return Sr})),n.d(r,"Greys3",(function(){return Rr})),n.d(r,"Greys4",(function(){return Tr})),n.d(r,"Greys5",(function(){return Ir})),n.d(r,"Greys6",(function(){return Or})),n.d(r,"Greys7",(function(){return Mr})),n.d(r,"Greys8",(function(){return Pr})),n.d(r,"Greys9",(function(){return Dr})),n.d(r,"Greys10",(function(){return Nr})),n.d(r,"Greys11",(function(){return Lr})),n.d(r,"Greys256",(function(){return jr})),n.d(r,"PuOr3",(function(){return Fr})),n.d(r,"PuOr4",(function(){return zr})),n.d(r,"PuOr5",(function(){return Br})),n.d(r,"PuOr6",(function(){return Ur})),n.d(r,"PuOr7",(function(){return Gr})),n.d(r,"PuOr8",(function(){return Vr})),n.d(r,"PuOr9",(function(){return Hr})),n.d(r,"PuOr10",(function(){return qr})),n.d(r,"PuOr11",(function(){return Wr})),n.d(r,"BrBG3",(function(){return Yr})),n.d(r,"BrBG4",(function(){return Xr})),n.d(r,"BrBG5",(function(){return $r})),n.d(r,"BrBG6",(function(){return Jr})),n.d(r,"BrBG7",(function(){return Kr})),n.d(r,"BrBG8",(function(){return Qr})),n.d(r,"BrBG9",(function(){return Zr})),n.d(r,"BrBG10",(function(){return ti})),n.d(r,"BrBG11",(function(){return ei})),n.d(r,"PRGn3",(function(){return ni})),n.d(r,"PRGn4",(function(){return ri})),n.d(r,"PRGn5",(function(){return ii})),n.d(r,"PRGn6",(function(){return oi})),n.d(r,"PRGn7",(function(){return ai})),n.d(r,"PRGn8",(function(){return si})),n.d(r,"PRGn9",(function(){return li})),n.d(r,"PRGn10",(function(){return ui})),n.d(r,"PRGn11",(function(){return ci})),n.d(r,"PiYG3",(function(){return fi})),n.d(r,"PiYG4",(function(){return hi})),n.d(r,"PiYG5",(function(){return di})),n.d(r,"PiYG6",(function(){return pi})),n.d(r,"PiYG7",(function(){return vi})),n.d(r,"PiYG8",(function(){return gi})),n.d(r,"PiYG9",(function(){return mi})),n.d(r,"PiYG10",(function(){return yi})),n.d(r,"PiYG11",(function(){return _i})),n.d(r,"RdBu3",(function(){return bi})),n.d(r,"RdBu4",(function(){return Ai})),n.d(r,"RdBu5",(function(){return wi})),n.d(r,"RdBu6",(function(){return xi})),n.d(r,"RdBu7",(function(){return ki})),n.d(r,"RdBu8",(function(){return Ci})),n.d(r,"RdBu9",(function(){return Ei})),n.d(r,"RdBu10",(function(){return Si})),n.d(r,"RdBu11",(function(){return Ri})),n.d(r,"RdGy3",(function(){return Ti})),n.d(r,"RdGy4",(function(){return Ii})),n.d(r,"RdGy5",(function(){return Oi})),n.d(r,"RdGy6",(function(){return Mi})),n.d(r,"RdGy7",(function(){return Pi})),n.d(r,"RdGy8",(function(){return Di})),n.d(r,"RdGy9",(function(){return Ni})),n.d(r,"RdGy10",(function(){return Li})),n.d(r,"RdGy11",(function(){return ji})),n.d(r,"RdYlBu3",(function(){return Fi})),n.d(r,"RdYlBu4",(function(){return zi})),n.d(r,"RdYlBu5",(function(){return Bi})),n.d(r,"RdYlBu6",(function(){return Ui})),n.d(r,"RdYlBu7",(function(){return Gi})),n.d(r,"RdYlBu8",(function(){return Vi})),n.d(r,"RdYlBu9",(function(){return Hi})),n.d(r,"RdYlBu10",(function(){return qi})),n.d(r,"RdYlBu11",(function(){return Wi})),n.d(r,"Spectral3",(function(){return Yi})),n.d(r,"Spectral4",(function(){return Xi})),n.d(r,"Spectral5",(function(){return $i})),n.d(r,"Spectral6",(function(){return Ji})),n.d(r,"Spectral7",(function(){return Ki})),n.d(r,"Spectral8",(function(){return Qi})),n.d(r,"Spectral9",(function(){return Zi})),n.d(r,"Spectral10",(function(){return to})),n.d(r,"Spectral11",(function(){return eo})),n.d(r,"RdYlGn3",(function(){return no})),n.d(r,"RdYlGn4",(function(){return ro})),n.d(r,"RdYlGn5",(function(){return io})),n.d(r,"RdYlGn6",(function(){return oo})),n.d(r,"RdYlGn7",(function(){return ao})),n.d(r,"RdYlGn8",(function(){return so})),n.d(r,"RdYlGn9",(function(){return lo})),n.d(r,"RdYlGn10",(function(){return uo})),n.d(r,"RdYlGn11",(function(){return co})),n.d(r,"Inferno3",(function(){return fo})),n.d(r,"Inferno4",(function(){return ho})),n.d(r,"Inferno5",(function(){return po})),n.d(r,"Inferno6",(function(){return vo})),n.d(r,"Inferno7",(function(){return go})),n.d(r,"Inferno8",(function(){return mo})),n.d(r,"Inferno9",(function(){return yo})),n.d(r,"Inferno10",(function(){return _o})),n.d(r,"Inferno11",(function(){return bo})),n.d(r,"Inferno256",(function(){return Ao})),n.d(r,"Magma3",(function(){return wo})),n.d(r,"Magma4",(function(){return xo})),n.d(r,"Magma5",(function(){return ko})),n.d(r,"Magma6",(function(){return Co})),n.d(r,"Magma7",(function(){return Eo})),n.d(r,"Magma8",(function(){return So})),n.d(r,"Magma9",(function(){return Ro})),n.d(r,"Magma10",(function(){return To})),n.d(r,"Magma11",(function(){return Io})),n.d(r,"Magma256",(function(){return Oo})),n.d(r,"Plasma3",(function(){return Mo})),n.d(r,"Plasma4",(function(){return Po})),n.d(r,"Plasma5",(function(){return Do})),n.d(r,"Plasma6",(function(){return No})),n.d(r,"Plasma7",(function(){return Lo})),n.d(r,"Plasma8",(function(){return jo})),n.d(r,"Plasma9",(function(){return Fo})),n.d(r,"Plasma10",(function(){return zo})),n.d(r,"Plasma11",(function(){return Bo})),n.d(r,"Plasma256",(function(){return Uo})),n.d(r,"Viridis3",(function(){return Go})),n.d(r,"Viridis4",(function(){return Vo})),n.d(r,"Viridis5",(function(){return Ho})),n.d(r,"Viridis6",(function(){return qo})),n.d(r,"Viridis7",(function(){return Wo})),n.d(r,"Viridis8",(function(){return Yo})),n.d(r,"Viridis9",(function(){return Xo})),n.d(r,"Viridis10",(function(){return $o})),n.d(r,"Viridis11",(function(){return Jo})),n.d(r,"Viridis256",(function(){return Ko})),n.d(r,"Accent3",(function(){return Qo})),n.d(r,"Accent4",(function(){return Zo})),n.d(r,"Accent5",(function(){return ta})),n.d(r,"Accent6",(function(){return ea})),n.d(r,"Accent7",(function(){return na})),n.d(r,"Accent8",(function(){return ra})),n.d(r,"Dark2_3",(function(){return ia})),n.d(r,"Dark2_4",(function(){return oa})),n.d(r,"Dark2_5",(function(){return aa})),n.d(r,"Dark2_6",(function(){return sa})),n.d(r,"Dark2_7",(function(){return la})),n.d(r,"Dark2_8",(function(){return ua})),n.d(r,"Paired3",(function(){return ca})),n.d(r,"Paired4",(function(){return fa})),n.d(r,"Paired5",(function(){return ha})),n.d(r,"Paired6",(function(){return da})),n.d(r,"Paired7",(function(){return pa})),n.d(r,"Paired8",(function(){return va})),n.d(r,"Paired9",(function(){return ga})),n.d(r,"Paired10",(function(){return ma})),n.d(r,"Paired11",(function(){return ya})),n.d(r,"Paired12",(function(){return _a})),n.d(r,"Pastel1_3",(function(){return ba})),n.d(r,"Pastel1_4",(function(){return Aa})),n.d(r,"Pastel1_5",(function(){return wa})),n.d(r,"Pastel1_6",(function(){return xa})),n.d(r,"Pastel1_7",(function(){return ka})),n.d(r,"Pastel1_8",(function(){return Ca})),n.d(r,"Pastel1_9",(function(){return Ea})),n.d(r,"Pastel2_3",(function(){return Sa})),n.d(r,"Pastel2_4",(function(){return Ra})),n.d(r,"Pastel2_5",(function(){return Ta})),n.d(r,"Pastel2_6",(function(){return Ia})),n.d(r,"Pastel2_7",(function(){return Oa})),n.d(r,"Pastel2_8",(function(){return Ma})),n.d(r,"Set1_3",(function(){return Pa})),n.d(r,"Set1_4",(function(){return Da})),n.d(r,"Set1_5",(function(){return Na})),n.d(r,"Set1_6",(function(){return La})),n.d(r,"Set1_7",(function(){return ja})),n.d(r,"Set1_8",(function(){return Fa})),n.d(r,"Set1_9",(function(){return za})),n.d(r,"Set2_3",(function(){return Ba})),n.d(r,"Set2_4",(function(){return Ua})),n.d(r,"Set2_5",(function(){return Ga})),n.d(r,"Set2_6",(function(){return Va})),n.d(r,"Set2_7",(function(){return Ha})),n.d(r,"Set2_8",(function(){return qa})),n.d(r,"Set3_3",(function(){return Wa})),n.d(r,"Set3_4",(function(){return Ya})),n.d(r,"Set3_5",(function(){return Xa})),n.d(r,"Set3_6",(function(){return $a})),n.d(r,"Set3_7",(function(){return Ja})),n.d(r,"Set3_8",(function(){return Ka})),n.d(r,"Set3_9",(function(){return Qa})),n.d(r,"Set3_10",(function(){return Za})),n.d(r,"Set3_11",(function(){return ts})),n.d(r,"Set3_12",(function(){return es})),n.d(r,"Category10_3",(function(){return ns})),n.d(r,"Category10_4",(function(){return rs})),n.d(r,"Category10_5",(function(){return is})),n.d(r,"Category10_6",(function(){return os})),n.d(r,"Category10_7",(function(){return as})),n.d(r,"Category10_8",(function(){return ss})),n.d(r,"Category10_9",(function(){return ls})),n.d(r,"Category10_10",(function(){return us})),n.d(r,"Category20_3",(function(){return cs})),n.d(r,"Category20_4",(function(){return fs})),n.d(r,"Category20_5",(function(){return hs})),n.d(r,"Category20_6",(function(){return ds})),n.d(r,"Category20_7",(function(){return ps})),n.d(r,"Category20_8",(function(){return vs})),n.d(r,"Category20_9",(function(){return gs})),n.d(r,"Category20_10",(function(){return ms})),n.d(r,"Category20_11",(function(){return ys})),n.d(r,"Category20_12",(function(){return _s})),n.d(r,"Category20_13",(function(){return bs})),n.d(r,"Category20_14",(function(){return As})),n.d(r,"Category20_15",(function(){return ws})),n.d(r,"Category20_16",(function(){return xs})),n.d(r,"Category20_17",(function(){return ks})),n.d(r,"Category20_18",(function(){return Cs})),n.d(r,"Category20_19",(function(){return Es})),n.d(r,"Category20_20",(function(){return Ss})),n.d(r,"Category20b_3",(function(){return Rs})),n.d(r,"Category20b_4",(function(){return Ts})),n.d(r,"Category20b_5",(function(){return Is})),n.d(r,"Category20b_6",(function(){return Os})),n.d(r,"Category20b_7",(function(){return Ms})),n.d(r,"Category20b_8",(function(){return Ps})),n.d(r,"Category20b_9",(function(){return Ds})),n.d(r,"Category20b_10",(function(){return Ns})),n.d(r,"Category20b_11",(function(){return Ls})),n.d(r,"Category20b_12",(function(){return js})),n.d(r,"Category20b_13",(function(){return Fs})),n.d(r,"Category20b_14",(function(){return zs})),n.d(r,"Category20b_15",(function(){return Bs})),n.d(r,"Category20b_16",(function(){return Us})),n.d(r,"Category20b_17",(function(){return Gs})),n.d(r,"Category20b_18",(function(){return Vs})),n.d(r,"Category20b_19",(function(){return Hs})),n.d(r,"Category20b_20",(function(){return qs})),n.d(r,"Category20c_3",(function(){return Ws})),n.d(r,"Category20c_4",(function(){return Ys})),n.d(r,"Category20c_5",(function(){return Xs})),n.d(r,"Category20c_6",(function(){return $s})),n.d(r,"Category20c_7",(function(){return Js})),n.d(r,"Category20c_8",(function(){return Ks})),n.d(r,"Category20c_9",(function(){return Qs})),n.d(r,"Category20c_10",(function(){return Zs})),n.d(r,"Category20c_11",(function(){return tl})),n.d(r,"Category20c_12",(function(){return el})),n.d(r,"Category20c_13",(function(){return nl})),n.d(r,"Category20c_14",(function(){return rl})),n.d(r,"Category20c_15",(function(){return il})),n.d(r,"Category20c_16",(function(){return ol})),n.d(r,"Category20c_17",(function(){return al})),n.d(r,"Category20c_18",(function(){return sl})),n.d(r,"Category20c_19",(function(){return ll})),n.d(r,"Category20c_20",(function(){return ul})),n.d(r,"Colorblind3",(function(){return cl})),n.d(r,"Colorblind4",(function(){return fl})),n.d(r,"Colorblind5",(function(){return hl})),n.d(r,"Colorblind6",(function(){return dl})),n.d(r,"Colorblind7",(function(){return pl})),n.d(r,"Colorblind8",(function(){return vl})),n.d(r,"YlGn",(function(){return gl})),n.d(r,"YlGnBu",(function(){return ml})),n.d(r,"GnBu",(function(){return yl})),n.d(r,"BuGn",(function(){return _l})),n.d(r,"PuBuGn",(function(){return bl})),n.d(r,"PuBu",(function(){return Al})),n.d(r,"BuPu",(function(){return wl})),n.d(r,"RdPu",(function(){return xl})),n.d(r,"PuRd",(function(){return kl})),n.d(r,"OrRd",(function(){return Cl})),n.d(r,"YlOrRd",(function(){return El})),n.d(r,"YlOrBr",(function(){return Sl})),n.d(r,"Purples",(function(){return Rl})),n.d(r,"Blues",(function(){return Tl})),n.d(r,"Greens",(function(){return Il})),n.d(r,"Oranges",(function(){return Ol})),n.d(r,"Reds",(function(){return Ml})),n.d(r,"Greys",(function(){return Pl})),n.d(r,"PuOr",(function(){return Dl})),n.d(r,"BrBG",(function(){return Nl})),n.d(r,"PRGn",(function(){return Ll})),n.d(r,"PiYG",(function(){return jl})),n.d(r,"RdBu",(function(){return Fl})),n.d(r,"RdGy",(function(){return zl})),n.d(r,"RdYlBu",(function(){return Bl})),n.d(r,"Spectral",(function(){return Ul})),n.d(r,"RdYlGn",(function(){return Gl})),n.d(r,"Inferno",(function(){return Vl})),n.d(r,"Magma",(function(){return Hl})),n.d(r,"Plasma",(function(){return ql})),n.d(r,"Viridis",(function(){return Wl})),n.d(r,"Accent",(function(){return Yl})),n.d(r,"Dark2",(function(){return Xl})),n.d(r,"Paired",(function(){return $l})),n.d(r,"Pastel1",(function(){return Jl})),n.d(r,"Pastel2",(function(){return Kl})),n.d(r,"Set1",(function(){return Ql})),n.d(r,"Set2",(function(){return Zl})),n.d(r,"Set3",(function(){return tu})),n.d(r,"Category10",(function(){return eu})),n.d(r,"Category20",(function(){return nu})),n.d(r,"Category20b",(function(){return ru})),n.d(r,"Category20c",(function(){return iu})),n.d(r,"Colorblind",(function(){return ou}));var i={};n.r(i),n.d(i,"gridplot",(function(){return gu})),n.d(i,"color",(function(){return mu.e})),n.d(i,"Figure",(function(){return xu})),n.d(i,"figure",(function(){return ku})),n.d(i,"show",(function(){return Cu}));var o={};n.r(o),n.d(o,"AbstractButton",(function(){return Gu})),n.d(o,"AbstractIcon",(function(){return qu})),n.d(o,"AutocompleteInput",(function(){return sc})),n.d(o,"Button",(function(){return fc})),n.d(o,"CheckboxButtonGroup",(function(){return mc})),n.d(o,"CheckboxGroup",(function(){return xc})),n.d(o,"ColorPicker",(function(){return Ec})),n.d(o,"DatePicker",(function(){return Dc})),n.d(o,"DateRangeSlider",(function(){return qc})),n.d(o,"DateSlider",(function(){return Xc})),n.d(o,"Div",(function(){return ef})),n.d(o,"Dropdown",(function(){return of})),n.d(o,"FileInput",(function(){return lf})),n.d(o,"InputWidget",(function(){return $u})),n.d(o,"Markup",(function(){return Qc})),n.d(o,"MultiSelect",(function(){return df})),n.d(o,"Paragraph",(function(){return gf})),n.d(o,"PasswordInput",(function(){return _f})),n.d(o,"MultiChoice",(function(){return kf})),n.d(o,"PreText",(function(){return Sf})),n.d(o,"RadioButtonGroup",(function(){return If})),n.d(o,"RadioGroup",(function(){return Pf})),n.d(o,"RangeSlider",(function(){return jf})),n.d(o,"Select",(function(){return Bf})),n.d(o,"Slider",(function(){return Vf})),n.d(o,"Spinner",(function(){return Jf})),n.d(o,"TextInput",(function(){return Qu})),n.d(o,"TextAreaInput",(function(){return Zf})),n.d(o,"Toggle",(function(){return nh})),n.d(o,"Widget",(function(){return Mu}));var a={};n.r(a),n.d(a,"CellEditorView",(function(){return Ah})),n.d(a,"CellEditor",(function(){return wh})),n.d(a,"StringEditorView",(function(){return xh})),n.d(a,"StringEditor",(function(){return kh})),n.d(a,"TextEditorView",(function(){return Ch})),n.d(a,"TextEditor",(function(){return Eh})),n.d(a,"SelectEditorView",(function(){return Sh})),n.d(a,"SelectEditor",(function(){return Rh})),n.d(a,"PercentEditorView",(function(){return Th})),n.d(a,"PercentEditor",(function(){return Ih})),n.d(a,"CheckboxEditorView",(function(){return Oh})),n.d(a,"CheckboxEditor",(function(){return Mh})),n.d(a,"IntEditorView",(function(){return Ph})),n.d(a,"IntEditor",(function(){return Dh})),n.d(a,"NumberEditorView",(function(){return Nh})),n.d(a,"NumberEditor",(function(){return Lh})),n.d(a,"TimeEditorView",(function(){return jh})),n.d(a,"TimeEditor",(function(){return Fh})),n.d(a,"DateEditorView",(function(){return zh})),n.d(a,"DateEditor",(function(){return Bh})),n.d(a,"CellFormatter",(function(){return Vh})),n.d(a,"StringFormatter",(function(){return Hh})),n.d(a,"ScientificFormatter",(function(){return qh})),n.d(a,"NumberFormatter",(function(){return Wh})),n.d(a,"BooleanFormatter",(function(){return Yh})),n.d(a,"DateFormatter",(function(){return Xh})),n.d(a,"HTMLTemplateFormatter",(function(){return $h})),n.d(a,"DataTable",(function(){return mh})),n.d(a,"TableColumn",(function(){return Kh})),n.d(a,"TableWidget",(function(){return ch})),n.d(a,"AvgAggregator",(function(){return ad})),n.d(a,"MinAggregator",(function(){return ld})),n.d(a,"MaxAggregator",(function(){return cd})),n.d(a,"SumAggregator",(function(){return hd})),n.d(a,"GroupingInfo",(function(){return gd})),n.d(a,"DataCube",(function(){return _d}));var s=n(20),l=n.n(s),u=n(124),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function h(t){if("object"!==l()(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(d)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,c=!1;function p(){s===a&&(s=a.slice())}function v(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function g(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return p(),s.push(t),function(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,p();var n=s.indexOf(t);s.splice(n,1),a=null}}}function m(t){if(!h(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,t)}finally{c=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}function y(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,m({type:f.REPLACE})}function _(){var t,e=g;return(t={subscribe:function(t){if("object"!==l()(t)||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(v())}return n(),{unsubscribe:e(n)}}})[u.a]=function(){return this},t}return m({type:f.INIT}),(r={dispatch:m,subscribe:g,getState:v,replaceReducer:y})[u.a]=_,r}function p(t,e){return function(){return e(t.apply(this,arguments))}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var _=n(11),b=n.n(_),A=n(108),w=n.n(A),x=(n(147),b.a.createContext(null));var k=function(t){t()},C={notify:function(){}};function E(){var t=k,e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var S=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=C,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=E())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=C)},t}();var R=function(t){var e=t.store,n=t.context,r=t.children,i=Object(_.useMemo)((function(){var t=new S(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),o=Object(_.useMemo)((function(){return e.getState()}),[e]);Object(_.useEffect)((function(){var t=i.subscription;return t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[i,o]);var a=n||x;return b.a.createElement(a.Provider,{value:i},r)};function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function I(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var O=n(123),M=n.n(O),P=n(122),D="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?_.useLayoutEffect:_.useEffect,N=[],L=[null,null];function j(t,e){var n=t[1];return[e.payload,n+1]}function F(t,e,n){D((function(){return t.apply(void 0,e)}),n)}function z(t,e,n,r,i,o,a){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,a())}function B(t,e,n,r,i,o,a,s,l,u){if(t){var c=!1,f=null,h=function(){if(!c){var t,n,h=e.getState();try{t=r(h,i.current)}catch(t){n=t,f=t}n||(f=null),t===o.current?a.current||l():(o.current=t,s.current=t,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var U=function(){return[null,0]};function G(t,e){void 0===e&&(e={});var n=e,r=n.getDisplayName,i=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,o=n.methodName,a=void 0===o?"connectAdvanced":o,s=n.renderCountProp,l=void 0===s?void 0:s,u=n.shouldHandleStateChanges,c=void 0===u||u,f=n.storeKey,h=void 0===f?"store":f,d=(n.withRef,n.forwardRef),p=void 0!==d&&d,v=n.context,g=void 0===v?x:v,m=I(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),y=g;return function(e){var n=e.displayName||e.name||"Component",r=i(n),o=T({},m,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:c,storeKey:h,displayName:r,wrappedComponentName:n,WrappedComponent:e}),s=m.pure;var u=s?_.useMemo:function(t){return t()};function f(n){var r=Object(_.useMemo)((function(){var t=n.reactReduxForwardedRef,e=I(n,["reactReduxForwardedRef"]);return[n.context,t,e]}),[n]),i=r[0],a=r[1],s=r[2],l=Object(_.useMemo)((function(){return i&&i.Consumer&&Object(P.isContextConsumer)(b.a.createElement(i.Consumer,null))?i:y}),[i,y]),f=Object(_.useContext)(l),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var d=h?n.store:f.store,p=Object(_.useMemo)((function(){return function(e){return t(e.dispatch,o)}(d)}),[d]),v=Object(_.useMemo)((function(){if(!c)return L;var t=new S(d,h?null:f.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[d,h,f]),g=v[0],m=v[1],A=Object(_.useMemo)((function(){return h?f:T({},f,{subscription:g})}),[h,f,g]),w=Object(_.useReducer)(j,N,U),x=w[0][0],k=w[1];if(x&&x.error)throw x.error;var C=Object(_.useRef)(),E=Object(_.useRef)(s),R=Object(_.useRef)(),O=Object(_.useRef)(!1),M=u((function(){return R.current&&s===E.current?R.current:p(d.getState(),s)}),[d,x,s]);F(z,[E,C,O,s,M,R,m]),F(B,[c,d,g,p,E,C,O,R,m,k],[d,g,p]);var D=Object(_.useMemo)((function(){return b.a.createElement(e,T({},M,{ref:a}))}),[a,e,M]);return Object(_.useMemo)((function(){return c?b.a.createElement(l.Provider,{value:A},D):D}),[l,D,A])}var d=s?b.a.memo(f):f;if(d.WrappedComponent=e,d.displayName=r,p){var v=b.a.forwardRef((function(t,e){return b.a.createElement(d,T({},t,{reactReduxForwardedRef:e}))}));return v.displayName=r,v.WrappedComponent=e,M()(v,e)}return M()(d,e)}}function V(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function H(t,e){if(V(t,e))return!0;if("object"!==l()(t)||null===t||"object"!==l()(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!V(t[n[i]],e[n[i]]))return!1;return!0}function q(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function W(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function Y(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=W(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=W(i),i=r(e,n)),i},r}}var X=[function(t){return"function"==typeof t?Y(t):void 0},function(t){return t?void 0:q((function(t){return{dispatch:t}}))},function(t){return t&&"object"===l()(t)?q((function(e){return function(t,e){if("function"==typeof t)return p(t,e);if("object"!==l()(t)||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":l()(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=p(i,e))}return n}(t,e)})):void 0}];var J=[function(t){return"function"==typeof t?Y(t):void 0},function(t){return t?void 0:q((function(){return{}}))}];function K(t,e,n){return T({},n,{},t,{},e)}var Q=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var l=t(e,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(t):void 0},function(t){return t?void 0:function(){return K}}];function Z(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function tt(t,e,n,r,i){var o,a,s,l,u,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p,v,g=!f(d,a),m=!c(i,o);return o=i,a=d,g&&m?(s=t(o,a),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):g?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):m?(p=t(o,a),v=!h(p,s),s=p,v&&(u=n(s,l,a)),u):u}return function(i,c){return d?p(i,c):(s=t(o=i,a=c),l=e(r,a),u=n(s,l,a),d=!0,u)}}function et(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=I(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),l=i(t,o);return(o.pure?tt:Z)(a,s,l,t,o)}function nt(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+l()(t)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function rt(t,e){return t===e}function it(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?G:n,i=e.mapStateToPropsFactories,o=void 0===i?J:i,a=e.mapDispatchToPropsFactories,s=void 0===a?X:a,l=e.mergePropsFactories,u=void 0===l?Q:l,c=e.selectorFactory,f=void 0===c?et:c;return function(t,e,n,i){void 0===i&&(i={});var a=i,l=a.pure,c=void 0===l||l,h=a.areStatesEqual,d=void 0===h?rt:h,p=a.areOwnPropsEqual,v=void 0===p?H:p,g=a.areStatePropsEqual,m=void 0===g?H:g,y=a.areMergedPropsEqual,_=void 0===y?H:y,b=I(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),A=nt(t,o,"mapStateToProps"),w=nt(e,s,"mapDispatchToProps"),x=nt(n,u,"mergeProps");return r(f,T({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:A,initMapDispatchToProps:w,initMergeProps:x,pure:c,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:_},b))}}var ot=it();var at;at=A.unstable_batchedUpdates,k=at;var st=n(2),lt=n.n(st),ut=n(4),ct=n.n(ut),ft=n(3),ht=n.n(ft),dt=n(5),pt=n.n(dt),vt=n(0),gt=n.n(vt),mt=function(t){return{type:"SET_PALETTE",payload:t}},yt=function(t){return{type:"SET_PALETTE_NAME",payload:t}},_t=function(t){return{type:"SET_PALETTE_NUMBER",payload:t}},bt=function(t){return{type:"SET_TIME_INDEX",payload:t}},At=function(t){return{type:"SET_FIGURE",payload:t}},wt=function(t){return{type:"SET_FLAG",payload:t}},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"TOGGLE_FLAG",payload:{prop:t,initial:e}}};n(152);function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Ct=function(t){ht()(n,t);var e=kt(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t,e=this.props,n=e.dispatch,r=e.playing;return t=r?"fas fa-pause":"fas fa-play",b.a.createElement("button",{onClick:function(t){return function(){t({type:"SET_PLAYING",payload:!r})}}(n),className:"lite-btn play-btn"},b.a.createElement("i",{className:t}))}}]),n}(b.a.Component),Et=ot((function(t){var e=t.playing;return{playing:void 0!==e&&e}}))(Ct),St=function(t){ht()(n,t);var e=kt(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props.dispatch;return b.a.createElement("button",{onClick:function(t){return function(){t({type:"PREVIOUS_TIME_INDEX"})}}(t),className:"lite-btn previous-btn"},b.a.createElement("i",{className:"fas fa-angle-left"}))}}]),n}(b.a.Component),Rt=ot((function(t){return{}}))(St),Tt=function(t){ht()(n,t);var e=kt(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props.dispatch;return b.a.createElement("button",{onClick:function(t){return function(){t({type:"NEXT_TIME_INDEX"})}}(t),className:"lite-btn next-btn"},b.a.createElement("i",{className:"fas fa-angle-right"}))}}]),n}(b.a.Component),It=ot((function(t){return{}}))(Tt),Ot=function(t){ht()(n,t);var e=kt(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"animation-container btn-row"},b.a.createElement(Rt,null),b.a.createElement(Et,null),b.a.createElement(It,null))}}]),n}(b.a.Component),Mt=(n(90),n(14)),Pt=n.n(Mt),Dt=n(6),Nt=n.n(Dt),Lt=n(47),jt=n.n(Lt),Ft=n(21),zt=n.n(Ft),Bt=n(41),Ut=n(15),Gt=n(30),Vt=n(10),Ht=(n(103),n(13)),qt=n.n(Ht),Wt=n(46),Yt=n(39),Xt=n(8);var $t=n(117).a;function Jt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qt={};function Zt(t,e){return te.apply(this,arguments)}function te(){return(te=zt()(Pt.a.mark((function t(e,n){var r,i,o,a,s,l,u,c,f,h=arguments;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=function(t){var e=o.get(t);null!=e&&(e.remove(),o.delete(t),delete Qt[t.id])},s=function(){return(s=zt()(Pt.a.mark((function t(i){var a,s,l,u,c;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.roots(),l=s.indexOf(i),null!=(u=r[l])?a=u:n.classList.contains($t)?a=n:(a=Object(Xt.k)({class:$t}),n.appendChild(a)),t.next=6,Object(Yt.a)(i,{parent:null});case 6:return(c=t.sent)instanceof Wt.a&&c.renderTo(a),o.set(i,c),Qt[i.id]=c,t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)},a=function(t){return s.apply(this,arguments)},r=h.length>2&&void 0!==h[2]?h[2]:[],i=h.length>3&&void 0!==h[3]&&h[3],o=new Map,u=Jt(e.roots()),t.prev=7,u.s();case 9:if((c=u.n()).done){t.next=15;break}return f=c.value,t.next=13,a(f);case 13:t.next=9;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),u.e(t.t0);case 20:return t.prev=20,u.f(),t.finish(20);case 23:return i&&(window.document.title=e.title()),e.on_change((function(t){t instanceof Bt.d?a(t.model):t instanceof Bt.e?l(t.model):i&&t instanceof Bt.f&&(window.document.title=t.title)})),t.abrupt("return",qt()(o.values()));case 26:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})))).apply(this,arguments)}var ee=function(){function t(e,n,r){lt()(this,t),this.header=e,this.metadata=n,this.content=r,this.buffers=new Map}return ct()(t,[{key:"assemble_buffer",value:function(t,e){var n=null!=this.header.num_buffers?this.header.num_buffers:0;if(n<=this.buffers.size)throw new Error("too many buffers received, expecting ".concat(n));var r=JSON.parse(t).id;this.buffers.set(r,e)}},{key:"complete",value:function(){return null!=this.header&&null!=this.metadata&&null!=this.content&&(null==this.header.num_buffers||this.buffers.size==this.header.num_buffers)}},{key:"send",value:function(t){if((null!=this.header.num_buffers?this.header.num_buffers:0)>0)throw new Error("BokehJS only supports receiving buffers, not sending");var e=JSON.stringify(this.header),n=JSON.stringify(this.metadata),r=JSON.stringify(this.content);t.send(e),t.send(n),t.send(r)}},{key:"msgid",value:function(){return this.header.msgid}},{key:"msgtype",value:function(){return this.header.msgtype}},{key:"reqid",value:function(){return this.header.reqid}},{key:"problem",value:function(){return"msgid"in this.header?"msgtype"in this.header?null:"No msgtype in header":"No msgid in header"}}],[{key:"assemble",value:function(e,n,r){return new t(JSON.parse(e),JSON.parse(n),JSON.parse(r))}},{key:"create",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.create_header(e);return new t(i,n,r)}},{key:"create_header",value:function(t){return{msgid:Object(Gt.d)(),msgtype:t}}}]),t}();ee.__name__="Message";var ne=function(){function t(){lt()(this,t),this.message=null,this._partial=null,this._fragments=[],this._buf_header=null,this._current_consumer=this._HEADER}return ct()(t,[{key:"consume",value:function(t){this._current_consumer(t)}},{key:"_HEADER",value:function(t){this._assume_text(t),this.message=null,this._partial=null,this._fragments=[t],this._buf_header=null,this._current_consumer=this._METADATA}},{key:"_METADATA",value:function(t){this._assume_text(t),this._fragments.push(t),this._current_consumer=this._CONTENT}},{key:"_CONTENT",value:function(t){this._assume_text(t),this._fragments.push(t);var e=this._fragments.slice(0,3),n=Nt()(e,3),r=n[0],i=n[1],o=n[2];this._partial=ee.assemble(r,i,o),this._check_complete()}},{key:"_BUFFER_HEADER",value:function(t){this._assume_text(t),this._buf_header=t,this._current_consumer=this._BUFFER_PAYLOAD}},{key:"_BUFFER_PAYLOAD",value:function(t){this._assume_binary(t),this._partial.assemble_buffer(this._buf_header,t),this._check_complete()}},{key:"_assume_text",value:function(t){if(!Object(Vt.j)(t))throw new Error("Expected text fragment but received binary fragment")}},{key:"_assume_binary",value:function(t){if(!(t instanceof ArrayBuffer))throw new Error("Expected binary fragment but received text fragment")}},{key:"_check_complete",value:function(){this._partial.complete()?(this.message=this._partial,this._current_consumer=this._HEADER):this._current_consumer=this._BUFFER_HEADER}}]),t}();ne.__name__="Receiver";var re=function(){function t(e,n,r){var i=this;lt()(this,t),this._connection=e,this.document=n,this.id=r,this._document_listener=function(t){i._document_changed(t)},this.document.on_change(this._document_listener,!0)}var e,n;return ct()(t,[{key:"handle",value:function(t){var e=t.msgtype();"PATCH-DOC"===e?this._handle_patch(t):"OK"===e?this._handle_ok(t):"ERROR"===e?this._handle_error(t):Ut.a.debug("Doing nothing with message ".concat(t.msgtype()))}},{key:"close",value:function(){this._connection.close()}},{key:"_connection_closed",value:function(){this.document.remove_on_change(this._document_listener)}},{key:"request_server_info",value:(n=zt()(Pt.a.mark((function t(){var e,n;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=ee.create("SERVER-INFO-REQ",{}),t.next=3,this._connection.send_with_reply(e);case 3:return n=t.sent,t.abrupt("return",n.content);case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"force_roundtrip",value:(e=zt()(Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request_server_info();case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_document_changed",value:function(t){if(t.setter_id!==this.id){var e=t instanceof Bt.b?t.events:[t],n=this.document.create_json_patch(e),r=ee.create("PATCH-DOC",{},n);this._connection.send(r)}}},{key:"_handle_patch",value:function(t){this.document.apply_json_patch(t.content,t.buffers,this.id)}},{key:"_handle_ok",value:function(t){Ut.a.trace("Unhandled OK reply to ".concat(t.reqid()))}},{key:"_handle_error",value:function(t){Ut.a.error("Unhandled ERROR reply to ".concat(t.reqid(),": ").concat(t.content.text))}}]),t}();function ie(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}re.__name__="ClientSession";var ae=0;function se(t){var e=t.split(".")[0],n=e.length%4;return 0!=n&&(e+="=".repeat(4-n)),JSON.parse(atob(e.replace(/_/g,"/").replace(/-/g,"+")))}var le=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:5006/ws",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eyJzZXNzaW9uX2lkIjogImRlZmF1bHQifQ",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;lt()(this,t),this.url=e,this.token=n,this.args_string=r,this._number=ae++,this.socket=null,this.session=null,this.closed_permanently=!1,this._current_handler=null,this._pending_replies=new Map,this._pending_messages=[],this._receiver=new ne,this.id=se(n).session_id.split(".")[0],Ut.a.debug("Creating websocket ".concat(this._number," to '").concat(this.url,"' session '").concat(this.id,"'"))}var e,n,r,i;return ct()(t,[{key:"connect",value:(i=zt()(Pt.a.mark((function t(){var e,n=this;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed_permanently){t.next=2;break}throw new Error("Cannot connect() a closed ClientConnection");case 2:if(null==this.socket){t.next=4;break}throw new Error("Already connected");case 4:return this._current_handler=null,this._pending_replies.clear(),this._pending_messages=[],t.prev=7,e="".concat(this.url),null!=this.args_string&&this.args_string.length>0&&(e+="?".concat(this.args_string)),this.socket=new WebSocket(e,["bokeh",this.token]),t.abrupt("return",new Promise((function(t,e){n.socket.binaryType="arraybuffer",n.socket.onopen=function(){return n._on_open(t,e)},n.socket.onmessage=function(t){return n._on_message(t)},n.socket.onclose=function(t){return n._on_close(t,e)},n.socket.onerror=function(){return n._on_error(e)}})));case 14:throw t.prev=14,t.t0=t.catch(7),Ut.a.error("websocket creation failed to url: ".concat(this.url)),Ut.a.error(" - ".concat(t.t0)),t.t0;case 19:case"end":return t.stop()}}),t,this,[[7,14]])}))),function(){return i.apply(this,arguments)})},{key:"close",value:function(){this.closed_permanently||(Ut.a.debug("Permanently closing websocket connection ".concat(this._number)),this.closed_permanently=!0,null!=this.socket&&this.socket.close(1e3,"close method called on ClientConnection ".concat(this._number)),this.session._connection_closed())}},{key:"_schedule_reconnect",value:function(t){var e=this;setTimeout((function(){e.closed_permanently||Ut.a.info("Websocket connection ".concat(e._number," disconnected, will not attempt to reconnect"))}),t)}},{key:"send",value:function(t){if(null==this.socket)throw new Error("not connected so cannot send ".concat(t));t.send(this.socket)}},{key:"send_with_reply",value:(r=zt()(Pt.a.mark((function t(e){var n,r=this;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){r._pending_replies.set(e.msgid(),{resolve:t,reject:n}),r.send(e)}));case 2:if("ERROR"!==(n=t.sent).msgtype()){t.next=7;break}throw new Error("Error reply ".concat(n.content.text));case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"_pull_doc_json",value:(n=zt()(Pt.a.mark((function t(){var e,n;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=ee.create("PULL-DOC-REQ",{}),t.next=3,this.send_with_reply(e);case 3:if("doc"in(n=t.sent).content){t.next=6;break}throw new Error("No 'doc' field in PULL-DOC-REPLY");case 6:return t.abrupt("return",n.content.doc);case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_repull_session_doc",value:(e=zt()(Pt.a.mark((function t(e,n){var r,i,o,a,s,l,u,c;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ut.a.debug(this.session?"Repulling session":"Pulling session for first time"),t.prev=1,t.next=4,this._pull_doc_json();case 4:if(i=t.sent,null==this.session)if(this.closed_permanently)Ut.a.debug("Got new document after connection was already closed"),n(new Error("The connection has been closed"));else{o=Bt.a.from_json(i),(a=Bt.a._compute_patch_since_json(i,o)).events.length>0&&(Ut.a.debug("Sending ".concat(a.events.length," changes from model construction back to server")),s=ee.create("PATCH-DOC",{},a),this.send(s)),this.session=new re(this,o,this.id),l=ie(this._pending_messages);try{for(l.s();!(u=l.n()).done;)c=u.value,this.session.handle(c)}catch(t){l.e(t)}finally{l.f()}this._pending_messages=[],Ut.a.debug("Created a new session from new pulled doc"),e(this.session)}else this.session.document.replace_with_json(i),Ut.a.debug("Updated existing session with new pulled doc");t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),null===(r=console.trace)||void 0===r||r.call(console,t.t0),Ut.a.error("Failed to repull session ".concat(t.t0)),n(t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(t,n){return e.apply(this,arguments)})},{key:"_on_open",value:function(t,e){var n=this;Ut.a.info("Websocket connection ".concat(this._number," is now open")),this._current_handler=function(r){n._awaiting_ack_handler(r,t,e)}}},{key:"_on_message",value:function(t){null==this._current_handler&&Ut.a.error("Got a message with no current handler set");try{this._receiver.consume(t.data)}catch(t){this._close_bad_protocol(t.toString())}var e=this._receiver.message;if(null!=e){var n=e.problem();null!=n&&this._close_bad_protocol(n),this._current_handler(e)}}},{key:"_on_close",value:function(t,e){Ut.a.info("Lost websocket ".concat(this._number," connection, ").concat(t.code," (").concat(t.reason,")")),this.socket=null,this._pending_replies.forEach((function(t){return t.reject("Disconnected")})),this._pending_replies.clear(),this.closed_permanently||this._schedule_reconnect(2e3),e(new Error("Lost websocket connection, ".concat(t.code," (").concat(t.reason,")")))}},{key:"_on_error",value:function(t){Ut.a.debug("Websocket error on socket ".concat(this._number));var e="Could not open websocket";Ut.a.error("Failed to connect to Bokeh server: ".concat(e)),t(new Error(e))}},{key:"_close_bad_protocol",value:function(t){Ut.a.error("Closing connection: ".concat(t)),null!=this.socket&&this.socket.close(1002,t)}},{key:"_awaiting_ack_handler",value:function(t,e,n){var r=this;"ACK"===t.msgtype()?(this._current_handler=function(t){return r._steady_state_handler(t)},this._repull_session_doc(e,n)):this._close_bad_protocol("First message was not an ACK")}},{key:"_steady_state_handler",value:function(t){var e=t.reqid(),n=this._pending_replies.get(e);n?(this._pending_replies.delete(e),n.resolve(t)):this.session?this.session.handle(t):"PATCH-DOC"!=t.msgtype()&&this._pending_messages.push(t)}}]),t}();le.__name__="ClientConnection";var ue=n(16),ce=n(115),fe=n(118);Xt.I.append(ce.a),Xt.I.append(fe.a),Xt.I.append("\n/* notebook specific tweaks so no black outline and matching padding\n/* can't be wrapped inside bk-root. here are the offending jupyter lines:\n/* https://github.com/jupyter/notebook/blob/master/notebook/static/notebook/less/renderedhtml.less#L59-L76 */\n.rendered_html .bk-root .bk-tooltip table,\n.rendered_html .bk-root .bk-tooltip tr,\n.rendered_html .bk-root .bk-tooltip th,\n.rendered_html .bk-root .bk-tooltip td {\n  border: none;\n  padding: 1px;\n}\n");n(88);var he=n(78);var de=n(9),pe=function(){function t(e){lt()(this,t),this.seed=e%2147483647,this.seed<=0&&(this.seed+=2147483646)}return ct()(t,[{key:"integer",value:function(){return this.seed=48271*this.seed%2147483647,this.seed}},{key:"float",value:function(){return(this.integer()-1)/2147483646}},{key:"floats",value:function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.float();return e}}]),t}();pe.__name__="Random";new pe(Date.now());var ve=n(79),ge=[3253076,11394446,16252089],me=[2327619,7915129,12773017,16777164],ye=[26679,3253076,7915129,12773017,16777164],_e=[26679,3253076,7915129,11394446,14282915,16777164],be=[23090,2327619,4303709,7915129,11394446,14282915,16777164],Ae=[23090,2327619,4303709,7915129,11394446,14282915,16252089,16777189],we=[17705,26679,2327619,4303709,7915129,11394446,14282915,16252089,16777189],xe=[2916280,8375739,15595697],ke=[2252456,4306628,10607284,16777164],Ce=[2438292,2916280,4306628,10607284,16777164],Ee=[2438292,2916280,4306628,8375739,13101492,16777164],Se=[797828,2252456,1937856,4306628,8375739,13101492,16777164],Re=[797828,2252456,1937856,4306628,8375739,13101492,15595697,16777177],Te=[531800,2438292,2252456,1937856,4306628,8375739,13101492,15595697,16777177],Ie=[4432586,11066805,14742491],Oe=[2854078,8113348,12248252,15792616],Me=[551084,4432586,8113348,12248252,15792616],Pe=[551084,4432586,8113348,11066805,13429701,15792616],De=[546974,2854078,5157843,8113348,11066805,13429701,15792616],Ne=[546974,2854078,5157843,8113348,11066805,13429701,14742491,16252144],Le=[540801,551084,2854078,5157843,8113348,11066805,13429701,14742491,16252144],je=[2925151,10082505,15070713],Fe=[2329413,6734500,11723490,15595771],ze=[27948,2925151,6734500,11723490,15595771],Be=[27948,2925151,6734500,10082505,13429990,15595771],Ue=[22564,2329413,4304502,6734500,10082505,13429990,15595771],Ge=[22564,2329413,4304502,6734500,10082505,13429990,15070713,16252157],Ve=[17435,27948,2329413,4304502,6734500,10082505,13429990,15070713,16252157],He=[1872025,10927579,15524592],qe=[164234,6793679,12437985,16183287],We=[93273,1872025,6793679,12437985,16183287],Ye=[93273,1872025,6793679,10927579,13685222,16183287],Xe=[91216,164234,3576e3,6793679,10927579,13685222,16183287],$e=[91216,164234,3576e3,6793679,10927579,13685222,15524592,16775163],Je=[83510,93273,164234,3576e3,6793679,10927579,13685222,15524592,16775163],Ke=[2854078,10927579,15525874],Qe=[356528,7645647,12437985,15855350],Ze=[285325,2854078,7645647,12437985,15855350],tn=[285325,2854078,7645647,10927579,13685222,15855350],en=[216699,356528,3576e3,7645647,10927579,13685222,15855350],nn=[216699,356528,3576e3,7645647,10927579,13685222,15525874,16775163],rn=[145496,285325,356528,3576e3,7645647,10927579,13685222,15525874,16775163],on=[8935079,10403034,14740724],an=[8929693,9213638,11783651,15595771],sn=[8458108,8935079,9213638,11783651,15595771],ln=[8458108,8935079,9213638,10403034,12571622,15595771],un=[7209323,8929693,9202609,9213638,10403034,12571622,15595771],cn=[7209323,8929693,9202609,9213638,10403034,12571622,14740724,16252157],fn=[5046347,8458108,8929693,9202609,9213638,10403034,12571622,14740724,16252157],hn=[12917642,16424885,16638173],dn=[11403646,16214177,16495801,16706530],pn=[7995767,12917642,16214177,16495801,16706530],vn=[7995767,12917642,16214177,16424885,16565696,16706530],gn=[7995767,11403646,14496919,16214177,16424885,16565696,16706530],mn=[7995767,11403646,14496919,16214177,16424885,16565696,16638173,16775155],yn=[4784234,7995767,11403646,14496919,16214177,16424885,16565696,16638173,16775155],_n=[14490743,13210823,15196655],bn=[13505110,14640560,14136792,15855350],An=[9961539,14490743,14640560,14136792,15855350],wn=[9961539,14490743,14640560,13210823,13941210,15855350],xn=[9502783,13505110,15149450,14640560,13210823,13941210,15855350],kn=[9502783,13505110,15149450,14640560,13210823,13941210,15196655,16250105],Cn=[6750239,9961539,13505110,15149450,14640560,13210823,13941210,15196655,16250105],En=[14895667,16628612,16705736],Sn=[14102559,16551257,16632970,16707801],Rn=[11730944,14895667,16551257,16632970,16707801],Tn=[11730944,14895667,16551257,16628612,16635038,16707801],In=[10027008,14102559,15689032,16551257,16628612,16635038,16707801],On=[10027008,14102559,15689032,16551257,16628612,16635038,16705736,16775148],Mn=[8323072,11730944,14102559,15689032,16551257,16628612,16635038,16705736,16775148],Pn=[15743776,16691788,16772512],Dn=[14883356,16616764,16698460,16777138],Nn=[12386342,15743776,16616764,16698460,16777138],Ln=[12386342,15743776,16616764,16691788,16701814,16777138],jn=[11599910,14883356,16535082,16616764,16691788,16701814,16777138],Fn=[11599910,14883356,16535082,16616764,16691788,16701814,16772512,16777164],zn=[8388646,12386342,14883356,16535082,16616764,16691788,16701814,16772512,16777164],Bn=[14245646,16696399,16775100],Un=[13388802,16685353,16701838,16777172],Gn=[10040324,14245646,16685353,16701838,16777172],Vn=[10040324,14245646,16685353,16696399,16704401,16777172],Hn=[9186564,13388802,15495188,16685353,16696399,16704401,16777172],qn=[9186564,13388802,15495188,16685353,16696399,16704401,16775100,16777189],Wn=[6694150,10040324,13388802,15495188,16685353,16696399,16704401,16775100,16777189],Yn=[7695281,12369372,15724021],Xn=[6967715,10394312,13355490,15921399],$n=[5515151,7695281,10394312,13355490,15921399],Jn=[5515151,7695281,10394312,12369372,14342891,15921399],Kn=[4854918,6967715,8420794,10394312,12369372,14342891,15921399],Qn=[4854918,6967715,8420794,10394312,12369372,14342891,15724021,16579581],Zn=[4128893,5515151,6967715,8420794,10394312,12369372,14342891,15724021,16579581],tr=[3244733,10406625,14609399],er=[2191797,7057110,12441575,15725567],nr=[545180,3244733,7057110,12441575,15725567],rr=[545180,3244733,7057110,10406625,13032431,15725567],ir=[542100,2191797,4362950,7057110,10406625,13032431,15725567],or=[542100,2191797,4362950,7057110,10406625,13032431,14609399,16251903],ar=[536683,545180,2191797,4362950,7057110,10406625,13032431,14609399,16251903],sr=[3253076,10607003,15070688],lr=[2329413,7652470,12248243,15595753],ur=[27948,3253076,7652470,12248243,15595753],cr=[27948,3253076,7652470,10607003,13101504,15595753],fr=[23090,2329413,4303709,7652470,10607003,13101504,15595753],hr=[23090,2329413,4303709,7652470,10607003,13101504,15070688,16252149],dr=[17435,27948,2329413,4303709,7652470,10607003,13101504,15070688,16252149],pr=[15095053,16625259,16705230],vr=[14239489,16616764,16629381,16707038],gr=[10892803,15095053,16616764,16629381,16707038],mr=[10892803,15095053,16616764,16625259,16634018,16707038],yr=[9186564,14239745,15821075,16616764,16625259,16634018,16707038],_r=[9186564,14239745,15821075,16616764,16625259,16634018,16705230,16774635],br=[8333060,10892803,14239745,15821075,16616764,16625259,16634018,16705230,16774635],Ar=[14560550,16552562,16703698],wr=[13309981,16476746,16559761,16704985],xr=[10817301,14560550,16476746,16559761,16704985],kr=[10817301,14560550,16476746,16552562,16563105,16704985],Cr=[10027021,13309981,15678252,16476746,16552562,16563105,16704985],Er=[10027021,13309981,15678252,16476746,16552562,16563105,16703698,16774640],Sr=[6750221,10817301,13309981,15678252,16476746,16552562,16563105,16703698,16774640],Rr=[6513507,12434877,15790320],Tr=[5395026,9868950,13421772,16250871],Ir=[2434341,6513507,9868950,13421772,16250871],Or=[2434341,6513507,9868950,12434877,14277081,16250871],Mr=[2434341,5395026,7566195,9868950,12434877,14277081,16250871],Pr=[2434341,5395026,7566195,9868950,12434877,14277081,15790320,16777215],Dr=[0,2434341,5395026,7566195,9868950,12434877,14277081,15790320,16777215],Nr=[0,1842204,3684408,5592405,7434609,9276813,11184810,13027014,14869218,16777215],Lr=[0,1644825,3355443,5000268,6710886,8355711,10066329,11711154,13421772,15066597,16777215],jr=[0,65793,131586,197379,263172,328965,394758,460551,526344,592137,657930,723723,789516,855309,921102,986895,1052688,1118481,1184274,1250067,1315860,1381653,1447446,1513239,1579032,1644825,1710618,1776411,1842204,1907997,1973790,2039583,2105376,2171169,2236962,2302755,2368548,2434341,2500134,2565927,2631720,2697513,2763306,2829099,2894892,2960685,3026478,3092271,3158064,3223857,3289650,3355443,3421236,3487029,3552822,3618615,3684408,3750201,3815994,3881787,3947580,4013373,4079166,4144959,4210752,4276545,4342338,4408131,4473924,4539717,4605510,4671303,4737096,4802889,4868682,4934475,5000268,5066061,5131854,5197647,5263440,5329233,5395026,5460819,5526612,5592405,5658198,5723991,5789784,5855577,5921370,5987163,6052956,6118749,6184542,6250335,6316128,6381921,6447714,6513507,6579300,6645093,6710886,6776679,6842472,6908265,6974058,7039851,7105644,7171437,7237230,7303023,7368816,7434609,7500402,7566195,7631988,7697781,7763574,7829367,7895160,7960953,8026746,8092539,8158332,8224125,8289918,8355711,8421504,8487297,8553090,8618883,8684676,8750469,8816262,8882055,8947848,9013641,9079434,9145227,9211020,9276813,9342606,9408399,9474192,9539985,9605778,9671571,9737364,9803157,9868950,9934743,10000536,10066329,10132122,10197915,10263708,10329501,10395294,10461087,10526880,10592673,10658466,10724259,10790052,10855845,10921638,10987431,11053224,11119017,11184810,11250603,11316396,11382189,11447982,11513775,11579568,11645361,11711154,11776947,11842740,11908533,11974326,12040119,12105912,12171705,12237498,12303291,12369084,12434877,12500670,12566463,12632256,12698049,12763842,12829635,12895428,12961221,13027014,13092807,13158600,13224393,13290186,13355979,13421772,13487565,13553358,13619151,13684944,13750737,13816530,13882323,13948116,14013909,14079702,14145495,14211288,14277081,14342874,14408667,14474460,14540253,14606046,14671839,14737632,14803425,14869218,14935011,15000804,15066597,15132390,15198183,15263976,15329769,15395562,15461355,15527148,15592941,15658734,15724527,15790320,15856113,15921906,15987699,16053492,16119285,16185078,16250871,16316664,16382457,16448250,16514043,16579836,16645629,16711422,16777215],Fr=[10063555,16250871,15835968],zr=[6175897,11709394,16627811,15098113],Br=[6175897,11709394,16250871,16627811,15098113],Ur=[5515144,10063555,14211819,16703670,15835968,11753478],Gr=[5515144,10063555,14211819,16250871,16703670,15835968,11753478],Vr=[5515144,8418220,11709394,14211819,16703670,16627811,14713364,11753478],Hr=[5515144,8418220,11709394,14211819,16250871,16703670,16627811,14713364,11753478],qr=[2949195,5515144,8418220,11709394,14211819,16703670,16627811,14713364,11753478,8338184],Wr=[2949195,5515144,8418220,11709394,14211819,16250871,16703670,16627811,14713364,11753478,8338184],Yr=[5944492,16119285,14201701],Xr=[99697,8441281,14664317,10903834],$r=[99697,8441281,16119285,14664317,10903834],Jr=[91742,5944492,13101797,16181443,14201701,9195786],Kr=[91742,5944492,13101797,16119285,16181443,14201701,9195786],Qr=[91742,3512207,8441281,13101797,16181443,14664317,12550445,9195786],Zr=[91742,3512207,8441281,13101797,16119285,16181443,14664317,12550445,9195786],ti=[15408,91742,3512207,8441281,13101797,16181443,14664317,12550445,9195786,5517317],ei=[15408,91742,3512207,8441281,13101797,16119285,16181443,14664317,12550445,9195786,5517317],ni=[8372091,16250871,11505091],ri=[34871,10935200,12756431,8073876],ii=[34871,10935200,16250871,12756431,8073876],oi=[1800247,8372091,14282963,15193320,11505091,7744131],ai=[1800247,8372091,14282963,16250871,15193320,11505091,7744131],si=[1800247,5942881,10935200,14282963,15193320,12756431,10055851,7744131],li=[1800247,5942881,10935200,14282963,16250871,15193320,12756431,10055851,7744131],ui=[17435,1800247,5942881,10935200,14282963,15193320,12756431,10055851,7744131,4194379],ci=[17435,1800247,5942881,10935200,14282963,16250871,15193320,12756431,10055851,7744131,4194379],fi=[10606442,16250871,15311817],hi=[5090342,12116358,15840986,13638795],di=[5090342,12116358,16250871,15840986,13638795],pi=[5083681,10606442,15136208,16638191,15311817,12917629],vi=[5083681,10606442,15136208,16250871,16638191,15311817,12917629],gi=[5083681,8371265,12116358,15136208,16638191,15840986,14579630,12917629],mi=[5083681,8371265,12116358,15136208,16250871,16638191,15840986,14579630,12917629],yi=[2581529,5083681,8371265,12116358,15136208,16638191,15840986,14579630,12917629,9306450],_i=[2581529,5083681,8371265,12116358,15136208,16250871,16638191,15840986,14579630,12917629,9306450],bi=[6793679,16250871,15698530],Ai=[356784,9618910,16033154,13238304],wi=[356784,9618910,16250871,16033154,13238304],xi=[2188972,6793679,13755888,16636871,15698530,11671595],ki=[2188972,6793679,13755888,16250871,16636871,15698530,11671595],Ci=[2188972,4428739,9618910,13755888,16636871,16033154,14049357,11671595],Ei=[2188972,4428739,9618910,13755888,16250871,16636871,16033154,14049357,11671595],Si=[340065,2188972,4428739,9618910,13755888,16636871,16033154,14049357,11671595,6750239],Ri=[340065,2188972,4428739,9618910,13755888,16250871,16636871,16033154,14049357,11671595,6750239],Ti=[10066329,16777215,15698530],Ii=[4210752,12237498,16033154,13238304],Oi=[4210752,12237498,16777215,16033154,13238304],Mi=[5066061,10066329,14737632,16636871,15698530,11671595],Pi=[5066061,10066329,14737632,16777215,16636871,15698530,11671595],Di=[5066061,8882055,12237498,14737632,16636871,16033154,14049357,11671595],Ni=[5066061,8882055,12237498,14737632,16777215,16636871,16033154,14049357,11671595],Li=[1710618,5066061,8882055,12237498,14737632,16636871,16033154,14049357,11671595,6750239],ji=[1710618,5066061,8882055,12237498,14737632,16777215,16636871,16033154,14049357,11671595,6750239],Fi=[9551835,16777151,16551257],zi=[2915254,11262441,16625249,14096668],Bi=[2915254,11262441,16777151,16625249,14096668],Ui=[4552116,9551835,14742520,16703632,16551257,14102567],Gi=[4552116,9551835,14742520,16777151,16703632,16551257,14102567],Vi=[4552116,7646673,11262441,14742520,16703632,16625249,16018755,14102567],Hi=[4552116,7646673,11262441,14742520,16777151,16703632,16625249,16018755,14102567],qi=[3225237,4552116,7646673,11262441,14742520,16703632,16625249,16018755,14102567,10813478],Wi=[3225237,4552116,7646673,11262441,14742520,16777151,16703632,16625249,16018755,14102567,10813478],Yi=[10081684,16777151,16551257],Xi=[2851770,11263396,16625249,14096668],$i=[2851770,11263396,16777151,16625249,14096668],Ji=[3311805,10081684,15136152,16703627,16551257,13975119],Ki=[3311805,10081684,15136152,16777151,16703627,16551257,13975119],Qi=[3311805,6734501,11263396,15136152,16703627,16625249,16018755,13975119],Zi=[3311805,6734501,11263396,15136152,16777151,16703627,16625249,16018755,13975119],to=[6180770,3311805,6734501,11263396,15136152,16703627,16625249,16018755,13975119,10355010],eo=[6180770,3311805,6734501,11263396,15136152,16777151,16703627,16625249,16018755,13975119,10355010],no=[9555808,16777151,16551257],ro=[1742401,10934634,16625249,14096668],io=[1742401,10934634,16777151,16625249,14096668],oo=[1742928,9555808,14282635,16703627,16551257,14102567],ao=[1742928,9555808,14282635,16777151,16703627,16551257,14102567],so=[1742928,6733155,10934634,14282635,16703627,16625249,16018755,14102567],lo=[1742928,6733155,10934634,14282635,16777151,16703627,16625249,16018755,14102567],uo=[26679,1742928,6733155,10934634,14282635,16703627,16625249,16018755,14102567,10813478],co=[26679,1742928,6733155,10934634,14282635,16777151,16703627,16625249,16018755,14102567,10813478],fo=[3,12203605,16580260],ho=[3,7871597,15558693,16580260],po=[3,5574509,12203605,16354313,16580260],vo=[3,4262247,9643367,14438457,16491530,16580260],go=[3,3279197,7871597,12203605,15558693,16495384,16580260],mo=[3,2558802,6493294,10365283,13780802,16088085,16432933,16580260],yo=[3,2034759,5574509,8921450,12203605,14899250,16354313,16304433,16580260],_o=[3,1706816,4852586,7871597,10759264,13451847,15558693,16488710,16240442,16580260],bo=[3,1444665,4262247,6952814,9643367,12203605,14438457,15889690,16491530,16176450,16580260],Ao=[3,4,6,65543,65801,65803,131342,131600,197138,262932,262934,328728,394267,460061,525855,591393,657187,722726,854056,919594,985389,1050927,1182258,1247796,1313590,1444665,1510203,1641278,1706816,1838147,1903685,2034759,2100298,2231116,2362190,2493264,2558802,2689876,2820694,2951768,3017306,3148380,3279197,3410271,3475808,3606881,3737954,3869028,3934565,4065638,4196710,4262247,4393576,4524649,4590185,4721514,4852586,4918379,5049451,5180780,5246316,5377644,5443181,5574509,5705581,5771373,5902701,5968238,6099566,6230638,6296430,6427758,6493294,6624622,6690158,6821486,6952814,7018350,7149678,7215214,7346542,7477613,7543405,7674733,7740269,7871597,8002669,8068460,8199532,8265324,8396651,8462187,8593515,8724586,8790378,8921450,8987241,9118313,9249641,9315432,9446504,9512295,9643367,9774694,9840230,9971557,10037348,10168420,10234211,10365283,10496610,10562401,10693473,10759264,10890335,10956127,11087454,11218525,11284316,11415643,11481435,11612506,11678297,11809624,11875159,12006486,12072278,12203605,12269396,12400467,12466258,12532049,12663376,12729167,12860494,12926285,13057612,13123147,13188938,13320265,13386056,13451847,13583430,13649220,13715011,13780802,13912129,13977920,14043711,14109502,14241085,14306875,14372666,14438457,14504504,14570295,14636086,14702132,14833459,14899250,14965297,15031088,15096878,15097389,15163180,15229227,15295018,15361064,15426855,15492902,15558693,15559203,15625250,15691041,15757087,15757342,15823389,15889436,15889690,15955737,15956248,16022038,16088085,16088596,16154642,16154897,16220944,16221454,16287501,16287756,16288267,16354313,16354824,16355336,16421127,16421638,16422150,16422662,16488710,16489222,16489734,16489991,16490503,16491016,16491530,16492043,16492557,16493070,16493584,16494098,16494612,16494870,16495384,16495898,16496412,16496926,16431905,16432419,16432933,16433448,16368426,16368940,16369455,16304433,16304948,16305463,16240442,16240956,16175935,16176450,16111429,16111944,16046923,16047183,15982162,15982678,15983193,15918173,15918688,15853668,15853928,15854444,15854960,15855220,15855737,15856253,15922049,15922309,15988361,16054157,16119953,16186005,16251801,16383133,16448928,16580260],wo=[3,11875961,16514239],xo=[3,7413633,15753309,16514239],ko=[3,5181819,11875961,16483936,16514239],Co=[3,3870575,9185664,14502248,16621420,16514239],Eo=[3,2822494,7413633,11875961,15753309,16690806,16514239],So=[3,2232656,6100862,9907327,13714030,16282972,16693631,16514239],Ro=[3,1773636,5181819,8463745,11875961,15028323,16483936,16695942,16514239],To=[3,1511228,4394869,7413633,10366590,13319793,15753309,16552806,16697227,16514239],Io=[3,1314101,3870575,6494591,9185664,11875961,14502248,16150107,16621420,16633232,16514239],Oo=[3,4,6,65543,65801,65803,131597,131599,197393,262931,263189,328727,394521,460059,525853,591647,657186,722980,788774,854568,920106,985900,1051695,1117233,1183027,1314101,1379896,1445434,1511228,1576767,1708097,1773636,1839174,1970249,2036043,2101581,2232656,2298194,2429269,2494807,2625881,2756956,2822494,2953312,3084386,3149925,3280999,3412072,3477354,3608428,3739502,3870575,3936113,4067186,4198259,4329332,4394869,4525942,4657015,4722808,4853881,4919417,5050746,5181819,5247611,5378684,5444476,5575549,5706877,5772670,5903742,5969534,6100862,6166399,6297727,6363263,6494591,6625920,6691456,6822784,6888576,7019648,7085440,7216769,7282305,7413633,7544705,7610497,7741825,7807361,7938689,8004225,8135553,8266881,8332417,8463745,8529281,8660609,8726145,8857473,8988801,9054337,9185664,9251200,9382528,9513600,9579392,9710464,9776256,9907327,10038655,10104191,10235519,10366590,10432382,10563454,10694782,10760317,10891645,10957181,11088508,11219836,11285371,11416699,11547771,11613562,11744634,11875961,11941497,12072824,12138360,12269687,12401015,12466550,12597877,12728949,12794740,12926068,12991603,13122930,13254258,13319793,13451120,13516912,13648239,13714030,13845101,13910893,14042220,14108011,14239338,14305129,14436457,14502248,14568039,14699366,14765158,14830949,14962276,15028323,15094114,15159906,15225953,15357280,15423072,15489119,15554911,15620958,15621469,15687261,15753309,15819100,15885148,15951196,15951707,16017499,16083547,16084059,16150107,16150619,16216411,16216924,16282972,16283484,16349532,16350045,16350557,16416606,16416862,16417375,16483424,16483936,16484449,16484962,16551011,16551523,16552036,16552549,16552806,16618855,16619368,16619881,16620394,16620907,16621420,16621934,16622191,16622704,16688753,16689267,16689780,16690293,16690806,16691064,16691577,16692091,16692604,16693117,16693631,16694144,16694402,16694915,16695429,16695942,16696456,16696969,16697227,16697741,16698254,16633232,16633746,16634259,16634517,16635031,16635544,16636058,16636572,16637085,16637343,16637857,16638371,16573349,16573862,16574120,16574634,16575148,16575662,16576176,16576689,16576947,16577461,16577975,16512953,16513467,16513725,16514239],Mo=[788358,13256312,15726625],Po=[788358,10164126,15497299,15726625],Do=[788358,8127143,13256312,16225089,15726625],No=[788358,6946983,11545231,14705761,16557621,15726625],Lo=[788358,6029477,10164126,13256312,15497299,16626223,15726625],jo=[788358,5374371,8980645,12071561,14309992,15959880,16628523,15726625],Fo=[788358,4850336,8127143,11018902,13256312,15035228,16225089,16630568,15726625],zo=[788358,4522910,7471272,10164126,12334725,14112364,15497299,16424250,16566054,15726625],Bo=[788358,4195228,6946983,9375139,11545231,13256312,14705761,15827532,16557621,16567333,15726625],Uo=[788358,1050503,1246857,1377930,1574539,1771148,1902221,2033038,2164111,2295184,2426257,2557330,2688403,2819476,2950292,3081365,3212438,3343511,3409048,3540120,3671193,3802266,3867546,3998619,4129692,4195228,4326301,4457374,4522910,4653727,4784799,4850336,4981409,5112481,5178018,5308834,5374371,5505443,5636515,5702052,5833124,5898405,6029477,6160549,6226086,6357158,6422694,6553767,6619303,6750375,6815911,6946983,7078056,7143592,7274664,7340200,7471272,7536808,7667880,7733672,7864744,7930280,8061608,8127143,8258471,8324007,8455335,8520871,8652198,8717990,8783782,8914853,8980645,9111972,9177764,9309348,9375139,9440931,9572258,9638049,9769377,9835168,9900960,10032287,10098078,10164126,10295453,10361244,10427035,10492827,10624154,10689945,10755736,10821527,10953111,11018902,11084693,11150484,11281811,11347602,11413393,11479184,11545231,11611023,11676814,11808141,11873932,11939723,12005514,12071561,12137352,12203143,12268934,12334725,12400516,12466307,12532098,12598145,12663936,12729728,12795519,12861310,12927101,12992892,13058683,13124730,13190521,13256312,13322103,13387894,13453685,13519477,13585268,13651315,13717106,13717361,13783152,13848943,13914734,13980525,14046573,14112364,14112619,14178410,14244201,14309992,14375783,14441830,14442086,14507877,14573668,14639459,14639714,14705761,14771552,14837344,14903135,14903390,14969437,15035228,15035483,15101274,15167066,15233113,15233368,15299159,15364950,15365205,15431252,15497044,15497299,15563090,15563601,15629392,15695183,15695438,15761485,15761741,15827532,15893579,15893834,15959625,15959880,16025927,16026183,16091974,16092485,16158276,16158531,16159042,16224833,16225089,16291136,16291391,16291902,16357693,16357948,16423995,16424250,16424762,16425017,16491064,16491319,16491574,16557621,16557877,16558388,16558643,16559154,16559409,16625457,16625712,16626223,16626478,16626989,16627245,16627756,16628011,16628523,16628778,16629289,16629801,16630056,16630568,16630823,16631334,16566054,16566566,16567077,16567333,16567845,16502820,16503076,16503588,16438564,16438820,16439332,16374052,16374564,16309540,16310052,16244772,16245285,16180261,16180517,16115494,16116006,16050726,15985702,15986214,15921190,15921446,15856422,15791397,15791651,15726625],Go=[4456788,2133900,16639780],Vo=[4456788,3172237,3520376,16639780],Ho=[4456788,3887498,2133900,6015074,16639780],qo=[4456788,4211591,2717838,2271108,7983441,16639780],Wo=[4456788,4471170,3172237,2133900,3520376,9295428,16639780],Yo=[4456788,4600190,3562124,2588302,2007175,4833645,10344762,16639780],Xo=[4456788,4664186,3887498,2912654,2133900,2600320,6015074,11197234,16639780],$o=[4456788,4663159,4082057,3172237,2458254,2006153,3520376,7064921,11722028,16639780],Jo=[4456788,4727668,4211591,3432077,2717838,2133900,2271108,4374129,7983441,12246567,16639780],Ko=[4456788,4457045,4457303,4523352,4523610,4524123,4589916,4590430,4590687,4591201,4656994,4657507,4657765,4658278,4658535,4658793,4659306,4725099,4725356,4725870,4726127,4726384,4726897,4727154,4727411,4727668,4662645,4662902,4663159,4663416,4663929,4664186,4664443,4599164,4599676,4599933,4600190,4534911,4535423,4535680,4535937,4470657,4471170,4405891,4406147,4406404,4341124,4341381,4341893,4276614,4276870,4211591,4211847,4146567,4147080,4081800,4082057,4016777,4017033,4017289,3952010,3952266,3887242,3887498,3822219,3822475,3757195,3757451,3692171,3692428,3627148,3627404,3562124,3562380,3497100,3497356,3432077,3432333,3367053,3367309,3302029,3302285,3237005,3237261,3237517,3172237,3172493,3107213,3107469,3042190,3042446,3042702,2977422,2977678,2912398,2912654,2912910,2847630,2847886,2782606,2782862,2783118,2717838,2718094,2652814,2652814,2653070,2587790,2588046,2588302,2523022,2523278,2523534,2458254,2458509,2393229,2393485,2393741,2328461,2328717,2328973,2263437,2263693,2263949,2198669,2198924,2199180,2133900,2134156,2134412,2069132,2069387,2069643,2069899,2070155,2004874,2005130,2005386,2005386,2005641,2005897,2006153,2006408,2006664,2006920,2007175,2072967,2073222,2073478,2139269,2139525,2205317,2205572,2271108,2336899,2337154,2402946,2468737,2534529,2600320,2666111,2731903,2797694,2863485,2929021,3060348,3126139,3191930,3323258,3389049,3520376,3586167,3717494,3783030,3914357,4045684,4111475,4242802,4374129,4505200,4570991,4702318,4833645,4964972,5096043,5227369,5358696,5490023,5621350,5752421,5883748,6015074,6211937,6343008,6474335,6605661,6802524,6933595,7064921,7196248,7392854,7524181,7655508,7852114,7983441,8180303,8311374,8508236,8639307,8836169,8967495,9164102,9295428,9492035,9623361,9819967,9951294,10147900,10344762,10475832,10672695,10869301,11000627,11197234,11394096,11525166,11722028,11918635,12049705,12246567,12443174,12574500,12771106,12967713,13099039,13295646,13492253,13623580,13820187,13951258,14148121,14344728,14475800,14672664,14803736,15000344,15197209,15328281,15524890,15656219,15852828,15983902,16180767,16311841,16442914,16639780],Qo=[8374655,12496596,16629894],Zo=[8374655,12496596,16629894,16777113],ta=[8374655,12496596,16629894,16777113,3697840],ea=[8374655,12496596,16629894,16777113,3697840,15729279],na=[8374655,12496596,16629894,16777113,3697840,15729279,12540695],ra=[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],ia=[1810039,14245634,7696563],oa=[1810039,14245634,7696563,15149450],aa=[1810039,14245634,7696563,15149450,6727198],sa=[1810039,14245634,7696563,15149450,6727198,15117058],la=[1810039,14245634,7696563,15149450,6727198,15117058,10909213],ua=[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],ca=[10931939,2062516,11722634],fa=[10931939,2062516,11722634,3383340],ha=[10931939,2062516,11722634,3383340,16489113],da=[10931939,2062516,11722634,3383340,16489113,14883356],pa=[10931939,2062516,11722634,3383340,16489113,14883356,16629615],va=[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192],ga=[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054],ma=[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586],ya=[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113],_a=[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],ba=[16495790,11783651,13429701],Aa=[16495790,11783651,13429701,14601188],wa=[16495790,11783651,13429701,14601188,16701862],xa=[16495790,11783651,13429701,14601188,16701862,16777164],ka=[16495790,11783651,13429701,14601188,16701862,16777164,15063229],Ca=[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652],Ea=[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906],Sa=[11789005,16633260,13358568],Ra=[11789005,16633260,13358568,16042724],Ta=[11789005,16633260,13358568,16042724,15136201],Ia=[11789005,16633260,13358568,16042724,15136201,16773806],Oa=[11789005,16633260,13358568,16042724,15136201,16773806,15852236],Ma=[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pa=[14948892,3636920,5091146],Da=[14948892,3636920,5091146,9981603],Na=[14948892,3636920,5091146,9981603,16744192],La=[14948892,3636920,5091146,9981603,16744192,16777011],ja=[14948892,3636920,5091146,9981603,16744192,16777011,10901032],Fa=[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607],za=[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Ba=[6734501,16551266,9281739],Ua=[6734501,16551266,9281739,15174339],Ga=[6734501,16551266,9281739,15174339,10934356],Va=[6734501,16551266,9281739,15174339,10934356,16767279],Ha=[6734501,16551266,9281739,15174339,10934356,16767279,15058068],qa=[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Wa=[9294791,16777139,12499674],Ya=[9294791,16777139,12499674,16482418],Xa=[9294791,16777139,12499674,16482418,8434131],$a=[9294791,16777139,12499674,16482418,8434131,16626786],Ja=[9294791,16777139,12499674,16482418,8434131,16626786,11787881],Ka=[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781],Qa=[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081],Za=[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725],ts=[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701],es=[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],ns=[2062260,16744206,2924588],rs=[2062260,16744206,2924588,14034728],is=[2062260,16744206,2924588,14034728,9725885],os=[2062260,16744206,2924588,14034728,9725885,9197131],as=[2062260,16744206,2924588,14034728,9725885,9197131,14907330],ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711],ls=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186],us=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175],cs=[2062260,11454440,16744206],fs=[2062260,11454440,16744206,16759672],hs=[2062260,11454440,16744206,16759672,2924588],ds=[2062260,11454440,16744206,16759672,2924588,10018698],ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728],vs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742],gs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885],ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861],ys=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131],_s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140],bs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330],As=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194],ws=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711],xs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807],ks=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186],Cs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589],Es=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175],Ss=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725],Rs=[3750777,5395619,7040719],Ts=[3750777,5395619,7040719,10264286],Is=[3750777,5395619,7040719,10264286,6519097],Os=[3750777,5395619,7040719,10264286,6519097,9216594],Ms=[3750777,5395619,7040719,10264286,6519097,9216594,11915115],Ps=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636],Ds=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993],Ns=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809],Ls=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514],js=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932],Fs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169],zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490],Bs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643],Us=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372],Gs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683],Vs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324],Hs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509],qs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654],Ws=[3244733,7057110,10406625],Ys=[3244733,7057110,10406625,13032431],Xs=[3244733,7057110,10406625,13032431,15095053],$s=[3244733,7057110,10406625,13032431,15095053,16616764],Js=[3244733,7057110,10406625,13032431,15095053,16616764,16625259],Ks=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018],Qs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076],Zs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470],tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003],el=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504],nl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281],rl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312],il=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372],ol=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891],al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507],sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950],ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877],ul=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081],cl=[29362,15113984,15787074],fl=[29362,15113984,15787074,40563],hl=[29362,15113984,15787074,40563,5682409],dl=[29362,15113984,15787074,40563,5682409,13983232],pl=[29362,15113984,15787074,40563,5682409,13983232,13400487],vl=[29362,15113984,15787074,40563,5682409,13983232,13400487,0],gl={YlGn3:ge,YlGn4:me,YlGn5:ye,YlGn6:_e,YlGn7:be,YlGn8:Ae,YlGn9:we},ml={YlGnBu3:xe,YlGnBu4:ke,YlGnBu5:Ce,YlGnBu6:Ee,YlGnBu7:Se,YlGnBu8:Re,YlGnBu9:Te},yl={GnBu3:Ie,GnBu4:Oe,GnBu5:Me,GnBu6:Pe,GnBu7:De,GnBu8:Ne,GnBu9:Le},_l={BuGn3:je,BuGn4:Fe,BuGn5:ze,BuGn6:Be,BuGn7:Ue,BuGn8:Ge,BuGn9:Ve},bl={PuBuGn3:He,PuBuGn4:qe,PuBuGn5:We,PuBuGn6:Ye,PuBuGn7:Xe,PuBuGn8:$e,PuBuGn9:Je},Al={PuBu3:Ke,PuBu4:Qe,PuBu5:Ze,PuBu6:tn,PuBu7:en,PuBu8:nn,PuBu9:rn},wl={BuPu3:on,BuPu4:an,BuPu5:sn,BuPu6:ln,BuPu7:un,BuPu8:cn,BuPu9:fn},xl={RdPu3:hn,RdPu4:dn,RdPu5:pn,RdPu6:vn,RdPu7:gn,RdPu8:mn,RdPu9:yn},kl={PuRd3:_n,PuRd4:bn,PuRd5:An,PuRd6:wn,PuRd7:xn,PuRd8:kn,PuRd9:Cn},Cl={OrRd3:En,OrRd4:Sn,OrRd5:Rn,OrRd6:Tn,OrRd7:In,OrRd8:On,OrRd9:Mn},El={YlOrRd3:Pn,YlOrRd4:Dn,YlOrRd5:Nn,YlOrRd6:Ln,YlOrRd7:jn,YlOrRd8:Fn,YlOrRd9:zn},Sl={YlOrBr3:Bn,YlOrBr4:Un,YlOrBr5:Gn,YlOrBr6:Vn,YlOrBr7:Hn,YlOrBr8:qn,YlOrBr9:Wn},Rl={Purples3:Yn,Purples4:Xn,Purples5:$n,Purples6:Jn,Purples7:Kn,Purples8:Qn,Purples9:Zn},Tl={Blues3:tr,Blues4:er,Blues5:nr,Blues6:rr,Blues7:ir,Blues8:or,Blues9:ar},Il={Greens3:sr,Greens4:lr,Greens5:ur,Greens6:cr,Greens7:fr,Greens8:hr,Greens9:dr},Ol={Oranges3:pr,Oranges4:vr,Oranges5:gr,Oranges6:mr,Oranges7:yr,Oranges8:_r,Oranges9:br},Ml={Reds3:Ar,Reds4:wr,Reds5:xr,Reds6:kr,Reds7:Cr,Reds8:Er,Reds9:Sr},Pl={Greys3:Rr,Greys4:Tr,Greys5:Ir,Greys6:Or,Greys7:Mr,Greys8:Pr,Greys9:Dr,Greys10:Nr,Greys11:Lr,Greys256:jr},Dl={PuOr3:Fr,PuOr4:zr,PuOr5:Br,PuOr6:Ur,PuOr7:Gr,PuOr8:Vr,PuOr9:Hr,PuOr10:qr,PuOr11:Wr},Nl={BrBG3:Yr,BrBG4:Xr,BrBG5:$r,BrBG6:Jr,BrBG7:Kr,BrBG8:Qr,BrBG9:Zr,BrBG10:ti,BrBG11:ei},Ll={PRGn3:ni,PRGn4:ri,PRGn5:ii,PRGn6:oi,PRGn7:ai,PRGn8:si,PRGn9:li,PRGn10:ui,PRGn11:ci},jl={PiYG3:fi,PiYG4:hi,PiYG5:di,PiYG6:pi,PiYG7:vi,PiYG8:gi,PiYG9:mi,PiYG10:yi,PiYG11:_i},Fl={RdBu3:bi,RdBu4:Ai,RdBu5:wi,RdBu6:xi,RdBu7:ki,RdBu8:Ci,RdBu9:Ei,RdBu10:Si,RdBu11:Ri},zl={RdGy3:Ti,RdGy4:Ii,RdGy5:Oi,RdGy6:Mi,RdGy7:Pi,RdGy8:Di,RdGy9:Ni,RdGy10:Li,RdGy11:ji},Bl={RdYlBu3:Fi,RdYlBu4:zi,RdYlBu5:Bi,RdYlBu6:Ui,RdYlBu7:Gi,RdYlBu8:Vi,RdYlBu9:Hi,RdYlBu10:qi,RdYlBu11:Wi},Ul={Spectral3:Yi,Spectral4:Xi,Spectral5:$i,Spectral6:Ji,Spectral7:Ki,Spectral8:Qi,Spectral9:Zi,Spectral10:to,Spectral11:eo},Gl={RdYlGn3:no,RdYlGn4:ro,RdYlGn5:io,RdYlGn6:oo,RdYlGn7:ao,RdYlGn8:so,RdYlGn9:lo,RdYlGn10:uo,RdYlGn11:co},Vl={Inferno3:fo,Inferno4:ho,Inferno5:po,Inferno6:vo,Inferno7:go,Inferno8:mo,Inferno9:yo,Inferno10:_o,Inferno11:bo,Inferno256:Ao},Hl={Magma3:wo,Magma4:xo,Magma5:ko,Magma6:Co,Magma7:Eo,Magma8:So,Magma9:Ro,Magma10:To,Magma11:Io,Magma256:Oo},ql={Plasma3:Mo,Plasma4:Po,Plasma5:Do,Plasma6:No,Plasma7:Lo,Plasma8:jo,Plasma9:Fo,Plasma10:zo,Plasma11:Bo,Plasma256:Uo},Wl={Viridis3:Go,Viridis4:Vo,Viridis5:Ho,Viridis6:qo,Viridis7:Wo,Viridis8:Yo,Viridis9:Xo,Viridis10:$o,Viridis11:Jo,Viridis256:Ko},Yl={Accent3:Qo,Accent4:Zo,Accent5:ta,Accent6:ea,Accent7:na,Accent8:ra},Xl={Dark2_3:ia,Dark2_4:oa,Dark2_5:aa,Dark2_6:sa,Dark2_7:la,Dark2_8:ua},$l={Paired3:ca,Paired4:fa,Paired5:ha,Paired6:da,Paired7:pa,Paired8:va,Paired9:ga,Paired10:ma,Paired11:ya,Paired12:_a},Jl={Pastel1_3:ba,Pastel1_4:Aa,Pastel1_5:wa,Pastel1_6:xa,Pastel1_7:ka,Pastel1_8:Ca,Pastel1_9:Ea},Kl={Pastel2_3:Sa,Pastel2_4:Ra,Pastel2_5:Ta,Pastel2_6:Ia,Pastel2_7:Oa,Pastel2_8:Ma},Ql={Set1_3:Pa,Set1_4:Da,Set1_5:Na,Set1_6:La,Set1_7:ja,Set1_8:Fa,Set1_9:za},Zl={Set2_3:Ba,Set2_4:Ua,Set2_5:Ga,Set2_6:Va,Set2_7:Ha,Set2_8:qa},tu={Set3_3:Wa,Set3_4:Ya,Set3_5:Xa,Set3_6:$a,Set3_7:Ja,Set3_8:Ka,Set3_9:Qa,Set3_10:Za,Set3_11:ts,Set3_12:es},eu={Category10_3:ns,Category10_4:rs,Category10_5:is,Category10_6:os,Category10_7:as,Category10_8:ss,Category10_9:ls,Category10_10:us},nu={Category20_3:cs,Category20_4:fs,Category20_5:hs,Category20_6:ds,Category20_7:ps,Category20_8:vs,Category20_9:gs,Category20_10:ms,Category20_11:ys,Category20_12:_s,Category20_13:bs,Category20_14:As,Category20_15:ws,Category20_16:xs,Category20_17:ks,Category20_18:Cs,Category20_19:Es,Category20_20:Ss},ru={Category20b_3:Rs,Category20b_4:Ts,Category20b_5:Is,Category20b_6:Os,Category20b_7:Ms,Category20b_8:Ps,Category20b_9:Ds,Category20b_10:Ns,Category20b_11:Ls,Category20b_12:js,Category20b_13:Fs,Category20b_14:zs,Category20b_15:Bs,Category20b_16:Us,Category20b_17:Gs,Category20b_18:Vs,Category20b_19:Hs,Category20b_20:qs},iu={Category20c_3:Ws,Category20c_4:Ys,Category20c_5:Xs,Category20c_6:$s,Category20c_7:Js,Category20c_8:Ks,Category20c_9:Qs,Category20c_10:Zs,Category20c_11:tl,Category20c_12:el,Category20c_13:nl,Category20c_14:rl,Category20c_15:il,Category20c_16:ol,Category20c_17:al,Category20c_18:sl,Category20c_19:ll,Category20c_20:ul},ou={Colorblind3:cl,Colorblind4:fl,Colorblind5:hl,Colorblind6:dl,Colorblind7:pl,Colorblind8:vl},au=(n(50),n(54));var su=n(1),lu=n(119),uu=n(101);function cu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hu=function(){function t(e,n,r){lt()(this,t),this.nrows=e,this.ncols=n,this._matrix=new Array(e);for(var i=0;i<e;i++){this._matrix[i]=new Array(n);for(var o=0;o<n;o++)this._matrix[i][o]=r(i,o)}}return ct()(t,[{key:"at",value:function(t,e){return this._matrix[t][e]}},{key:Symbol.iterator,value:Pt.a.mark((function(){var t,e,n;return Pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<this.nrows)){r.next=13;break}e=0;case 3:if(!(e<this.ncols)){r.next=10;break}return n=this._matrix[t][e],r.next=7,[n,t,e];case 7:e++,r.next=3;break;case 10:t++,r.next=1;break;case 13:case"end":return r.stop()}}),n,this)}))},{key:"values",value:Pt.a.mark((function t(){var e,n,r,i;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=cu(this),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=Nt()(n.value,1),i=r[0],t.next=7,i;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"map",value:function(e){var n=this;return new t(this.nrows,this.ncols,(function(t,r){return e(n.at(t,r),t,r)}))}},{key:"apply",value:function(e){var n=this,r=t.from(e),i=this.nrows,o=this.ncols;if(i==r.nrows&&o==r.ncols)return new t(i,o,(function(t,e){return r.at(t,e)(n.at(t,e),t,e)}));throw new Error("dimensions don't match")}},{key:"to_sparse",value:function(){return qt()(this)}}],[{key:"from",value:function(e){return e instanceof t?e:new t(e.length,Object(de.o)(e.map((function(t){return t.length}))),(function(t,n){return e[t][n]}))}}]),t}();function du(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vu(t,e){return void 0===t?e:t}function gu(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=vu(n.toolbar_location,"above"),i=vu(n.merge_tools,!0),o=vu(n.sizing_mode,null),a=hu.from(t),s=[],l=[],u=du(a);try{for(u.s();!(e=u.n()).done;){var c=Nt()(e.value,3),f=c[0],h=c[1],d=c[2];null!=f&&(i&&(l.push(f.toolbar),f.toolbar_location=null),null!=n.plot_width&&(f.plot_width=n.plot_width),null!=n.plot_height&&(f.plot_height=n.plot_height),s.push([f,h,d]))}}catch(t){u.e(t)}finally{u.f()}var p=new au.GridBox({children:s,sizing_mode:o});if(!i||null==r)return p;for(var v=[],g=0,m=l;g<m.length;g++){var y=m[g];v.push.apply(v,qt()(y.tools))}var _=new au.ToolbarBox({toolbar:new au.ProxyToolbar({toolbars:l,tools:v}),toolbar_location:r});switch(r){case"above":return new au.Column({children:[_,p],sizing_mode:o});case"below":return new au.Column({children:[p,_],sizing_mode:o});case"left":return new au.Row({children:[_,p],sizing_mode:o});case"right":return new au.Row({children:[p,_],sizing_mode:o});default:throw new Error("unexpected")}}hu.__name__="Matrix";var mu=n(52);function yu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Au=["pan","wheel_zoom","box_zoom","save","reset","help"];function wu(t,e){return void 0===t?e:t}var xu=function(t){ht()(n,t);var e=bu(n);function n(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lt()(this,n);var o=wu((i=Object.assign({},i)).tools,Au);delete i.tools;var a=wu(i.x_axis_type,"auto"),s=wu(i.y_axis_type,"auto");delete i.x_axis_type,delete i.y_axis_type;var l=null!=i.x_minor_ticks?i.x_minor_ticks:"auto",u=null!=i.y_minor_ticks?i.y_minor_ticks:"auto";delete i.x_minor_ticks,delete i.y_minor_ticks;var c=null!=i.x_axis_location?i.x_axis_location:"below",f=null!=i.y_axis_location?i.y_axis_location:"left";delete i.x_axis_location,delete i.y_axis_location;var h=null!=i.x_axis_label?i.x_axis_label:"",d=null!=i.y_axis_label?i.y_axis_label:"";delete i.x_axis_label,delete i.y_axis_label;var p=n._get_range(i.x_range),v=n._get_range(i.y_range);delete i.x_range,delete i.y_range;var g=null!=i.x_scale?i.x_scale:n._get_scale(p,a),m=null!=i.y_scale?i.y_scale:n._get_scale(v,s);return delete i.x_scale,delete i.y_scale,(r=e.call(this,Object.assign(Object.assign({},i),{x_range:p,y_range:v,x_scale:g,y_scale:m})))._process_axis_and_grid(a,c,l,h,p,0),r._process_axis_and_grid(s,f,u,d,v,1),(t=r).add_tools.apply(t,qt()(r._process_tools(o))),r}return ct()(n,[{key:"annular_wedge",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.AnnularWedge,"x,y,inner_radius,outer_radius,start_angle,end_angle",e)}},{key:"annulus",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Annulus,"x,y,inner_radius,outer_radius",e)}},{key:"arc",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Arc,"x,y,radius,start_angle,end_angle",e)}},{key:"bezier",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Bezier,"x0,y0,x1,y1,cx0,cy0,cx1,cy1",e)}},{key:"circle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Circle,"x,y",e)}},{key:"ellipse",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Ellipse,"x,y,width,height",e)}},{key:"hbar",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.HBar,"y,height,right,left",e)}},{key:"hex_tile",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.HexTile,"q,r",e)}},{key:"image",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Image,"color_mapper,image,rows,cols,x,y,dw,dh",e)}},{key:"image_rgba",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.ImageRGBA,"image,rows,cols,x,y,dw,dh",e)}},{key:"image_url",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.ImageURL,"url,x,y,w,h",e)}},{key:"line",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Line,"x,y",e)}},{key:"multi_line",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.MultiLine,"xs,ys",e)}},{key:"multi_polygons",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.MultiPolygons,"xs,ys",e)}},{key:"oval",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Oval,"x,y,width,height",e)}},{key:"patch",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Patch,"x,y",e)}},{key:"patches",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Patches,"xs,ys",e)}},{key:"quad",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Quad,"left,right,bottom,top",e)}},{key:"quadratic",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Quadratic,"x0,y0,x1,y1,cx,cy",e)}},{key:"ray",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Ray,"x,y,length",e)}},{key:"rect",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Rect,"x,y,width,height",e)}},{key:"segment",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Segment,"x0,y0,x1,y1",e)}},{key:"step",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Step,"x,y,mode",e)}},{key:"text",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Text,"x,y,text",e)}},{key:"vbar",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.VBar,"x,width,top,bottom",e)}},{key:"wedge",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._glyph(au.Wedge,"x,y,radius,start_angle,end_angle",e)}},{key:"asterisk",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Asterisk,e)}},{key:"circle_cross",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.CircleCross,e)}},{key:"circle_x",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.CircleX,e)}},{key:"cross",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Cross,e)}},{key:"dash",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Dash,e)}},{key:"diamond",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Diamond,e)}},{key:"diamond_cross",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.DiamondCross,e)}},{key:"inverted_triangle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.InvertedTriangle,e)}},{key:"square",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Square,e)}},{key:"square_cross",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.SquareCross,e)}},{key:"square_x",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.SquareX,e)}},{key:"triangle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Triangle,e)}},{key:"x",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.X,e)}},{key:"scatter",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._marker(au.Scatter,e)}},{key:"_pop_visuals",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=function(t){var e=t.split("_",2);return 2==e.length?e:e.concat([""])},a=function(t){var e=o(t),n=Nt()(e,2),r=n[0],i=n[1];return Object(de.k)(["line","fill","text","global"],r)&&""!==i};(r=Object.assign({},r)).hasOwnProperty("text_color")||(r.text_color="black");var s={};s.hasOwnProperty("color")||(s.color="#1f77b4"),s.hasOwnProperty("alpha")||(s.alpha=1);var l={},u=new Set;for(var c in t.prototype._props)if(a(c)){var f=o(c)[1];e.hasOwnProperty(n+c)?(l[c]=e[n+c],delete e[n+c]):!t.prototype._props.hasOwnProperty(f)&&e.hasOwnProperty(n+f)?l[c]=e[n+f]:i.hasOwnProperty(f)?l[c]=i[f]:r.hasOwnProperty(c)?l[c]=r[c]:s.hasOwnProperty(f)&&(l[c]=s[f]),t.prototype._props.hasOwnProperty(f)||u.add(f)}return u.forEach((function(t,r,i){delete e[n+r]})),l}},{key:"_find_uniq_name",value:function(t,e){for(var n=1;;){var r="".concat(e,"__").concat(n);if(null==t[r])return r;n+=1}}},{key:"_fixup_values",value:function(t,e,n){for(var r in n){var i=n[r],o=t.prototype._props[r];if(null!=o&&o.type.prototype instanceof su.xb&&null!=i)if(Object(Vt.a)(i)){var a=void 0;null!=e[r]?e[r]!==i?e[a=this._find_uniq_name(e,r)]=i:a=r:e[a=r]=i,n[r]={field:a}}else(Object(Vt.g)(i)||Object(Vt.j)(i))&&(n[r]={value:i})}}},{key:"_glyph",value:function(t,e,n){var r,i=e.split(",");if(0==n.length)r={};else if(1==n.length)r=Object.assign({},n[0]);else{r=n.length==i.length?{}:Object.assign({},n[n.length-1]);var o,a=yu(Object(lu.a)(i));try{for(a.s();!(o=a.n()).done;){var s=Nt()(o.value,2),l=s[0],u=s[1];r[l]=n[u]}}catch(t){a.e(t)}finally{a.f()}}var c=null!=r.source?r.source:new au.ColumnDataSource,f=Object(ue.a)(c.data);delete r.source;var h=null!=r.view?r.view:new au.CDSView({source:c});delete r.view;var d=this._process_legend(r.legend,c);delete r.legend;var p=Object(de.v)(Object.keys(r),(function(t){return Object(Gt.b)(t,"selection_")})),v=Object(de.v)(Object.keys(r),(function(t){return Object(Gt.b)(t,"hover_")})),g=this._pop_visuals(t,r),m=this._pop_visuals(t,r,"nonselection_",g,{alpha:.1}),y=p?this._pop_visuals(t,r,"selection_",g):{},_=v?this._pop_visuals(t,r,"hover_",g):{};this._fixup_values(t,f,g),this._fixup_values(t,f,m),this._fixup_values(t,f,y),this._fixup_values(t,f,_),this._fixup_values(t,f,r),c.data=f;var b=function(t,e,n){return new t(Object.assign(Object.assign({},e),n))},A=b(t,r,g),w=b(t,r,m),x=p?b(t,r,y):void 0,k=v?b(t,r,_):void 0,C=new au.GlyphRenderer({data_source:c,view:h,glyph:A,nonselection_glyph:w,selection_glyph:x,hover_glyph:k});return null!=d&&this._update_legend(d,C),this.add_renderers(C),C}},{key:"_marker",value:function(t,e){return this._glyph(t,"x,y",e)}},{key:"_process_axis_and_grid",value:function(t,e,n,r,i,o){var a=this._get_axis(t,i,o);if(null!=a){a instanceof au.LogAxis&&(0==o?this.x_scale=new au.LogScale:this.y_scale=new au.LogScale),a.ticker instanceof au.ContinuousTicker&&(a.ticker.num_minor_ticks=this._get_num_minor_ticks(a,n)),0!==r.length&&(a.axis_label=r);var s=new au.Grid({dimension:o,ticker:a.ticker});null!==e&&this.add_layout(a,e),this.add_layout(s)}}},{key:"_get_axis",value:function(t,e,n){switch(t){case null:return null;case"linear":return new au.LinearAxis;case"log":return new au.LogAxis;case"datetime":return new au.DatetimeAxis;case"mercator":var r=new au.MercatorAxis,i=0==n?"lon":"lat";return r.ticker.dimension=i,r.formatter.dimension=i,r;case"auto":return e instanceof au.FactorRange?new au.CategoricalAxis:new au.LinearAxis;default:throw new Error("shouldn't have happened")}}},{key:"_get_num_minor_ticks",value:function(t,e){if(Object(Vt.g)(e)){if(e<=1)throw new Error("num_minor_ticks must be > 1");return e}if(null==e)return 0;if("auto"===e)return t instanceof au.LogAxis?10:5;throw new Error("shouldn't have happened")}},{key:"_process_tools",value:function(t){return Object(Vt.j)(t)&&(t=t.split(/\s*,\s*/).filter((function(t){return t.length>0}))),t.map((function(t){return Object(Vt.j)(t)?au.Tool.from_string(t):t}))}},{key:"_process_legend",value:function(t,e){var n=null;return null!=t&&(Object(Vt.j)(t)?(n={value:t},null!=e.columns()&&Object(de.k)(e.columns(),t)&&(n={field:t})):n=t),n}},{key:"_update_legend",value:function(t,e){var n,r=this.legend,i=!1,o=yu(r.items);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(null!=a.label&&Object(ve.a)(a.label,t)){var s=a.label;if("value"in s){a.renderers.push(e),i=!0;break}if("field"in s&&e.data_source==a.renderers[0].data_source){a.renderers.push(e),i=!0;break}}}}catch(t){o.e(t)}finally{o.f()}if(!i){var l=new au.LegendItem({label:t,renderers:[e]});r.items.push(l)}}},{key:"xgrid",get:function(){return this.center.filter((function(t){return t instanceof au.Grid&&0==t.dimension}))}},{key:"ygrid",get:function(){return this.center.filter((function(t){return t instanceof au.Grid&&1==t.dimension}))}},{key:"xaxis",get:function(){return this.below.concat(this.above).filter((function(t){return t instanceof au.Axis}))}},{key:"yaxis",get:function(){return this.left.concat(this.right).filter((function(t){return t instanceof au.Axis}))}},{key:"legend",get:function(){var t=this.panels.filter((function(t){return t instanceof uu.a}));if(0==t.length){var e=new uu.a;return this.add_layout(e),e}return Nt()(t,1)[0]}}],[{key:"_get_range",value:function(t){if(null==t)return new au.DataRange1d;if(t instanceof au.Range)return t;if(Object(Vt.a)(t)){if(Object(de.g)(t,Vt.j)){var e=t;return new au.FactorRange({factors:e})}if(2==t.length){var n=Nt()(t,2),r=n[0],i=n[1];return new au.Range1d({start:r,end:i})}}throw new Error("unable to determine proper range for: '".concat(t,"'"))}},{key:"_get_scale",value:function(t,e){if(t instanceof au.DataRange1d||t instanceof au.Range1d)switch(e){case null:case"auto":case"linear":case"datetime":case"mercator":return new au.LinearScale;case"log":return new au.LogScale}if(t instanceof au.FactorRange)return new au.CategoricalScale;throw new Error("unable to determine proper scale for: '".concat(t,"'"))}}]),n}(au.Plot);function ku(t){return new xu(t)}function Cu(t,e){return Eu.apply(this,arguments)}function Eu(){return(Eu=zt()(Pt.a.mark((function t(e,n){var r,i,o,a,s,l,u;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Bt.a,i=yu(Object(Vt.a)(e)?e:[e]);try{for(i.s();!(o=i.n()).done;)a=o.value,r.add_root(a)}catch(t){i.e(t)}finally{i.f()}if(null!=n){t.next=7;break}s=document.body,t.next=25;break;case 7:if(!Object(Vt.j)(n)){t.next=16;break}if(!(null!=(l=document.querySelector(n))&&l instanceof HTMLElement)){t.next=13;break}s=l,t.next=14;break;case 13:throw new Error("'".concat(n,"' selector didn't match any elements"));case 14:t.next=25;break;case 16:if(!(n instanceof HTMLElement)){t.next=20;break}s=n,t.next=25;break;case 20:if(!("undefined"!=typeof $&&n instanceof $)){t.next=24;break}s=n[0],t.next=25;break;case 24:throw new Error("target should be HTMLElement, string selector, $ or null");case 25:return t.next=27,Zt(r,s);case 27:return u=t.sent,t.abrupt("return",new Promise((function(t,n){var i=Object(Vt.a)(e)?u:u[0];r.is_idle?t(i):r.idle.connect((function(){return t(i)}))})));case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}xu.__name__="Plot";var Su=n(7),Ru=n.n(Su),Tu=n(102);function Iu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Ou=function(t){ht()(n,t);var e=Iu(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_width_policy",value:function(){return"horizontal"==this.model.orientation?Ru()(gt()(n.prototype),"_width_policy",this).call(this):"fixed"}},{key:"_height_policy",value:function(){return"horizontal"==this.model.orientation?"fixed":Ru()(gt()(n.prototype),"_height_policy",this).call(this)}},{key:"box_sizing",value:function(){var t=Ru()(gt()(n.prototype),"box_sizing",this).call(this);return"horizontal"==this.model.orientation?null==t.width&&(t.width=this.model.default_size):null==t.height&&(t.height=this.model.default_size),t}}]),n}(Tu.b);Ou.__name__="WidgetView";var Mu=function(t){ht()(n,t);var e=Iu(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Widget",value:function(){this.define({orientation:[su.Y,"horizontal"],default_size:[su.V,300]}),this.override({margin:[5,5,5,5]})}}]),n}(Tu.a);function Pu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Du(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Du(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Mu.__name__="Widget",Mu.init_Widget();var Lu=function(t){ht()(n,t);var e=Nu(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties;this.on_change(e.disabled,(function(){var e,n=Pu(t.controls());try{for(n.s();!(e=n.n()).done;){var r=e.value;Object(Xt.K)(r,"disabled",t.model.disabled)}}catch(t){n.e(t)}finally{n.f()}}))}}]),n}(Ou);Lu.__name__="ControlView";var ju=function(t){ht()(n,t);var e=Nu(n);function n(t){return lt()(this,n),e.call(this,t)}return n}(Mu);ju.__name__="Control";var Fu=n(48),zu=n(92);function Bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Uu=function(t){ht()(r,t);var e,n=Bu(r);function r(){return lt()(this,r),n.apply(this,arguments)}return ct()(r,[{key:"controls",value:Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.button_el;case 2:case"end":return t.stop()}}),t,this)}))},{key:"lazy_initialize",value:(e=zt()(Pt.a.mark((function t(){var e;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ru()(gt()(r.prototype),"lazy_initialize",this).call(this);case 2:if(null==(e=this.model.icon)){t.next=7;break}return t.next=6,Object(Yt.a)(e,{parent:this});case 6:this.icon_view=t.sent;case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"connect_signals",value:function(){var t=this;Ru()(gt()(r.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.render()}))}},{key:"remove",value:function(){null!=this.icon_view&&this.icon_view.remove(),Ru()(gt()(r.prototype),"remove",this).call(this)}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(r.prototype),"styles",this).call(this)),[zu.a])}},{key:"_render_button",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xt.d.apply(void 0,[{type:"button",disabled:this.model.disabled,class:[Fu.a,Object(Fu.d)(this.model.button_type)]}].concat(e))}},{key:"render",value:function(){var t=this;Ru()(gt()(r.prototype),"render",this).call(this),this.button_el=this._render_button(this.model.label),this.button_el.addEventListener("click",(function(){return t.click()})),null!=this.icon_view&&(Object(Xt.y)(this.button_el,this.icon_view.el,Object(Xt.r)()),this.icon_view.render()),this.group_el=Object(Xt.k)({class:Fu.c},this.button_el),this.el.appendChild(this.group_el)}},{key:"click",value:function(){}}]),r}(Lu);Uu.__name__="AbstractButtonView";var Gu=function(t){ht()(n,t);var e=Bu(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_AbstractButton",value:function(){this.define({label:[su.nb,"Button"],icon:[su.F],button_type:[su.k,"default"]})}}]),n}(ju);Gu.__name__="AbstractButton",Gu.init_AbstractButton();var Vu=n(19);function Hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}(function(t){ht()(n,t);var e=Hu(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Wt.a)).__name__="AbstractIconView";var qu=function(t){ht()(n,t);var e=Hu(n);function n(t){return lt()(this,n),e.call(this,t)}return n}(Vu.a);qu.__name__="AbstractIcon";var Wu='\n.bk-root .bk-input {\n  display: inline-block;\n  width: 100%;\n  flex-grow: 1;\n  -webkit-flex-grow: 1;\n  min-height: 31px;\n  padding: 0 12px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n.bk-root .bk-input:focus {\n  border-color: #66afe9;\n  outline: 0;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6);\n}\n.bk-root .bk-input::placeholder,\n.bk-root .bk-input:-ms-input-placeholder,\n.bk-root .bk-input::-moz-placeholder,\n.bk-root .bk-input::-webkit-input-placeholder {\n  color: #999;\n  opacity: 1;\n}\n.bk-root .bk-input[disabled] {\n  cursor: not-allowed;\n  background-color: #eee;\n  opacity: 1;\n}\n.bk-root select:not([multiple]).bk-input,\n.bk-root select:not([size]).bk-input {\n  height: auto;\n  appearance: none;\n  -webkit-appearance: none;\n  background-image: url(\'data:image/svg+xml;utf8,<svg version="1.1" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path d="M 0,0 25,0 12.5,20 Z" fill="black" /></svg>\');\n  background-position: right 0.5em center;\n  background-size: 8px 6px;\n  background-repeat: no-repeat;\n}\n.bk-root select[multiple].bk-input,\n.bk-root select[size].bk-input,\n.bk-root textarea.bk-input {\n  height: auto;\n}\n.bk-root .bk-input-group {\n  width: 100%;\n  height: 100%;\n  display: inline-flex;\n  display: -webkit-inline-flex;\n  flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  align-items: start;\n  -webkit-align-items: start;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  white-space: nowrap;\n}\n.bk-root .bk-input-group.bk-inline {\n  flex-direction: row;\n  -webkit-flex-direction: row;\n}\n.bk-root .bk-input-group.bk-inline > *:not(:first-child) {\n  margin-left: 5px;\n}\n.bk-root .bk-input-group input[type="checkbox"] + span,\n.bk-root .bk-input-group input[type="radio"] + span {\n  position: relative;\n  top: -2px;\n  margin-left: 3px;\n}\n';function Yu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Xu=function(t){ht()(n,t);var e=Yu(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"controls",value:Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.input_el;case 2:case"end":return t.stop()}}),t,this)}))},{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.title.change,(function(){t.label_el.textContent=t.model.title}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),[Wu])}},{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this);var t=this.model.title;this.label_el=Object(Xt.q)({style:{display:0==t.length?"none":""}},t),this.group_el=Object(Xt.k)({class:"bk-input-group"},this.label_el),this.el.appendChild(this.group_el)}},{key:"change_input",value:function(){}}]),n}(Lu);Xu.__name__="InputWidgetView";var $u=function(t){ht()(n,t);var e=Yu(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_InputWidget",value:function(){this.define({title:[su.nb,""]})}}]),n}(ju);function Ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}$u.__name__="InputWidget",$u.init_InputWidget();var Ku=function(t){ht()(n,t);var e=Ju(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.name.change,(function(){return t.input_el.name=t.model.name||""})),this.connect(this.model.properties.value.change,(function(){return t.input_el.value=t.model.value})),this.connect(this.model.properties.value_input.change,(function(){return t.input_el.value=t.model.value_input})),this.connect(this.model.properties.disabled.change,(function(){return t.input_el.disabled=t.model.disabled})),this.connect(this.model.properties.placeholder.change,(function(){return t.input_el.placeholder=t.model.placeholder}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.p)({type:"text",class:"bk-input",name:this.model.name,value:this.model.value,disabled:this.model.disabled,placeholder:this.model.placeholder}),this.input_el.addEventListener("change",(function(){return t.change_input()})),this.input_el.addEventListener("input",(function(){return t.change_input_oninput()})),this.group_el.appendChild(this.input_el)}},{key:"change_input",value:function(){this.model.value=this.input_el.value,Ru()(gt()(n.prototype),"change_input",this).call(this)}},{key:"change_input_oninput",value:function(){this.model.value_input=this.input_el.value,Ru()(gt()(n.prototype),"change_input",this).call(this)}}]),n}(Xu);Ku.__name__="TextInputView";var Qu=function(t){ht()(n,t);var e=Ju(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_TextInput",value:function(){this.prototype.default_view=Ku,this.define({value:[su.nb,""],value_input:[su.nb,""],placeholder:[su.nb,""]})}}]),n}($u);Qu.__name__="TextInput",Qu.init_TextInput();var Zu=n(49),tc=n(28),ec=n(65),nc=n(81);function rc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ic(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ic(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ic(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var ac=function(t){ht()(n,t);var e=oc(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments))._open=!1,t._last_value="",t._hover_index=0,t}return ct()(n,[{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),[nc.a])}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el.addEventListener("keydown",(function(e){return t._keydown(e)})),this.input_el.addEventListener("keyup",(function(e){return t._keyup(e)})),this.menu=Object(Xt.k)({class:[ec.c,tc.c]}),this.menu.addEventListener("click",(function(e){return t._menu_click(e)})),this.menu.addEventListener("mouseover",(function(e){return t._menu_hover(e)})),this.el.appendChild(this.menu),Object(Xt.L)(this.menu)}},{key:"change_input",value:function(){this._open&&this.menu.children.length>0&&(this.model.value=this.menu.children[this._hover_index].textContent,this.input_el.focus(),this._hide_menu())}},{key:"_update_completions",value:function(t){Object(Xt.l)(this.menu);var e,n=rc(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=Object(Xt.k)({},r);this.menu.appendChild(i)}}catch(t){n.e(t)}finally{n.f()}t.length>0&&this.menu.children[0].classList.add(tc.b)}},{key:"_show_menu",value:function(){var t=this;if(!this._open){this._open=!0,this._hover_index=0,this._last_value=this.model.value,Object(Xt.j)(this.menu);document.addEventListener("click",(function e(n){var r=n.target;r instanceof HTMLElement&&!t.el.contains(r)&&(document.removeEventListener("click",e),t._hide_menu())}))}}},{key:"_hide_menu",value:function(){this._open&&(this._open=!1,Object(Xt.L)(this.menu))}},{key:"_menu_click",value:function(t){t.target!=t.currentTarget&&t.target instanceof Element&&(this.model.value=t.target.textContent,this.input_el.focus(),this._hide_menu())}},{key:"_menu_hover",value:function(t){if(t.target!=t.currentTarget&&t.target instanceof Element){var e=0;for(e=0;e<this.menu.children.length&&this.menu.children[e].textContent!=t.target.textContent;e++);this._bump_hover(e)}}},{key:"_bump_hover",value:function(t){var e=this.menu.children.length;this._open&&e>0&&(this.menu.children[this._hover_index].classList.remove(tc.b),this._hover_index=Object(Zu.c)(t,0,e-1),this.menu.children[this._hover_index].classList.add(tc.b))}},{key:"_keydown",value:function(t){}},{key:"_keyup",value:function(t){switch(t.keyCode){case Xt.a.Enter:this.change_input();break;case Xt.a.Esc:this._hide_menu();break;case Xt.a.Up:this._bump_hover(this._hover_index-1);break;case Xt.a.Down:this._bump_hover(this._hover_index+1);break;default:var e=this.input_el.value;if(e.length<this.model.min_characters)return void this._hide_menu();var n,r=[];n=this.model.case_sensitive?function(t){return t}:function(t){return t.toLowerCase()};var i,o=rc(this.model.completions);try{for(o.s();!(i=o.n()).done;){var a=i.value;n(a).startsWith(n(e))&&r.push(a)}}catch(t){o.e(t)}finally{o.f()}this._update_completions(r),0==r.length?this._hide_menu():this._show_menu()}}}]),n}(Ku);ac.__name__="AutocompleteInputView";var sc=function(t){ht()(n,t);var e=oc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_AutocompleteInput",value:function(){this.prototype.default_view=ac,this.define({completions:[su.g,[]],min_characters:[su.G,2],case_sensitive:[su.i,!0]})}}]),n}(Qu);sc.__name__="AutocompleteInput",sc.init_AutocompleteInput();var lc=n(33);function uc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var cc=function(t){ht()(n,t);var e=uc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"click",value:function(){this.model.clicks=this.model.clicks+1,this.model.trigger_event(new lc.a),Ru()(gt()(n.prototype),"click",this).call(this)}}]),n}(Uu);cc.__name__="ButtonView";var fc=function(t){ht()(n,t);var e=uc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Button",value:function(){this.prototype.default_view=cc,this.override({label:"Button"})}}]),n}(Gu);function hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}fc.__name__="Button",fc.init_Button();var dc=function(t){ht()(n,t);var e=hc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"controls",value:Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._buttons,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties;this.on_change(e.button_type,(function(){return t.render()})),this.on_change(e.labels,(function(){return t.render()})),this.on_change(e.active,(function(){return t._update_active()}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),[zu.a])}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this._buttons=this.model.labels.map((function(e,n){var r=Object(Xt.k)({class:[Fu.a,Object(Fu.d)(t.model.button_type)],disabled:t.model.disabled},e);return r.addEventListener("click",(function(){return t.change_active(n)})),r})),this._update_active();var e=Object(Xt.k)({class:Fu.c},this._buttons);this.el.appendChild(e)}}]),n}(Lu);dc.__name__="ButtonGroupView";var pc=function(t){ht()(n,t);var e=hc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_ButtonGroup",value:function(){this.define({labels:[su.g,[]],button_type:[su.k,"default"]})}}]),n}(ju);function vc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}pc.__name__="ButtonGroup",pc.init_ButtonGroup();var gc=function(t){ht()(n,t);var e=vc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"change_active",value:function(t){var e=this.active;e.has(t)?e.delete(t):e.add(t),this.model.active=qt()(e).sort()}},{key:"_update_active",value:function(){var t=this.active;this._buttons.forEach((function(e,n){Object(Xt.g)(e).toggle(tc.b,t.has(n))}))}},{key:"active",get:function(){return new Set(this.model.active)}}]),n}(dc);gc.__name__="CheckboxButtonGroupView";var mc=function(t){ht()(n,t);var e=vc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_CheckboxButtonGroup",value:function(){this.prototype.default_view=gc,this.define({active:[su.g,[]]})}}]),n}(pc);function yc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}mc.__name__="CheckboxButtonGroup",mc.init_CheckboxButtonGroup();var _c=function(t){ht()(n,t);var e=yc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"controls",value:Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._inputs,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.render()}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),[Wu])}}]),n}(Lu);_c.__name__="InputGroupView";var bc=function(t){ht()(n,t);var e=yc(n);function n(t){return lt()(this,n),e.call(this,t)}return n}(ju);function Ac(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}bc.__name__="InputGroup";var wc=function(t){ht()(n,t);var e=Ac(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e=Object(Xt.k)({class:["bk-input-group",this.model.inline?tc.e:null]});this.el.appendChild(e);var r=this.model,i=r.active,o=r.labels;this._inputs=[];for(var a=function(n){var r=Object(Xt.p)({type:"checkbox",value:"".concat(n)});r.addEventListener("change",(function(){return t.change_active(n)})),t._inputs.push(r),t.model.disabled&&(r.disabled=!0),Object(de.k)(i,n)&&(r.checked=!0);var a=Object(Xt.q)({},r,Object(Xt.H)({},o[n]));e.appendChild(a)},s=0;s<o.length;s++)a(s)}},{key:"change_active",value:function(t){var e=new Set(this.model.active);e.has(t)?e.delete(t):e.add(t),this.model.active=qt()(e).sort()}}]),n}(_c);wc.__name__="CheckboxGroupView";var xc=function(t){ht()(n,t);var e=Ac(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_CheckboxGroup",value:function(){this.prototype.default_view=wc,this.define({active:[su.g,[]],labels:[su.g,[]],inline:[su.i,!1]})}}]),n}(bc);function kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}xc.__name__="CheckboxGroup",xc.init_CheckboxGroup();var Cc=function(t){ht()(n,t);var e=kc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.name.change,(function(){return t.input_el.name=t.model.name||""})),this.connect(this.model.properties.color.change,(function(){return t.input_el.value=t.model.color})),this.connect(this.model.properties.disabled.change,(function(){return t.input_el.disabled=t.model.disabled}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.p)({type:"color",class:"bk-input",name:this.model.name,value:this.model.color,disabled:this.model.disabled}),this.input_el.addEventListener("change",(function(){return t.change_input()})),this.group_el.appendChild(this.input_el)}},{key:"change_input",value:function(){this.model.color=this.input_el.value,Ru()(gt()(n.prototype),"change_input",this).call(this)}}]),n}(Xu);Cc.__name__="ColorPickerView";var Ec=function(t){ht()(n,t);var e=kc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_ColorPicker",value:function(){this.prototype.default_view=Cc,this.define({color:[su.m,"#000000"]})}}]),n}($u);Ec.__name__="ColorPicker",Ec.init_ColorPicker();var Sc=n(134),Rc=n.n(Sc);function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}function Ic(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Oc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mc(t){var e,n=[],r=Ic(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Object(Vt.j)(i))n.push(i);else{var o=Nt()(i,2),a=o[0],s=o[1];n.push({from:a,to:s})}}}catch(t){r.e(t)}finally{r.f()}return n}var Pc=function(t){ht()(n,t);var e=Tc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties,r=e.value,i=e.min_date,o=e.max_date,a=e.disabled_dates,s=e.enabled_dates,l=e.position,u=e.inline;this.connect(r.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.setDate(r.value())})),this.connect(i.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("minDate",i.value())})),this.connect(o.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("maxDate",o.value())})),this.connect(a.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("disable",a.value())})),this.connect(s.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("enable",s.value())})),this.connect(l.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("position",l.value())})),this.connect(u.change,(function(){var e;return null===(e=t._picker)||void 0===e?void 0:e.set("inline",u.value())}))}},{key:"remove",value:function(){var t;null===(t=this._picker)||void 0===t||t.destroy(),Ru()(gt()(n.prototype),"remove",this).call(this)}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),['\n.flatpickr-calendar {\n  background: transparent;\n  opacity: 0;\n  display: none;\n  text-align: center;\n  visibility: hidden;\n  padding: 0;\n  -webkit-animation: none;\n  animation: none;\n  direction: ltr;\n  border: 0;\n  font-size: 14px;\n  line-height: 24px;\n  border-radius: 5px;\n  position: absolute;\n  width: 307.875px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  background: #fff;\n  -webkit-box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0, 0, 0, 0.08);\n  box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0, 0, 0, 0.08);\n}\n.flatpickr-calendar.open,\n.flatpickr-calendar.inline {\n  opacity: 1;\n  max-height: 640px;\n  visibility: visible;\n}\n.flatpickr-calendar.open {\n  display: inline-block;\n  z-index: 99999;\n}\n.flatpickr-calendar.animate.open {\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n  animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n}\n.flatpickr-calendar.inline {\n  display: block;\n  position: relative;\n  top: 2px;\n}\n.flatpickr-calendar.static {\n  position: absolute;\n  top: calc(100% + 2px);\n}\n.flatpickr-calendar.static.open {\n  z-index: 999;\n  display: block;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7) {\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1) {\n  -webkit-box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n  box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-calendar .hasWeeks .dayContainer,\n.flatpickr-calendar .hasTime .dayContainer {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.flatpickr-calendar .hasWeeks .dayContainer {\n  border-left: 0;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\n  height: 40px;\n  border-top: 1px solid #e6e6e6;\n}\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\n  height: auto;\n}\n.flatpickr-calendar:before,\n.flatpickr-calendar:after {\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  border: solid transparent;\n  content: \'\';\n  height: 0;\n  width: 0;\n  left: 22px;\n}\n.flatpickr-calendar.rightMost:before,\n.flatpickr-calendar.rightMost:after {\n  left: auto;\n  right: 22px;\n}\n.flatpickr-calendar:before {\n  border-width: 5px;\n  margin: 0 -5px;\n}\n.flatpickr-calendar:after {\n  border-width: 4px;\n  margin: 0 -4px;\n}\n.flatpickr-calendar.arrowTop:before,\n.flatpickr-calendar.arrowTop:after {\n  bottom: 100%;\n}\n.flatpickr-calendar.arrowTop:before {\n  border-bottom-color: #e6e6e6;\n}\n.flatpickr-calendar.arrowTop:after {\n  border-bottom-color: #fff;\n}\n.flatpickr-calendar.arrowBottom:before,\n.flatpickr-calendar.arrowBottom:after {\n  top: 100%;\n}\n.flatpickr-calendar.arrowBottom:before {\n  border-top-color: #e6e6e6;\n}\n.flatpickr-calendar.arrowBottom:after {\n  border-top-color: #fff;\n}\n.flatpickr-calendar:focus {\n  outline: 0;\n}\n.flatpickr-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.flatpickr-months {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-months .flatpickr-month {\n  background: transparent;\n  color: rgba(0, 0, 0, 0.9);\n  fill: rgba(0, 0, 0, 0.9);\n  height: 34px;\n  line-height: 1;\n  text-align: center;\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.flatpickr-months .flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month {\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  height: 34px;\n  padding: 10px;\n  z-index: 3;\n  color: rgba(0, 0, 0, 0.9);\n  fill: rgba(0, 0, 0, 0.9);\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,\n.flatpickr-months .flatpickr-next-month.flatpickr-disabled {\n  display: none;\n}\n.flatpickr-months .flatpickr-prev-month i,\n.flatpickr-months .flatpickr-next-month i {\n  position: relative;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-prev-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  left: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-next-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  right: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,\n.flatpickr-months .flatpickr-next-month:hover {\n  color: #959ea9;\n}\n.flatpickr-months .flatpickr-prev-month:hover svg,\n.flatpickr-months .flatpickr-next-month:hover svg {\n  fill: #f64747;\n}\n.flatpickr-months .flatpickr-prev-month svg,\n.flatpickr-months .flatpickr-next-month svg {\n  width: 14px;\n  height: 14px;\n}\n.flatpickr-months .flatpickr-prev-month svg path,\n.flatpickr-months .flatpickr-next-month svg path {\n  -webkit-transition: fill 0.1s;\n  transition: fill 0.1s;\n  fill: inherit;\n}\n.numInputWrapper {\n  position: relative;\n  height: auto;\n}\n.numInputWrapper input,\n.numInputWrapper span {\n  display: inline-block;\n}\n.numInputWrapper input {\n  width: 100%;\n}\n.numInputWrapper input::-ms-clear {\n  display: none;\n}\n.numInputWrapper input::-webkit-outer-spin-button,\n.numInputWrapper input::-webkit-inner-spin-button {\n  margin: 0;\n  -webkit-appearance: none;\n}\n.numInputWrapper span {\n  position: absolute;\n  right: 0;\n  width: 14px;\n  padding: 0 4px 0 2px;\n  height: 50%;\n  line-height: 50%;\n  opacity: 0;\n  cursor: pointer;\n  border: 1px solid rgba(57, 57, 57, 0.15);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.numInputWrapper span:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.numInputWrapper span:active {\n  background: rgba(0, 0, 0, 0.2);\n}\n.numInputWrapper span:after {\n  display: block;\n  content: "";\n  position: absolute;\n}\n.numInputWrapper span.arrowUp {\n  top: 0;\n  border-bottom: 0;\n}\n.numInputWrapper span.arrowUp:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(57, 57, 57, 0.6);\n  top: 26%;\n}\n.numInputWrapper span.arrowDown {\n  top: 50%;\n}\n.numInputWrapper span.arrowDown:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid rgba(57, 57, 57, 0.6);\n  top: 40%;\n}\n.numInputWrapper span svg {\n  width: inherit;\n  height: auto;\n}\n.numInputWrapper span svg path {\n  fill: rgba(0, 0, 0, 0.5);\n}\n.numInputWrapper:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.numInputWrapper:hover span {\n  opacity: 1;\n}\n.flatpickr-current-month {\n  font-size: 135%;\n  line-height: inherit;\n  font-weight: 300;\n  color: inherit;\n  position: absolute;\n  width: 75%;\n  left: 12.5%;\n  padding: 7.48px 0 0 0;\n  line-height: 1;\n  height: 34px;\n  display: inline-block;\n  text-align: center;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n}\n.flatpickr-current-month span.cur-month {\n  font-family: inherit;\n  font-weight: 700;\n  color: inherit;\n  display: inline-block;\n  margin-left: 0.5ch;\n  padding: 0;\n}\n.flatpickr-current-month span.cur-month:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.flatpickr-current-month .numInputWrapper {\n  width: 6ch;\n  width: 7ch\0;\n  display: inline-block;\n}\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\n  border-bottom-color: rgba(0, 0, 0, 0.9);\n}\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\n  border-top-color: rgba(0, 0, 0, 0.9);\n}\n.flatpickr-current-month input.cur-year {\n  background: transparent;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: text;\n  padding: 0 0 0 0.5ch;\n  margin: 0;\n  display: inline-block;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  line-height: inherit;\n  height: auto;\n  border: 0;\n  border-radius: 0;\n  vertical-align: initial;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-current-month input.cur-year:focus {\n  outline: 0;\n}\n.flatpickr-current-month input.cur-year[disabled],\n.flatpickr-current-month input.cur-year[disabled]:hover {\n  font-size: 100%;\n  color: rgba(0, 0, 0, 0.5);\n  background: transparent;\n  pointer-events: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months {\n  appearance: menulist;\n  background: transparent;\n  border: none;\n  border-radius: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  height: auto;\n  line-height: inherit;\n  margin: -1px 0 0 0;\n  outline: none;\n  padding: 0 0 0 0.5ch;\n  position: relative;\n  vertical-align: initial;\n  -webkit-box-sizing: border-box;\n  -webkit-appearance: menulist;\n  -moz-appearance: menulist;\n  width: auto;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:focus,\n.flatpickr-current-month .flatpickr-monthDropdown-months:active {\n  outline: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {\n  background-color: transparent;\n  outline: none;\n  padding: 0;\n}\n.flatpickr-weekdays {\n  background: transparent;\n  text-align: center;\n  overflow: hidden;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  height: 28px;\n}\n.flatpickr-weekdays .flatpickr-weekdaycontainer {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\nspan.flatpickr-weekday {\n  cursor: default;\n  font-size: 90%;\n  background: transparent;\n  color: rgba(0, 0, 0, 0.54);\n  line-height: 1;\n  margin: 0;\n  text-align: center;\n  display: block;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  font-weight: bolder;\n}\n.dayContainer,\n.flatpickr-weeks {\n  padding: 1px 0 0 0;\n}\n.flatpickr-days {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  width: 307.875px;\n}\n.flatpickr-days:focus {\n  outline: 0;\n}\n.dayContainer {\n  padding: 0;\n  outline: 0;\n  text-align: left;\n  width: 307.875px;\n  min-width: 307.875px;\n  max-width: 307.875px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-around;\n  justify-content: space-around;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n  opacity: 1;\n}\n.dayContainer + .dayContainer {\n  -webkit-box-shadow: -1px 0 0 #e6e6e6;\n  box-shadow: -1px 0 0 #e6e6e6;\n}\n.flatpickr-day {\n  background: none;\n  border: 1px solid transparent;\n  border-radius: 150px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #393939;\n  cursor: pointer;\n  font-weight: 400;\n  width: 14.2857143%;\n  -webkit-flex-basis: 14.2857143%;\n  -ms-flex-preferred-size: 14.2857143%;\n  flex-basis: 14.2857143%;\n  max-width: 39px;\n  height: 39px;\n  line-height: 39px;\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n}\n.flatpickr-day.inRange,\n.flatpickr-day.prevMonthDay.inRange,\n.flatpickr-day.nextMonthDay.inRange,\n.flatpickr-day.today.inRange,\n.flatpickr-day.prevMonthDay.today.inRange,\n.flatpickr-day.nextMonthDay.today.inRange,\n.flatpickr-day:hover,\n.flatpickr-day.prevMonthDay:hover,\n.flatpickr-day.nextMonthDay:hover,\n.flatpickr-day:focus,\n.flatpickr-day.prevMonthDay:focus,\n.flatpickr-day.nextMonthDay:focus {\n  cursor: pointer;\n  outline: 0;\n  background: #e6e6e6;\n  border-color: #e6e6e6;\n}\n.flatpickr-day.today {\n  border-color: #959ea9;\n}\n.flatpickr-day.today:hover,\n.flatpickr-day.today:focus {\n  border-color: #959ea9;\n  background: #959ea9;\n  color: #fff;\n}\n.flatpickr-day.selected,\n.flatpickr-day.startRange,\n.flatpickr-day.endRange,\n.flatpickr-day.selected.inRange,\n.flatpickr-day.startRange.inRange,\n.flatpickr-day.endRange.inRange,\n.flatpickr-day.selected:focus,\n.flatpickr-day.startRange:focus,\n.flatpickr-day.endRange:focus,\n.flatpickr-day.selected:hover,\n.flatpickr-day.startRange:hover,\n.flatpickr-day.endRange:hover,\n.flatpickr-day.selected.prevMonthDay,\n.flatpickr-day.startRange.prevMonthDay,\n.flatpickr-day.endRange.prevMonthDay,\n.flatpickr-day.selected.nextMonthDay,\n.flatpickr-day.startRange.nextMonthDay,\n.flatpickr-day.endRange.nextMonthDay {\n  background: #569ff7;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  color: #fff;\n  border-color: #569ff7;\n}\n.flatpickr-day.selected.startRange,\n.flatpickr-day.startRange.startRange,\n.flatpickr-day.endRange.startRange {\n  border-radius: 50px 0 0 50px;\n}\n.flatpickr-day.selected.endRange,\n.flatpickr-day.startRange.endRange,\n.flatpickr-day.endRange.endRange {\n  border-radius: 0 50px 50px 0;\n}\n.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {\n  -webkit-box-shadow: -10px 0 0 #569ff7;\n  box-shadow: -10px 0 0 #569ff7;\n}\n.flatpickr-day.selected.startRange.endRange,\n.flatpickr-day.startRange.startRange.endRange,\n.flatpickr-day.endRange.startRange.endRange {\n  border-radius: 50px;\n}\n.flatpickr-day.inRange {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n  box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover,\n.flatpickr-day.prevMonthDay,\n.flatpickr-day.nextMonthDay,\n.flatpickr-day.notAllowed,\n.flatpickr-day.notAllowed.prevMonthDay,\n.flatpickr-day.notAllowed.nextMonthDay {\n  color: rgba(57, 57, 57, 0.3);\n  background: transparent;\n  border-color: transparent;\n  cursor: default;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover {\n  cursor: not-allowed;\n  color: rgba(57, 57, 57, 0.1);\n}\n.flatpickr-day.week.selected {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\n  box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\n}\n.flatpickr-day.hidden {\n  visibility: hidden;\n}\n.rangeMode .flatpickr-day {\n  margin-top: 1px;\n}\n.flatpickr-weekwrapper {\n  float: left;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  padding: 0 12px;\n  -webkit-box-shadow: 1px 0 0 #e6e6e6;\n  box-shadow: 1px 0 0 #e6e6e6;\n}\n.flatpickr-weekwrapper .flatpickr-weekday {\n  float: none;\n  width: 100%;\n  line-height: 28px;\n}\n.flatpickr-weekwrapper span.flatpickr-day,\n.flatpickr-weekwrapper span.flatpickr-day:hover {\n  display: block;\n  width: 100%;\n  max-width: none;\n  color: rgba(57, 57, 57, 0.3);\n  background: transparent;\n  cursor: default;\n  border: none;\n}\n.flatpickr-innerContainer {\n  display: block;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.flatpickr-rContainer {\n  display: inline-block;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.flatpickr-time {\n  text-align: center;\n  outline: 0;\n  display: block;\n  height: 0;\n  line-height: 40px;\n  max-height: 40px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-time:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.flatpickr-time .numInputWrapper {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  width: 40%;\n  height: 40px;\n  float: left;\n}\n.flatpickr-time .numInputWrapper span.arrowUp:after {\n  border-bottom-color: #393939;\n}\n.flatpickr-time .numInputWrapper span.arrowDown:after {\n  border-top-color: #393939;\n}\n.flatpickr-time.hasSeconds .numInputWrapper {\n  width: 26%;\n}\n.flatpickr-time.time24hr .numInputWrapper {\n  width: 49%;\n}\n.flatpickr-time input {\n  background: transparent;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 0;\n  border-radius: 0;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: inherit;\n  line-height: inherit;\n  color: #393939;\n  font-size: 14px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-time input.flatpickr-hour {\n  font-weight: bold;\n}\n.flatpickr-time input.flatpickr-minute,\n.flatpickr-time input.flatpickr-second {\n  font-weight: 400;\n}\n.flatpickr-time input:focus {\n  outline: 0;\n  border: 0;\n}\n.flatpickr-time .flatpickr-time-separator,\n.flatpickr-time .flatpickr-am-pm {\n  height: inherit;\n  float: left;\n  line-height: inherit;\n  color: #393939;\n  font-weight: bold;\n  width: 2%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n  align-self: center;\n}\n.flatpickr-time .flatpickr-am-pm {\n  outline: 0;\n  width: 18%;\n  cursor: pointer;\n  text-align: center;\n  font-weight: 400;\n}\n.flatpickr-time input:hover,\n.flatpickr-time .flatpickr-am-pm:hover,\n.flatpickr-time input:focus,\n.flatpickr-time .flatpickr-am-pm:focus {\n  background: #eee;\n}\n.flatpickr-input[readonly] {\n  cursor: pointer;\n}\n@-webkit-keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n.flatpickr-calendar {\n  background: transparent;\n  opacity: 0;\n  display: none;\n  text-align: center;\n  visibility: hidden;\n  padding: 0;\n  -webkit-animation: none;\n  animation: none;\n  direction: ltr;\n  border: 0;\n  font-size: 14px;\n  line-height: 24px;\n  border-radius: 5px;\n  position: absolute;\n  width: 307.875px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  -webkit-box-shadow: 0 3px 13px rgba(0, 0, 0, 0.08);\n  box-shadow: 0 3px 13px rgba(0, 0, 0, 0.08);\n}\n.flatpickr-calendar.open,\n.flatpickr-calendar.inline {\n  opacity: 1;\n  max-height: 640px;\n  visibility: visible;\n}\n.flatpickr-calendar.open {\n  display: inline-block;\n  z-index: 99999;\n}\n.flatpickr-calendar.animate.open {\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n  animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n}\n.flatpickr-calendar.inline {\n  display: block;\n  position: relative;\n  top: 2px;\n}\n.flatpickr-calendar.static {\n  position: absolute;\n  top: calc(100% + 2px);\n}\n.flatpickr-calendar.static.open {\n  z-index: 999;\n  display: block;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7) {\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1) {\n  -webkit-box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n  box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-calendar .hasWeeks .dayContainer,\n.flatpickr-calendar .hasTime .dayContainer {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.flatpickr-calendar .hasWeeks .dayContainer {\n  border-left: 0;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\n  height: 40px;\n  border-top: 1px solid #eceef1;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-innerContainer {\n  border-bottom: 0;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\n  border: 1px solid #eceef1;\n}\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\n  height: auto;\n}\n.flatpickr-calendar:before,\n.flatpickr-calendar:after {\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  border: solid transparent;\n  content: \'\';\n  height: 0;\n  width: 0;\n  left: 22px;\n}\n.flatpickr-calendar.rightMost:before,\n.flatpickr-calendar.rightMost:after {\n  left: auto;\n  right: 22px;\n}\n.flatpickr-calendar:before {\n  border-width: 5px;\n  margin: 0 -5px;\n}\n.flatpickr-calendar:after {\n  border-width: 4px;\n  margin: 0 -4px;\n}\n.flatpickr-calendar.arrowTop:before,\n.flatpickr-calendar.arrowTop:after {\n  bottom: 100%;\n}\n.flatpickr-calendar.arrowTop:before {\n  border-bottom-color: #eceef1;\n}\n.flatpickr-calendar.arrowTop:after {\n  border-bottom-color: #eceef1;\n}\n.flatpickr-calendar.arrowBottom:before,\n.flatpickr-calendar.arrowBottom:after {\n  top: 100%;\n}\n.flatpickr-calendar.arrowBottom:before {\n  border-top-color: #eceef1;\n}\n.flatpickr-calendar.arrowBottom:after {\n  border-top-color: #eceef1;\n}\n.flatpickr-calendar:focus {\n  outline: 0;\n}\n.flatpickr-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.flatpickr-months {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-months .flatpickr-month {\n  border-radius: 5px 5px 0 0;\n  background: #eceef1;\n  color: #5a6171;\n  fill: #5a6171;\n  height: 34px;\n  line-height: 1;\n  text-align: center;\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.flatpickr-months .flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month {\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  height: 34px;\n  padding: 10px;\n  z-index: 3;\n  color: #5a6171;\n  fill: #5a6171;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,\n.flatpickr-months .flatpickr-next-month.flatpickr-disabled {\n  display: none;\n}\n.flatpickr-months .flatpickr-prev-month i,\n.flatpickr-months .flatpickr-next-month i {\n  position: relative;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-prev-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  left: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-next-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  right: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,\n.flatpickr-months .flatpickr-next-month:hover {\n  color: #bbb;\n}\n.flatpickr-months .flatpickr-prev-month:hover svg,\n.flatpickr-months .flatpickr-next-month:hover svg {\n  fill: #f64747;\n}\n.flatpickr-months .flatpickr-prev-month svg,\n.flatpickr-months .flatpickr-next-month svg {\n  width: 14px;\n  height: 14px;\n}\n.flatpickr-months .flatpickr-prev-month svg path,\n.flatpickr-months .flatpickr-next-month svg path {\n  -webkit-transition: fill 0.1s;\n  transition: fill 0.1s;\n  fill: inherit;\n}\n.numInputWrapper {\n  position: relative;\n  height: auto;\n}\n.numInputWrapper input,\n.numInputWrapper span {\n  display: inline-block;\n}\n.numInputWrapper input {\n  width: 100%;\n}\n.numInputWrapper input::-ms-clear {\n  display: none;\n}\n.numInputWrapper input::-webkit-outer-spin-button,\n.numInputWrapper input::-webkit-inner-spin-button {\n  margin: 0;\n  -webkit-appearance: none;\n}\n.numInputWrapper span {\n  position: absolute;\n  right: 0;\n  width: 14px;\n  padding: 0 4px 0 2px;\n  height: 50%;\n  line-height: 50%;\n  opacity: 0;\n  cursor: pointer;\n  border: 1px solid rgba(72, 72, 72, 0.15);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.numInputWrapper span:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.numInputWrapper span:active {\n  background: rgba(0, 0, 0, 0.2);\n}\n.numInputWrapper span:after {\n  display: block;\n  content: "";\n  position: absolute;\n}\n.numInputWrapper span.arrowUp {\n  top: 0;\n  border-bottom: 0;\n}\n.numInputWrapper span.arrowUp:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(72, 72, 72, 0.6);\n  top: 26%;\n}\n.numInputWrapper span.arrowDown {\n  top: 50%;\n}\n.numInputWrapper span.arrowDown:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid rgba(72, 72, 72, 0.6);\n  top: 40%;\n}\n.numInputWrapper span svg {\n  width: inherit;\n  height: auto;\n}\n.numInputWrapper span svg path {\n  fill: rgba(90, 97, 113, 0.5);\n}\n.numInputWrapper:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.numInputWrapper:hover span {\n  opacity: 1;\n}\n.flatpickr-current-month {\n  font-size: 135%;\n  line-height: inherit;\n  font-weight: 300;\n  color: inherit;\n  position: absolute;\n  width: 75%;\n  left: 12.5%;\n  padding: 7.48px 0 0 0;\n  line-height: 1;\n  height: 34px;\n  display: inline-block;\n  text-align: center;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n}\n.flatpickr-current-month span.cur-month {\n  font-family: inherit;\n  font-weight: 700;\n  color: inherit;\n  display: inline-block;\n  margin-left: 0.5ch;\n  padding: 0;\n}\n.flatpickr-current-month span.cur-month:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.flatpickr-current-month .numInputWrapper {\n  width: 6ch;\n  width: 7ch\0;\n  display: inline-block;\n}\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\n  border-bottom-color: #5a6171;\n}\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\n  border-top-color: #5a6171;\n}\n.flatpickr-current-month input.cur-year {\n  background: transparent;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: text;\n  padding: 0 0 0 0.5ch;\n  margin: 0;\n  display: inline-block;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  line-height: inherit;\n  height: auto;\n  border: 0;\n  border-radius: 0;\n  vertical-align: initial;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-current-month input.cur-year:focus {\n  outline: 0;\n}\n.flatpickr-current-month input.cur-year[disabled],\n.flatpickr-current-month input.cur-year[disabled]:hover {\n  font-size: 100%;\n  color: rgba(90, 97, 113, 0.5);\n  background: transparent;\n  pointer-events: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months {\n  appearance: menulist;\n  background: #eceef1;\n  border: none;\n  border-radius: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  height: auto;\n  line-height: inherit;\n  margin: -1px 0 0 0;\n  outline: none;\n  padding: 0 0 0 0.5ch;\n  position: relative;\n  vertical-align: initial;\n  -webkit-box-sizing: border-box;\n  -webkit-appearance: menulist;\n  -moz-appearance: menulist;\n  width: auto;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:focus,\n.flatpickr-current-month .flatpickr-monthDropdown-months:active {\n  outline: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {\n  background-color: #eceef1;\n  outline: none;\n  padding: 0;\n}\n.flatpickr-weekdays {\n  background: #eceef1;\n  text-align: center;\n  overflow: hidden;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  height: 28px;\n}\n.flatpickr-weekdays .flatpickr-weekdaycontainer {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\nspan.flatpickr-weekday {\n  cursor: default;\n  font-size: 90%;\n  background: #eceef1;\n  color: #5a6171;\n  line-height: 1;\n  margin: 0;\n  text-align: center;\n  display: block;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  font-weight: bolder;\n}\n.dayContainer,\n.flatpickr-weeks {\n  padding: 1px 0 0 0;\n}\n.flatpickr-days {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  width: 307.875px;\n  border-left: 1px solid #eceef1;\n  border-right: 1px solid #eceef1;\n}\n.flatpickr-days:focus {\n  outline: 0;\n}\n.dayContainer {\n  padding: 0;\n  outline: 0;\n  text-align: left;\n  width: 307.875px;\n  min-width: 307.875px;\n  max-width: 307.875px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-around;\n  justify-content: space-around;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n  opacity: 1;\n}\n.dayContainer + .dayContainer {\n  -webkit-box-shadow: -1px 0 0 #eceef1;\n  box-shadow: -1px 0 0 #eceef1;\n}\n.flatpickr-day {\n  background: none;\n  border: 1px solid transparent;\n  border-radius: 150px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #484848;\n  cursor: pointer;\n  font-weight: 400;\n  width: 14.2857143%;\n  -webkit-flex-basis: 14.2857143%;\n  -ms-flex-preferred-size: 14.2857143%;\n  flex-basis: 14.2857143%;\n  max-width: 39px;\n  height: 39px;\n  line-height: 39px;\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n}\n.flatpickr-day.inRange,\n.flatpickr-day.prevMonthDay.inRange,\n.flatpickr-day.nextMonthDay.inRange,\n.flatpickr-day.today.inRange,\n.flatpickr-day.prevMonthDay.today.inRange,\n.flatpickr-day.nextMonthDay.today.inRange,\n.flatpickr-day:hover,\n.flatpickr-day.prevMonthDay:hover,\n.flatpickr-day.nextMonthDay:hover,\n.flatpickr-day:focus,\n.flatpickr-day.prevMonthDay:focus,\n.flatpickr-day.nextMonthDay:focus {\n  cursor: pointer;\n  outline: 0;\n  background: #e2e2e2;\n  border-color: #e2e2e2;\n}\n.flatpickr-day.today {\n  border-color: #bbb;\n}\n.flatpickr-day.today:hover,\n.flatpickr-day.today:focus {\n  border-color: #bbb;\n  background: #bbb;\n  color: #fff;\n}\n.flatpickr-day.selected,\n.flatpickr-day.startRange,\n.flatpickr-day.endRange,\n.flatpickr-day.selected.inRange,\n.flatpickr-day.startRange.inRange,\n.flatpickr-day.endRange.inRange,\n.flatpickr-day.selected:focus,\n.flatpickr-day.startRange:focus,\n.flatpickr-day.endRange:focus,\n.flatpickr-day.selected:hover,\n.flatpickr-day.startRange:hover,\n.flatpickr-day.endRange:hover,\n.flatpickr-day.selected.prevMonthDay,\n.flatpickr-day.startRange.prevMonthDay,\n.flatpickr-day.endRange.prevMonthDay,\n.flatpickr-day.selected.nextMonthDay,\n.flatpickr-day.startRange.nextMonthDay,\n.flatpickr-day.endRange.nextMonthDay {\n  background: #ff5a5f;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  color: #fff;\n  border-color: #ff5a5f;\n}\n.flatpickr-day.selected.startRange,\n.flatpickr-day.startRange.startRange,\n.flatpickr-day.endRange.startRange {\n  border-radius: 50px 0 0 50px;\n}\n.flatpickr-day.selected.endRange,\n.flatpickr-day.startRange.endRange,\n.flatpickr-day.endRange.endRange {\n  border-radius: 0 50px 50px 0;\n}\n.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {\n  -webkit-box-shadow: -10px 0 0 #ff5a5f;\n  box-shadow: -10px 0 0 #ff5a5f;\n}\n.flatpickr-day.selected.startRange.endRange,\n.flatpickr-day.startRange.startRange.endRange,\n.flatpickr-day.endRange.startRange.endRange {\n  border-radius: 50px;\n}\n.flatpickr-day.inRange {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #e2e2e2, 5px 0 0 #e2e2e2;\n  box-shadow: -5px 0 0 #e2e2e2, 5px 0 0 #e2e2e2;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover,\n.flatpickr-day.prevMonthDay,\n.flatpickr-day.nextMonthDay,\n.flatpickr-day.notAllowed,\n.flatpickr-day.notAllowed.prevMonthDay,\n.flatpickr-day.notAllowed.nextMonthDay {\n  color: rgba(72, 72, 72, 0.3);\n  background: transparent;\n  border-color: transparent;\n  cursor: default;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover {\n  cursor: not-allowed;\n  color: rgba(72, 72, 72, 0.1);\n}\n.flatpickr-day.week.selected {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #ff5a5f, 5px 0 0 #ff5a5f;\n  box-shadow: -5px 0 0 #ff5a5f, 5px 0 0 #ff5a5f;\n}\n.flatpickr-day.hidden {\n  visibility: hidden;\n}\n.rangeMode .flatpickr-day {\n  margin-top: 1px;\n}\n.flatpickr-weekwrapper {\n  float: left;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  padding: 0 12px;\n  border-left: 1px solid #eceef1;\n}\n.flatpickr-weekwrapper .flatpickr-weekday {\n  float: none;\n  width: 100%;\n  line-height: 28px;\n}\n.flatpickr-weekwrapper span.flatpickr-day,\n.flatpickr-weekwrapper span.flatpickr-day:hover {\n  display: block;\n  width: 100%;\n  max-width: none;\n  color: rgba(72, 72, 72, 0.3);\n  background: transparent;\n  cursor: default;\n  border: none;\n}\n.flatpickr-innerContainer {\n  display: block;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  background: #fff;\n  border-bottom: 1px solid #eceef1;\n}\n.flatpickr-rContainer {\n  display: inline-block;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.flatpickr-time {\n  text-align: center;\n  outline: 0;\n  display: block;\n  height: 0;\n  line-height: 40px;\n  max-height: 40px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  background: #fff;\n  border-radius: 0 0 5px 5px;\n}\n.flatpickr-time:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.flatpickr-time .numInputWrapper {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  width: 40%;\n  height: 40px;\n  float: left;\n}\n.flatpickr-time .numInputWrapper span.arrowUp:after {\n  border-bottom-color: #484848;\n}\n.flatpickr-time .numInputWrapper span.arrowDown:after {\n  border-top-color: #484848;\n}\n.flatpickr-time.hasSeconds .numInputWrapper {\n  width: 26%;\n}\n.flatpickr-time.time24hr .numInputWrapper {\n  width: 49%;\n}\n.flatpickr-time input {\n  background: transparent;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 0;\n  border-radius: 0;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: inherit;\n  line-height: inherit;\n  color: #484848;\n  font-size: 14px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-time input.flatpickr-hour {\n  font-weight: bold;\n}\n.flatpickr-time input.flatpickr-minute,\n.flatpickr-time input.flatpickr-second {\n  font-weight: 400;\n}\n.flatpickr-time input:focus {\n  outline: 0;\n  border: 0;\n}\n.flatpickr-time .flatpickr-time-separator,\n.flatpickr-time .flatpickr-am-pm {\n  height: inherit;\n  float: left;\n  line-height: inherit;\n  color: #484848;\n  font-weight: bold;\n  width: 2%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n  align-self: center;\n}\n.flatpickr-time .flatpickr-am-pm {\n  outline: 0;\n  width: 18%;\n  cursor: pointer;\n  text-align: center;\n  font-weight: 400;\n}\n.flatpickr-time input:hover,\n.flatpickr-time .flatpickr-am-pm:hover,\n.flatpickr-time input:focus,\n.flatpickr-time .flatpickr-am-pm:focus {\n  background: #eaeaea;\n}\n.flatpickr-input[readonly] {\n  cursor: pointer;\n}\n@-webkit-keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\nspan.flatpickr-day.selected {\n  font-weight: bold;\n}\n'])}},{key:"render",value:function(){var t=this;null==this._picker&&(Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.p)({type:"text",class:"bk-input",disabled:this.model.disabled}),this.group_el.appendChild(this.input_el),this._picker=Rc()(this.input_el,{defaultDate:this.model.value,minDate:this.model.min_date,maxDate:this.model.max_date,inline:this.model.inline,position:this.model.position,disable:Mc(this.model.disabled_dates),enable:Mc(this.model.enabled_dates),onChange:function(e,n,r){return t._on_change(e,n,r)}}))}},{key:"_on_change",value:function(t,e,n){this.model.value=e,this.change_input()}}]),n}(Xu);Pc.__name__="DatePickerView";var Dc=function(t){ht()(n,t);var e=Tc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_DatePicker",value:function(){this.prototype.default_view=Pc,this.define({value:[su.e],min_date:[su.e],max_date:[su.e],disabled_dates:[su.e,[]],enabled_dates:[su.e,[]],position:[su.l,"auto"],inline:[su.i,!1]})}}]),n}($u);Dc.__name__="DatePicker",Dc.init_DatePicker();var Nc=n(58),Lc=n.n(Nc),jc=n(135);function Fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var zc=function(t){ht()(n,t);var e=Fc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"controls",value:Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.slider_el;case 2:case"end":return t.stop()}}),t,this)}))},{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties,r=e.direction,i=e.orientation,o=e.tooltips;this.on_change([r,i,o],(function(){return t.render()}));var a=this.model.properties,s=a.start,l=a.end,u=a.value,c=a.step,f=a.title;this.on_change([s,l,u,c],(function(){var e=t._calc_to(),n=e.start,r=e.end,i=e.value,o=e.step;t.noUiSlider.updateOptions({range:{min:n,max:r},start:i,step:o})}));var h=this.model.properties.bar_color;this.on_change(h,(function(){t._set_bar_color()}));var d=this.model.properties.show_value;this.on_change([u,f,d],(function(){return t._update_title()}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),["\n.bk-root {\n  /*! nouislider - 14.5.0 - 5/11/2020 */\n  /* Functional styling;\n * These styles are required for noUiSlider to function.\n * You don't need to change these rules to apply your design.\n */\n  /* Wrapper for all connect elements.\n */\n  /* Offset direction\n */\n  /* Give origins 0 height/width so they don't interfere with clicking the\n * connect elements.\n */\n  /* Slider size and handle placement;\n */\n  /* Styling;\n * Giving the connect element a border radius causes issues with using transform: scale\n */\n  /* Handles and cursors;\n */\n  /* Handle stripes;\n */\n  /* Disabled state;\n */\n  /* Base;\n *\n */\n  /* Values;\n *\n */\n  /* Markings;\n *\n */\n  /* Horizontal layout;\n *\n */\n  /* Vertical layout;\n *\n */\n}\n.bk-root .noUi-target,\n.bk-root .noUi-target * {\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-user-select: none;\n  -ms-touch-action: none;\n  touch-action: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.bk-root .noUi-target {\n  position: relative;\n}\n.bk-root .noUi-base,\n.bk-root .noUi-connects {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 1;\n}\n.bk-root .noUi-connects {\n  overflow: hidden;\n  z-index: 0;\n}\n.bk-root .noUi-connect,\n.bk-root .noUi-origin {\n  will-change: transform;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  -ms-transform-origin: 0 0;\n  -webkit-transform-origin: 0 0;\n  -webkit-transform-style: preserve-3d;\n  transform-origin: 0 0;\n  transform-style: flat;\n}\n.bk-root .noUi-connect {\n  height: 100%;\n  width: 100%;\n}\n.bk-root .noUi-origin {\n  height: 10%;\n  width: 10%;\n}\n.bk-root .noUi-txt-dir-rtl.noUi-horizontal .noUi-origin {\n  left: 0;\n  right: auto;\n}\n.bk-root .noUi-vertical .noUi-origin {\n  width: 0;\n}\n.bk-root .noUi-horizontal .noUi-origin {\n  height: 0;\n}\n.bk-root .noUi-handle {\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  position: absolute;\n}\n.bk-root .noUi-touch-area {\n  height: 100%;\n  width: 100%;\n}\n.bk-root .noUi-state-tap .noUi-connect,\n.bk-root .noUi-state-tap .noUi-origin {\n  -webkit-transition: transform 0.3s;\n  transition: transform 0.3s;\n}\n.bk-root .noUi-state-drag * {\n  cursor: inherit !important;\n}\n.bk-root .noUi-horizontal {\n  height: 18px;\n}\n.bk-root .noUi-horizontal .noUi-handle {\n  width: 34px;\n  height: 28px;\n  right: -17px;\n  top: -6px;\n}\n.bk-root .noUi-vertical {\n  width: 18px;\n}\n.bk-root .noUi-vertical .noUi-handle {\n  width: 28px;\n  height: 34px;\n  right: -6px;\n  top: -17px;\n}\n.bk-root .noUi-txt-dir-rtl.noUi-horizontal .noUi-handle {\n  left: -17px;\n  right: auto;\n}\n.bk-root .noUi-target {\n  background: #FAFAFA;\n  border-radius: 4px;\n  border: 1px solid #D3D3D3;\n  box-shadow: inset 0 1px 1px #F0F0F0, 0 3px 6px -5px #BBB;\n}\n.bk-root .noUi-connects {\n  border-radius: 3px;\n}\n.bk-root .noUi-connect {\n  background: #3FB8AF;\n}\n.bk-root .noUi-draggable {\n  cursor: ew-resize;\n}\n.bk-root .noUi-vertical .noUi-draggable {\n  cursor: ns-resize;\n}\n.bk-root .noUi-handle {\n  border: 1px solid #D9D9D9;\n  border-radius: 3px;\n  background: #FFF;\n  cursor: default;\n  box-shadow: inset 0 0 1px #FFF, inset 0 1px 7px #EBEBEB, 0 3px 6px -3px #BBB;\n}\n.bk-root .noUi-active {\n  box-shadow: inset 0 0 1px #FFF, inset 0 1px 7px #DDD, 0 3px 6px -3px #BBB;\n}\n.bk-root .noUi-handle:before,\n.bk-root .noUi-handle:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  height: 14px;\n  width: 1px;\n  background: #E8E7E6;\n  left: 14px;\n  top: 6px;\n}\n.bk-root .noUi-handle:after {\n  left: 17px;\n}\n.bk-root .noUi-vertical .noUi-handle:before,\n.bk-root .noUi-vertical .noUi-handle:after {\n  width: 14px;\n  height: 1px;\n  left: 6px;\n  top: 14px;\n}\n.bk-root .noUi-vertical .noUi-handle:after {\n  top: 17px;\n}\n.bk-root [disabled] .noUi-connect {\n  background: #B8B8B8;\n}\n.bk-root [disabled].noUi-target,\n.bk-root [disabled].noUi-handle,\n.bk-root [disabled] .noUi-handle {\n  cursor: not-allowed;\n}\n.bk-root .noUi-pips,\n.bk-root .noUi-pips * {\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.bk-root .noUi-pips {\n  position: absolute;\n  color: #999;\n}\n.bk-root .noUi-value {\n  position: absolute;\n  white-space: nowrap;\n  text-align: center;\n}\n.bk-root .noUi-value-sub {\n  color: #ccc;\n  font-size: 10px;\n}\n.bk-root .noUi-marker {\n  position: absolute;\n  background: #CCC;\n}\n.bk-root .noUi-marker-sub {\n  background: #AAA;\n}\n.bk-root .noUi-marker-large {\n  background: #AAA;\n}\n.bk-root .noUi-pips-horizontal {\n  padding: 10px 0;\n  height: 80px;\n  top: 100%;\n  left: 0;\n  width: 100%;\n}\n.bk-root .noUi-value-horizontal {\n  -webkit-transform: translate(-50%, 50%);\n  transform: translate(-50%, 50%);\n}\n.bk-root .noUi-rtl .noUi-value-horizontal {\n  -webkit-transform: translate(50%, 50%);\n  transform: translate(50%, 50%);\n}\n.bk-root .noUi-marker-horizontal.noUi-marker {\n  margin-left: -1px;\n  width: 2px;\n  height: 5px;\n}\n.bk-root .noUi-marker-horizontal.noUi-marker-sub {\n  height: 10px;\n}\n.bk-root .noUi-marker-horizontal.noUi-marker-large {\n  height: 15px;\n}\n.bk-root .noUi-pips-vertical {\n  padding: 0 10px;\n  height: 100%;\n  top: 0;\n  left: 100%;\n}\n.bk-root .noUi-value-vertical {\n  -webkit-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  padding-left: 25px;\n}\n.bk-root .noUi-rtl .noUi-value-vertical {\n  -webkit-transform: translate(0, 50%);\n  transform: translate(0, 50%);\n}\n.bk-root .noUi-marker-vertical.noUi-marker {\n  width: 5px;\n  height: 2px;\n  margin-top: -1px;\n}\n.bk-root .noUi-marker-vertical.noUi-marker-sub {\n  width: 10px;\n}\n.bk-root .noUi-marker-vertical.noUi-marker-large {\n  width: 15px;\n}\n.bk-root .noUi-tooltip {\n  display: block;\n  position: absolute;\n  border: 1px solid #D9D9D9;\n  border-radius: 3px;\n  background: #fff;\n  color: #000;\n  padding: 5px;\n  text-align: center;\n  white-space: nowrap;\n}\n.bk-root .noUi-horizontal .noUi-tooltip {\n  -webkit-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n  left: 50%;\n  bottom: 120%;\n}\n.bk-root .noUi-vertical .noUi-tooltip {\n  -webkit-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  top: 50%;\n  right: 120%;\n}\n.bk-root .noUi-horizontal .noUi-origin > .noUi-tooltip {\n  -webkit-transform: translate(50%, 0);\n  transform: translate(50%, 0);\n  left: auto;\n  bottom: 10px;\n}\n.bk-root .noUi-vertical .noUi-origin > .noUi-tooltip {\n  -webkit-transform: translate(0, -18px);\n  transform: translate(0, -18px);\n  top: auto;\n  right: 28px;\n}\n.bk-root .noUi-handle {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n.bk-root .noUi-handle.noUi-active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n.bk-root .noUi-handle:after,\n.bk-root .noUi-handle:before {\n  display: none;\n}\n.bk-root .noUi-tooltip {\n  display: none;\n  white-space: nowrap;\n}\n.bk-root .noUi-handle:hover .noUi-tooltip {\n  display: block;\n}\n.bk-root .noUi-horizontal {\n  width: 100%;\n  height: 10px;\n}\n.bk-root .noUi-vertical {\n  width: 10px;\n  height: 100%;\n}\n.bk-root .noUi-horizontal .noUi-handle {\n  width: 14px;\n  height: 18px;\n  right: -7px;\n  top: -5px;\n}\n.bk-root .noUi-vertical .noUi-handle {\n  width: 18px;\n  height: 14px;\n  right: -5px;\n  top: -7px;\n}\n.bk-root .noUi-target.noUi-horizontal {\n  margin: 5px 0px;\n}\n.bk-root .noUi-target.noUi-vertical {\n  margin: 0px 5px;\n}\n","\n.bk-root .bk-slider-title {\n  white-space: nowrap;\n}\n.bk-root .bk-slider-value {\n  font-weight: 600;\n}\n"])}},{key:"_update_title",value:function(){var t=this;Object(Xt.l)(this.title_el);var e=null==this.model.title||0==this.model.title.length&&!this.model.show_value;if(this.title_el.style.display=e?"none":"",!e&&(0!=this.model.title.length&&(this.title_el.textContent="".concat(this.model.title,": ")),this.model.show_value)){var n=this._calc_to().value.map((function(e){return t.model.pretty(e)})).join(" .. ");this.title_el.appendChild(Object(Xt.H)({class:"bk-slider-value"},n))}}},{key:"_set_bar_color",value:function(){this.model.disabled||(this.slider_el.querySelector(".noUi-connect").style.backgroundColor=this.model.bar_color)}},{key:"_keypress_handle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._calc_to(),r=n.start,i=n.value,o=n.end,a=n.step,s=2==i.length,l=r,u=o;switch(s&&0==e?u=i[1]:s&&1==e&&(l=i[0]),t.which){case 37:i[e]=Math.max(i[e]-a,l);break;case 39:i[e]=Math.min(i[e]+a,u);break;default:return}this.model.value=s?i:i[0],this.model.properties.value.change.emit(),this.model.value_throttled=this.model.value,this.noUiSlider.set(i)}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e,r=this._calc_to(),i=r.start,o=r.end,a=r.value,s=r.step;if(this.model.tooltips){var l={to:function(e){return t.model.pretty(e)}};e=Object(de.t)(l,a.length)}else e=!1;if(null==this.slider_el){this.slider_el=Object(Xt.k)(),jc.create(this.slider_el,{range:{min:i,max:o},start:a,step:s,behaviour:this.model.behaviour,connect:this.model.connected,tooltips:e,orientation:this.model.orientation,direction:this.model.direction}),this.noUiSlider.on("slide",(function(e,n,r){return t._slide(r)})),this.noUiSlider.on("change",(function(e,n,r){return t._change(r)})),this._set_keypress_handles();var u=function(n,r){e&&(t.slider_el.querySelectorAll(".noUi-handle")[n].querySelector(".noUi-tooltip").style.display=r?"block":"")};this.noUiSlider.on("start",(function(t,e){return u(e,!0)})),this.noUiSlider.on("end",(function(t,e){return u(e,!1)}))}else this.noUiSlider.updateOptions({range:{min:i,max:o},start:a,step:s});this._set_bar_color(),this.model.disabled?this.slider_el.setAttribute("disabled","true"):this.slider_el.removeAttribute("disabled"),this.title_el=Object(Xt.k)({class:"bk-slider-title"}),this._update_title(),this.group_el=Object(Xt.k)({class:"bk-input-group"},this.title_el,this.slider_el),this.el.appendChild(this.group_el)}},{key:"_slide",value:function(t){this.model.value=this._calc_from(t)}},{key:"_change",value:function(t){this.model.value=this._calc_from(t),this.model.value_throttled=this.model.value}},{key:"noUiSlider",get:function(){return this.slider_el.noUiSlider}}]),n}(Lu);zc.__name__="AbstractBaseSliderView";var Bc=function(t){ht()(n,t);var e=Fc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_calc_to",value:function(){return{start:this.model.start,end:this.model.end,value:[this.model.value],step:this.model.step}}},{key:"_calc_from",value:function(t){var e=Nt()(t,1)[0];return Number.isInteger(this.model.start)&&Number.isInteger(this.model.end)&&Number.isInteger(this.model.step)?Math.round(e):e}},{key:"_set_keypress_handles",value:function(){var t=this,e=this.slider_el.querySelector(".noUi-handle");e.setAttribute("tabindex","0"),e.addEventListener("keydown",(function(e){return t._keypress_handle(e)}))}}]),n}(zc);Bc.__name__="AbstractSliderView";var Uc=function(t){ht()(n,t);var e=Fc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_calc_to",value:function(){return{start:this.model.start,end:this.model.end,value:this.model.value,step:this.model.step}}},{key:"_calc_from",value:function(t){return t}},{key:"_set_keypress_handles",value:function(){var t=this,e=this.slider_el.querySelector(".noUi-handle-lower"),n=this.slider_el.querySelector(".noUi-handle-upper");e.setAttribute("tabindex","0"),e.addEventListener("keydown",(function(e){return t._keypress_handle(e,0)})),n.setAttribute("tabindex","1"),n.addEventListener("keydown",(function(e){return t._keypress_handle(e,1)}))}}]),n}(zc);Uc.__name__="AbstractRangeSliderView";var Gc=function(t){ht()(n,t);var e=Fc(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t)).connected=!1,r}return ct()(n,[{key:"_formatter",value:function(t,e){return"".concat(t)}},{key:"pretty",value:function(t){return this._formatter(t,this.format)}}],[{key:"init_AbstractSlider",value:function(){this.define({title:[su.nb,""],show_value:[su.i,!0],start:[su.e],end:[su.e],value:[su.e],value_throttled:[su.e],step:[su.V,1],format:[su.e],direction:[su.e,"ltr"],tooltips:[su.i,!0],bar_color:[su.m,"#e6e6e6"]})}}]),n}(ju);function Vc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Gc.__name__="AbstractSlider",Gc.init_AbstractSlider();var Hc=function(t){ht()(n,t);var e=Vc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Uc);Hc.__name__="DateRangeSliderView";var qc=function(t){ht()(n,t);var e=Vc(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t)).behaviour="drag",r.connected=[!1,!0,!1],r}return ct()(n,[{key:"_formatter",value:function(t,e){return Lc()(t,e)}}],[{key:"init_DateRangeSlider",value:function(){this.prototype.default_view=Hc,this.override({format:"%d %b %Y"})}}]),n}(Gc);function Wc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}qc.__name__="DateRangeSlider",qc.init_DateRangeSlider();var Yc=function(t){ht()(n,t);var e=Wc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Bc);Yc.__name__="DateSliderView";var Xc=function(t){ht()(n,t);var e=Wc(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t)).behaviour="tap",r.connected=[!0,!1],r}return ct()(n,[{key:"_formatter",value:function(t,e){return Lc()(t,e)}}],[{key:"init_DateSlider",value:function(){this.prototype.default_view=Yc,this.override({format:"%d %b %Y"})}}]),n}(Gc);Xc.__name__="DateSlider",Xc.init_DateSlider();var $c=n(99);function Jc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Kc=function(t){ht()(n,t);var e=Jc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){t.layout.invalidate_cache(),t.render(),t.root.compute_layout()}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),['\n.bk-root .bk-clearfix:before,\n.bk-root .bk-clearfix:after {\n  content: "";\n  display: table;\n}\n.bk-root .bk-clearfix:after {\n  clear: both;\n}\n'])}},{key:"_update_layout",value:function(){this.layout=new $c.a(this.el),this.layout.set_sizing(this.box_sizing())}},{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this);var t=Object.assign(Object.assign({},this.model.style),{display:"inline-block"});this.markup_el=Object(Xt.k)({class:"bk-clearfix",style:t}),this.el.appendChild(this.markup_el)}}]),n}(Ou);Kc.__name__="MarkupView";var Qc=function(t){ht()(n,t);var e=Jc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Markup",value:function(){this.define({text:[su.nb,""],style:[su.e,{}]})}}]),n}(Mu);function Zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Qc.__name__="Markup",Qc.init_Markup();var tf=function(t){ht()(n,t);var e=Zc(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this),this.model.render_as_text?this.markup_el.textContent=this.model.text:this.markup_el.innerHTML=this.model.text}}]),n}(Kc);tf.__name__="DivView";var ef=function(t){ht()(n,t);var e=Zc(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Div",value:function(){this.prototype.default_view=tf,this.define({render_as_text:[su.i,!1]})}}]),n}(Qc);function nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}ef.__name__="Div",ef.init_Div();var rf=function(t){ht()(n,t);var e=nf(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments))._open=!1,t}return ct()(n,[{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),[nc.a])}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e=Object(Xt.k)({class:[ec.a,tc.d]});if(this.model.is_split){var r=this._render_button(e);r.classList.add(Fu.e),r.addEventListener("click",(function(){return t._toggle_menu()})),this.group_el.appendChild(r)}else this.button_el.appendChild(e);var i=this.model.menu.map((function(e,n){if(null==e)return Object(Xt.k)({class:ec.b});var r=Object(Vt.j)(e)?e:e[0],i=Object(Xt.k)({},r);return i.addEventListener("click",(function(){return t._item_click(n)})),i}));this.menu=Object(Xt.k)({class:[ec.c,tc.c]},i),this.el.appendChild(this.menu),Object(Xt.L)(this.menu)}},{key:"_show_menu",value:function(){var t=this;if(!this._open){this._open=!0,Object(Xt.j)(this.menu);document.addEventListener("click",(function e(n){var r=n.target;r instanceof HTMLElement&&!t.el.contains(r)&&(document.removeEventListener("click",e),t._hide_menu())}))}}},{key:"_hide_menu",value:function(){this._open&&(this._open=!1,Object(Xt.L)(this.menu))}},{key:"_toggle_menu",value:function(){this._open?this._hide_menu():this._show_menu()}},{key:"click",value:function(){this.model.is_split?(this._hide_menu(),this.model.trigger_event(new lc.a),Ru()(gt()(n.prototype),"click",this).call(this)):this._toggle_menu()}},{key:"_item_click",value:function(t){this._hide_menu();var e=this.model.menu[t];if(null!=e){var n=Object(Vt.j)(e)?e:e[1];Object(Vt.j)(n)?this.model.trigger_event(new lc.e(n)):n.execute(this.model,{index:t})}}}]),n}(Uu);rf.__name__="DropdownView";var of=function(t){ht()(n,t);var e=nf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"is_split",get:function(){return this.split}}],[{key:"init_Dropdown",value:function(){this.prototype.default_view=rf,this.define({split:[su.i,!1],menu:[su.g,[]]}),this.override({label:"Dropdown"})}}]),n}(Gu);function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}of.__name__="Dropdown",of.init_Dropdown();var sf=function(t){ht()(r,t);var e,n=af(r);function r(){return lt()(this,r),n.apply(this,arguments)}return ct()(r,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(r.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.render()})),this.connect(this.model.properties.width.change,(function(){return t.render()}))}},{key:"render",value:function(){var t=this;null==this.dialogEl&&(this.dialogEl=document.createElement("input"),this.dialogEl.type="file",this.dialogEl.multiple=this.model.multiple,this.dialogEl.onchange=function(){var e=t.dialogEl.files;null!=e&&t.load_files(e)},this.el.appendChild(this.dialogEl)),null!=this.model.accept&&""!=this.model.accept&&(this.dialogEl.accept=this.model.accept),this.dialogEl.style.width="{this.model.width}px",this.dialogEl.disabled=this.model.disabled}},{key:"load_files",value:(e=zt()(Pt.a.mark((function t(e){var n,r,i,o,a,s,l,u,c;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=[],i=[],o=0;case 4:if(!(o<e.length)){t.next=15;break}return r.push(e[o].name),t.next=8,this.readfile(e[o]);case 8:a=t.sent,s=a.split(/[:;,]/,4),l=Nt()(s,4),u=l[1],c=l[3],n.push(c),i.push(u);case 12:o++,t.next=4;break;case 15:this.model.multiple?(this.model.filename=r,this.model.mime_type=i,this.model.value=n):(this.model.filename=r[0],this.model.mime_type=i[0],this.model.value=n[0]);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"readfile",value:function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){var i,o=r.result;null!=o?e(o):n(null!==(i=r.error)&&void 0!==i?i:new Error("unable to read '".concat(t.name,"'")))},r.readAsDataURL(t)}))}}]),r}(Ou);sf.__name__="FileInputView";var lf=function(t){ht()(n,t);var e=af(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_FileInput",value:function(){this.prototype.default_view=sf,this.define({value:[su.e,""],mime_type:[su.e,""],filename:[su.e,""],accept:[su.nb,""],multiple:[su.i,!1]})}}]),n}(Mu);function uf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}lf.__name__="FileInput",lf.init_FileInput();var hf=function(t){ht()(n,t);var e=ff(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.value.change,(function(){return t.render_selection()})),this.connect(this.model.properties.options.change,(function(){return t.render()})),this.connect(this.model.properties.name.change,(function(){return t.render()})),this.connect(this.model.properties.title.change,(function(){return t.render()})),this.connect(this.model.properties.size.change,(function(){return t.render()})),this.connect(this.model.properties.disabled.change,(function(){return t.render()}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e=this.model.options.map((function(t){var e,n;if(Object(Vt.j)(t))e=n=t;else{var r=Nt()(t,2);e=r[0],n=r[1]}return Object(Xt.u)({value:e},n)}));this.select_el=Object(Xt.D)({multiple:!0,class:"bk-input",name:this.model.name,disabled:this.model.disabled},e),this.select_el.addEventListener("change",(function(){return t.change_input()})),this.group_el.appendChild(this.select_el),this.render_selection()}},{key:"render_selection",value:function(){var t,e=new Set(this.model.value),n=uf(this.el.querySelectorAll("option"));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.selected=e.has(r.value)}}catch(t){n.e(t)}finally{n.f()}this.select_el.size=this.model.size}},{key:"change_input",value:function(){var t,e=null!=this.el.querySelector("select:focus"),r=[],i=uf(this.el.querySelectorAll("option"));try{for(i.s();!(t=i.n()).done;){var o=t.value;o.selected&&r.push(o.value)}}catch(t){i.e(t)}finally{i.f()}this.model.value=r,Ru()(gt()(n.prototype),"change_input",this).call(this),e&&this.select_el.focus()}}]),n}(Xu);hf.__name__="MultiSelectView";var df=function(t){ht()(n,t);var e=ff(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_MultiSelect",value:function(){this.prototype.default_view=hf,this.define({value:[su.g,[]],options:[su.g,[]],size:[su.V,4]})}}]),n}($u);function pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}df.__name__="MultiSelect",df.init_MultiSelect();var vf=function(t){ht()(n,t);var e=pf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this);var t=Object(Xt.v)({style:{margin:0}},this.model.text);this.markup_el.appendChild(t)}}]),n}(Kc);vf.__name__="ParagraphView";var gf=function(t){ht()(n,t);var e=pf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Paragraph",value:function(){this.prototype.default_view=vf}}]),n}(Qc);function mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}gf.__name__="Paragraph",gf.init_Paragraph();var yf=function(t){ht()(n,t);var e=mf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this),this.input_el.type="password"}}]),n}(Ku);yf.__name__="PasswordInputView";var _f=function(t){ht()(n,t);var e=mf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_PasswordInput",value:function(){this.prototype.default_view=yf}}]),n}(Qu);_f.__name__="PasswordInput",_f.init_PasswordInput();var bf=n(136),Af=n.n(bf);function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var xf=function(t){ht()(n,t);var e=wf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.value.change,(function(){return t.render_selection()})),this.connect(this.model.properties.disabled.change,(function(){return t.set_disabled()})),this.connect(this.model.properties.max_items.change,(function(){return t.render()})),this.connect(this.model.properties.option_limit.change,(function(){return t.render()})),this.connect(this.model.properties.delete_button.change,(function(){return t.render()})),this.connect(this.model.properties.placeholder.change,(function(){return t.render()})),this.connect(this.model.properties.options.change,(function(){return t.render()})),this.connect(this.model.properties.name.change,(function(){return t.render()})),this.connect(this.model.properties.title.change,(function(){return t.render()}))}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),["\n.bk-root {\n  /*===============================\n=            Choices            =\n===============================*/\n  /*=====  End of Choices  ======*/\n}\n.bk-root .choices {\n  position: relative;\n  margin-bottom: 24px;\n  font-size: 16px;\n}\n.bk-root .choices:focus {\n  outline: none;\n}\n.bk-root .choices:last-child {\n  margin-bottom: 0;\n}\n.bk-root .choices.is-disabled .choices__inner,\n.bk-root .choices.is-disabled .choices__input {\n  background-color: #eaeaea;\n  cursor: not-allowed;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bk-root .choices.is-disabled .choices__item {\n  cursor: not-allowed;\n}\n.bk-root .choices [hidden] {\n  display: none !important;\n}\n.bk-root .choices[data-type*='select-one'] {\n  cursor: pointer;\n}\n.bk-root .choices[data-type*='select-one'] .choices__inner {\n  padding-bottom: 7.5px;\n}\n.bk-root .choices[data-type*='select-one'] .choices__input {\n  display: block;\n  width: 100%;\n  padding: 10px;\n  border-bottom: 1px solid #dddddd;\n  background-color: #ffffff;\n  margin: 0;\n}\n.bk-root .choices[data-type*='select-one'] .choices__button {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);\n  padding: 0;\n  background-size: 8px;\n  position: absolute;\n  top: 50%;\n  right: 0;\n  margin-top: -10px;\n  margin-right: 25px;\n  height: 20px;\n  width: 20px;\n  border-radius: 10em;\n  opacity: 0.5;\n}\n.bk-root .choices[data-type*='select-one'] .choices__button:hover,\n.bk-root .choices[data-type*='select-one'] .choices__button:focus {\n  opacity: 1;\n}\n.bk-root .choices[data-type*='select-one'] .choices__button:focus {\n  box-shadow: 0px 0px 0px 2px #00bcd4;\n}\n.bk-root .choices[data-type*='select-one'] .choices__item[data-value=''] .choices__button {\n  display: none;\n}\n.bk-root .choices[data-type*='select-one']:after {\n  content: '';\n  height: 0;\n  width: 0;\n  border-style: solid;\n  border-color: #333333 transparent transparent transparent;\n  border-width: 5px;\n  position: absolute;\n  right: 11.5px;\n  top: 50%;\n  margin-top: -2.5px;\n  pointer-events: none;\n}\n.bk-root .choices[data-type*='select-one'].is-open:after {\n  border-color: transparent transparent #333333 transparent;\n  margin-top: -7.5px;\n}\n.bk-root .choices[data-type*='select-one'][dir='rtl']:after {\n  left: 11.5px;\n  right: auto;\n}\n.bk-root .choices[data-type*='select-one'][dir='rtl'] .choices__button {\n  right: auto;\n  left: 0;\n  margin-left: 25px;\n  margin-right: 0;\n}\n.bk-root .choices[data-type*='select-multiple'] .choices__inner,\n.bk-root .choices[data-type*='text'] .choices__inner {\n  cursor: text;\n}\n.bk-root .choices[data-type*='select-multiple'] .choices__button,\n.bk-root .choices[data-type*='text'] .choices__button {\n  position: relative;\n  display: inline-block;\n  margin-top: 0;\n  margin-right: -4px;\n  margin-bottom: 0;\n  margin-left: 8px;\n  padding-left: 16px;\n  border-left: 1px solid #008fa1;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);\n  background-size: 8px;\n  width: 8px;\n  line-height: 1;\n  opacity: 0.75;\n  border-radius: 0;\n}\n.bk-root .choices[data-type*='select-multiple'] .choices__button:hover,\n.bk-root .choices[data-type*='select-multiple'] .choices__button:focus,\n.bk-root .choices[data-type*='text'] .choices__button:hover,\n.bk-root .choices[data-type*='text'] .choices__button:focus {\n  opacity: 1;\n}\n.bk-root .choices__inner {\n  display: inline-block;\n  vertical-align: top;\n  width: 100%;\n  background-color: #f9f9f9;\n  padding: 7.5px 7.5px 3.75px;\n  border: 1px solid #dddddd;\n  border-radius: 2.5px;\n  font-size: 14px;\n  min-height: 44px;\n  overflow: hidden;\n}\n.bk-root .is-focused .choices__inner,\n.bk-root .is-open .choices__inner {\n  border-color: #b7b7b7;\n}\n.bk-root .is-open .choices__inner {\n  border-radius: 2.5px 2.5px 0 0;\n}\n.bk-root .is-flipped.is-open .choices__inner {\n  border-radius: 0 0 2.5px 2.5px;\n}\n.bk-root .choices__list {\n  margin: 0;\n  padding-left: 0;\n  list-style: none;\n}\n.bk-root .choices__list--single {\n  display: inline-block;\n  padding: 4px 16px 4px 4px;\n  width: 100%;\n}\n.bk-root [dir='rtl'] .choices__list--single {\n  padding-right: 4px;\n  padding-left: 16px;\n}\n.bk-root .choices__list--single .choices__item {\n  width: 100%;\n}\n.bk-root .choices__list--multiple {\n  display: inline;\n}\n.bk-root .choices__list--multiple .choices__item {\n  display: inline-block;\n  vertical-align: middle;\n  border-radius: 20px;\n  padding: 4px 10px;\n  font-size: 12px;\n  font-weight: 500;\n  margin-right: 3.75px;\n  margin-bottom: 3.75px;\n  background-color: #00bcd4;\n  border: 1px solid #00a5bb;\n  color: #ffffff;\n  word-break: break-all;\n  box-sizing: border-box;\n}\n.bk-root .choices__list--multiple .choices__item[data-deletable] {\n  padding-right: 5px;\n}\n.bk-root [dir='rtl'] .choices__list--multiple .choices__item {\n  margin-right: 0;\n  margin-left: 3.75px;\n}\n.bk-root .choices__list--multiple .choices__item.is-highlighted {\n  background-color: #00a5bb;\n  border: 1px solid #008fa1;\n}\n.bk-root .is-disabled .choices__list--multiple .choices__item {\n  background-color: #aaaaaa;\n  border: 1px solid #919191;\n}\n.bk-root .choices__list--dropdown {\n  visibility: hidden;\n  z-index: 1;\n  position: absolute;\n  width: 100%;\n  background-color: #ffffff;\n  border: 1px solid #dddddd;\n  top: 100%;\n  margin-top: -1px;\n  border-bottom-left-radius: 2.5px;\n  border-bottom-right-radius: 2.5px;\n  overflow: hidden;\n  word-break: break-all;\n  will-change: visibility;\n}\n.bk-root .choices__list--dropdown.is-active {\n  visibility: visible;\n}\n.bk-root .is-open .choices__list--dropdown {\n  border-color: #b7b7b7;\n}\n.bk-root .is-flipped .choices__list--dropdown {\n  top: auto;\n  bottom: 100%;\n  margin-top: 0;\n  margin-bottom: -1px;\n  border-radius: 0.25rem 0.25rem 0 0;\n}\n.bk-root .choices__list--dropdown .choices__list {\n  position: relative;\n  max-height: 300px;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  will-change: scroll-position;\n}\n.bk-root .choices__list--dropdown .choices__item {\n  position: relative;\n  padding: 10px;\n  font-size: 14px;\n}\n.bk-root [dir='rtl'] .choices__list--dropdown .choices__item {\n  text-align: right;\n}\n@media (min-width: 640px) {\n  .bk-root .choices__list--dropdown .choices__item--selectable {\n    padding-right: 100px;\n  }\n  .bk-root .choices__list--dropdown .choices__item--selectable:after {\n    content: attr(data-select-text);\n    font-size: 12px;\n    opacity: 0;\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  .bk-root [dir='rtl'] .choices__list--dropdown .choices__item--selectable {\n    text-align: right;\n    padding-left: 100px;\n    padding-right: 10px;\n  }\n  .bk-root [dir='rtl'] .choices__list--dropdown .choices__item--selectable:after {\n    right: auto;\n    left: 10px;\n  }\n}\n.bk-root .choices__list--dropdown .choices__item--selectable.is-highlighted {\n  background-color: #f2f2f2;\n}\n.bk-root .choices__list--dropdown .choices__item--selectable.is-highlighted:after {\n  opacity: 0.5;\n}\n.bk-root .choices__item {\n  cursor: default;\n}\n.bk-root .choices__item--selectable {\n  cursor: pointer;\n}\n.bk-root .choices__item--disabled {\n  cursor: not-allowed;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  opacity: 0.5;\n}\n.bk-root .choices__heading {\n  font-weight: 600;\n  font-size: 12px;\n  padding: 10px;\n  border-bottom: 1px solid #f7f7f7;\n  color: gray;\n}\n.bk-root .choices__button {\n  text-indent: -9999px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n}\n.bk-root .choices__button:focus {\n  outline: none;\n}\n.bk-root .choices__input {\n  display: inline-block;\n  vertical-align: baseline;\n  background-color: #f9f9f9;\n  font-size: 14px;\n  margin-bottom: 5px;\n  border: 0;\n  border-radius: 0;\n  max-width: 100%;\n  padding: 4px 0 4px 2px;\n}\n.bk-root .choices__input:focus {\n  outline: 0;\n}\n.bk-root [dir='rtl'] .choices__input {\n  padding-right: 2px;\n  padding-left: 0;\n}\n.bk-root .choices__placeholder {\n  opacity: 0.5;\n}\n.bk-root .choices {\n  width: 100%;\n}\n.bk-root .choices__inner .choices__item.light {\n  background-color: rgba(0, 126, 255, 0.08);\n  border-radius: 5px;\n  border: 1px solid rgba(0, 126, 255, 0.24);\n  color: #007eff;\n}\n.bk-root .choices__inner .choices__item.solid {\n  background-color: #1f77b4;\n  border: none;\n  border-radius: 5px;\n  color: white;\n}\n.bk-root .choices__inner .choices__item.solid .is-highlighted {\n  background-color: #1f77b4;\n  border: none;\n}\n.bk-root .choices__input {\n  background-color: transparent;\n}\n.bk-root .choices__inner {\n  background: transparent;\n  border: 1px solid darkgray;\n  border-radius: 5px;\n  min-height: unset;\n}\n.bk-root .choices__list {\n  white-space: initial;\n}\n.bk-root .choices[data-type*=select-multiple] .choices__button.light {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMDA3ZWZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);\n}\n.bk-root .choices[data-type*=select-multiple] .choices__button.solid {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);\n  border-left: 1px solid white;\n  opacity: 1;\n}\n"])}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e=this.model.options.map((function(t){var e,n;if(Object(Vt.j)(t))e=n=t;else{var r=Nt()(t,2);e=r[0],n=r[1]}return Object(Xt.u)({value:e},n)}));this.select_el=Object(Xt.D)({multiple:!0,class:"bk-input",name:this.model.name,disabled:this.model.disabled},e),this.group_el.appendChild(this.select_el),this.render_selection();var r="choices__item",i="choices__button";this.model.solid?(r+=" solid",i+=" solid"):(r+=" light",i+=" light");var o={removeItemButton:this.model.delete_button,classNames:{item:r,button:i}};null!==this.model.placeholder&&(o.placeholderValue=this.model.placeholder),null!==this.model.max_items&&(o.maxItemCount=this.model.max_items),null!==this.model.option_limit&&(o.renderChoiceLimit=this.model.option_limit),this.choice_el=new Af.a(this.select_el,o),this.select_el.addEventListener("change",(function(){return t.change_input()}))}},{key:"render_selection",value:function(){for(var t=new Set(this.model.value),e=0,n=Array.from(this.el.querySelectorAll("option"));e<n.length;e++){var r=n[e];r.selected=t.has(r.value)}}},{key:"set_disabled",value:function(){this.model.disabled?this.choice_el.disable():this.choice_el.enable()}},{key:"change_input",value:function(){for(var t=null!=this.el.querySelector("select:focus"),e=[],r=0,i=Array.from(this.el.querySelectorAll("option"));r<i.length;r++){var o=i[r];o.selected&&e.push(o.value)}this.model.value=e,Ru()(gt()(n.prototype),"change_input",this).call(this),t&&this.select_el.focus()}}]),n}(Xu);xf.__name__="MultiChoiceView";var kf=function(t){ht()(n,t);var e=wf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_MultiChoice",value:function(){this.prototype.default_view=xf,this.define({value:[su.g,[]],options:[su.g,[]],max_items:[su.V,null],delete_button:[su.i,!0],placeholder:[su.nb,null],option_limit:[su.V,null],solid:[su.i,!0]})}}]),n}($u);function Cf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}kf.__name__="MultiChoice",kf.init_MultiChoice();var Ef=function(t){ht()(n,t);var e=Cf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this);var t=Object(Xt.x)({style:{overflow:"auto"}},this.model.text);this.markup_el.appendChild(t)}}]),n}(Kc);Ef.__name__="PreTextView";var Sf=function(t){ht()(n,t);var e=Cf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_PreText",value:function(){this.prototype.default_view=Ef}}]),n}(Qc);function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Sf.__name__="PreText",Sf.init_PreText();var Tf=function(t){ht()(n,t);var e=Rf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"change_active",value:function(t){this.model.active!==t&&(this.model.active=t)}},{key:"_update_active",value:function(){var t=this.model.active;this._buttons.forEach((function(e,n){Object(Xt.g)(e).toggle(tc.b,t===n)}))}}]),n}(dc);Tf.__name__="RadioButtonGroupView";var If=function(t){ht()(n,t);var e=Rf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_RadioButtonGroup",value:function(){this.prototype.default_view=Tf,this.define({active:[su.e,null]})}}]),n}(pc);function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}If.__name__="RadioButtonGroup",If.init_RadioButtonGroup();var Mf=function(t){ht()(n,t);var e=Of(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this);var e=Object(Xt.k)({class:["bk-input-group",this.model.inline?tc.e:null]});this.el.appendChild(e);var r=Object(Gt.d)(),i=this.model,o=i.active,a=i.labels;this._inputs=[];for(var s=function(n){var i=Object(Xt.p)({type:"radio",name:r,value:"".concat(n)});i.addEventListener("change",(function(){return t.change_active(n)})),t._inputs.push(i),t.model.disabled&&(i.disabled=!0),n==o&&(i.checked=!0);var s=Object(Xt.q)({},i,Object(Xt.H)({},a[n]));e.appendChild(s)},l=0;l<a.length;l++)s(l)}},{key:"change_active",value:function(t){this.model.active=t}}]),n}(_c);Mf.__name__="RadioGroupView";var Pf=function(t){ht()(n,t);var e=Of(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_RadioGroup",value:function(){this.prototype.default_view=Mf,this.define({active:[su.V],labels:[su.g,[]],inline:[su.i,!1]})}}]),n}(bc);Pf.__name__="RadioGroup",Pf.init_RadioGroup();var Df=n(71);function Nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Lf=function(t){ht()(n,t);var e=Nf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Uc);Lf.__name__="RangeSliderView";var jf=function(t){ht()(n,t);var e=Nf(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t)).behaviour="drag",r.connected=[!1,!0,!1],r}return ct()(n,[{key:"_formatter",value:function(t,e){return Object(Vt.j)(e)?Df.format(t,e):e.doFormat([t],{loc:0})[0]}}],[{key:"init_RangeSlider",value:function(){this.prototype.default_view=Lf,this.override({format:"0[.]00"})}}]),n}(Gc);function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}jf.__name__="RangeSlider",jf.init_RangeSlider();var zf=function(t){ht()(n,t);var e=Ff(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this);var e=this.model.properties,r=e.value,i=e.options;this.on_change(r,(function(){t._update_value()})),this.on_change(i,(function(){Object(Xt.l)(t.input_el),Xt.c.apply(void 0,[t.input_el].concat(qt()(t.options_el())))}))}},{key:"options_el",value:function(){function t(t){return t.map((function(t){var e,n;if(Object(Vt.j)(t))e=n=t;else{var r=Nt()(t,2);e=r[0],n=r[1]}return Object(Xt.u)({value:e},n)}))}var e=this.model.options;return Object(Vt.a)(e)?t(e):Object(ue.b)(e).map((function(e){var n=Nt()(e,2),r=n[0],i=n[1];return Object(Xt.t)({label:r},t(i))}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.D)({class:"bk-input",name:this.model.name,disabled:this.model.disabled},this.options_el()),this._update_value(),this.input_el.addEventListener("change",(function(){return t.change_input()})),this.group_el.appendChild(this.input_el)}},{key:"change_input",value:function(){var t=this.input_el.value;this.model.value=t,Ru()(gt()(n.prototype),"change_input",this).call(this)}},{key:"_update_value",value:function(){var t=this.model.value;null!=t&&0!=t.length&&(this.input_el.value=this.model.value)}}]),n}(Xu);zf.__name__="SelectView";var Bf=function(t){ht()(n,t);var e=Ff(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Select",value:function(){this.prototype.default_view=zf,this.define({value:[su.nb,""],options:[su.e,[]]})}}]),n}($u);function Uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Bf.__name__="Select",Bf.init_Select();var Gf=function(t){ht()(n,t);var e=Uf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Bc);Gf.__name__="SliderView";var Vf=function(t){ht()(n,t);var e=Uf(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t)).behaviour="tap",r.connected=[!0,!1],r}return ct()(n,[{key:"_formatter",value:function(t,e){return Object(Vt.j)(e)?Df.format(t,e):e.doFormat([t],{loc:0})[0]}}],[{key:"init_Slider",value:function(){this.prototype.default_view=Gf,this.override({format:"0[.]00"})}}]),n}(Gc);function Hf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Vf.__name__="Slider",Vf.init_Slider();var qf=Math.floor,Wf=Math.max,Yf=Math.min;function Xf(t){return qf(t)!==t?t.toFixed(16).replace(/0+$/,"").split(".")[1].length:0}var $f=function(t){ht()(n,t);var e=Hf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.low.change,(function(){var e=t.model.low;null!=e&&(t.input_el.min=e.toFixed(16))})),this.connect(this.model.properties.high.change,(function(){var e=t.model.high;null!=e&&(t.input_el.max=e.toFixed(16))})),this.connect(this.model.properties.step.change,(function(){var e=t.model.step;t.input_el.step=e.toFixed(16)})),this.connect(this.model.properties.value.change,(function(){var e=t.model,n=e.value,r=e.step;t.input_el.value=n.toFixed(Xf(r)).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")})),this.connect(this.model.properties.disabled.change,(function(){t.input_el.disabled=t.model.disabled}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.p)({type:"number",class:"bk-input",name:this.model.name,min:this.model.low,max:this.model.high,value:this.model.value,step:this.model.step,disabled:this.model.disabled}),this.input_el.addEventListener("change",(function(){return t.change_input()})),this.group_el.appendChild(this.input_el)}},{key:"change_input",value:function(){if(this.input_el.value){var t=this.model.step,e=Number(this.input_el.value);null!=this.model.low&&(e=Wf(e,this.model.low)),null!=this.model.high&&(e=Yf(e,this.model.high)),this.model.value=Number(e.toFixed(Xf(t))),Ru()(gt()(n.prototype),"change_input",this).call(this)}}}]),n}(Xu);$f.__name__="SpinnerView";var Jf=function(t){ht()(n,t);var e=Hf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Spinner",value:function(){this.prototype.default_view=$f,this.define({value:[su.V,0],low:[su.V,null],high:[su.V,null],step:[su.V,1]})}}]),n}($u);function Kf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Jf.__name__="Spinner",Jf.init_Spinner();var Qf=function(t){ht()(n,t);var e=Kf(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.name.change,(function(){return t.input_el.name=t.model.name||""})),this.connect(this.model.properties.value.change,(function(){return t.input_el.value=t.model.value})),this.connect(this.model.properties.disabled.change,(function(){return t.input_el.disabled=t.model.disabled})),this.connect(this.model.properties.placeholder.change,(function(){return t.input_el.placeholder=t.model.placeholder})),this.connect(this.model.properties.rows.change,(function(){return t.input_el.rows=t.model.rows})),this.connect(this.model.properties.cols.change,(function(){return t.input_el.cols=t.model.cols})),this.connect(this.model.properties.max_length.change,(function(){return t.input_el.maxLength=t.model.max_length}))}},{key:"render",value:function(){var t=this;Ru()(gt()(n.prototype),"render",this).call(this),this.input_el=Object(Xt.J)({class:"bk-input",name:this.model.name,disabled:this.model.disabled,placeholder:this.model.placeholder,cols:this.model.cols,rows:this.model.rows,maxLength:this.model.max_length}),this.input_el.textContent=this.model.value,this.input_el.addEventListener("change",(function(){return t.change_input()})),this.group_el.appendChild(this.input_el)}},{key:"change_input",value:function(){this.model.value=this.input_el.value,Ru()(gt()(n.prototype),"change_input",this).call(this)}}]),n}(Xu);Qf.__name__="TextAreaInputView";var Zf=function(t){ht()(n,t);var e=Kf(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_TextAreaInput",value:function(){this.prototype.default_view=Qf,this.define({value:[su.nb,""],value_input:[su.nb,""],placeholder:[su.nb,""],cols:[su.V,20],rows:[su.V,2],max_length:[su.V,500]})}}]),n}($u);function th(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Zf.__name__="TextAreaInput",Zf.init_TextAreaInput();var eh=function(t){ht()(n,t);var e=th(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.properties.active.change,(function(){return t._update_active()}))}},{key:"render",value:function(){Ru()(gt()(n.prototype),"render",this).call(this),this._update_active()}},{key:"click",value:function(){this.model.active=!this.model.active,Ru()(gt()(n.prototype),"click",this).call(this)}},{key:"_update_active",value:function(){Object(Xt.g)(this.button_el).toggle(tc.b,this.model.active)}}]),n}(Uu);eh.__name__="ToggleView";var nh=function(t){ht()(n,t);var e=th(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_Toggle",value:function(){this.prototype.default_view=eh,this.define({active:[su.i,!1]}),this.override({label:"Toggle"})}}]),n}(Gu);nh.__name__="Toggle",nh.init_Toggle(),Object(he.b)(o);var rh=n(137),ih=n(138),oh=n(139),ah=n(56),sh=n(45),lh=n(89);function uh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var ch=function(t){ht()(n,t);var e=uh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"initialize",value:function(){Ru()(gt()(n.prototype),"initialize",this).call(this),null==this.view.source&&(this.view.source=this.source,this.view.compute_indices())}}],[{key:"init_TableWidget",value:function(){this.define({source:[su.F],view:[su.F,function(){return new lh.a}]})}}]),n}(Mu);ch.__name__="TableWidget",ch.init_TableWidget();function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}function hh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ph="__bkdt_internal_index__",vh=function(){function t(e,n){lt()(this,t),this.init(e,n)}return ct()(t,[{key:"init",value:function(t,e){if(ph in t.data)throw new Error("special name ".concat(ph," cannot be used as a data table column"));this.source=t,this.view=e,this.index=this.view.indices}},{key:"getLength",value:function(){return this.index.length}},{key:"getItem",value:function(t){var e,n={},r=hh(Object(ue.e)(this.source.data));try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i]=this.source.data[i][this.index[t]]}}catch(t){r.e(t)}finally{r.f()}return n[ph]=this.index[t],n}},{key:"getField",value:function(t,e){return e==ph?this.index[t]:this.source.data[e][this.index[t]]}},{key:"setField",value:function(t,e,n){var r=this.index[t];this.source.patch(jt()({},e,[[r,n]]))}},{key:"getItemMetadata",value:function(t){return null}},{key:"getRecords",value:function(){var t=this;return Object(de.q)(0,this.getLength()).map((function(e){return t.getItem(e)}))}},{key:"sort",value:function(t){var e=t.map((function(t){return[t.sortCol.field,t.sortAsc?1:-1]}));0==e.length&&(e=[[ph,1]]);var n=this.getRecords(),r=this.index.slice();this.index.sort((function(t,i){var o,a=hh(e);try{for(a.s();!(o=a.n()).done;){var s=Nt()(o.value,2),l=s[0],u=s[1],c=n[r.indexOf(t)][l],f=n[r.indexOf(i)][l],h=c==f?0:c>f?u:-u;if(0!=h)return h}}catch(t){a.e(t)}finally{a.f()}return 0}))}}]),t}();vh.__name__="TableDataProvider";var gh=function(t){ht()(n,t);var e=fh(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments))._in_selection_update=!1,t._warned_not_reorderable=!1,t}return ct()(n,[{key:"connect_signals",value:function(){var t=this;Ru()(gt()(n.prototype),"connect_signals",this).call(this),this.connect(this.model.change,(function(){return t.render()})),this.connect(this.model.source.streaming,(function(){return t.updateGrid()})),this.connect(this.model.source.patching,(function(){return t.updateGrid()})),this.connect(this.model.source.change,(function(){return t.updateGrid()})),this.connect(this.model.source.properties.data.change,(function(){return t.updateGrid()})),this.connect(this.model.source.selected.change,(function(){return t.updateSelection()})),this.connect(this.model.source.selected.properties.indices.change,(function(){return t.updateSelection()}))}},{key:"remove",value:function(){var t;null===(t=this.grid)||void 0===t||t.destroy(),Ru()(gt()(n.prototype),"remove",this).call(this)}},{key:"styles",value:function(){return[].concat(qt()(Ru()(gt()(n.prototype),"styles",this).call(this)),['\n.bk-root {\n  /*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n  /*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n  /* Menu button */\n  /* Menu */\n  /* Menu items */\n  /* Disabled */\n}\n.bk-root .slick-header.ui-state-default,\n.bk-root .slick-headerrow.ui-state-default,\n.bk-root .slick-footerrow.ui-state-default,\n.bk-root .slick-top-panel-scroller.ui-state-default {\n  width: 100%;\n  overflow: auto;\n  position: relative;\n  border-left: 0px !important;\n}\n.bk-root .slick-header.ui-state-default {\n  overflow: inherit;\n}\n.bk-root .slick-header::-webkit-scrollbar,\n.bk-root .slick-headerrow::-webkit-scrollbar,\n.bk-root .slick-footerrow::-webkit-scrollbar {\n  display: none;\n}\n.bk-root .slick-header-columns,\n.bk-root .slick-headerrow-columns,\n.bk-root .slick-footerrow-columns {\n  position: relative;\n  white-space: nowrap;\n  cursor: default;\n  overflow: hidden;\n}\n.bk-root .slick-header-column.ui-state-default {\n  position: relative;\n  display: inline-block;\n  box-sizing: content-box !important;\n  /* this here only for Firefox! */\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  height: 16px;\n  line-height: 16px;\n  margin: 0;\n  padding: 4px;\n  border-right: 1px solid silver;\n  border-left: 0px !important;\n  border-top: 0px !important;\n  border-bottom: 0px !important;\n  float: left;\n}\n.bk-root .slick-headerrow-column.ui-state-default,\n.bk-root .slick-footerrow-column.ui-state-default {\n  padding: 4px;\n}\n.bk-root .slick-header-column-sorted {\n  font-style: italic;\n}\n.bk-root .slick-sort-indicator {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 6px;\n  float: left;\n}\n.bk-root .slick-sort-indicator-numbered {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 0;\n  line-height: 20px;\n  float: left;\n  font-family: Arial;\n  font-style: normal;\n  font-weight: bold;\n  color: #6190CD;\n}\n.bk-root .slick-sort-indicator-desc {\n  background: url(images/sort-desc.gif);\n}\n.bk-root .slick-sort-indicator-asc {\n  background: url(images/sort-asc.gif);\n}\n.bk-root .slick-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  cursor: col-resize;\n  width: 9px;\n  right: -5px;\n  top: 0;\n  height: 100%;\n  z-index: 1;\n}\n.bk-root .slick-sortable-placeholder {\n  background: silver;\n}\n.bk-root .grid-canvas {\n  position: relative;\n  outline: 0;\n}\n.bk-root .slick-row.ui-widget-content,\n.bk-root .slick-row.ui-state-active {\n  position: absolute;\n  border: 0px;\n  width: 100%;\n}\n.bk-root .slick-cell,\n.bk-root .slick-headerrow-column,\n.bk-root .slick-footerrow-column {\n  position: absolute;\n  border: 1px solid transparent;\n  border-right: 1px dotted silver;\n  border-bottom-color: silver;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  z-index: 1;\n  padding: 1px 2px 2px 1px;\n  margin: 0;\n  white-space: nowrap;\n  cursor: default;\n}\n.bk-root .slick-cell,\n.bk-root .slick-headerrow-column {\n  border-bottom-color: silver;\n}\n.bk-root .slick-footerrow-column {\n  border-top-color: silver;\n}\n.bk-root .slick-group-toggle {\n  display: inline-block;\n}\n.bk-root .slick-cell.highlighted {\n  background: lightskyblue;\n  background: rgba(0, 0, 255, 0.2);\n  -webkit-transition: all 0.5s;\n  -moz-transition: all 0.5s;\n  -o-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.bk-root .slick-cell.flashing {\n  border: 1px solid red !important;\n}\n.bk-root .slick-cell.editable {\n  z-index: 11;\n  overflow: visible;\n  background: white;\n  border-color: black;\n  border-style: solid;\n}\n.bk-root .slick-cell:focus {\n  outline: none;\n}\n.bk-root .slick-reorder-proxy {\n  display: inline-block;\n  background: blue;\n  opacity: 0.15;\n  cursor: move;\n}\n.bk-root .slick-reorder-guide {\n  display: inline-block;\n  height: 2px;\n  background: blue;\n  opacity: 0.7;\n}\n.bk-root .slick-selection {\n  z-index: 10;\n  position: absolute;\n  border: 2px dashed black;\n}\n.bk-root .slick-header-columns {\n  background: url(\'images/header-columns-bg.gif\') repeat-x center bottom;\n  border-bottom: 1px solid silver;\n}\n.bk-root .slick-header-column {\n  background: url(\'images/header-columns-bg.gif\') repeat-x center bottom;\n  border-right: 1px solid silver;\n}\n.bk-root .slick-header-column:hover,\n.bk-root .slick-header-column-active {\n  background: white url(\'images/header-columns-over-bg.gif\') repeat-x center bottom;\n}\n.bk-root .slick-headerrow {\n  background: #fafafa;\n}\n.bk-root .slick-headerrow-column {\n  background: #fafafa;\n  border-bottom: 0;\n  height: 100%;\n}\n.bk-root .slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n.bk-root .slick-row {\n  position: absolute;\n  background: white;\n  border: 0px;\n  line-height: 20px;\n}\n.bk-root .slick-row.selected {\n  z-index: 10;\n  background: #DFE8F6;\n}\n.bk-root .slick-cell {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.bk-root .slick-group {\n  border-bottom: 2px solid silver;\n}\n.bk-root .slick-group-toggle {\n  width: 9px;\n  height: 9px;\n  margin-right: 5px;\n}\n.bk-root .slick-group-toggle.expanded {\n  background: url(images/collapse.gif) no-repeat center center;\n}\n.bk-root .slick-group-toggle.collapsed {\n  background: url(images/expand.gif) no-repeat center center;\n}\n.bk-root .slick-group-totals {\n  color: gray;\n  background: white;\n}\n.bk-root .slick-group-select-checkbox {\n  width: 13px;\n  height: 13px;\n  margin: 3px 10px 0 0;\n  display: inline-block;\n}\n.bk-root .slick-group-select-checkbox.checked {\n  background: url(images/GrpCheckboxY.png) no-repeat center center;\n}\n.bk-root .slick-group-select-checkbox.unchecked {\n  background: url(images/GrpCheckboxN.png) no-repeat center center;\n}\n.bk-root .slick-cell.selected {\n  background-color: beige;\n}\n.bk-root .slick-cell.active {\n  border-color: gray;\n  border-style: solid;\n}\n.bk-root .slick-sortable-placeholder {\n  background: silver !important;\n}\n.bk-root .slick-row.odd {\n  background: #fafafa;\n}\n.bk-root .slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n.bk-root .slick-row.loading {\n  opacity: 0.5;\n}\n.bk-root .slick-cell.invalid {\n  border-color: red;\n  -moz-animation-duration: 0.2s;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-name: slickgrid-invalid-hilite;\n  -webkit-animation-name: slickgrid-invalid-hilite;\n}\n@-moz-keyframes slickgrid-invalid-hilite {\n  from {\n    box-shadow: 0 0 6px red;\n  }\n  to {\n    box-shadow: none;\n  }\n}\n@-webkit-keyframes slickgrid-invalid-hilite {\n  from {\n    box-shadow: 0 0 6px red;\n  }\n  to {\n    box-shadow: none;\n  }\n}\n.bk-root .slick-column-name,\n.bk-root .slick-sort-indicator {\n  /**\n   * This makes all "float:right" elements after it that spill over to the next line\n   * display way below the lower boundary of the column thus hiding them.\n   */\n  display: inline-block;\n  float: left;\n  margin-bottom: 100px;\n}\n.bk-root .slick-header-button {\n  display: inline-block;\n  float: right;\n  vertical-align: top;\n  margin: 1px;\n  /**\n  * This makes all "float:right" elements after it that spill over to the next line\n  * display way below the lower boundary of the column thus hiding them.\n  */\n  margin-bottom: 100px;\n  height: 15px;\n  width: 15px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  cursor: pointer;\n}\n.bk-root .slick-header-button-hidden {\n  width: 0;\n  -webkit-transition: 0.2s width;\n  -ms-transition: 0.2s width;\n  transition: 0.2s width;\n}\n.bk-root .slick-header-column:hover > .slick-header-button {\n  width: 15px;\n}\n.bk-root .slick-header-menubutton {\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  width: 14px;\n  background-repeat: no-repeat;\n  background-position: left center;\n  background-image: url(../images/down.gif);\n  cursor: pointer;\n  display: none;\n  border-left: thin ridge silver;\n}\n.bk-root .slick-header-column:hover > .slick-header-menubutton,\n.bk-root .slick-header-column-active .slick-header-menubutton {\n  display: inline-block;\n}\n.bk-root .slick-header-menu {\n  position: absolute;\n  display: inline-block;\n  margin: 0;\n  padding: 2px;\n  cursor: default;\n}\n.bk-root .slick-header-menuitem {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n}\n.bk-root .slick-header-menuicon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  vertical-align: middle;\n  margin-right: 4px;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.bk-root .slick-header-menucontent {\n  display: inline-block;\n  vertical-align: middle;\n}\n.bk-root .slick-header-menuitem-disabled {\n  color: silver;\n}\n.bk-root .slick-columnpicker {\n  border: 1px solid #718BB7;\n  background: #f0f0f0;\n  padding: 6px;\n  -moz-box-shadow: 2px 2px 2px silver;\n  -webkit-box-shadow: 2px 2px 2px silver;\n  box-shadow: 2px 2px 2px silver;\n  min-width: 150px;\n  cursor: default;\n  position: absolute;\n  z-index: 20;\n  overflow: auto;\n  resize: both;\n}\n.bk-root .slick-columnpicker > .close {\n  float: right;\n}\n.bk-root .slick-columnpicker .title {\n  font-size: 16px;\n  width: 60%;\n  border-bottom: solid 1px #d6d6d6;\n  margin-bottom: 10px;\n}\n.bk-root .slick-columnpicker li {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  background: none;\n}\n.bk-root .slick-columnpicker input {\n  margin: 4px;\n}\n.bk-root .slick-columnpicker li a {\n  display: block;\n  padding: 4px;\n  font-weight: bold;\n}\n.bk-root .slick-columnpicker li a:hover {\n  background: white;\n}\n.bk-root .slick-pager {\n  width: 100%;\n  height: 26px;\n  border: 1px solid gray;\n  border-top: 0;\n  background: url(\'../images/header-columns-bg.gif\') repeat-x center bottom;\n  vertical-align: middle;\n}\n.bk-root .slick-pager .slick-pager-status {\n  display: inline-block;\n  padding: 6px;\n}\n.bk-root .slick-pager .ui-icon-container {\n  display: inline-block;\n  margin: 2px;\n  border-color: gray;\n}\n.bk-root .slick-pager .slick-pager-nav {\n  display: inline-block;\n  float: left;\n  padding: 2px;\n}\n.bk-root .slick-pager .slick-pager-settings {\n  display: block;\n  float: right;\n  padding: 2px;\n}\n.bk-root .slick-pager .slick-pager-settings * {\n  vertical-align: middle;\n}\n.bk-root .slick-pager .slick-pager-settings a {\n  padding: 2px;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.bk-root .slick-header-columns {\n  background-image: url("data:image/gif;base64,R0lGODlhAgAYAIcAANDQ0Ovs7uzt7+3u8O7v8e/w8vDx8/Hy9Pn5+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABgAAAghABEIHEiwYMEDCA8YWMiwgMMCBAgMmDhAgIAAGAMAABAQADs=");\n}\n.bk-root .slick-header-column {\n  background-image: url("data:image/gif;base64,R0lGODlhAgAYAIcAANDQ0Ovs7uzt7+3u8O7v8e/w8vDx8/Hy9Pn5+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABgAAAghABEIHEiwYMEDCA8YWMiwgMMCBAgMmDhAgIAAGAMAABAQADs=");\n}\n.bk-root .slick-header-column:hover,\n.bk-root .slick-header-column-active {\n  background-image: url("data:image/gif;base64,R0lGODlhAgAWAIcAAKrM9tno++vz/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABYAAAgUAAUIHEiwoIAACBMqXMhwIQAAAQEAOw==");\n}\n.bk-root .slick-group-toggle.expanded {\n  background-image: url("data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIMwADCBxIUIDBgwIEChgwwECBAgQUFjBAkaJCABgxGlB4AGHCAAIQiBypEEECkScJqgwQEAA7");\n}\n.bk-root .slick-group-toggle.collapsed {\n  background-image: url("data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIOAADCBxIUIDBgwIEChgwAECBAgQUFjAAQIABAwoBaNSIMYCAAwIqGlSIAEHFkiQTIBCgkqDLAAEBADs=");\n}\n.bk-root .slick-group-select-checkbox.checked {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNkRpr/UAAAEcSURBVChTjdI9S8NQFAbg/raQXVwCRRFE7GK7OXTwD+ikk066VF3a0ja0hQTyQdJrwNq0zrYSQRLEXMSWSlCIb8glqRcFD+9yz3nugXwU4n9XQqMoGjj36uBJsTwuaNo3EwBG4Yy7pe7Gv8YcvhJCGFVsjxsjxujj6OTSGlHv+U2WZUZbPWKOv1ZjT5a7pbIoiptbO5b73mwrjHa1B27l8VlTEIS1damlTnEE+EEN9/P8WrfH81qdAIGeXvTTmzltdCy46sEhxpKUINReZR9NnqZbr9puugxV3NjWh/k74WmmEdWhmUNy2jNmWRc6fZTVADCqao52u+DGWTACYNT3fRxwtatPufTNR4yCIGAUn5hS+vJHhWGY/ANx/A3tvdv+1tZmuwAAAABJRU5ErkJggg==");\n}\n.bk-root .slick-group-select-checkbox.unchecked {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNkRpr/UAAACXSURBVChT1dIxC4MwEAXg/v8/VOhQVDBNakV0KA6pxS4JhWRSIYPEJxwdDi1de7wleR+3JIf486w0hKCKRpSvvOhZcCmvNQBRuKqdah03U7UjNNH81rOaBYDo8SQaPX8JANFEaLaGBeAPaaY61rGksiN6TmR5H1j9CSoAosYYHLA7vTxYMvVEZa0liif23r93xjm3/oEYF8PiDn/I2FHCAAAAAElFTkSuQmCC");\n}\n.bk-root .slick-sort-indicator-desc {\n  background-image: url("data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgeAAUAGEgQgIAACBEKLHgwYcKFBh1KFNhQosOKEgMCADs=");\n}\n.bk-root .slick-sort-indicator-asc {\n  background-image: url("data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgbAAMIDABgoEGDABIeRJhQ4cKGEA8KmEiRosGAADs=");\n}\n.bk-root .slick-header-menubutton {\n  background-image: url("data:image/gif;base64,R0lGODlhDgAOAIABADtKYwAAACH5BAEAAAEALAAAAAAOAA4AAAISjI+py+0PHZgUsGobhTn6DxoFADs=");\n}\n.bk-root .slick-pager {\n  background-image: url("data:image/gif;base64,R0lGODlhAgAYAIcAANDQ0Ovs7uzt7+3u8O7v8e/w8vDx8/Hy9Pn5+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABgAAAghABEIHEiwYMEDCA8YWMiwgMMCBAgMmDhAgIAAGAMAABAQADs=");\n}\n','\n.bk-root .bk-data-table {\n  box-sizing: content-box;\n  font-size: 11px;\n}\n.bk-root .bk-data-table input[type="checkbox"] {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.bk-root .bk-cell-special-defaults {\n  border-right-color: silver;\n  border-right-style: solid;\n  background: #f5f5f5;\n}\n.bk-root .bk-cell-select {\n  border-right-color: silver;\n  border-right-style: solid;\n  background: #f5f5f5;\n}\n.bk-root .bk-cell-index {\n  border-right-color: silver;\n  border-right-style: solid;\n  background: #f5f5f5;\n  text-align: right;\n  color: gray;\n}\n.bk-root .bk-header-index .slick-column-name {\n  float: right;\n}\n.bk-root .slick-row.selected .bk-cell-index {\n  background-color: transparent;\n}\n.bk-root .slick-cell {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.bk-root .slick-cell.active {\n  border-style: dashed;\n}\n.bk-root .slick-cell.editable {\n  padding-left: 0;\n  padding-right: 0;\n}\n.bk-root .bk-cell-editor input,\n.bk-root .bk-cell-editor select {\n  width: 100%;\n  height: 100%;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  background: transparent;\n  vertical-align: baseline;\n}\n.bk-root .bk-cell-editor input {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.bk-root .bk-cell-editor-completion {\n  font-size: 11px;\n}\n'])}},{key:"_update_layout",value:function(){this.layout=new sh.c,this.layout.set_sizing(this.box_sizing())}},{key:"update_position",value:function(){Ru()(gt()(n.prototype),"update_position",this).call(this),this.grid.resizeCanvas()}},{key:"updateGrid",value:function(){var t=this;if(this.model.view.compute_indices(),this.data.init(this.model.source,this.model.view),this.model.sortable){var e=this.grid.getColumns(),n=this.grid.getSortColumns().map((function(n){return{sortCol:{field:e[t.grid.getColumnIndex(n.columnId)].field},sortAsc:n.sortAsc}}));this.data.sort(n)}this.grid.invalidate(),this.grid.render()}},{key:"updateSelection",value:function(){var t=this;if(!this._in_selection_update){var e=this.model.source.selected.indices.map((function(e){return t.data.index.indexOf(e)})).sort();this._in_selection_update=!0,this.grid.setSelectedRows(e),this._in_selection_update=!1;var n=this.grid.getViewport(),r=this.model.get_scroll_index(n,e);null!=r&&this.grid.scrollRowToTop(r)}}},{key:"newIndexColumn",value:function(){return{id:Object(Gt.d)(),name:this.model.index_header,field:ph,width:this.model.index_width,behavior:"select",cannotTriggerInsert:!0,resizable:!1,selectable:!1,sortable:!0,cssClass:"bk-cell-index",headerCssClass:"bk-header-index"}}},{key:"css_classes",value:function(){return Ru()(gt()(n.prototype),"css_classes",this).call(this).concat("bk-data-table")}},{key:"render",value:function(){var t,e=this,n=this.model.columns.map((function(t){return Object.assign(Object.assign({},t.toColumn()),{parent:e})}));if("checkbox"==this.model.selectable&&(t=new ih.CheckboxSelectColumn({cssClass:"bk-cell-select"}),n.unshift(t.getColumnDefinition())),null!=this.model.index_position){var r=this.model.index_position,i=this.newIndexColumn();-1==r?n.push(i):r<-1?n.splice(r+1,0,i):n.splice(r,0,i)}var o=this.model.reorderable;!o||"undefined"!=typeof $&&null!=$.fn&&null!=$.fn.sortable||(this._warned_not_reorderable||(Ut.a.warn("jquery-ui is required to enable DataTable.reorderable"),this._warned_not_reorderable=!0),o=!1);var a={enableCellNavigation:!1!==this.model.selectable,enableColumnReorder:o,forceFitColumns:this.model.fit_columns,multiColumnSort:this.model.sortable,editable:this.model.editable,autoEdit:!1,rowHeight:this.model.row_height};if(this.data=new vh(this.model.source,this.model.view),this.grid=new ah.Grid(this.el,this.data,n,a),this.grid.onSort.subscribe((function(t,r){e.model.sortable&&(n=r.sortCols,e.data.sort(n),e.grid.invalidate(),e.updateSelection(),e.grid.render(),e.model.header_row||e._hide_header(),e.model.update_sort_columns(n))})),!1!==this.model.selectable){this.grid.setSelectionModel(new rh.RowSelectionModel({selectActiveRow:null==t})),null!=t&&this.grid.registerPlugin(t);var s={dataItemColumnValueExtractor:function(t,e){var n=t[e.field];return Object(Vt.j)(n)&&(n=n.replace(/\n/g,"\\n")),n},includeHeaderWhenCopying:!1};this.grid.registerPlugin(new oh.CellExternalCopyManager(s)),this.grid.onSelectedRowsChanged.subscribe((function(t,n){e._in_selection_update||(e.model.source.selected.indices=n.rows.map((function(t){return e.data.index[t]})))})),this.updateSelection(),this.model.header_row||this._hide_header()}}},{key:"_hide_header",value:function(){for(var t=0,e=Array.from(this.el.querySelectorAll(".slick-header-columns"));t<e.length;t++){e[t].style.height="0px"}this.grid.resizeCanvas()}}]),n}(Ou);gh.__name__="DataTableView";var mh=function(t){ht()(n,t);var e=fh(n);function n(t){var r;return lt()(this,n),(r=e.call(this,t))._sort_columns=[],r}return ct()(n,[{key:"update_sort_columns",value:function(t){return this._sort_columns=t.map((function(t){return{field:t.sortCol.field,sortAsc:t.sortAsc}})),null}},{key:"get_scroll_index",value:function(t,e){return this.scroll_to_selection&&0!=e.length?Object(de.v)(e,(function(e){return t.top<=e&&e<=t.bottom}))?null:Math.max(0,Math.min.apply(Math,qt()(e))-1):null}},{key:"sort_columns",get:function(){return this._sort_columns}}],[{key:"init_DataTable",value:function(){this.prototype.default_view=gh,this.define({columns:[su.g,[]],fit_columns:[su.i,!0],sortable:[su.i,!0],reorderable:[su.i,!0],editable:[su.i,!1],selectable:[su.e,!0],index_position:[su.G,0],index_header:[su.nb,"#"],index_width:[su.G,40],scroll_to_selection:[su.i,!0],header_row:[su.i,!0],row_height:[su.G,25]}),this.override({width:600,height:400})}}]),n}(ch);function yh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}mh.__name__="DataTable",mh.init_DataTable();var Ah=function(t){ht()(r,t);var e,n=bh(r);function r(t){var e;lt()(this,r);var i=t.column,o=i.model,a=i.parent;return(e=n.call(this,Object.assign({model:o,parent:a},t))).args=t,e.initialize(),e.render(),e}return ct()(r,[{key:"initialize",value:function(){Ru()(gt()(r.prototype),"initialize",this).call(this),this.inputEl=this._createInput(),this.defaultValue=null}},{key:"lazy_initialize",value:(e=zt()(Pt.a.mark((function t(){return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("unsupported");case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"css_classes",value:function(){return Ru()(gt()(r.prototype),"css_classes",this).call(this).concat("bk-cell-editor")}},{key:"render",value:function(){Ru()(gt()(r.prototype),"render",this).call(this),this.args.container.append(this.el),this.el.appendChild(this.inputEl),this.renderEditor(),this.disableNavigation()}},{key:"renderEditor",value:function(){}},{key:"disableNavigation",value:function(){this.inputEl.addEventListener("keydown",(function(t){switch(t.keyCode){case Xt.a.Left:case Xt.a.Right:case Xt.a.Up:case Xt.a.Down:case Xt.a.PageUp:case Xt.a.PageDown:t.stopImmediatePropagation()}}))}},{key:"destroy",value:function(){this.remove()}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"position",value:function(){}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"setValue",value:function(t){this.inputEl.value=t}},{key:"serializeValue",value:function(){return this.getValue()}},{key:"isValueChanged",value:function(){return!(""==this.getValue()&&null==this.defaultValue)&&this.getValue()!==this.defaultValue}},{key:"applyValue",value:function(t,e){var n=this.args.grid.getData(),r=n.index.indexOf(t[ph]);n.setField(r,this.args.column.field,e)}},{key:"loadValue",value:function(t){var e=t[this.args.column.field];this.defaultValue=null!=e?e:this.emptyValue,this.setValue(this.defaultValue)}},{key:"validateValue",value:function(t){if(this.args.column.validator){var e=this.args.column.validator(t);if(!e.valid)return e}return{valid:!0,msg:null}}},{key:"validate",value:function(){return this.validateValue(this.getValue())}},{key:"emptyValue",get:function(){return null}}]),r}(Wt.a);Ah.__name__="CellEditorView";var wh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return n}(Vu.a);wh.__name__="CellEditor";var xh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}},{key:"renderEditor",value:function(){this.inputEl.focus(),this.inputEl.select()}},{key:"loadValue",value:function(t){Ru()(gt()(n.prototype),"loadValue",this).call(this,t),this.inputEl.defaultValue=this.defaultValue,this.inputEl.select()}},{key:"emptyValue",get:function(){return""}}]),n}(Ah);xh.__name__="StringEditorView";var kh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_StringEditor",value:function(){this.prototype.default_view=xh,this.define({completions:[su.g,[]]})}}]),n}(wh);kh.__name__="StringEditor",kh.init_StringEditor();var Ch=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.J)()}}]),n}(Ah);Ch.__name__="TextEditorView";var Eh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_TextEditor",value:function(){this.prototype.default_view=Ch}}]),n}(wh);Eh.__name__="TextEditor",Eh.init_TextEditor();var Sh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.D)()}},{key:"renderEditor",value:function(){var t,e=yh(this.model.options);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.inputEl.appendChild(Object(Xt.u)({value:n},n))}}catch(t){e.e(t)}finally{e.f()}this.focus()}}]),n}(Ah);Sh.__name__="SelectEditorView";var Rh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_SelectEditor",value:function(){this.prototype.default_view=Sh,this.define({options:[su.g,[]]})}}]),n}(wh);Rh.__name__="SelectEditor",Rh.init_SelectEditor();var Th=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}}]),n}(Ah);Th.__name__="PercentEditorView";var Ih=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_PercentEditor",value:function(){this.prototype.default_view=Th}}]),n}(wh);Ih.__name__="PercentEditor",Ih.init_PercentEditor();var Oh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"checkbox",value:"true"})}},{key:"renderEditor",value:function(){this.focus()}},{key:"loadValue",value:function(t){this.defaultValue=!!t[this.args.column.field],this.inputEl.checked=this.defaultValue}},{key:"serializeValue",value:function(){return this.inputEl.checked}}]),n}(Ah);Oh.__name__="CheckboxEditorView";var Mh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_CheckboxEditor",value:function(){this.prototype.default_view=Oh}}]),n}(wh);Mh.__name__="CheckboxEditor",Mh.init_CheckboxEditor();var Ph=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}},{key:"renderEditor",value:function(){this.inputEl.focus(),this.inputEl.select()}},{key:"remove",value:function(){Ru()(gt()(n.prototype),"remove",this).call(this)}},{key:"serializeValue",value:function(){return parseInt(this.getValue(),10)||0}},{key:"loadValue",value:function(t){Ru()(gt()(n.prototype),"loadValue",this).call(this,t),this.inputEl.defaultValue=this.defaultValue,this.inputEl.select()}},{key:"validateValue",value:function(t){return isNaN(t)?{valid:!1,msg:"Please enter a valid integer"}:Ru()(gt()(n.prototype),"validateValue",this).call(this,t)}}]),n}(Ah);Ph.__name__="IntEditorView";var Dh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_IntEditor",value:function(){this.prototype.default_view=Ph,this.define({step:[su.V,1]})}}]),n}(wh);Dh.__name__="IntEditor",Dh.init_IntEditor();var Nh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}},{key:"renderEditor",value:function(){this.inputEl.focus(),this.inputEl.select()}},{key:"remove",value:function(){Ru()(gt()(n.prototype),"remove",this).call(this)}},{key:"serializeValue",value:function(){return parseFloat(this.getValue())||0}},{key:"loadValue",value:function(t){Ru()(gt()(n.prototype),"loadValue",this).call(this,t),this.inputEl.defaultValue=this.defaultValue,this.inputEl.select()}},{key:"validateValue",value:function(t){return isNaN(t)?{valid:!1,msg:"Please enter a valid number"}:Ru()(gt()(n.prototype),"validateValue",this).call(this,t)}}]),n}(Ah);Nh.__name__="NumberEditorView";var Lh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_NumberEditor",value:function(){this.prototype.default_view=Nh,this.define({step:[su.V,.01]})}}]),n}(wh);Lh.__name__="NumberEditor",Lh.init_NumberEditor();var jh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}}]),n}(Ah);jh.__name__="TimeEditorView";var Fh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_TimeEditor",value:function(){this.prototype.default_view=jh}}]),n}(wh);Fh.__name__="TimeEditor",Fh.init_TimeEditor();var zh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"_createInput",value:function(){return Object(Xt.p)({type:"text"})}},{key:"renderEditor",value:function(){this.inputEl.focus(),this.inputEl.select()}},{key:"destroy",value:function(){Ru()(gt()(n.prototype),"destroy",this).call(this)}},{key:"show",value:function(){Ru()(gt()(n.prototype),"show",this).call(this)}},{key:"hide",value:function(){Ru()(gt()(n.prototype),"hide",this).call(this)}},{key:"position",value:function(){return Ru()(gt()(n.prototype),"position",this).call(this)}},{key:"getValue",value:function(){}},{key:"setValue",value:function(t){}},{key:"emptyValue",get:function(){return new Date}}]),n}(Ah);zh.__name__="DateEditorView";var Bh=function(t){ht()(n,t);var e=bh(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,null,[{key:"init_DateEditor",value:function(){this.prototype.default_view=zh}}]),n}(wh);Bh.__name__="DateEditor",Bh.init_DateEditor();var Uh=n(140);function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Vh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,n,r,i){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}]),n}(Vu.a);Vh.__name__="CellFormatter";var Hh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,n,r,i){var o=this.font_style,a=this.text_align,s=this.text_color,l=Object(Xt.k)({},null==n?"":"".concat(n));switch(o){case"bold":l.style.fontWeight="bold";break;case"italic":l.style.fontStyle="italic"}return null!=a&&(l.style.textAlign=a),null!=s&&(l.style.color=s),l.outerHTML}}],[{key:"init_StringFormatter",value:function(){this.define({font_style:[su.z,"normal"],text_align:[su.qb,"left"],text_color:[su.m]})}}]),n}(Vh);Hh.__name__="StringFormatter",Hh.init_StringFormatter();var qh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,r,i,o){var a=r<=this.scientific_limit_low||r>=this.scientific_limit_high,s=this.precision;return s<1&&(s=1),r=a?r.toExponential(s):r.toFixed(s).replace(/(\.[0-9]*?)0+$/,"$1").replace(/\.$/,""),Ru()(gt()(n.prototype),"doFormat",this).call(this,t,e,r,i,o)}},{key:"scientific_limit_low",get:function(){return Math.pow(10,this.power_limit_low)}},{key:"scientific_limit_high",get:function(){return Math.pow(10,this.power_limit_high)}}],[{key:"init_ScientificFormatter",value:function(){this.define({precision:[su.V,10],power_limit_high:[su.V,5],power_limit_low:[su.V,-3]})}}]),n}(Hh);qh.__name__="ScientificFormatter",qh.init_ScientificFormatter();var Wh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,r,i,o){var a=this,s=this.format,l=this.language,u=function(){switch(a.rounding){case"round":case"nearest":return Math.round;case"floor":case"rounddown":return Math.floor;case"ceil":case"roundup":return Math.ceil}}();return r=Df.format(r,s,l,u),Ru()(gt()(n.prototype),"doFormat",this).call(this,t,e,r,i,o)}}],[{key:"init_NumberFormatter",value:function(){this.define({format:[su.nb,"0,0"],language:[su.nb,"en"],rounding:[su.hb,"round"]})}}]),n}(Hh);Wh.__name__="NumberFormatter",Wh.init_NumberFormatter();var Yh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,n,r,i){return n?Object(Xt.o)({class:this.icon}).outerHTML:""}}],[{key:"init_BooleanFormatter",value:function(){this.define({icon:[su.nb,"check"]})}}]),n}(Vh);Yh.__name__="BooleanFormatter",Yh.init_BooleanFormatter();var Xh=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"getFormat",value:function(){switch(this.format){case"ATOM":case"W3C":case"RFC-3339":case"ISO-8601":return"%Y-%m-%d";case"COOKIE":return"%a, %d %b %Y";case"RFC-850":return"%A, %d-%b-%y";case"RFC-1123":case"RFC-2822":return"%a, %e %b %Y";case"RSS":case"RFC-822":case"RFC-1036":return"%a, %e %b %y";case"TIMESTAMP":return;default:return this.format}}},{key:"doFormat",value:function(t,e,r,i,o){r=Object(Vt.j)(r)?parseInt(r,10):r;var a=Lc()(r,this.getFormat());return Ru()(gt()(n.prototype),"doFormat",this).call(this,t,e,a,i,o)}}],[{key:"init_DateFormatter",value:function(){this.define({format:[su.nb,"ISO-8601"]})}}]),n}(Vh);Xh.__name__="DateFormatter",Xh.init_DateFormatter();var $h=function(t){ht()(n,t);var e=Gh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"doFormat",value:function(t,e,n,r,i){var o=this.template;return null==n?"":Uh._.template(o)(Object.assign(Object.assign({},i),{value:n}))}}],[{key:"init_HTMLTemplateFormatter",value:function(){this.define({template:[su.nb,"<%= value %>"]})}}]),n}(Vh);function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}$h.__name__="HTMLTemplateFormatter",$h.init_HTMLTemplateFormatter();var Kh=function(t){ht()(n,t);var e=Jh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"toColumn",value:function(){var t;return{id:Object(Gt.d)(),field:this.field,name:null!==(t=this.title)&&void 0!==t?t:this.field,width:this.width,formatter:null!=this.formatter?this.formatter.doFormat.bind(this.formatter):void 0,model:this.editor,editor:this.editor.default_view,sortable:this.sortable,defaultSortAsc:"ascending"==this.default_sort}}}],[{key:"init_TableColumn",value:function(){this.define({field:[su.nb],title:[su.nb],width:[su.V,300],formatter:[su.F,function(){return new Hh}],editor:[su.F,function(){return new kh}],sortable:[su.i,!0],default_sort:[su.jb,"ascending"]})}}]),n}(Vu.a);function Qh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Kh.__name__="TableColumn",Kh.init_TableColumn();var Zh=ah.Data.Aggregators,td=Zh.Avg,ed=Zh.Min,nd=Zh.Max,rd=Zh.Sum,id=function(t){ht()(n,t);var e=Qh(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_RowAggregator",value:function(){this.define({field_:[su.nb,""]})}}]),n}(Vu.a);id.__name__="RowAggregator",id.init_RowAggregator();var od=new td,ad=function(t){ht()(n,t);var e=Qh(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments)).key="avg",t.init=od.init,t.accumulate=od.accumulate,t.storeResult=od.storeResult,t}return n}(id);ad.__name__="AvgAggregator";var sd=new ed,ld=function(t){ht()(n,t);var e=Qh(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments)).key="min",t.init=sd.init,t.accumulate=sd.accumulate,t.storeResult=sd.storeResult,t}return n}(id);ld.__name__="MinAggregator";var ud=new nd,cd=function(t){ht()(n,t);var e=Qh(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments)).key="max",t.init=ud.init,t.accumulate=ud.accumulate,t.storeResult=ud.storeResult,t}return n}(id);cd.__name__="MaxAggregator";var fd=new rd,hd=function(t){ht()(n,t);var e=Qh(n);function n(){var t;return lt()(this,n),(t=e.apply(this,arguments)).key="sum",t.init=fd.init,t.accumulate=fd.accumulate,t.storeResult=fd.storeResult,t}return n}(id);function dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}function pd(t,e,n,r,i){var o=i.collapsed,a=i.level,s=i.title,l=Object(Xt.H)({class:"slick-group-toggle ".concat(o?"collapsed":"expanded"),style:{"margin-left":"".concat(15*a,"px")}}),u=Object(Xt.H)({class:"slick-group-title",level:a},s);return"".concat(l.outerHTML).concat(u.outerHTML)}function vd(t,e){var n=this.getDataItem(e.row);n instanceof ah.Group&&t.target.classList.contains("slick-group-toggle")&&(n.collapsed?this.getData().expandGroup(n.groupingKey):this.getData().collapseGroup(n.groupingKey),t.stopImmediatePropagation(),t.preventDefault(),this.invalidate(),this.render())}hd.__name__="SumAggregator";var gd=function(t){ht()(n,t);var e=dd(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,[{key:"comparer",get:function(){return function(t,e){return t.value===e.value?0:t.value>e.value?1:-1}}}],[{key:"init_GroupingInfo",value:function(){this.define({getter:[su.nb,""],aggregators:[su.g,[]],collapsed:[su.i,!1]})}}]),n}(Vu.a);gd.__name__="GroupingInfo",gd.init_GroupingInfo();var md=function(t){ht()(n,t);var e=dd(n);function n(t,r,i,o){var a;return lt()(this,n),(a=e.call(this,t,r)).columns=i,a.groupingInfos=[],a.groupingDelimiter=":|:",a.target=o,a}return ct()(n,[{key:"setGrouping",value:function(t){this.groupingInfos=t,this.toggledGroupsByLevel=t.map((function(){return{}})),this.refresh()}},{key:"extractGroups",value:function(t,e){var n=this,r=[],i=new Map,o=e?e.level+1:0,a=this.groupingInfos[o],s=a.comparer,l=a.getter;return t.forEach((function(t){var a=n.source.data[l][t],s=i.get(a);if(!s){var u=e?"".concat(e.groupingKey).concat(n.groupingDelimiter).concat(a):"".concat(a);s=Object.assign(new ah.Group,{value:a,level:o,groupingKey:u}),r.push(s),i.set(a,s)}s.rows.push(t)})),o<this.groupingInfos.length-1&&r.forEach((function(t){t.groups=n.extractGroups(t.rows,t)})),r.sort(s),r}},{key:"calculateTotals",value:function(t,e){var n={avg:{},max:{},min:{},sum:{}},r=this.source.data,i=Object.keys(r),o=t.rows.map((function(t){return i.reduce((function(e,n){return Object.assign(Object.assign({},e),jt()({},n,r[n][t]))}),{})}));return e.forEach((function(t){t.init(),o.forEach((function(e){return t.accumulate(e)})),t.storeResult(n)})),n}},{key:"addTotals",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.groupingInfos[n],i=r.aggregators,o=r.collapsed,a=this.toggledGroupsByLevel[n];t.forEach((function(t){t.groups&&e.addTotals(t.groups,n+1),i.length&&t.rows.length&&(t.totals=e.calculateTotals(t,i)),t.collapsed=o!==a[t.groupingKey],t.title=t.value?"".concat(t.value):""}))}},{key:"flattenedGroupedRows",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return t.forEach((function(t){if(r.push(t),!t.collapsed){var i=t.groups?e.flattenedGroupedRows(t.groups,n+1):t.rows;r.push.apply(r,qt()(i))}})),r}},{key:"refresh",value:function(){var t=this.extractGroups(this.view.indices),e=this.source.data[this.columns[0].field];t.length&&(this.addTotals(t),this.rows=this.flattenedGroupedRows(t),this.target.data={row_indices:this.rows.map((function(t){return t instanceof ah.Group?t.rows:t})),labels:this.rows.map((function(t){return t instanceof ah.Group?t.title:e[t]}))})}},{key:"getLength",value:function(){return this.rows.length}},{key:"getItem",value:function(t){var e=this.rows[t],n=this.source.data;return e instanceof ah.Group?e:Object.keys(n).reduce((function(t,r){return Object.assign(Object.assign({},t),jt()({},r,n[r][e]))}),jt()({},ph,e))}},{key:"getItemMetadata",value:function(t){var e=this.rows[t],n=this.columns.slice(1),r=e instanceof ah.Group?this.groupingInfos[e.level].aggregators:[];return e instanceof ah.Group?{selectable:!1,focusable:!1,cssClasses:"slick-group",columns:[{formatter:pd}].concat(qt()(n.map((function(t){var e=t.field,n=t.formatter,i=r.find((function(t){return t.field_===e}));if(i){var o=i.key;return{formatter:function(t,r,i,a,s){return n?n(t,r,s.totals[o][e],a,s):""}}}return{}}))))}:{}}},{key:"collapseGroup",value:function(t){var e=t.split(this.groupingDelimiter).length-1;this.toggledGroupsByLevel[e][t]=!this.groupingInfos[e].collapsed,this.refresh()}},{key:"expandGroup",value:function(t){var e=t.split(this.groupingDelimiter).length-1;this.toggledGroupsByLevel[e][t]=this.groupingInfos[e].collapsed,this.refresh()}}]),n}(vh);md.__name__="DataCubeProvider";var yd=function(t){ht()(n,t);var e=dd(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t,e,n={enableCellNavigation:!1!==this.model.selectable,enableColumnReorder:!1,forceFitColumns:this.model.fit_columns,multiColumnSort:!1,editable:this.model.editable,autoEdit:!1,rowHeight:this.model.row_height},r=this.model.columns.map((function(t){return t.toColumn()}));r[0].formatter=(t=r[0].formatter,e=this.model.grouping.length,function(n,r,i,o,a){var s=Object(Xt.H)({class:"slick-group-toggle",style:{"margin-left":"".concat(15*(e||0),"px")}}),l=t?t(n,r,i,o,a):"".concat(i);return"".concat(s.outerHTML).concat(l&&l.replace(/^<div/,"<span").replace(/div>$/,"span>"))}),delete r[0].editor,this.data=new md(this.model.source,this.model.view,r,this.model.target),this.data.setGrouping(this.model.grouping),this.el.style.width="".concat(this.model.width,"px"),this.grid=new ah.Grid(this.el,this.data,r,n),this.grid.onClick.subscribe(vd)}}]),n}(gh);yd.__name__="DataCubeView";var _d=function(t){ht()(n,t);var e=dd(n);function n(t){return lt()(this,n),e.call(this,t)}return ct()(n,null,[{key:"init_DataCube",value:function(){this.prototype.default_view=yd,this.define({grouping:[su.g,[]],target:[su.F]})}}]),n}(mh);_d.__name__="DataCube",_d.init_DataCube(),Object(he.b)(a);function bd(t,e,n){if(!Ed(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&Sd(r),i&&Rd(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function Ad(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Cd(t[0])||!Cd(t[1]))throw new Error("coordinates must contain numbers");return bd({type:"Point",coordinates:t},e,n)}function wd(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!Cd(t[0][1])||!Cd(t[0][1]))throw new Error("coordinates must contain numbers");return bd({type:"LineString",coordinates:t},e,n)}function xd(t,e){if(!Ed(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&Sd(n),r&&Rd(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function kd(t,e,n){if(!t)throw new Error("coordinates is required");return bd({type:"MultiLineString",coordinates:t},e,n)}function Cd(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function Ed(t){return!!t&&t.constructor===Object}function Sd(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!Cd(t))throw new Error("bbox must only contain numbers")}))}function Rd(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(l()(t)))throw new Error("id must be a number or a string")}function Td(t,e,n){if(null!==t)for(var r,i,o,a,s,l,u,c,f=0,h=0,d=t.type,p="FeatureCollection"===d,v="Feature"===d,g=p?t.features.length:1,m=0;m<g;m++){s=(c=!!(u=p?t.features[m].geometry:v?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<s;y++){var _=0,b=0;if(null!==(a=c?u.geometries[y]:u)){l=a.coordinates;var A=a.type;switch(f=!n||"Polygon"!==A&&"MultiPolygon"!==A?0:1,A){case null:break;case"Point":e(l,h,m,_,b),h++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++)e(l[r],h,m,_,b),h++,"MultiPoint"===A&&_++;"LineString"===A&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-f;i++)e(l[r][i],h,m,_,b),h++;"MultiLineString"===A&&_++,"Polygon"===A&&b++}"Polygon"===A&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for("MultiPolygon"===A&&(b=0),i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-f;o++)e(l[r][i][o],h,m,_,b),h++;b++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)Td(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function Id(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function Od(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(r){var i=e[r];"object"===l()(i)?null===i?n[r]=null:i.length?n[r]=i.map((function(t){return t})):n[r]=t(i):n[r]=i})),n):n}(t.properties),e.geometry=Md(t.geometry),e}function Md(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Md(t)})),e):(e.coordinates=function t(e){if("object"!==l()(e[0]))return e.slice();return e.map((function(e){return t(e)}))}(t.coordinates),e)}var Pd=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Od(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Od(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Md(t);default:throw new Error("unknown GeoJSON type")}};function Dd(t,e){return Nd(t,"mercator",e)}function Nd(t,e,n){if(!Ed(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&Cd(t[0])?t="mercator"===e?Ld(t):jd(t):(!0!==r&&(t=Pd(t)),Td(t,(function(t){var n="mercator"===e?Ld(t):jd(t);t[0]=n[0],t[1]=n[1]}))),t}function Ld(t){var e,n=Math.PI/180,r=6378137,i=20037508.342789244,o=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function jd(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}var Fd=function(t){var e=[1/0,1/0,-1/0,-1/0];return Td(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e};function zd(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(e.length>1&&Cd(e[0])&&Cd(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")}function Bd(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}
/**
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 */
var Ud={successCallback:null,verbose:!1},Gd={};function Vd(t,e,n){n=n||{};for(var r=Object.keys(Ud),i=0;i<r.length;i++){var o=r[i],a=n[o];a=null!=a?a:Ud[o],Gd[o]=a}Gd.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;t.rows,t.cols;return t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&(5!==(h=r).cval&&10!==h.cval)&&!qd(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=(t[e][n],t[e][n]),h=f.cval,d=Yd(f,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h]);s.push([n+d[0],e+d[1]]),d=Yd(f,o=c[h]),s.push([n+d[0],e+d[1]]),Wd(f);var p=n+l[h],v=e+u[h],g=h;for(;p>=0&&v>=0&&v<a&&(p!=n||v!=e)&&void 0!==(f=t[v][p]);){if(0===(h=f.cval)||15===h)return{path:s,info:"mergeable"};o=c[h],r=l[h],i=u[h],5!==h&&10!==h||(5===h?f.flipped?-1===u[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===l[g]&&(o="bottom",r=0,i=-1):10===h&&(f.flipped?-1===l[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===u[g]&&(o="left",r=-1,i=0))),d=Yd(f,o),s.push([p+d[0],v+d[1]]),Wd(f),p+=r,v+=i,g=h}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var l=a.path[a.path.length-1][0],u=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=1e-7&&Math.abs(e[c][0][1]-u)<=1e-7){for(var f=a.path.length-2;f>=0;--f)e[c].unshift(a.path[f]);s=!0;break}s||(e[n++]=a.path)}var h}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,l=t[o+1][a],u=t[o+1][a+1],c=t[o][a+1],f=t[o][a];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(f))){s|=l>=e?8:0,s|=u>=e?4:0,s|=c>=e?2:0;var h,d,p,v,g=!1;if(5===(s|=f>=e?1:0)||10===s){var m=(l+u+c+f)/4;5===s&&m<e?(s=10,g=!0):10===s&&m<e&&(s=5,g=!0)}if(0!==s&&15!==s)h=d=p=v=.5,1===s?(p=1-Hd(e,l,f),d=1-Hd(e,c,f)):2===s?(d=Hd(e,f,c),v=1-Hd(e,u,c)):3===s?(p=1-Hd(e,l,f),v=1-Hd(e,u,c)):4===s?(h=Hd(e,l,u),v=Hd(e,c,u)):5===s?(h=Hd(e,l,u),v=Hd(e,c,u),d=1-Hd(e,c,f),p=1-Hd(e,l,f)):6===s?(d=Hd(e,f,c),h=Hd(e,l,u)):7===s?(p=1-Hd(e,l,f),h=Hd(e,l,u)):8===s?(p=Hd(e,f,l),h=1-Hd(e,u,l)):9===s?(d=1-Hd(e,c,f),h=1-Hd(e,u,l)):10===s?(h=1-Hd(e,u,l),v=1-Hd(e,u,c),d=Hd(e,f,c),p=Hd(e,f,l)):11===s?(h=1-Hd(e,u,l),v=1-Hd(e,u,c)):12===s?(p=Hd(e,f,l),v=Hd(e,c,u)):13===s?(d=1-Hd(e,c,f),v=Hd(e,c,u)):14===s?(p=Hd(e,f,l),d=Hd(e,f,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:g,top:h,right:v,bottom:d,left:p}}}}return i}(t,e));return"function"==typeof Gd.successCallback&&Gd.successCallback(s),s}function Hd(t,e,n){return(t-e)/(n-e)}function qd(t){return 0===t.cval||15===t.cval}function Wd(t){qd(t)||5===t.cval||10===t.cval||(t.cval=15)}function Yd(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function Xd(t,e){if(!Ed(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;Bd(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return Id(t,(function(t){var e=zd(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return zd(t)[0]-zd(e)[0]}))})).sort((function(t,n){return e?zd(t[0])[1]-zd(n[0])[1]:zd(n[0])[1]-zd(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var f=l[c];f.properties[n]?u.push(f.properties[n]):u.push(0),!0===i&&(f.properties.matrixPosition=[s,c])}a.push(u)}return a}var $d=function(t,e,n){if(!Ed(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(Bd(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!Ed(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=Xd(t,{zProperty:r,flip:!0});return xd(function(t,e,n){var r=Fd(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],l=e[0].length-1,u=e.length-1,c=i/l,f=o/u,h=function(t){t[0]=t[0]*c+a,t[1]=t[1]*f+s};return t.forEach((function(t){Td(t,h)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],l=Object.assign({},r,i[a]);l[n]=s;var u=kd(Vd(t,s),l);o.push(u)}return o}(a,e,r,i,o),a,t))},Jd=function(t){var e=xd([wd([[0,0],[0,0]])]),n=JSON.stringify(e);this.source=new au.GeoJSONDataSource({geojson:n}),this.figure=t,this.renderer=this.figure.multi_line({xs:{field:"xs"},ys:{field:"ys"},line_color:"gray",source:this.source})};function Kd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}Jd.prototype.renderFeature=function(t,e){t=Dd(t);var n=$d(t,e,{zProperty:"value"});n.features=n.features.concat().filter((function(t){return t.geometry.coordinates.length>0})),n.features.length>0&&(this.source.geojson=JSON.stringify(n),this.source.change.emit())};var Qd=function(t){ht()(n,t);var e=Kd(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=t.figure,o=new Jd(i);return r.state={contourRenderer:o},r}return ct()(n,[{key:"render",value:function(){var t=this.state.contourRenderer,e=this.props,n=e.baseURL,r=e.endpoint,i=e.visible;if(t.renderer.visible=i,void 0===r)return null;if(i){var o="".concat(n,"/").concat(r);fetch(o).then((function(t){return t.json()})).then((function(t){for(var e=t.coords.latitude.data,n=t.coords.longitude.data,r=t.data,i=[],o=0;o<e.length;o++)for(var a=0;a<n.length;a++){var s=Ad([n[a],e[o]],{value:r[o][a]});i.push(s)}return xd(i)})).then((function(e){t.renderFeature(e,[280,290,300])}))}return null}}]),n}(b.a.Component),Zd=ot((function(t){var e=t.time_index,n=t.times,r=t.dataset,i=t.contours,o=void 0!==i&&i;if(void 0===e)return{visible:o};if(void 0===n)return{visible:o};if(void 0===r)return{visible:o};var a=n[e];return{endpoint:"datasets/".concat(r,"/times/").concat(a,"/points"),visible:o}}))(Qd);function tp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var ep=function(t){ht()(n,t);var e=tp(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.limits,n=t.palette,r=t.color_mapper;return r.palette=n,r.low=e.low,r.high=e.high,null}}]),n}(b.a.Component),np=ot((function(t){var e=t.palette,n=void 0===e?[]:e,r=t.limits;return{palette:n,limits:void 0===r?{low:0,high:1}:r}}))(ep),rp={x:[-20037508.342789244,20037508.342789244],y:[-20037508.342789255,20037508.342789244]},ip={},op=function(t,e){return Object.keys(e).forEach((function(n){t[n]=t[n]||[],t[n]=t[n].concat(e[n])})),t},ap=function(t){var e=Nt()(t,3),n=e[0],r=e[1],i=e[2];return n<Math.pow(2,i)&&r<Math.pow(2,i)},sp=function(t,e,n){var r=lp(n.x[0],n.x[1],0,256),i=lp(n.y[0],n.y[1],0,256);return{x:{start:r(t.start),end:r(t.end)},y:{start:i(e.start),end:i(e.end)}}},lp=function(t,e,n,r){return function(i){return(r-n)*(i-t)/(e-t)}},up=function(t,e){return Math.floor(t*Math.pow(2,e))},cp=function(t){return Math.floor(t/256)},fp=function(t){return Math.floor(Math.log2(256/hp(t)))},hp=function(t){var e=t.x,n=t.y,r=e.end-e.start,i=n.end-n.start;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))};function dp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var pp=function(t){ht()(n,t);var e=dp(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=new au.ColumnDataSource({data:{x:[],y:[],dw:[],dh:[],image:[],level:[],units:[]}}),o=t.figure.image({x:{field:"x"},y:{field:"y"},dw:{field:"dw"},dh:{field:"dh"},image:{field:"image"},source:i,color_mapper:t.color_mapper}),a=new au.HoverTool({renderers:[o],tooltips:"Value: @image @units",active:!1});return t.figure.add_tools(a),r.state={source:i,renderer:o,hover_tool:a},r}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,n=t.baseURL,r=t.label;fetch("".concat(n,"/datasets/").concat(r,"/times?limit=7")).then((function(t){return t.json()})).then((function(t){var n={type:"SET_TIMES",payload:t};e(n)}))}},{key:"render",value:function(){if(void 0===this.props.ranges)return null;var t,e=this.props,n=e.baseURL,r=e.datasetId,i=e.time,o="".concat(n,"/datasets/").concat(r,"/times/").concat(i,"/tiles/{Z}/{X}/{Y}");if(this.state.renderer.visible=this.props.active,this.props.active){var a=this.props.ranges,s=a.x_range,l=a.y_range,u=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=sp(t,e,n);return fp(i)+r}(s,l,rp),c=function(t,e,n,r){for(var i=sp(t,e,n),o={x:{start:cp(up(i.x.start,r)),end:cp(up(i.x.end,r))},y:{start:cp(up(i.y.start,r)),end:cp(up(i.y.end,r))}},a=[],s=o.x.start;s<=o.x.end;s++)for(var l=o.y.start;l<=o.y.end;l++)a.push({z:r,x:s,y:l});return a=a.map((function(t){return[t.x,t.y,t.z]})).filter(ap).map((function(t){var e=Nt()(t,3);return{x:e[0],y:e[1],z:e[2]}}))}(s,l,rp,u).map((function(t){return[t.x,t.y,t.z]})).map((function(t){var e=Nt()(t,3),n=e[0],r=e[1],i=e[2];return function(t,e,n,r){return t.replace("{X}",e).replace("{Y}",n).replace("{Z}",r)}(o,n,r,i)}));(t=this.state.source,function(e){var n=e.map((function(t){return t in ip?Promise.resolve(ip[t]):fetch(t).then((function(t){return t.json()})).then((function(t){return t.data})).then((function(e){return ip[t]=e,e}))}));return Promise.all(n).then((function(t){return t.reduce(op,{})})).then((function(e){t.data=e,t.change.emit()}))})(c)}return this.state.hover_tool.active=this.props.hover_tool,null}}]),n}(b.a.Component),vp=ot((function(t){var e=t.datasets,n=void 0===e?[]:e,r=t.times,i=t.time_index,o=t.figure,a=t.hover_tool,s=void 0===a||a;if(void 0===r)return{};if(void 0===i)return{};var l=r[i],u=!1;return n.length>0&&(u=n[0].active),{ranges:o,time:l,hover_tool:s,active:u}}))(pp);function gp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var mp=n(178).editPhaseLife,yp=function(t){ht()(n,t);var e=gp(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=t.figure,o=new au.CategoricalColorMapper({palette:["#fee8c8","#fdbb84","#e34a33","#43a2ca","#a8ddb5"],factors:["Triggering","Triggering from split","Growing","Mature","Decaying"]}),a=new au.GeoJSONDataSource({geojson:JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[0,0]]]},properties:{CType:0,CRainRate:0,ConvTypeMethod:0,ConvType:0,ConvTypeQuality:0,SeverityIntensity:0,MvtSpeed:0,MvtDirection:0,NumIdCell:0,CTPressure:0,CTPhase:"",CTReff:"",ExpansionRate:"-",BTmin:0,BTmoy:0,CTCot:"-",CTCwp:"-",NbPosLightning:0,SeverityType:"",Surface:"",Duration:0,CoolingRate:0,PhaseLife:"0"}}]})}),s=i.patches({xs:{field:"xs"},ys:{field:"ys"},fill_alpha:0,line_width:2,line_color:{field:"PhaseLife",transform:o},source:a}),l=new au.HoverTool({renderers:[s],active:!0,tooltips:[["NumIdCell","@NumIdCell"],["Duration (Since Birth)","@Duration{00:00:00}"],["Phase life","@PhaseLife"],["Cloud Type","@CType"],["Convective Rainfall Rate","@CRainRate{0.0} mm/hr"],["Cloud System","@ConvType"],["Severity Type","@SeverityType"],["Severity Intensity","@SeverityIntensity"],["Cloud Top Phase","@CTPhase"],["Min. Cloud Top Pressure","@CTPressure hPa"],["Expansion Rate (Past)","@ExpansionRate{+0.0} m-2/sec"],["Rate of Temp. Change","@CoolingRate{+0.0} K/15mins"],["Min. Brightness Temp","@BTmin{0.0} K"],["Average Brightness Temp","@BTmoy{0.0} K"],["Max. Cloud Optical Thickness","@CTCot"],["No. of cloud-ground positive lightning strokes","@NbPosLightning"]]});return i.add_tools(l),r.state={source:a},r}return ct()(n,[{key:"render",value:function(){var t=this.state.source,e=this.props,n=e.baseURL,r=e.endpoint;return void 0===this.props.endpoint||fetch("".concat(n,"/").concat(r)).then((function(t){return t.json()})).then(mp).then(Dd).then((function(e){t.geojson=JSON.stringify(e)})),null}}]),n}(b.a.Component),_p=ot((function(t){var e=t.times,n=t.time_index;if(void 0===e)return{};if(void 0===n)return{};var r=e[n];return{endpoint:"datasets/1/times/".concat(r,"/geojson")}}))(yp),bp=n(105);function Ap(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var wp=function(t){ht()(n,t);var e=Ap(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props.datasets;if(void 0===t)return null;var e=this.props,n=e.baseURL,r=e.figure,i=e.color_mapper,o=bp.a((function(t){var e=t.label,o=t.driver;return"eida50"===o?b.a.createElement(vp,{key:e,label:e,datasetId:0,baseURL:n,figure:r,color_mapper:i}):"rdt"===o?b.a.createElement(_p,{key:e,baseURL:n,figure:r}):null}));return b.a.createElement(b.a.Fragment,null,o(t))}}]),n}(b.a.Component),xp=ot((function(t){return{datasets:t.datasets}}))(wp);function kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Cp=function(t){ht()(n,t);var e=kp(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=t.figure,o=t.line_color,a=void 0===o?"black":o,s=new au.ColumnDataSource({data:{xs:[[]],ys:[[]]}}),l=i.multi_line({xs:{field:"xs"},ys:{field:"ys"},line_color:a,source:s});return l.level="overlay",r.state={source:s,renderer:l},r}return ct()(n,[{key:"componentDidMount",value:function(){this.fetch(this.props.url)}},{key:"render",value:function(){var t=this.props.active;return this.state.renderer.visible=t,null}},{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this.state.source;fetch(t).then((function(t){return t.json()})).then((function(t){e.data=t}))}))}]),n}(b.a.Component),Ep=ot((function(t){var e=t.coastlines;return{active:void 0===e||e}}))(Cp),Sp=n(141),Rp=n.n(Sp),Tp=n(24),Ip=Object(Tp.a)((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}));function Op(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Mp=function(t){ht()(n,t);var e=Op(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"componentDidMount",value:function(){var t,e=this.props,n=e.figure,r=e.dispatch,i=(t=n.x_range,function(e){t.connect(t.properties.start.change,e)});i(Rp()((function(){var t={x_range:{start:n.x_range.start,end:n.x_range.end},y_range:{start:n.y_range.start,end:n.y_range.end}},e=At(t);r(e)}),400))}},{key:"render",value:function(){return null}}]),n}(b.a.Component),Pp=ot(Ip([]))(Mp),Dp=n(82);function Np(t,e){return function(){return e.call(this,t.apply(this,arguments))}}var Lp=n(35),jp=n(34);function Fp(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return Object(jp.a)(n)?e:Object(Tp.a)((function(e,r){return t(n,e,r)}));case 2:return Object(jp.a)(n)&&Object(jp.a)(r)?e:Object(jp.a)(n)?Object(Tp.a)((function(e,n){return t(e,r,n)})):Object(jp.a)(r)?Object(Tp.a)((function(e,r){return t(n,e,r)})):Object(Lp.a)((function(e){return t(n,r,e)}));default:return Object(jp.a)(n)&&Object(jp.a)(r)&&Object(jp.a)(i)?e:Object(jp.a)(n)&&Object(jp.a)(r)?Object(Tp.a)((function(e,n){return t(e,n,i)})):Object(jp.a)(n)&&Object(jp.a)(i)?Object(Tp.a)((function(e,n){return t(e,r,n)})):Object(jp.a)(r)&&Object(jp.a)(i)?Object(Tp.a)((function(e,r){return t(n,e,r)})):Object(jp.a)(n)?Object(Lp.a)((function(e){return t(e,r,i)})):Object(jp.a)(r)?Object(Lp.a)((function(e){return t(n,e,i)})):Object(jp.a)(i)?Object(Lp.a)((function(e){return t(n,r,e)})):t(n,r,i)}}}var zp=n(72),Bp=Fp(zp.a),Up=n(93);function Gp(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return Object(Up.a)(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Vp=Fp(Gp("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),Hp=Object(Lp.a)(Gp("tail",Vp(1,1/0)));function qp(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Object(Dp.a)(arguments[0].length,Bp(Np,arguments[0],Hp(arguments)))}var Wp=n(94),Yp=Object(Lp.a)((function(t){return Object(Wp.a)(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));var Xp=n(76);var $p="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)Object(Xp.a)(o,i)&&(e[o]=i[o]);n+=1}return e},Jp=Object(Tp.a)((function(t,e){return $p({},t,e)}));function Kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Qp="https://d.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{Z}/{X}/{Y}.png",Zp=function(t){ht()(n,t);var e=Kp(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=t.figure,o=new au.WMTSTileSource({url:Qp}),a=new au.TileRenderer({tile_source:o});return i.renderers=i.renderers.concat(a),r.state={tile_source:o},r}return ct()(n,[{key:"render",value:function(){var t=this.state.tile_source,e=this.props.url;return t.url=e,null}}]),n}(b.a.Component),tv=ot(function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return qp.apply(this,Yp(arguments))}(Ip(["url"]),Jp({url:Qp})))(Zp);function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var nv=function(t,e){return Math.abs(t-e)<=.001},rv=function(t){ht()(n,t);var e=ev(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.figure,n=t.x_range,r=t.y_range,i=e.inner_width/e.inner_height,o=(n.end-n.start)/(r.end-r.start);if(!nv(i,o)){var a=n.end-n.start,s=(r.end,r.start,a/i),l=(r.start+r.end)/2;r.start=l-s/2,r.end=l+s/2}return nv(e.x_range.start,n.start)||(e.x_range.start=n.start),nv(e.y_range.start,r.start)||(e.y_range.start=r.start),nv(e.x_range.end,n.end)||(e.x_range.end=n.end),nv(e.y_range.end,r.end)||(e.y_range.end=r.end),null}}]),n}(b.a.Component),iv=ot((function(t){return{x_range:t.figure.x_range,y_range:t.figure.y_range}}))(rv);function ov(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var av=function(t){ht()(n,t);var e=ov(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var o=new au.Range1d({start:0,end:1e6}),a=new au.Range1d({start:0,end:1e6}),s=i.figure({x_range:o,y_range:a,sizing_mode:"stretch_both"});s.xaxis[0].visible=!1,s.yaxis[0].visible=!1,s.toolbar_location=null,s.min_border=0,s.select_one(au.WheelZoomTool).active=!0;var l=new au.LinearColorMapper({low:200,high:300,palette:["#440154","#208F8C","#FDE724"],nan_color:"rgba(0,0,0,0)"});return r.state={figure:s,color_mapper:l},r}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.state.figure;i.show(t,this.el)}},{key:"render",value:function(){var t=this,e=this.state,n=e.figure,r=e.color_mapper,i=this.props.baseURL;return b.a.createElement("div",{className:"full-window",style:{zIndex:-1},ref:function(e){return t.el=e}},b.a.createElement(tv,{figure:n}),b.a.createElement(xp,{baseURL:i,figure:n,color_mapper:r}),b.a.createElement(np,{color_mapper:r}),b.a.createElement(Zd,{baseURL:i,figure:n}),b.a.createElement(Ep,{url:i+"/atlas/coastlines",figure:n}),b.a.createElement(Ep,{url:i+"/atlas/borders",figure:n}),b.a.createElement(Ep,{url:i+"/atlas/disputed",figure:n,line_color:"red"}),b.a.createElement(Ep,{url:i+"/atlas/lakes",figure:n,line_color:"LightBlue"}),b.a.createElement(Pp,{figure:n}),b.a.createElement(iv,{figure:n}))}}]),n}(b.a.Component);n(187);function sv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var lv=function(t){ht()(n,t);var e=sv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"title"},this.props.content)}}]),n}(b.a.Component),uv=ot((function(t){var e=t.times,n=t.time_index;return void 0===n||void 0===e?{content:""}:{content:new Date(e[n]).toUTCString()}}))(lv);n(189);function cv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var fv=function(t){ht()(n,t);var e=cv(n);function n(t){var r;lt()(this,n),r=e.call(this,t);t.el;var o=i.figure({height:0,min_border:0,background_fill_alpha:0,border_fill_alpha:0,outline_line_color:null,toolbar_location:null,sizing_mode:"stretch_both"});o.xaxis[0].visible=!1,o.yaxis[0].visible=!1;var a=new au.LinearColorMapper({low:200,high:300,palette:["#440154","#208F8C","#FDE724"],nan_color:"rgba(0,0,0,0)"}),s=new au.ColorBar({height:20,color_mapper:a,location:[0,0],padding:10,orientation:"horizontal",major_tick_line_color:"black",bar_line_color:"black",background_fill_alpha:0,title:"",sizing_mode:"stretch_both"});return o.add_layout(s,"below"),r.state={color_mapper:a,figure:o},r}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.state.figure;i.show(t,this.el)}},{key:"render",value:function(){var t,e=this,n=this.state.color_mapper,r=this.props,i=r.visible,o=r.limits,a=o.low,s=o.high,l=r.palette;return t=i?{display:"block"}:{display:"none"},0===l.length||(n.low=a,n.high=s,n.palette=l),b.a.createElement("div",{style:t,className:"colorbar-container",ref:function(t){return e.el=t}})}}]),n}(b.a.Component),hv=ot((function(t){var e=t.colorbar,n=void 0===e||e,r=t.palette,i=void 0===r?[]:r,o=t.limits;return{palette:i,limits:void 0===o?{low:0,high:1}:o,visible:n}}))(fv);n(191);function dv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var pv=function(t){ht()(n,t);var e=dv(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=new o.Select({options:[],sizing_mode:"stretch_width"});return r.state={select:i},r}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.state.select,e=this.props,n=(e.dispatch,e.onClick);t.connect(t.properties.value.change,(function(){n(t.value)})),i.show(t,this.el)}},{key:"render",value:function(){var t=this,e=this.state.select,n=this.props.options;return e.options=n,b.a.createElement("div",{ref:function(e){return t.el=e}})}}]),n}(b.a.Component),vv=ot((function(t){var e=t.palette_names;return{options:void 0===e?[]:e}}))(pv),gv=ot((function(t){var e=t.palette_numbers;return{options:(void 0===e?[]:e).map((function(t){return t.toString()}))}}))(pv),mv=function(t){ht()(n,t);var e=dv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,n=t.baseURL;fetch("".concat(n,"/palettes")).then((function(t){return t.json()})).then((function(t){var n={type:"SET_PALETTES",payload:t};return e(n),t})).then((function(t){var e=t.map((function(t){return t.name}));return Array.from(new Set(e)).concat().sort()})).then((function(t){var n={type:"SET_PALETTE_NAMES",payload:t};e(n)}))}},{key:"render",value:function(){var t=this.props.dispatch,e={name:function(e){var n=yt(e);t(n)},number:function(e){var n=_t(e);t(n)}};return b.a.createElement(b.a.Fragment,null,b.a.createElement(vv,{onClick:e.name}),b.a.createElement(gv,{onClick:e.number}))}}]),n}(b.a.Component),yv=ot((function(t){return{}}))(mv);function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var bv=function(t){ht()(n,t);var e=_v(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this,e={},n={};this.props.active||(e={backgroundColor:"#EEE"},n={color:"#BBB"});var r=this.props.icon+" fa-stack-1x";return b.a.createElement("span",{className:"tool-icon fa-stack fa-1x",style:e,onClick:function(){return t.props.onClick()}},b.a.createElement("i",{className:r,style:n}))}}]),n}(b.a.Component),Av=Object(Tp.a)((function(t,e){return null==e||e!=e?t:e})),wv=Number.isInteger||function(t){return t<<0===t},xv=Object(Tp.a)((function(t,e){var n=t<0?e.length+t:t;return Object(Wp.a)(e)?e.charAt(n):e[n]})),kv=Object(Tp.a)((function(t,e){return t.map((function(t){for(var n,r=e,i=0;i<t.length;){if(null==r)return;n=t[i],r=wv(n)?xv(n,r):r[n],i+=1}return r}))})),Cv=Object(Tp.a)((function(t,e){return kv([t],e)[0]})),Ev=Fp((function(t,e,n){return Av(t,Cv(e,n))})),Sv=Fp((function(t,e,n){return Ev(t,[e],n)}));function Rv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Tv=function(t){ht()(n,t);var e=Rv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.onClick,n=t.active,r=t.icon;return b.a.createElement(bv,{icon:r,active:n,onClick:e})}}]),n}(b.a.Component),Iv=ot((function(t,e){return{active:Sv(!1,e.attr)(t)}}),(function(t,e){return{onClick:function(){return t(xt(e.attr))}}}))(Tv);function Ov(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Mv=function(t){ht()(n,t);var e=Ov(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.dispatch;return b.a.createElement(bv,{icon:"far fa-comment-alt",active:e,onClick:function(){return n(xt("hover_tool",!0))}})}}]),n}(b.a.Component),Pv=ot((function(t){var e=t.hover_tool;return{active:void 0===e||e}}))(Mv);function Dv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Nv=function(t){ht()(n,t);var e=Dv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.dispatch;return b.a.createElement(bv,{icon:"fas fa-palette",active:e,onClick:function(){return n(xt("colorbar",!0))}})}}]),n}(b.a.Component),Lv=ot((function(t){var e=t.colorbar;return{active:void 0===e||e}}))(Nv);function jv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Fv=function(t){ht()(n,t);var e=jv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"label"},this.props.children)}}]),n}(b.a.Component),zv=function(t){ht()(n,t);var e=jv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props,e=t.visible,n=t.children;return e?b.a.createElement("div",null,n):null}}]),n}(b.a.Component),Bv=ot((function(t){var e=t.layers;return{visible:void 0!==e&&e}}))(zv),Uv=function(t){ht()(n,t);var e=jv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this,e=this.props.items.map((function(e){var n=t.handleChange(e);return b.a.createElement(Hv,{key:e.id,onChange:n},e.label)})),n=this.props.baseURL;return b.a.createElement("div",{className:"layer-menu-container"},b.a.createElement("div",{className:"tool-icon-container"},b.a.createElement(Iv,{icon:"fas fa-layer-group",attr:"layers"}),b.a.createElement(Pv,null),b.a.createElement(Lv,null)),b.a.createElement(Bv,null,b.a.createElement(Fv,null,"Datasets"),b.a.createElement("fieldset",null,e),b.a.createElement(Fv,null,"Coastlines, borders, lakes"),b.a.createElement("fieldset",null,b.a.createElement(Vv,null)),b.a.createElement(Fv,null,"Color palette"),b.a.createElement(yv,{baseURL:n})))}},{key:"handleChange",value:function(t){var e=this;return function(n){var r={type:"SET_ACTIVE",payload:{id:t.id,flag:n.target.checked}};e.props.dispatch(r)}}}]),n}(b.a.Component),Gv=function(t){ht()(n,t);var e=jv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.active;e.dispatch;return b.a.createElement(Hv,{key:"coastlines",checked:n,onChange:function(e){var n=wt({coastlines:e.target.checked});t.props.dispatch(n)}},"Coastlines")}}]),n}(b.a.Component),Vv=ot((function(t){var e=t.coastlines;return{active:void 0===e||e}}))(Gv),Hv=function(t){ht()(n,t);var e=jv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){return b.a.createElement("div",null,b.a.createElement("label",null,b.a.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.props.onChange}),this.props.children))}}]),n}(b.a.Component),qv=ot((function(t){var e=t.datasets;return{items:void 0===e?[]:e}}))(Uv);function Wv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Yv=function(t){ht()(n,t);var e=Wv(n);function n(t){var r;lt()(this,n),r=e.call(this,t);var i=t.dispatch,o=localStorage.getItem("key")||"";""!==o&&i(function(t){return{type:"SET_STATE",payload:t}}(JSON.parse(o)));return r}return ct()(n,[{key:"render",value:function(){var t=this.props.state;return void 0===t||""===t||localStorage.setItem("key",JSON.stringify(t)),null}}]),n}(b.a.Component),Xv=ot((function(t){return{state:t}}))(Yv);function $v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var Jv=n(193),Kv=function(t){ht()(n,t);var e=$v(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.baseURL,n=void 0===e?"":e,r=t.dispatch,i="".concat(n,"/viewport");fetch(i).then((function(t){return t.json()})).then((function(t){var e=t.longitude,n=t.latitude,r=Jv.toMercator(Jv.point([e[0],n[0]])),i=Jv.toMercator(Jv.point([e[1],n[1]])),o=Nt()(r.geometry.coordinates,2),a=o[0],s=o[1],l=Nt()(i.geometry.coordinates,2),u=l[0],c=l[1];return At({x_range:{start:a,end:u},y_range:{start:s,end:c}})})).then(r)}},{key:"render",value:function(){return null}}]),n}(b.a.Component),Qv=ot((function(t){return{}}))(Kv);n(194);function Zv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var tg=function(t){ht()(n,t);var e=Zv(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props.dispatch,e={ZoomIn:function(){t({type:"ZOOM_IN"})},ZoomOut:function(){t({type:"ZOOM_OUT"})}};return b.a.createElement("div",{className:"zoom-button"},b.a.createElement("button",{onClick:e.ZoomIn,className:"tooltip"},"+",b.a.createElement("span",{className:"tooltip-text"},"Zoom in")),b.a.createElement("button",{onClick:e.ZoomOut,className:"tooltip"},"-",b.a.createElement("span",{className:"tooltip-text"},"Zoom out")))}}]),n}(b.a.Component),eg=ot((function(t){return{}}))(tg);function ng(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt()(t);if(e){var i=gt()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pt()(this,n)}}var rg=function(t){ht()(n,t);var e=ng(n);function n(){return lt()(this,n),e.apply(this,arguments)}return ct()(n,[{key:"render",value:function(){var t=this.props.baseURL;return b.a.createElement("div",null,b.a.createElement(Xv,null),b.a.createElement(uv,null),b.a.createElement(qv,{baseURL:t}),b.a.createElement("div",{className:"footer-container"},b.a.createElement(hv,null),b.a.createElement(Ot,null)),b.a.createElement(av,{baseURL:t}),b.a.createElement(Qv,{baseURL:t}),b.a.createElement(eg,null))}}]),n}(b.a.Component),ig=n(84),og=Fp((function(t,e,n){return Object(ig.a)(Math.max(t.length,e.length,n.length),(function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)}))}));function ag(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function sg(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var lg="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},ug=n(85),cg=Object(Lp.a)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function fg(t,e,n,r){var i=ag(t);function o(t,e){return hg(t,e,n.slice(),r.slice())}return!sg((function(t,e){return!sg(o,e,t)}),ag(e),i)}function hg(t,e,n,r){if(lg(t,e))return!0;var i=cg(t);if(i!==cg(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(l()(t)!==l()(e)||!lg(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!lg(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&fg(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&fg(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Object(ug.a)(t);if(a.length!==Object(ug.a)(e).length)return!1;var s=n.concat([t]),u=r.concat([e]);for(o=a.length-1;o>=0;){var c=a[o];if(!Object(Xp.a)(c,e)||!hg(e[c],t[c],s,u))return!1;o-=1}return!0}var dg=Object(Tp.a)((function(t,e){return hg(t,e,[],[])})),pg=Fp((function(t,e,n){return dg(e,n[t])})),vg=Fp((function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r}));function gg(t){return t}var mg=Object(Lp.a)(gg),yg=n(142);function _g(t,e,n,r){var i,o=function(i){for(var o=e.length,a=0;a<o;){if(t===e[a])return n[a];a+=1}for(var s in e[a+1]=t,n[a+1]=i,t)i[s]=r?_g(t[s],e,n,!0):t[s];return i};switch(cg(t)){case"Object":return o({});case"Array":return o([]);case"Date":return new Date(t.valueOf());case"RegExp":return i=t,new RegExp(i.source,(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.sticky?"y":"")+(i.unicode?"u":""));default:return t}}var bg=Object(Lp.a)((function(t){return null!=t&&"function"==typeof t.clone?t.clone():_g(t,[],[],!0)})),Ag=function(t,e){var n=e.payload,r=n.id,i=n.flag,o=og(pg("id",r),vg("active",i),mg);return yg.a({datasets:bp.a(o)})(t)},wg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"SET_ACTIVE":return Ag(t,e);case"SET_FLAG":return Object.assign({},t,r);case"SET_FIGURE":return Object.assign({},t,{figure:r});case"SET_DATASET":return Object.assign({},t,{dataset:r});case"SET_DATASETS":var i=t.datasets;return void 0===i&&(i=r),Object.assign({},t,{datasets:i});case"SET_URL":return Object.assign({},t,{url:r});case"SET_PALETTE":return Object.assign({},t,{palette:r});case"SET_PALETTES":return Object.assign({},t,{palettes:r});case"SET_PALETTE_NAME":return Object.assign({},t,{palette_name:r});case"SET_PALETTE_NAMES":return Object.assign({},t,{palette_names:r});case"SET_PALETTE_NUMBER":return Object.assign({},t,{palette_number:r});case"SET_PALETTE_NUMBERS":return Object.assign({},t,{palette_numbers:r});case"SET_PLAYING":return Object.assign({},t,{playing:r});case"SET_LIMITS":return Object.assign({},t,{limits:r});case"SET_STATE":return bg(r);case"SET_TIMES":return Object.assign({},t,{times:r});case"SET_TIME_INDEX":return Object.assign({},t,{time_index:r});case"FETCH_IMAGE":return Object.assign({},t,{is_fetching:!0,image_url:r});case"FETCH_IMAGE_SUCCESS":return Object.assign({},t,{is_fetching:!1});default:return t}},xg=function(t){return function(e){return function(n){if("TOGGLE_FLAG"===n.type){var r,i=n.payload,o=i.prop,a=i.initial,s=void 0!==a&&a,l=t.getState();r=void 0===l[o]?s:l[o];var u={};u[o]=!r,e(wt(u))}else e(n)}}},kg=function(t,e){return(t%e+e)%e},Cg=function(t){return function(e){return function(n){if("NEXT_TIME_INDEX"===n.type){var r=t.getState();if(void 0===r.time_index)return;if(void 0===r.times)return;var i=kg(r.time_index+1,r.times.length),o=bt(i);e(o)}else if("PREVIOUS_TIME_INDEX"===n.type){var a=t.getState();if(void 0===a.time_index)return;if(void 0===a.times)return;var s=kg(a.time_index-1,a.times.length),l=bt(s);e(l)}else e(n)}}},Eg=Fp((function(t,e,n){return t(n[e])})),Sg=n(120);var Rg=n(97),Tg=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Rg.a.init,t.prototype["@@transducer/result"]=Rg.a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),Ig=Object(Tp.a)((function(t,e){return new Tg(t,e)})),Og=Object(Tp.a)(Object(Sg.a)(["filter"],Ig,(function(t,e){return n=e,"[object Object]"===Object.prototype.toString.call(n)?Object(zp.a)((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},Object(ug.a)(e)):function(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}(t,e);var n})));var Mg=Object(Tp.a)((function(t,e){return t&&e}));var Pg=Object(Tp.a)((function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:Object(zp.a)((function(t,n){return function(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}(t,Object(bp.a)(n,e))}),[],t)})),Dg=Object(Tp.a)((function(t,e){var n=Object(ig.a)(t,e);return Object(ig.a)(t,(function(){return Object(zp.a)(Pg,Object(bp.a)(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Ng=Object(Lp.a)((function(t){return Dg(t.length,t)})),Lg=Object(Tp.a)((function(t,e){return n=t,"[object Function]"===(r=Object.prototype.toString.call(n))||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object AsyncGeneratorFunction]"===r?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:Ng(Mg)(t,e);var n,r})),jg=Object(Tp.a)((function(t,e){return Cv([t],e)})),Fg=function(t){return function(e){return function(n){if("SET_PALETTE_NAME"==n.type){var r=n.payload,i=t.getState();if(void 0!==i.palettes){var o=i.palettes.filter((function(t){return t.name==r})).map((function(t){return parseInt(t.number)})).concat().sort((function(t,e){return t-e})),a={type:"SET_PALETTE_NUMBERS",payload:o};t.dispatch(a);var s=i.palettes,l=i.palette_number,u=pg("name",r),c=Eg((function(t){return parseInt(t)===parseInt(l)}),"number"),f=qp(Og(Lg(u,c)),bp.a(jg("palette")))(s);f.length>0&&(a=mt(f[0]),t.dispatch(a))}}else if("SET_PALETTE_NUMBER"==n.type){var h=t.getState(),d=h.palette_name,p=n.payload;if(void 0!==h.palettes){var v=zg(h.palettes,d,p);if(v.length>0){var g=mt(v[0].palette);t.dispatch(g)}}}else if("SET_PALETTES"==n.type){var m=t.getState(),y=m.palette,_=m.palette_name,b=m.palette_number;if(e(n),void 0===_&&e(yt("Blues")),void 0===b&&e(_t(256)),void 0===y){var A=zg(n.payload,"Blues",256);if(A.length>0){var w=mt(A[0].palette);e(w)}}return}return e(n)}}},zg=function(t,e,n){return t.filter((function(t){return t.name===e})).filter((function(t){return parseInt(t.number)===parseInt(n)}))},Bg=function(t){return function(e){return function(n){var r=n.type,i=(n.payload,t.getState().time_index);"SET_TIMES"===r&&void 0===i&&e(bt(0)),e(n)}}},Ug=function(t){return function(e){return function(n){var r=n.type,i=(n.payload,t.getState().figure);switch(r){case"ZOOM_IN":return e(At(Gg(i)));case"ZOOM_OUT":return e(At(Vg(i)));default:return e(n)}}}},Gg=function(t){var e=t.x_range,n=t.y_range;return{x_range:Hg(e),y_range:Hg(n)}},Vg=function(t){var e=t.x_range,n=t.y_range;return{x_range:qg(e),y_range:qg(n)}},Hg=function(t){var e=t.start,n=t.end,r=(e+n)/2,i=n-e;return{start:r-i/4,end:r+i/4}},qg=function(t){var e=t.start,n=t.end,r=(e+n)/2,i=n-e;return{start:r-i,end:r+i}},Wg=function(t){return function(t){return function(e){console.log(e),t(e)}}},Yg=function(t){return function(e){return function(n){if((e(n),"SET_DATASETS"==n.type)&&void 0!==t.getState().dataset){var r=n.payload[0].id;e({type:"SET_DATASET",payload:r})}}}};window.main=function(t){var e=d(wg,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return m({},n,{dispatch:r=y.apply(void 0,o)(n.dispatch)})}}}(Wg,xg,Cg,Fg,Bg,Yg,Ug,Wg));w.a.render(b.a.createElement(R,{store:e},b.a.createElement(rg,{baseURL:t})),document.getElementById("root")),fetch("".concat(t,"/datasets")).then((function(t){return t.json()})).then((function(t){return t.datasets})).then((function(t){return e.dispatch({type:"SET_DATASETS",payload:t})})),e.dispatch({type:"SET_LIMITS",payload:{low:200,high:300}});var n=function(){var t=e.getState();if(!t.is_fetching&&t.playing){var n={type:"NEXT_TIME_INDEX"};e.dispatch(n)}};n(),setInterval(n,100)}}]);